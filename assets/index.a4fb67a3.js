const p$1=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}};p$1();const scriptRel="modulepreload",seen={},base$4="/",__vitePreload=function(e,r){return!r||r.length===0?e():Promise.all(r.map(n=>{if(n=`${base$4}${n}`,n in seen)return;seen[n]=!0;const o=n.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":scriptRel,o||(c.as="script",c.crossOrigin=""),c.href=n,document.head.appendChild(c),o)return new Promise((u,gr)=>{c.addEventListener("load",u),c.addEventListener("error",()=>gr(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e())};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),e}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dist$3={},bufferPolyfill={},base64Js$2={};base64Js$2.byteLength=byteLength$2;var toByteArray_1=base64Js$2.toByteArray=toByteArray$2,fromByteArray_1=base64Js$2.fromByteArray=fromByteArray$2,lookup$2=[],revLookup$2=[],Arr$2=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$3=0,len$2=code$2.length;i$3<len$2;++i$3)lookup$2[i$3]=code$2[i$3],revLookup$2[code$2.charCodeAt(i$3)]=i$3;revLookup$2["-".charCodeAt(0)]=62;revLookup$2["_".charCodeAt(0)]=63;function getLens$2(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength$2(t){var e=getLens$2(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength$2(t,e,r){return(e+r)*3/4-r}function toByteArray$2(t){var e,r=getLens$2(t),n=r[0],o=r[1],a=new Arr$2(_byteLength$2(t,n,o)),c=0,u=o>0?n-4:n,gr;for(gr=0;gr<u;gr+=4)e=revLookup$2[t.charCodeAt(gr)]<<18|revLookup$2[t.charCodeAt(gr+1)]<<12|revLookup$2[t.charCodeAt(gr+2)]<<6|revLookup$2[t.charCodeAt(gr+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=e&255;return o===2&&(e=revLookup$2[t.charCodeAt(gr)]<<2|revLookup$2[t.charCodeAt(gr+1)]>>4,a[c++]=e&255),o===1&&(e=revLookup$2[t.charCodeAt(gr)]<<10|revLookup$2[t.charCodeAt(gr+1)]<<4|revLookup$2[t.charCodeAt(gr+2)]>>2,a[c++]=e>>8&255,a[c++]=e&255),a}function tripletToBase64$2(t){return lookup$2[t>>18&63]+lookup$2[t>>12&63]+lookup$2[t>>6&63]+lookup$2[t&63]}function encodeChunk$2(t,e,r){for(var n,o=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),o.push(tripletToBase64$2(n));return o.join("")}function fromByteArray$2(t){for(var e,r=t.length,n=r%3,o=[],a=16383,c=0,u=r-n;c<u;c+=a)o.push(encodeChunk$2(t,c,c+a>u?u:c+a));return n===1?(e=t[r-1],o.push(lookup$2[e>>2]+lookup$2[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup$2[e>>10]+lookup$2[e>>4&63]+lookup$2[e<<2&63]+"=")),o.join("")}var ieee754$2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$2.read=function(t,e,r,n,o){var a,c,u=o*8-n-1,gr=(1<<u)-1,br=gr>>1,_r=-7,Ar=r?o-1:0,vr=r?-1:1,Tr=t[e+Ar];for(Ar+=vr,a=Tr&(1<<-_r)-1,Tr>>=-_r,_r+=u;_r>0;a=a*256+t[e+Ar],Ar+=vr,_r-=8);for(c=a&(1<<-_r)-1,a>>=-_r,_r+=n;_r>0;c=c*256+t[e+Ar],Ar+=vr,_r-=8);if(a===0)a=1-br;else{if(a===gr)return c?NaN:(Tr?-1:1)*(1/0);c=c+Math.pow(2,n),a=a-br}return(Tr?-1:1)*c*Math.pow(2,a-n)};ieee754$2.write=function(t,e,r,n,o,a){var c,u,gr,br=a*8-o-1,_r=(1<<br)-1,Ar=_r>>1,vr=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tr=n?0:a-1,Or=n?1:-1,Ir=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=_r):(c=Math.floor(Math.log(e)/Math.LN2),e*(gr=Math.pow(2,-c))<1&&(c--,gr*=2),c+Ar>=1?e+=vr/gr:e+=vr*Math.pow(2,1-Ar),e*gr>=2&&(c++,gr/=2),c+Ar>=_r?(u=0,c=_r):c+Ar>=1?(u=(e*gr-1)*Math.pow(2,o),c=c+Ar):(u=e*Math.pow(2,Ar-1)*Math.pow(2,o),c=0));o>=8;t[r+Tr]=u&255,Tr+=Or,u/=256,o-=8);for(c=c<<o|u,br+=o;br>0;t[r+Tr]=c&255,Tr+=Or,c/=256,br-=8);t[r+Tr-Or]|=Ir*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js$2,r=ieee754$2,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=Fr,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const kr=new Uint8Array(1),Sr={foo:function(){return 42}};return Object.setPrototypeOf(Sr,Uint8Array.prototype),Object.setPrototypeOf(kr,Sr),kr.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(kr){if(kr>o)throw new RangeError('The value "'+kr+'" is invalid for option "size"');const Sr=new Uint8Array(kr);return Object.setPrototypeOf(Sr,u.prototype),Sr}function u(kr,Sr,wr){if(typeof kr=="number"){if(typeof Sr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ar(kr)}return gr(kr,Sr,wr)}u.poolSize=8192;function gr(kr,Sr,wr){if(typeof kr=="string")return vr(kr,Sr);if(ArrayBuffer.isView(kr))return Or(kr);if(kr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof kr);if(jn(kr,ArrayBuffer)||kr&&jn(kr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(jn(kr,SharedArrayBuffer)||kr&&jn(kr.buffer,SharedArrayBuffer)))return Ir(kr,Sr,wr);if(typeof kr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Br=kr.valueOf&&kr.valueOf();if(Br!=null&&Br!==kr)return u.from(Br,Sr,wr);const Wr=xr(kr);if(Wr)return Wr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof kr[Symbol.toPrimitive]=="function")return u.from(kr[Symbol.toPrimitive]("string"),Sr,wr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof kr)}u.from=function(kr,Sr,wr){return gr(kr,Sr,wr)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function br(kr){if(typeof kr!="number")throw new TypeError('"size" argument must be of type number');if(kr<0)throw new RangeError('The value "'+kr+'" is invalid for option "size"')}function _r(kr,Sr,wr){return br(kr),kr<=0?c(kr):Sr!==void 0?typeof wr=="string"?c(kr).fill(Sr,wr):c(kr).fill(Sr):c(kr)}u.alloc=function(kr,Sr,wr){return _r(kr,Sr,wr)};function Ar(kr){return br(kr),c(kr<0?0:Lr(kr)|0)}u.allocUnsafe=function(kr){return Ar(kr)},u.allocUnsafeSlow=function(kr){return Ar(kr)};function vr(kr,Sr){if((typeof Sr!="string"||Sr==="")&&(Sr="utf8"),!u.isEncoding(Sr))throw new TypeError("Unknown encoding: "+Sr);const wr=Mr(kr,Sr)|0;let Br=c(wr);const Wr=Br.write(kr,Sr);return Wr!==wr&&(Br=Br.slice(0,Wr)),Br}function Tr(kr){const Sr=kr.length<0?0:Lr(kr.length)|0,wr=c(Sr);for(let Br=0;Br<Sr;Br+=1)wr[Br]=kr[Br]&255;return wr}function Or(kr){if(jn(kr,Uint8Array)){const Sr=new Uint8Array(kr);return Ir(Sr.buffer,Sr.byteOffset,Sr.byteLength)}return Tr(kr)}function Ir(kr,Sr,wr){if(Sr<0||kr.byteLength<Sr)throw new RangeError('"offset" is outside of buffer bounds');if(kr.byteLength<Sr+(wr||0))throw new RangeError('"length" is outside of buffer bounds');let Br;return Sr===void 0&&wr===void 0?Br=new Uint8Array(kr):wr===void 0?Br=new Uint8Array(kr,Sr):Br=new Uint8Array(kr,Sr,wr),Object.setPrototypeOf(Br,u.prototype),Br}function xr(kr){if(u.isBuffer(kr)){const Sr=Lr(kr.length)|0,wr=c(Sr);return wr.length===0||kr.copy(wr,0,0,Sr),wr}if(kr.length!==void 0)return typeof kr.length!="number"||Hn(kr.length)?c(0):Tr(kr);if(kr.type==="Buffer"&&Array.isArray(kr.data))return Tr(kr.data)}function Lr(kr){if(kr>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return kr|0}function Fr(kr){return+kr!=kr&&(kr=0),u.alloc(+kr)}u.isBuffer=function(Sr){return Sr!=null&&Sr._isBuffer===!0&&Sr!==u.prototype},u.compare=function(Sr,wr){if(jn(Sr,Uint8Array)&&(Sr=u.from(Sr,Sr.offset,Sr.byteLength)),jn(wr,Uint8Array)&&(wr=u.from(wr,wr.offset,wr.byteLength)),!u.isBuffer(Sr)||!u.isBuffer(wr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Sr===wr)return 0;let Br=Sr.length,Wr=wr.length;for(let Qr=0,an=Math.min(Br,Wr);Qr<an;++Qr)if(Sr[Qr]!==wr[Qr]){Br=Sr[Qr],Wr=wr[Qr];break}return Br<Wr?-1:Wr<Br?1:0},u.isEncoding=function(Sr){switch(String(Sr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(Sr,wr){if(!Array.isArray(Sr))throw new TypeError('"list" argument must be an Array of Buffers');if(Sr.length===0)return u.alloc(0);let Br;if(wr===void 0)for(wr=0,Br=0;Br<Sr.length;++Br)wr+=Sr[Br].length;const Wr=u.allocUnsafe(wr);let Qr=0;for(Br=0;Br<Sr.length;++Br){let an=Sr[Br];if(jn(an,Uint8Array))Qr+an.length>Wr.length?(u.isBuffer(an)||(an=u.from(an)),an.copy(Wr,Qr)):Uint8Array.prototype.set.call(Wr,an,Qr);else if(u.isBuffer(an))an.copy(Wr,Qr);else throw new TypeError('"list" argument must be an Array of Buffers');Qr+=an.length}return Wr};function Mr(kr,Sr){if(u.isBuffer(kr))return kr.length;if(ArrayBuffer.isView(kr)||jn(kr,ArrayBuffer))return kr.byteLength;if(typeof kr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof kr);const wr=kr.length,Br=arguments.length>2&&arguments[2]===!0;if(!Br&&wr===0)return 0;let Wr=!1;for(;;)switch(Sr){case"ascii":case"latin1":case"binary":return wr;case"utf8":case"utf-8":return kn(kr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wr*2;case"hex":return wr>>>1;case"base64":return Bn(kr).length;default:if(Wr)return Br?-1:kn(kr).length;Sr=(""+Sr).toLowerCase(),Wr=!0}}u.byteLength=Mr;function Hr(kr,Sr,wr){let Br=!1;if((Sr===void 0||Sr<0)&&(Sr=0),Sr>this.length||((wr===void 0||wr>this.length)&&(wr=this.length),wr<=0)||(wr>>>=0,Sr>>>=0,wr<=Sr))return"";for(kr||(kr="utf8");;)switch(kr){case"hex":return Xr(this,Sr,wr);case"utf8":case"utf-8":return Rr(this,Sr,wr);case"ascii":return Yr(this,Sr,wr);case"latin1":case"binary":return Zr(this,Sr,wr);case"base64":return Ur(this,Sr,wr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nn(this,Sr,wr);default:if(Br)throw new TypeError("Unknown encoding: "+kr);kr=(kr+"").toLowerCase(),Br=!0}}u.prototype._isBuffer=!0;function Vr(kr,Sr,wr){const Br=kr[Sr];kr[Sr]=kr[wr],kr[wr]=Br}u.prototype.swap16=function(){const Sr=this.length;if(Sr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let wr=0;wr<Sr;wr+=2)Vr(this,wr,wr+1);return this},u.prototype.swap32=function(){const Sr=this.length;if(Sr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let wr=0;wr<Sr;wr+=4)Vr(this,wr,wr+3),Vr(this,wr+1,wr+2);return this},u.prototype.swap64=function(){const Sr=this.length;if(Sr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let wr=0;wr<Sr;wr+=8)Vr(this,wr,wr+7),Vr(this,wr+1,wr+6),Vr(this,wr+2,wr+5),Vr(this,wr+3,wr+4);return this},u.prototype.toString=function(){const Sr=this.length;return Sr===0?"":arguments.length===0?Rr(this,0,Sr):Hr.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(Sr){if(!u.isBuffer(Sr))throw new TypeError("Argument must be a Buffer");return this===Sr?!0:u.compare(this,Sr)===0},u.prototype.inspect=function(){let Sr="";const wr=t.INSPECT_MAX_BYTES;return Sr=this.toString("hex",0,wr).replace(/(.{2})/g,"$1 ").trim(),this.length>wr&&(Sr+=" ... "),"<Buffer "+Sr+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(Sr,wr,Br,Wr,Qr){if(jn(Sr,Uint8Array)&&(Sr=u.from(Sr,Sr.offset,Sr.byteLength)),!u.isBuffer(Sr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Sr);if(wr===void 0&&(wr=0),Br===void 0&&(Br=Sr?Sr.length:0),Wr===void 0&&(Wr=0),Qr===void 0&&(Qr=this.length),wr<0||Br>Sr.length||Wr<0||Qr>this.length)throw new RangeError("out of range index");if(Wr>=Qr&&wr>=Br)return 0;if(Wr>=Qr)return-1;if(wr>=Br)return 1;if(wr>>>=0,Br>>>=0,Wr>>>=0,Qr>>>=0,this===Sr)return 0;let an=Qr-Wr,Pn=Br-wr;const Fn=Math.min(an,Pn),Dn=this.slice(Wr,Qr),Gn=Sr.slice(wr,Br);for(let Kn=0;Kn<Fn;++Kn)if(Dn[Kn]!==Gn[Kn]){an=Dn[Kn],Pn=Gn[Kn];break}return an<Pn?-1:Pn<an?1:0};function Kr(kr,Sr,wr,Br,Wr){if(kr.length===0)return-1;if(typeof wr=="string"?(Br=wr,wr=0):wr>2147483647?wr=2147483647:wr<-2147483648&&(wr=-2147483648),wr=+wr,Hn(wr)&&(wr=Wr?0:kr.length-1),wr<0&&(wr=kr.length+wr),wr>=kr.length){if(Wr)return-1;wr=kr.length-1}else if(wr<0)if(Wr)wr=0;else return-1;if(typeof Sr=="string"&&(Sr=u.from(Sr,Br)),u.isBuffer(Sr))return Sr.length===0?-1:jr(kr,Sr,wr,Br,Wr);if(typeof Sr=="number")return Sr=Sr&255,typeof Uint8Array.prototype.indexOf=="function"?Wr?Uint8Array.prototype.indexOf.call(kr,Sr,wr):Uint8Array.prototype.lastIndexOf.call(kr,Sr,wr):jr(kr,[Sr],wr,Br,Wr);throw new TypeError("val must be string, number or Buffer")}function jr(kr,Sr,wr,Br,Wr){let Qr=1,an=kr.length,Pn=Sr.length;if(Br!==void 0&&(Br=String(Br).toLowerCase(),Br==="ucs2"||Br==="ucs-2"||Br==="utf16le"||Br==="utf-16le")){if(kr.length<2||Sr.length<2)return-1;Qr=2,an/=2,Pn/=2,wr/=2}function Fn(Gn,Kn){return Qr===1?Gn[Kn]:Gn.readUInt16BE(Kn*Qr)}let Dn;if(Wr){let Gn=-1;for(Dn=wr;Dn<an;Dn++)if(Fn(kr,Dn)===Fn(Sr,Gn===-1?0:Dn-Gn)){if(Gn===-1&&(Gn=Dn),Dn-Gn+1===Pn)return Gn*Qr}else Gn!==-1&&(Dn-=Dn-Gn),Gn=-1}else for(wr+Pn>an&&(wr=an-Pn),Dn=wr;Dn>=0;Dn--){let Gn=!0;for(let Kn=0;Kn<Pn;Kn++)if(Fn(kr,Dn+Kn)!==Fn(Sr,Kn)){Gn=!1;break}if(Gn)return Dn}return-1}u.prototype.includes=function(Sr,wr,Br){return this.indexOf(Sr,wr,Br)!==-1},u.prototype.indexOf=function(Sr,wr,Br){return Kr(this,Sr,wr,Br,!0)},u.prototype.lastIndexOf=function(Sr,wr,Br){return Kr(this,Sr,wr,Br,!1)};function qr(kr,Sr,wr,Br){wr=Number(wr)||0;const Wr=kr.length-wr;Br?(Br=Number(Br),Br>Wr&&(Br=Wr)):Br=Wr;const Qr=Sr.length;Br>Qr/2&&(Br=Qr/2);let an;for(an=0;an<Br;++an){const Pn=parseInt(Sr.substr(an*2,2),16);if(Hn(Pn))return an;kr[wr+an]=Pn}return an}function tn(kr,Sr,wr,Br){return Tn(kn(Sr,kr.length-wr),kr,wr,Br)}function en(kr,Sr,wr,Br){return Tn(Un(Sr),kr,wr,Br)}function sn(kr,Sr,wr,Br){return Tn(Bn(Sr),kr,wr,Br)}function cn(kr,Sr,wr,Br){return Tn(Sn(Sr,kr.length-wr),kr,wr,Br)}u.prototype.write=function(Sr,wr,Br,Wr){if(wr===void 0)Wr="utf8",Br=this.length,wr=0;else if(Br===void 0&&typeof wr=="string")Wr=wr,Br=this.length,wr=0;else if(isFinite(wr))wr=wr>>>0,isFinite(Br)?(Br=Br>>>0,Wr===void 0&&(Wr="utf8")):(Wr=Br,Br=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Qr=this.length-wr;if((Br===void 0||Br>Qr)&&(Br=Qr),Sr.length>0&&(Br<0||wr<0)||wr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Wr||(Wr="utf8");let an=!1;for(;;)switch(Wr){case"hex":return qr(this,Sr,wr,Br);case"utf8":case"utf-8":return tn(this,Sr,wr,Br);case"ascii":case"latin1":case"binary":return en(this,Sr,wr,Br);case"base64":return sn(this,Sr,wr,Br);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cn(this,Sr,wr,Br);default:if(an)throw new TypeError("Unknown encoding: "+Wr);Wr=(""+Wr).toLowerCase(),an=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ur(kr,Sr,wr){return Sr===0&&wr===kr.length?e.fromByteArray(kr):e.fromByteArray(kr.slice(Sr,wr))}function Rr(kr,Sr,wr){wr=Math.min(kr.length,wr);const Br=[];let Wr=Sr;for(;Wr<wr;){const Qr=kr[Wr];let an=null,Pn=Qr>239?4:Qr>223?3:Qr>191?2:1;if(Wr+Pn<=wr){let Fn,Dn,Gn,Kn;switch(Pn){case 1:Qr<128&&(an=Qr);break;case 2:Fn=kr[Wr+1],(Fn&192)===128&&(Kn=(Qr&31)<<6|Fn&63,Kn>127&&(an=Kn));break;case 3:Fn=kr[Wr+1],Dn=kr[Wr+2],(Fn&192)===128&&(Dn&192)===128&&(Kn=(Qr&15)<<12|(Fn&63)<<6|Dn&63,Kn>2047&&(Kn<55296||Kn>57343)&&(an=Kn));break;case 4:Fn=kr[Wr+1],Dn=kr[Wr+2],Gn=kr[Wr+3],(Fn&192)===128&&(Dn&192)===128&&(Gn&192)===128&&(Kn=(Qr&15)<<18|(Fn&63)<<12|(Dn&63)<<6|Gn&63,Kn>65535&&Kn<1114112&&(an=Kn))}}an===null?(an=65533,Pn=1):an>65535&&(an-=65536,Br.push(an>>>10&1023|55296),an=56320|an&1023),Br.push(an),Wr+=Pn}return Dr(Br)}const Pr=4096;function Dr(kr){const Sr=kr.length;if(Sr<=Pr)return String.fromCharCode.apply(String,kr);let wr="",Br=0;for(;Br<Sr;)wr+=String.fromCharCode.apply(String,kr.slice(Br,Br+=Pr));return wr}function Yr(kr,Sr,wr){let Br="";wr=Math.min(kr.length,wr);for(let Wr=Sr;Wr<wr;++Wr)Br+=String.fromCharCode(kr[Wr]&127);return Br}function Zr(kr,Sr,wr){let Br="";wr=Math.min(kr.length,wr);for(let Wr=Sr;Wr<wr;++Wr)Br+=String.fromCharCode(kr[Wr]);return Br}function Xr(kr,Sr,wr){const Br=kr.length;(!Sr||Sr<0)&&(Sr=0),(!wr||wr<0||wr>Br)&&(wr=Br);let Wr="";for(let Qr=Sr;Qr<wr;++Qr)Wr+=Wn[kr[Qr]];return Wr}function nn(kr,Sr,wr){const Br=kr.slice(Sr,wr);let Wr="";for(let Qr=0;Qr<Br.length-1;Qr+=2)Wr+=String.fromCharCode(Br[Qr]+Br[Qr+1]*256);return Wr}u.prototype.slice=function(Sr,wr){const Br=this.length;Sr=~~Sr,wr=wr===void 0?Br:~~wr,Sr<0?(Sr+=Br,Sr<0&&(Sr=0)):Sr>Br&&(Sr=Br),wr<0?(wr+=Br,wr<0&&(wr=0)):wr>Br&&(wr=Br),wr<Sr&&(wr=Sr);const Wr=this.subarray(Sr,wr);return Object.setPrototypeOf(Wr,u.prototype),Wr};function Gr(kr,Sr,wr){if(kr%1!==0||kr<0)throw new RangeError("offset is not uint");if(kr+Sr>wr)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=this[Sr],Qr=1,an=0;for(;++an<wr&&(Qr*=256);)Wr+=this[Sr+an]*Qr;return Wr},u.prototype.readUintBE=u.prototype.readUIntBE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=this[Sr+--wr],Qr=1;for(;wr>0&&(Qr*=256);)Wr+=this[Sr+--wr]*Qr;return Wr},u.prototype.readUint8=u.prototype.readUInt8=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,1,this.length),this[Sr]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,2,this.length),this[Sr]|this[Sr+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,2,this.length),this[Sr]<<8|this[Sr+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),(this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16)+this[Sr+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),this[Sr]*16777216+(this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3])},u.prototype.readBigUInt64LE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=wr+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24,Qr=this[++Sr]+this[++Sr]*2**8+this[++Sr]*2**16+Br*2**24;return BigInt(Wr)+(BigInt(Qr)<<BigInt(32))}),u.prototype.readBigUInt64BE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=wr*2**24+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr],Qr=this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Br;return(BigInt(Wr)<<BigInt(32))+BigInt(Qr)}),u.prototype.readIntLE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=this[Sr],Qr=1,an=0;for(;++an<wr&&(Qr*=256);)Wr+=this[Sr+an]*Qr;return Qr*=128,Wr>=Qr&&(Wr-=Math.pow(2,8*wr)),Wr},u.prototype.readIntBE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=wr,Qr=1,an=this[Sr+--Wr];for(;Wr>0&&(Qr*=256);)an+=this[Sr+--Wr]*Qr;return Qr*=128,an>=Qr&&(an-=Math.pow(2,8*wr)),an},u.prototype.readInt8=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,1,this.length),this[Sr]&128?(255-this[Sr]+1)*-1:this[Sr]},u.prototype.readInt16LE=function(Sr,wr){Sr=Sr>>>0,wr||Gr(Sr,2,this.length);const Br=this[Sr]|this[Sr+1]<<8;return Br&32768?Br|4294901760:Br},u.prototype.readInt16BE=function(Sr,wr){Sr=Sr>>>0,wr||Gr(Sr,2,this.length);const Br=this[Sr+1]|this[Sr]<<8;return Br&32768?Br|4294901760:Br},u.prototype.readInt32LE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16|this[Sr+3]<<24},u.prototype.readInt32BE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),this[Sr]<<24|this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3]},u.prototype.readBigInt64LE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=this[Sr+4]+this[Sr+5]*2**8+this[Sr+6]*2**16+(Br<<24);return(BigInt(Wr)<<BigInt(32))+BigInt(wr+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24)}),u.prototype.readBigInt64BE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=(wr<<24)+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr];return(BigInt(Wr)<<BigInt(32))+BigInt(this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Br)}),u.prototype.readFloatLE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),r.read(this,Sr,!0,23,4)},u.prototype.readFloatBE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),r.read(this,Sr,!1,23,4)},u.prototype.readDoubleLE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,8,this.length),r.read(this,Sr,!0,52,8)},u.prototype.readDoubleBE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,8,this.length),r.read(this,Sr,!1,52,8)};function Nr(kr,Sr,wr,Br,Wr,Qr){if(!u.isBuffer(kr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Sr>Wr||Sr<Qr)throw new RangeError('"value" argument is out of bounds');if(wr+Br>kr.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,Br=Br>>>0,!Wr){const Pn=Math.pow(2,8*Br)-1;Nr(this,Sr,wr,Br,Pn,0)}let Qr=1,an=0;for(this[wr]=Sr&255;++an<Br&&(Qr*=256);)this[wr+an]=Sr/Qr&255;return wr+Br},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,Br=Br>>>0,!Wr){const Pn=Math.pow(2,8*Br)-1;Nr(this,Sr,wr,Br,Pn,0)}let Qr=Br-1,an=1;for(this[wr+Qr]=Sr&255;--Qr>=0&&(an*=256);)this[wr+Qr]=Sr/an&255;return wr+Br},u.prototype.writeUint8=u.prototype.writeUInt8=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,1,255,0),this[wr]=Sr&255,wr+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,65535,0),this[wr]=Sr&255,this[wr+1]=Sr>>>8,wr+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,65535,0),this[wr]=Sr>>>8,this[wr+1]=Sr&255,wr+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,4294967295,0),this[wr+3]=Sr>>>24,this[wr+2]=Sr>>>16,this[wr+1]=Sr>>>8,this[wr]=Sr&255,wr+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,4294967295,0),this[wr]=Sr>>>24,this[wr+1]=Sr>>>16,this[wr+2]=Sr>>>8,this[wr+3]=Sr&255,wr+4};function Jr(kr,Sr,wr,Br,Wr){ln(Sr,Br,Wr,kr,wr,7);let Qr=Number(Sr&BigInt(4294967295));kr[wr++]=Qr,Qr=Qr>>8,kr[wr++]=Qr,Qr=Qr>>8,kr[wr++]=Qr,Qr=Qr>>8,kr[wr++]=Qr;let an=Number(Sr>>BigInt(32)&BigInt(4294967295));return kr[wr++]=an,an=an>>8,kr[wr++]=an,an=an>>8,kr[wr++]=an,an=an>>8,kr[wr++]=an,wr}function fn(kr,Sr,wr,Br,Wr){ln(Sr,Br,Wr,kr,wr,7);let Qr=Number(Sr&BigInt(4294967295));kr[wr+7]=Qr,Qr=Qr>>8,kr[wr+6]=Qr,Qr=Qr>>8,kr[wr+5]=Qr,Qr=Qr>>8,kr[wr+4]=Qr;let an=Number(Sr>>BigInt(32)&BigInt(4294967295));return kr[wr+3]=an,an=an>>8,kr[wr+2]=an,an=an>>8,kr[wr+1]=an,an=an>>8,kr[wr]=an,wr+8}u.prototype.writeBigUInt64LE=Vn(function(Sr,wr=0){return Jr(this,Sr,wr,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Vn(function(Sr,wr=0){return fn(this,Sr,wr,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,!Wr){const Fn=Math.pow(2,8*Br-1);Nr(this,Sr,wr,Br,Fn-1,-Fn)}let Qr=0,an=1,Pn=0;for(this[wr]=Sr&255;++Qr<Br&&(an*=256);)Sr<0&&Pn===0&&this[wr+Qr-1]!==0&&(Pn=1),this[wr+Qr]=(Sr/an>>0)-Pn&255;return wr+Br},u.prototype.writeIntBE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,!Wr){const Fn=Math.pow(2,8*Br-1);Nr(this,Sr,wr,Br,Fn-1,-Fn)}let Qr=Br-1,an=1,Pn=0;for(this[wr+Qr]=Sr&255;--Qr>=0&&(an*=256);)Sr<0&&Pn===0&&this[wr+Qr+1]!==0&&(Pn=1),this[wr+Qr]=(Sr/an>>0)-Pn&255;return wr+Br},u.prototype.writeInt8=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,1,127,-128),Sr<0&&(Sr=255+Sr+1),this[wr]=Sr&255,wr+1},u.prototype.writeInt16LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,32767,-32768),this[wr]=Sr&255,this[wr+1]=Sr>>>8,wr+2},u.prototype.writeInt16BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,32767,-32768),this[wr]=Sr>>>8,this[wr+1]=Sr&255,wr+2},u.prototype.writeInt32LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,2147483647,-2147483648),this[wr]=Sr&255,this[wr+1]=Sr>>>8,this[wr+2]=Sr>>>16,this[wr+3]=Sr>>>24,wr+4},u.prototype.writeInt32BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,2147483647,-2147483648),Sr<0&&(Sr=4294967295+Sr+1),this[wr]=Sr>>>24,this[wr+1]=Sr>>>16,this[wr+2]=Sr>>>8,this[wr+3]=Sr&255,wr+4},u.prototype.writeBigInt64LE=Vn(function(Sr,wr=0){return Jr(this,Sr,wr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Vn(function(Sr,wr=0){return fn(this,Sr,wr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function An(kr,Sr,wr,Br,Wr,Qr){if(wr+Br>kr.length)throw new RangeError("Index out of range");if(wr<0)throw new RangeError("Index out of range")}function wn(kr,Sr,wr,Br,Wr){return Sr=+Sr,wr=wr>>>0,Wr||An(kr,Sr,wr,4),r.write(kr,Sr,wr,Br,23,4),wr+4}u.prototype.writeFloatLE=function(Sr,wr,Br){return wn(this,Sr,wr,!0,Br)},u.prototype.writeFloatBE=function(Sr,wr,Br){return wn(this,Sr,wr,!1,Br)};function yn(kr,Sr,wr,Br,Wr){return Sr=+Sr,wr=wr>>>0,Wr||An(kr,Sr,wr,8),r.write(kr,Sr,wr,Br,52,8),wr+8}u.prototype.writeDoubleLE=function(Sr,wr,Br){return yn(this,Sr,wr,!0,Br)},u.prototype.writeDoubleBE=function(Sr,wr,Br){return yn(this,Sr,wr,!1,Br)},u.prototype.copy=function(Sr,wr,Br,Wr){if(!u.isBuffer(Sr))throw new TypeError("argument should be a Buffer");if(Br||(Br=0),!Wr&&Wr!==0&&(Wr=this.length),wr>=Sr.length&&(wr=Sr.length),wr||(wr=0),Wr>0&&Wr<Br&&(Wr=Br),Wr===Br||Sr.length===0||this.length===0)return 0;if(wr<0)throw new RangeError("targetStart out of bounds");if(Br<0||Br>=this.length)throw new RangeError("Index out of range");if(Wr<0)throw new RangeError("sourceEnd out of bounds");Wr>this.length&&(Wr=this.length),Sr.length-wr<Wr-Br&&(Wr=Sr.length-wr+Br);const Qr=Wr-Br;return this===Sr&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(wr,Br,Wr):Uint8Array.prototype.set.call(Sr,this.subarray(Br,Wr),wr),Qr},u.prototype.fill=function(Sr,wr,Br,Wr){if(typeof Sr=="string"){if(typeof wr=="string"?(Wr=wr,wr=0,Br=this.length):typeof Br=="string"&&(Wr=Br,Br=this.length),Wr!==void 0&&typeof Wr!="string")throw new TypeError("encoding must be a string");if(typeof Wr=="string"&&!u.isEncoding(Wr))throw new TypeError("Unknown encoding: "+Wr);if(Sr.length===1){const an=Sr.charCodeAt(0);(Wr==="utf8"&&an<128||Wr==="latin1")&&(Sr=an)}}else typeof Sr=="number"?Sr=Sr&255:typeof Sr=="boolean"&&(Sr=Number(Sr));if(wr<0||this.length<wr||this.length<Br)throw new RangeError("Out of range index");if(Br<=wr)return this;wr=wr>>>0,Br=Br===void 0?this.length:Br>>>0,Sr||(Sr=0);let Qr;if(typeof Sr=="number")for(Qr=wr;Qr<Br;++Qr)this[Qr]=Sr;else{const an=u.isBuffer(Sr)?Sr:u.from(Sr,Wr),Pn=an.length;if(Pn===0)throw new TypeError('The value "'+Sr+'" is invalid for argument "value"');for(Qr=0;Qr<Br-wr;++Qr)this[Qr+wr]=an[Qr%Pn]}return this};const mn={};function _n(kr,Sr,wr){mn[kr]=class extends wr{constructor(){super(),Object.defineProperty(this,"message",{value:Sr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${kr}]`,this.stack,delete this.name}get code(){return kr}set code(Wr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Wr,writable:!0})}toString(){return`${this.name} [${kr}]: ${this.message}`}}}_n("ERR_BUFFER_OUT_OF_BOUNDS",function(kr){return kr?`${kr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_n("ERR_INVALID_ARG_TYPE",function(kr,Sr){return`The "${kr}" argument must be of type number. Received type ${typeof Sr}`},TypeError),_n("ERR_OUT_OF_RANGE",function(kr,Sr,wr){let Br=`The value of "${kr}" is out of range.`,Wr=wr;return Number.isInteger(wr)&&Math.abs(wr)>2**32?Wr=In(String(wr)):typeof wr=="bigint"&&(Wr=String(wr),(wr>BigInt(2)**BigInt(32)||wr<-(BigInt(2)**BigInt(32)))&&(Wr=In(Wr)),Wr+="n"),Br+=` It must be ${Sr}. Received ${Wr}`,Br},RangeError);function In(kr){let Sr="",wr=kr.length;const Br=kr[0]==="-"?1:0;for(;wr>=Br+4;wr-=3)Sr=`_${kr.slice(wr-3,wr)}${Sr}`;return`${kr.slice(0,wr)}${Sr}`}function Nn(kr,Sr,wr){hn(Sr,"offset"),(kr[Sr]===void 0||kr[Sr+wr]===void 0)&&gn(Sr,kr.length-(wr+1))}function ln(kr,Sr,wr,Br,Wr,Qr){if(kr>wr||kr<Sr){const an=typeof Sr=="bigint"?"n":"";let Pn;throw Qr>3?Sr===0||Sr===BigInt(0)?Pn=`>= 0${an} and < 2${an} ** ${(Qr+1)*8}${an}`:Pn=`>= -(2${an} ** ${(Qr+1)*8-1}${an}) and < 2 ** ${(Qr+1)*8-1}${an}`:Pn=`>= ${Sr}${an} and <= ${wr}${an}`,new mn.ERR_OUT_OF_RANGE("value",Pn,kr)}Nn(Br,Wr,Qr)}function hn(kr,Sr){if(typeof kr!="number")throw new mn.ERR_INVALID_ARG_TYPE(Sr,"number",kr)}function gn(kr,Sr,wr){throw Math.floor(kr)!==kr?(hn(kr,wr),new mn.ERR_OUT_OF_RANGE(wr||"offset","an integer",kr)):Sr<0?new mn.ERR_BUFFER_OUT_OF_BOUNDS:new mn.ERR_OUT_OF_RANGE(wr||"offset",`>= ${wr?1:0} and <= ${Sr}`,kr)}const Rn=/[^+/0-9A-Za-z-_]/g;function Cn(kr){if(kr=kr.split("=")[0],kr=kr.trim().replace(Rn,""),kr.length<2)return"";for(;kr.length%4!==0;)kr=kr+"=";return kr}function kn(kr,Sr){Sr=Sr||1/0;let wr;const Br=kr.length;let Wr=null;const Qr=[];for(let an=0;an<Br;++an){if(wr=kr.charCodeAt(an),wr>55295&&wr<57344){if(!Wr){if(wr>56319){(Sr-=3)>-1&&Qr.push(239,191,189);continue}else if(an+1===Br){(Sr-=3)>-1&&Qr.push(239,191,189);continue}Wr=wr;continue}if(wr<56320){(Sr-=3)>-1&&Qr.push(239,191,189),Wr=wr;continue}wr=(Wr-55296<<10|wr-56320)+65536}else Wr&&(Sr-=3)>-1&&Qr.push(239,191,189);if(Wr=null,wr<128){if((Sr-=1)<0)break;Qr.push(wr)}else if(wr<2048){if((Sr-=2)<0)break;Qr.push(wr>>6|192,wr&63|128)}else if(wr<65536){if((Sr-=3)<0)break;Qr.push(wr>>12|224,wr>>6&63|128,wr&63|128)}else if(wr<1114112){if((Sr-=4)<0)break;Qr.push(wr>>18|240,wr>>12&63|128,wr>>6&63|128,wr&63|128)}else throw new Error("Invalid code point")}return Qr}function Un(kr){const Sr=[];for(let wr=0;wr<kr.length;++wr)Sr.push(kr.charCodeAt(wr)&255);return Sr}function Sn(kr,Sr){let wr,Br,Wr;const Qr=[];for(let an=0;an<kr.length&&!((Sr-=2)<0);++an)wr=kr.charCodeAt(an),Br=wr>>8,Wr=wr%256,Qr.push(Wr),Qr.push(Br);return Qr}function Bn(kr){return e.toByteArray(Cn(kr))}function Tn(kr,Sr,wr,Br){let Wr;for(Wr=0;Wr<Br&&!(Wr+wr>=Sr.length||Wr>=kr.length);++Wr)Sr[Wr+wr]=kr[Wr];return Wr}function jn(kr,Sr){return kr instanceof Sr||kr!=null&&kr.constructor!=null&&kr.constructor.name!=null&&kr.constructor.name===Sr.name}function Hn(kr){return kr!==kr}const Wn=function(){const kr="0123456789abcdef",Sr=new Array(256);for(let wr=0;wr<16;++wr){const Br=wr*16;for(let Wr=0;Wr<16;++Wr)Sr[Br+Wr]=kr[wr]+kr[Wr]}return Sr}();function Vn(kr){return typeof BigInt>"u"?Yn:kr}function Yn(){throw new Error("BigInt not supported")}})(bufferPolyfill);var browser$7={exports:{}},process=browser$7.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch{try{return cachedSetTimeout.call(null,t,0)}catch{return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch{try{return cachedClearTimeout.call(null,t)}catch{return cachedClearTimeout.call(this,t)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue$1.length;e;){for(currentQueue=queue$1,queue$1=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(t)}}process.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];queue$1.push(new Item(t,e)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$7(){}process.on=noop$7;process.addListener=noop$7;process.once=noop$7;process.off=noop$7;process.removeListener=noop$7;process.removeAllListeners=noop$7;process.emit=noop$7;process.prependListener=noop$7;process.prependOnceListener=noop$7;process.listeners=function(t){return[]};process.binding=function(t){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(t){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bufferPolyfill,r=browser$7.exports,n=c=>c&&c.__esModule?c:{default:c},o=n(r),a=globalThis||void 0||self;Object.defineProperty(t,"Buffer",{enumerable:!0,get:()=>e.Buffer}),Object.defineProperty(t,"process",{enumerable:!0,get:()=>o.default}),t.global=a})(dist$3);function makeMap(t,e){const r=Object.create(null),n=t.split(",");for(let o=0;o<n.length;o++)r[n[o]]=!0;return e?o=>!!r[o.toLowerCase()]:o=>!!r[o]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend$1=Object.assign,remove$1=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},hasOwnProperty$6=Object.prototype.hasOwnProperty,hasOwn$2=(t,e)=>hasOwnProperty$6.call(t,e),isArray$5=Array.isArray,isMap$1=t=>toTypeString(t)==="[object Map]",isSet$2=t=>toTypeString(t)==="[object Set]",isDate$4=t=>toTypeString(t)==="[object Date]",isRegExp$4=t=>toTypeString(t)==="[object RegExp]",isFunction$5=t=>typeof t=="function",isString$3=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$8=t=>t!==null&&typeof t=="object",isPromise$1=t=>(isObject$8(t)||isFunction$5(t))&&isFunction$5(t.then)&&isFunction$5(t.catch),objectToString$2=Object.prototype.toString,toTypeString=t=>objectToString$2.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$3=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$3(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},def=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber=t=>{const e=isString$3(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:{}),GLOBALS_ALLOWED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",isGloballyAllowed=makeMap(GLOBALS_ALLOWED);function normalizeStyle(t){if(isArray$5(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],o=isString$3(n)?parseStringStyle(n):normalizeStyle(n);if(o)for(const a in o)e[a]=o[a]}return e}else if(isString$3(t)||isObject$8(t))return t}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const n=r.split(propertyDelimiterRE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$3(t))e=t;else if(isArray$5(t))for(let r=0;r<t.length;r++){const n=normalizeClass(t[r]);n&&(e+=n+" ")}else if(isObject$8(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function normalizeProps(t){if(!t)return null;let{class:e,style:r}=t;return e&&!isString$3(e)&&(t.class=normalizeClass(e)),r&&(t.style=normalizeStyle(r)),t}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function looseCompareArrays(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=looseEqual(t[n],e[n]);return r}function looseEqual(t,e){if(t===e)return!0;let r=isDate$4(t),n=isDate$4(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=isSymbol(t),n=isSymbol(e),r||n)return t===e;if(r=isArray$5(t),n=isArray$5(e),r||n)return r&&n?looseCompareArrays(t,e):!1;if(r=isObject$8(t),n=isObject$8(e),r||n){if(!r||!n)return!1;const o=Object.keys(t).length,a=Object.keys(e).length;if(o!==a)return!1;for(const c in t){const u=t.hasOwnProperty(c),gr=e.hasOwnProperty(c);if(u&&!gr||!u&&gr||!looseEqual(t[c],e[c]))return!1}}return String(t)===String(e)}function looseIndexOf(t,e){return t.findIndex(r=>looseEqual(r,e))}const toDisplayString=t=>isString$3(t)?t:t==null?"":isArray$5(t)||isObject$8(t)&&(t.toString===objectToString$2||!isFunction$5(t.toString))?JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>e&&e.__v_isRef?replacer(t,e.value):isMap$1(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,o])=>(r[`${n} =>`]=o,r),{})}:isSet$2(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$8(e)&&!isArray$5(e)&&!isPlainObject$3(e)?String(e):e;let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=r}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,e=activeEffectScope){e&&e.active&&e.effects.push(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t){activeEffectScope&&activeEffectScope.cleanups.push(t)}const createDep=t=>{const e=new Set(t);return e.w=0,e.n=0,e},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const o=e[n];wasTracked(o)&&!newTracked(o)?o.delete(t):e[r++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=r}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,n)}run(){if(!this.active)return this.fn();let e=activeEffect,r=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}function effect(t,e){t.effect instanceof ReactiveEffect&&(t=t.effect.fn);const r=new ReactiveEffect(t);e&&(extend$1(r,e),e.scope&&recordEffectScope(r,e.scope)),(!e||!e.lazy)&&r.run();const n=r.run.bind(r);return n.effect=r,n}function stop$1(t){t.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,e,r){if(shouldTrack&&activeEffect){let n=targetMap.get(t);n||targetMap.set(t,n=new Map);let o=n.get(r);o||n.set(r,o=createDep()),trackEffects(o)}}function trackEffects(t,e){let r=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,r=!wasTracked(t)):r=!t.has(activeEffect),r&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,e,r,n,o,a){const c=targetMap.get(t);if(!c)return;let u=[];if(e==="clear")u=[...c.values()];else if(r==="length"&&isArray$5(t)){const gr=Number(n);c.forEach((br,_r)=>{(_r==="length"||!isSymbol(_r)&&_r>=gr)&&u.push(br)})}else switch(r!==void 0&&u.push(c.get(r)),e){case"add":isArray$5(t)?isIntegerKey(r)&&u.push(c.get("length")):(u.push(c.get(ITERATE_KEY)),isMap$1(t)&&u.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$5(t)||(u.push(c.get(ITERATE_KEY)),isMap$1(t)&&u.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(t)&&u.push(c.get(ITERATE_KEY));break}if(u.length===1)u[0]&&triggerEffects(u[0]);else{const gr=[];for(const br of u)br&&gr.push(...br);triggerEffects(createDep(gr))}}function triggerEffects(t,e){const r=isArray$5(t)?t:[...t];for(const n of r)n.computed&&triggerEffect(n);for(const n of r)n.computed||triggerEffect(n)}function triggerEffect(t,e){(t!==activeEffect||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function getDepFromReactive(t,e){var r;return(r=targetMap.get(t))==null?void 0:r.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=toRaw(this);for(let a=0,c=this.length;a<c;a++)track(n,"get",a+"");const o=n[e](...r);return o===-1||o===!1?n[e](...r.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){pauseTracking();const n=toRaw(this)[e].apply(this,r);return resetTracking(),n}}),t}function hasOwnProperty$5(t){const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}class BaseReactiveHandler{constructor(e=!1,r=!1){this._isReadonly=e,this._shallow=r}get(e,r,n){const o=this._isReadonly,a=this._shallow;if(r==="__v_isReactive")return!o;if(r==="__v_isReadonly")return o;if(r==="__v_isShallow")return a;if(r==="__v_raw"&&n===(o?a?shallowReadonlyMap:readonlyMap:a?shallowReactiveMap:reactiveMap).get(e))return e;const c=isArray$5(e);if(!o){if(c&&hasOwn$2(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,n);if(r==="hasOwnProperty")return hasOwnProperty$5}const u=Reflect.get(e,r,n);return(isSymbol(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(o||track(e,"get",r),a)?u:isRef(u)?c&&isIntegerKey(r)?u:u.value:isObject$8(u)?o?readonly(u):reactive(u):u}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,r,n,o){let a=e[r];if(isReadonly(a)&&isRef(a)&&!isRef(n))return!1;if(!this._shallow&&(!isShallow(n)&&!isReadonly(n)&&(a=toRaw(a),n=toRaw(n)),!isArray$5(e)&&isRef(a)&&!isRef(n)))return a.value=n,!0;const c=isArray$5(e)&&isIntegerKey(r)?Number(r)<e.length:hasOwn$2(e,r),u=Reflect.set(e,r,n,o);return e===toRaw(o)&&(c?hasChanged(n,a)&&trigger(e,"set",r,n):trigger(e,"add",r,n)),u}deleteProperty(e,r){const n=hasOwn$2(e,r);e[r];const o=Reflect.deleteProperty(e,r);return o&&n&&trigger(e,"delete",r,void 0),o}has(e,r){const n=Reflect.has(e,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(e,"has",r),n}ownKeys(e){return track(e,"iterate",isArray$5(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=t=>t,getProto$2=t=>Reflect.getPrototypeOf(t);function get$3(t,e,r=!1,n=!1){t=t.__v_raw;const o=toRaw(t),a=toRaw(e);r||(hasChanged(e,a)&&track(o,"get",e),track(o,"get",a));const{has:c}=getProto$2(o),u=n?toShallow:r?toReadonly:toReactive;if(c.call(o,e))return u(t.get(e));if(c.call(o,a))return u(t.get(a));t!==o&&t.get(e)}function has$2(t,e=!1){const r=this.__v_raw,n=toRaw(r),o=toRaw(t);return e||(hasChanged(t,o)&&track(n,"has",t),track(n,"has",o)),t===o?r.has(t):r.has(t)||r.has(o)}function size(t,e=!1){return t=t.__v_raw,!e&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add$2(t){t=toRaw(t);const e=toRaw(this);return getProto$2(e).has.call(e,t)||(e.add(t),trigger(e,"add",t,t)),this}function set$2(t,e){e=toRaw(e);const r=toRaw(this),{has:n,get:o}=getProto$2(r);let a=n.call(r,t);a||(t=toRaw(t),a=n.call(r,t));const c=o.call(r,t);return r.set(t,e),a?hasChanged(e,c)&&trigger(r,"set",t,e):trigger(r,"add",t,e),this}function deleteEntry(t){const e=toRaw(this),{has:r,get:n}=getProto$2(e);let o=r.call(e,t);o||(t=toRaw(t),o=r.call(e,t)),n&&n.call(e,t);const a=e.delete(t);return o&&trigger(e,"delete",t,void 0),a}function clear(){const t=toRaw(this),e=t.size!==0,r=t.clear();return e&&trigger(t,"clear",void 0,void 0),r}function createForEach(t,e){return function(n,o){const a=this,c=a.__v_raw,u=toRaw(c),gr=e?toShallow:t?toReadonly:toReactive;return!t&&track(u,"iterate",ITERATE_KEY),c.forEach((br,_r)=>n.call(o,gr(br),gr(_r),a))}}function createIterableMethod(t,e,r){return function(...n){const o=this.__v_raw,a=toRaw(o),c=isMap$1(a),u=t==="entries"||t===Symbol.iterator&&c,gr=t==="keys"&&c,br=o[t](...n),_r=r?toShallow:e?toReadonly:toReactive;return!e&&track(a,"iterate",gr?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Ar,done:vr}=br.next();return vr?{value:Ar,done:vr}:{value:u?[_r(Ar[0]),_r(Ar[1])]:_r(Ar),done:vr}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(a){return get$3(this,a)},get size(){return size(this)},has:has$2,add:add$2,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(a){return get$3(this,a,!1,!0)},get size(){return size(this)},has:has$2,add:add$2,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},r={get(a){return get$3(this,a,!0)},get size(){return size(this,!0)},has(a){return has$2.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},n={get(a){return get$3(this,a,!0,!0)},get size(){return size(this,!0)},has(a){return has$2.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=createIterableMethod(a,!1,!1),r[a]=createIterableMethod(a,!0,!1),e[a]=createIterableMethod(a,!1,!0),n[a]=createIterableMethod(a,!0,!0)}),[t,r,e,n]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,e){const r=e?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(n,o,a)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?n:Reflect.get(hasOwn$2(r,o)&&o in n?r:n,o,a)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,e,r,n,o){if(!isObject$8(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=o.get(t);if(a)return a;const c=getTargetType(t);if(c===0)return t;const u=new Proxy(t,c===2?n:r);return o.set(t,u),u}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$8(t)?reactive(t):t,toReadonly=t=>isObject$8(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,e){t=toRaw(t);const r=t.dep;r&&triggerEffects(r)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:toRaw(e),this._value=r?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const r=this.__v_isShallow||isShallow(e)||isReadonly(e);e=r?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:toReactive(e),triggerRefValue(this))}}function triggerRef(t){triggerRefValue(t)}function unref(t){return isRef(t)?t.value:t}function toValue$1(t){return isFunction$5(t)?t():unref(t)}const shallowUnwrapHandlers={get:(t,e,r)=>unref(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const o=t[e];return isRef(o)&&!isRef(r)?(o.value=r,!0):Reflect.set(t,e,r,n)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:n}=e(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=r,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}function customRef(t){return new CustomRefImpl(t)}function toRefs(t){const e=isArray$5(t)?new Array(t.length):{};for(const r in t)e[r]=propertyToRef(t,r);return e}class ObjectRefImpl{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(t,e,r){return isRef(t)?t:isFunction$5(t)?new GetterRefImpl(t):isObject$8(t)&&arguments.length>1?propertyToRef(t,e,r):ref(t)}function propertyToRef(t,e,r){const n=t[e];return isRef(n)?n:new ObjectRefImpl(t,e,r)}class ComputedRefImpl{constructor(e,r,n,o){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$2(t,e,r=!1){let n,o;const a=isFunction$5(t);return a?(n=t,o=NOOP$1):(n=t.get,o=t.set),new ComputedRefImpl(n,o,a||!o,r)}function warn(t,...e){}function assertNumber(t,e){}function callWithErrorHandling(t,e,r,n){let o;try{o=n?t(...n):t()}catch(a){handleError(a,e,r)}return o}function callWithAsyncErrorHandling(t,e,r,n){if(isFunction$5(t)){const a=callWithErrorHandling(t,e,r,n);return a&&isPromise$1(a)&&a.catch(c=>{handleError(c,e,r)}),a}const o=[];for(let a=0;a<t.length;a++)o.push(callWithAsyncErrorHandling(t[a],e,r,n));return o}function handleError(t,e,r,n=!0){const o=e?e.vnode:null;if(e){let a=e.parent;const c=e.proxy,u=r;for(;a;){const br=a.ec;if(br){for(let _r=0;_r<br.length;_r++)if(br[_r](t,c,u)===!1)return}a=a.parent}const gr=e.appContext.config.errorHandler;if(gr){callWithErrorHandling(gr,null,10,[t,c,u]);return}}logError$1(t,r,o,n)}function logError$1(t,e,r,n=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex(t){let e=flushIndex+1,r=queue.length;for(;e<r;){const n=e+r>>>1,o=queue[n],a=getId(o);a<t||a===t&&o.pre?e=n+1:r=n}return e}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const e=queue.indexOf(t);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(t){isArray$5(t)?pendingPostFlushCbs.push(...t):(!activePostFlushCbs||!activePostFlushCbs.includes(t,t.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(t),queueFlush()}function flushPreFlushCbs(t,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const r=queue[e];r&&r.pre&&(queue.splice(e,1),e--,r())}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((r,n)=>getId(r)-getId(n)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id,comparator=(t,e)=>{const r=getId(t)-getId(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function flushJobs(t){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP$1;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const r=queue[flushIndex];r&&r.active!==!1&&callWithErrorHandling(r,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let devtools,buffer$2=[];function setDevtoolsHook(t,e){var r,n;devtools=t,devtools?(devtools.enabled=!0,buffer$2.forEach(({event:o,args:a})=>devtools.emit(o,...a)),buffer$2=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{setDevtoolsHook(a,e)}),setTimeout(()=>{devtools||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer$2=[])},3e3)):buffer$2=[]}function emit(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||EMPTY_OBJ;let o=r;const a=e.startsWith("update:"),c=a&&e.slice(7);if(c&&c in n){const _r=`${c==="modelValue"?"model":c}Modifiers`,{number:Ar,trim:vr}=n[_r]||EMPTY_OBJ;vr&&(o=r.map(Tr=>isString$3(Tr)?Tr.trim():Tr)),Ar&&(o=r.map(looseToNumber))}let u,gr=n[u=toHandlerKey(e)]||n[u=toHandlerKey(camelize(e))];!gr&&a&&(gr=n[u=toHandlerKey(hyphenate(e))]),gr&&callWithAsyncErrorHandling(gr,t,6,o);const br=n[u+"Once"];if(br){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,callWithAsyncErrorHandling(br,t,6,o)}}function normalizeEmitsOptions(t,e,r=!1){const n=e.emitsCache,o=n.get(t);if(o!==void 0)return o;const a=t.emits;let c={},u=!1;if(!isFunction$5(t)){const gr=br=>{const _r=normalizeEmitsOptions(br,e,!0);_r&&(u=!0,extend$1(c,_r))};!r&&e.mixins.length&&e.mixins.forEach(gr),t.extends&&gr(t.extends),t.mixins&&t.mixins.forEach(gr)}return!a&&!u?(isObject$8(t)&&n.set(t,null),null):(isArray$5(a)?a.forEach(gr=>c[gr]=null):extend$1(c,a),isObject$8(t)&&n.set(t,c),c)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$2(t,e[0].toLowerCase()+e.slice(1))||hasOwn$2(t,hyphenate(e))||hasOwn$2(t,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function pushScopeId(t){currentScopeId=t}function popScopeId(){currentScopeId=null}const withScopeId=t=>withCtx;function withCtx(t,e=currentRenderingInstance,r){if(!e||t._n)return t;const n=(...o)=>{n._d&&setBlockTracking(-1);const a=setCurrentRenderingInstance(e);let c;try{c=t(...o)}finally{setCurrentRenderingInstance(a),n._d&&setBlockTracking(1)}return c};return n._n=!0,n._c=!0,n._d=!0,n}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:r,proxy:n,withProxy:o,props:a,propsOptions:[c],slots:u,attrs:gr,emit:br,render:_r,renderCache:Ar,data:vr,setupState:Tr,ctx:Or,inheritAttrs:Ir}=t;let xr,Lr;const Fr=setCurrentRenderingInstance(t);try{if(r.shapeFlag&4){const Hr=o||n;xr=normalizeVNode(_r.call(Hr,Hr,Ar,a,Tr,vr,Or)),Lr=gr}else{const Hr=e;xr=normalizeVNode(Hr.length>1?Hr(a,{attrs:gr,slots:u,emit:br}):Hr(a,null)),Lr=e.props?gr:getFunctionalFallthrough(gr)}}catch(Hr){blockStack.length=0,handleError(Hr,t,1),xr=createVNode(Comment)}let Mr=xr;if(Lr&&Ir!==!1){const Hr=Object.keys(Lr),{shapeFlag:Vr}=Mr;Hr.length&&Vr&7&&(c&&Hr.some(isModelListener)&&(Lr=filterModelListeners(Lr,c)),Mr=cloneVNode(Mr,Lr))}return r.dirs&&(Mr=cloneVNode(Mr),Mr.dirs=Mr.dirs?Mr.dirs.concat(r.dirs):r.dirs),r.transition&&(Mr.transition=r.transition),xr=Mr,setCurrentRenderingInstance(Fr),xr}function filterSingleRoot(t){let e;for(let r=0;r<t.length;r++){const n=t[r];if(isVNode(n)){if(n.type!==Comment||n.children==="v-if"){if(e)return;e=n}}else return}return e}const getFunctionalFallthrough=t=>{let e;for(const r in t)(r==="class"||r==="style"||isOn(r))&&((e||(e={}))[r]=t[r]);return e},filterModelListeners=(t,e)=>{const r={};for(const n in t)(!isModelListener(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function shouldUpdateComponent(t,e,r){const{props:n,children:o,component:a}=t,{props:c,children:u,patchFlag:gr}=e,br=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&gr>=0){if(gr&1024)return!0;if(gr&16)return n?hasPropsChanged(n,c,br):!!c;if(gr&8){const _r=e.dynamicProps;for(let Ar=0;Ar<_r.length;Ar++){const vr=_r[Ar];if(c[vr]!==n[vr]&&!isEmitListener(br,vr))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:n===c?!1:n?c?hasPropsChanged(n,c,br):!0:!!c;return!1}function hasPropsChanged(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let o=0;o<n.length;o++){const a=n[o];if(e[a]!==t[a]&&!isEmitListener(r,a))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const isSuspense=t=>t.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(t,e,r,n,o,a,c,u,gr,br){t==null?mountSuspense(e,r,n,o,a,c,u,gr,br):patchSuspense(t,e,r,n,o,c,u,gr,br)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(t,e){const r=t.props&&t.props[e];isFunction$5(r)&&r()}function mountSuspense(t,e,r,n,o,a,c,u,gr){const{p:br,o:{createElement:_r}}=gr,Ar=_r("div"),vr=t.suspense=createSuspenseBoundary(t,o,n,e,Ar,r,a,c,u,gr);br(null,vr.pendingBranch=t.ssContent,Ar,null,n,vr,a,c),vr.deps>0?(triggerEvent(t,"onPending"),triggerEvent(t,"onFallback"),br(null,t.ssFallback,e,r,n,null,a,c),setActiveBranch(vr,t.ssFallback)):vr.resolve(!1,!0)}function patchSuspense(t,e,r,n,o,a,c,u,{p:gr,um:br,o:{createElement:_r}}){const Ar=e.suspense=t.suspense;Ar.vnode=e,e.el=t.el;const vr=e.ssContent,Tr=e.ssFallback,{activeBranch:Or,pendingBranch:Ir,isInFallback:xr,isHydrating:Lr}=Ar;if(Ir)Ar.pendingBranch=vr,isSameVNodeType(vr,Ir)?(gr(Ir,vr,Ar.hiddenContainer,null,o,Ar,a,c,u),Ar.deps<=0?Ar.resolve():xr&&(gr(Or,Tr,r,n,o,null,a,c,u),setActiveBranch(Ar,Tr))):(Ar.pendingId++,Lr?(Ar.isHydrating=!1,Ar.activeBranch=Ir):br(Ir,o,Ar),Ar.deps=0,Ar.effects.length=0,Ar.hiddenContainer=_r("div"),xr?(gr(null,vr,Ar.hiddenContainer,null,o,Ar,a,c,u),Ar.deps<=0?Ar.resolve():(gr(Or,Tr,r,n,o,null,a,c,u),setActiveBranch(Ar,Tr))):Or&&isSameVNodeType(vr,Or)?(gr(Or,vr,r,n,o,Ar,a,c,u),Ar.resolve(!0)):(gr(null,vr,Ar.hiddenContainer,null,o,Ar,a,c,u),Ar.deps<=0&&Ar.resolve()));else if(Or&&isSameVNodeType(vr,Or))gr(Or,vr,r,n,o,Ar,a,c,u),setActiveBranch(Ar,vr);else if(triggerEvent(e,"onPending"),Ar.pendingBranch=vr,Ar.pendingId++,gr(null,vr,Ar.hiddenContainer,null,o,Ar,a,c,u),Ar.deps<=0)Ar.resolve();else{const{timeout:Fr,pendingId:Mr}=Ar;Fr>0?setTimeout(()=>{Ar.pendingId===Mr&&Ar.fallback(Tr)},Fr):Fr===0&&Ar.fallback(Tr)}}function createSuspenseBoundary(t,e,r,n,o,a,c,u,gr,br,_r=!1){const{p:Ar,m:vr,um:Tr,n:Or,o:{parentNode:Ir,remove:xr}}=br;let Lr;const Fr=isVNodeSuspensible(t);Fr&&e!=null&&e.pendingBranch&&(Lr=e.pendingId,e.deps++);const Mr=t.props?toNumber(t.props.timeout):void 0,Hr={vnode:t,parent:e,parentComponent:r,isSVG:c,container:n,hiddenContainer:o,anchor:a,deps:0,pendingId:0,timeout:typeof Mr=="number"?Mr:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:_r,isUnmounted:!1,effects:[],resolve(Vr=!1,Kr=!1){const{vnode:jr,activeBranch:qr,pendingBranch:tn,pendingId:en,effects:sn,parentComponent:cn,container:Ur}=Hr;let Rr=!1;if(Hr.isHydrating)Hr.isHydrating=!1;else if(!Vr){Rr=qr&&tn.transition&&tn.transition.mode==="out-in",Rr&&(qr.transition.afterLeave=()=>{en===Hr.pendingId&&(vr(tn,Ur,Yr,0),queuePostFlushCb(sn))});let{anchor:Yr}=Hr;qr&&(Yr=Or(qr),Tr(qr,cn,Hr,!0)),Rr||vr(tn,Ur,Yr,0)}setActiveBranch(Hr,tn),Hr.pendingBranch=null,Hr.isInFallback=!1;let Pr=Hr.parent,Dr=!1;for(;Pr;){if(Pr.pendingBranch){Pr.effects.push(...sn),Dr=!0;break}Pr=Pr.parent}!Dr&&!Rr&&queuePostFlushCb(sn),Hr.effects=[],Fr&&e&&e.pendingBranch&&Lr===e.pendingId&&(e.deps--,e.deps===0&&!Kr&&e.resolve()),triggerEvent(jr,"onResolve")},fallback(Vr){if(!Hr.pendingBranch)return;const{vnode:Kr,activeBranch:jr,parentComponent:qr,container:tn,isSVG:en}=Hr;triggerEvent(Kr,"onFallback");const sn=Or(jr),cn=()=>{!Hr.isInFallback||(Ar(null,Vr,tn,sn,qr,null,en,u,gr),setActiveBranch(Hr,Vr))},Ur=Vr.transition&&Vr.transition.mode==="out-in";Ur&&(jr.transition.afterLeave=cn),Hr.isInFallback=!0,Tr(jr,qr,null,!0),Ur||cn()},move(Vr,Kr,jr){Hr.activeBranch&&vr(Hr.activeBranch,Vr,Kr,jr),Hr.container=Vr},next(){return Hr.activeBranch&&Or(Hr.activeBranch)},registerDep(Vr,Kr){const jr=!!Hr.pendingBranch;jr&&Hr.deps++;const qr=Vr.vnode.el;Vr.asyncDep.catch(tn=>{handleError(tn,Vr,0)}).then(tn=>{if(Vr.isUnmounted||Hr.isUnmounted||Hr.pendingId!==Vr.suspenseId)return;Vr.asyncResolved=!0;const{vnode:en}=Vr;handleSetupResult(Vr,tn,!1),qr&&(en.el=qr);const sn=!qr&&Vr.subTree.el;Kr(Vr,en,Ir(qr||Vr.subTree.el),qr?null:Or(Vr.subTree),Hr,c,gr),sn&&xr(sn),updateHOCHostEl(Vr,en.el),jr&&--Hr.deps===0&&Hr.resolve()})},unmount(Vr,Kr){Hr.isUnmounted=!0,Hr.activeBranch&&Tr(Hr.activeBranch,r,Vr,Kr),Hr.pendingBranch&&Tr(Hr.pendingBranch,r,Vr,Kr)}};return Hr}function hydrateSuspense(t,e,r,n,o,a,c,u,gr){const br=e.suspense=createSuspenseBoundary(e,n,r,t.parentNode,document.createElement("div"),null,o,a,c,u,!0),_r=gr(t,br.pendingBranch=e.ssContent,r,br,a,c);return br.deps===0&&br.resolve(!1,!0),_r}function normalizeSuspenseChildren(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=normalizeSuspenseSlot(n?r.default:r),t.ssFallback=n?normalizeSuspenseSlot(r.fallback):createVNode(Comment)}function normalizeSuspenseSlot(t){let e;if(isFunction$5(t)){const r=isBlockTreeEnabled&&t._c;r&&(t._d=!1,openBlock()),t=t(),r&&(t._d=!0,e=currentBlock,closeBlock())}return isArray$5(t)&&(t=filterSingleRoot(t)),t=normalizeVNode(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$5(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}function setActiveBranch(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t,o=r.el=e.el;n&&n.subTree===r&&(n.vnode.el=o,updateHOCHostEl(n,o))}function isVNodeSuspensible(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function watchEffect(t,e){return doWatch(t,null,e)}function watchPostEffect(t,e){return doWatch(t,null,{flush:"post"})}function watchSyncEffect(t,e){return doWatch(t,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(t,e,r){return doWatch(t,e,r)}function doWatch(t,e,{immediate:r,deep:n,flush:o,onTrack:a,onTrigger:c}=EMPTY_OBJ){var u;const gr=getCurrentScope()===((u=currentInstance)==null?void 0:u.scope)?currentInstance:null;let br,_r=!1,Ar=!1;if(isRef(t)?(br=()=>t.value,_r=isShallow(t)):isReactive(t)?(br=()=>t,n=!0):isArray$5(t)?(Ar=!0,_r=t.some(Hr=>isReactive(Hr)||isShallow(Hr)),br=()=>t.map(Hr=>{if(isRef(Hr))return Hr.value;if(isReactive(Hr))return traverse(Hr);if(isFunction$5(Hr))return callWithErrorHandling(Hr,gr,2)})):isFunction$5(t)?e?br=()=>callWithErrorHandling(t,gr,2):br=()=>{if(!(gr&&gr.isUnmounted))return vr&&vr(),callWithAsyncErrorHandling(t,gr,3,[Tr])}:br=NOOP$1,e&&n){const Hr=br;br=()=>traverse(Hr())}let vr,Tr=Hr=>{vr=Fr.onStop=()=>{callWithErrorHandling(Hr,gr,4)}},Or;if(isInSSRComponentSetup)if(Tr=NOOP$1,e?r&&callWithAsyncErrorHandling(e,gr,3,[br(),Ar?[]:void 0,Tr]):br(),o==="sync"){const Hr=useSSRContext();Or=Hr.__watcherHandles||(Hr.__watcherHandles=[])}else return NOOP$1;let Ir=Ar?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const xr=()=>{if(!!Fr.active)if(e){const Hr=Fr.run();(n||_r||(Ar?Hr.some((Vr,Kr)=>hasChanged(Vr,Ir[Kr])):hasChanged(Hr,Ir)))&&(vr&&vr(),callWithAsyncErrorHandling(e,gr,3,[Hr,Ir===INITIAL_WATCHER_VALUE?void 0:Ar&&Ir[0]===INITIAL_WATCHER_VALUE?[]:Ir,Tr]),Ir=Hr)}else Fr.run()};xr.allowRecurse=!!e;let Lr;o==="sync"?Lr=xr:o==="post"?Lr=()=>queuePostRenderEffect(xr,gr&&gr.suspense):(xr.pre=!0,gr&&(xr.id=gr.uid),Lr=()=>queueJob(xr));const Fr=new ReactiveEffect(br,Lr);e?r?xr():Ir=Fr.run():o==="post"?queuePostRenderEffect(Fr.run.bind(Fr),gr&&gr.suspense):Fr.run();const Mr=()=>{Fr.stop(),gr&&gr.scope&&remove$1(gr.scope.effects,Fr)};return Or&&Or.push(Mr),Mr}function instanceWatch(t,e,r){const n=this.proxy,o=isString$3(t)?t.includes(".")?createPathGetter(n,t):()=>n[t]:t.bind(n,n);let a;isFunction$5(e)?a=e:(a=e.handler,r=e);const c=currentInstance;setCurrentInstance(this);const u=doWatch(o,a.bind(n),r);return c?setCurrentInstance(c):unsetCurrentInstance(),u}function createPathGetter(t,e){const r=e.split(".");return()=>{let n=t;for(let o=0;o<r.length&&n;o++)n=n[r[o]];return n}}function traverse(t,e){if(!isObject$8(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),isRef(t))traverse(t.value,e);else if(isArray$5(t))for(let r=0;r<t.length;r++)traverse(t[r],e);else if(isSet$2(t)||isMap$1(t))t.forEach(r=>{traverse(r,e)});else if(isPlainObject$3(t))for(const r in t)traverse(t[r],e);return t}function withDirectives(t,e){const r=currentRenderingInstance;if(r===null)return t;const n=getExposeProxy(r)||r.proxy,o=t.dirs||(t.dirs=[]);for(let a=0;a<e.length;a++){let[c,u,gr,br=EMPTY_OBJ]=e[a];c&&(isFunction$5(c)&&(c={mounted:c,updated:c}),c.deep&&traverse(u),o.push({dir:c,instance:n,value:u,oldValue:void 0,arg:gr,modifiers:br}))}return t}function invokeDirectiveHook(t,e,r,n){const o=t.dirs,a=e&&e.dirs;for(let c=0;c<o.length;c++){const u=o[c];a&&(u.oldValue=a[c].value);let gr=u.dir[n];gr&&(pauseTracking(),callWithAsyncErrorHandling(gr,r,8,[t.el,u,t,e]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const r=getCurrentInstance(),n=useTransitionState();let o;return()=>{const a=e.default&&getTransitionRawChildren(e.default(),!0);if(!a||!a.length)return;let c=a[0];if(a.length>1){for(const Ir of a)if(Ir.type!==Comment){c=Ir;break}}const u=toRaw(t),{mode:gr}=u;if(n.isLeaving)return emptyPlaceholder(c);const br=getKeepAliveChild(c);if(!br)return emptyPlaceholder(c);const _r=resolveTransitionHooks(br,u,n,r);setTransitionHooks(br,_r);const Ar=r.subTree,vr=Ar&&getKeepAliveChild(Ar);let Tr=!1;const{getTransitionKey:Or}=br.type;if(Or){const Ir=Or();o===void 0?o=Ir:Ir!==o&&(o=Ir,Tr=!0)}if(vr&&vr.type!==Comment&&(!isSameVNodeType(br,vr)||Tr)){const Ir=resolveTransitionHooks(vr,u,n,r);if(setTransitionHooks(vr,Ir),gr==="out-in")return n.isLeaving=!0,Ir.afterLeave=()=>{n.isLeaving=!1,r.update.active!==!1&&r.update()},emptyPlaceholder(c);gr==="in-out"&&br.type!==Comment&&(Ir.delayLeave=(xr,Lr,Fr)=>{const Mr=getLeavingNodesForType(n,vr);Mr[String(vr.key)]=vr,xr[leaveCbKey]=()=>{Lr(),xr[leaveCbKey]=void 0,delete _r.delayedLeave},_r.delayedLeave=Fr})}return c}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function resolveTransitionHooks(t,e,r,n){const{appear:o,mode:a,persisted:c=!1,onBeforeEnter:u,onEnter:gr,onAfterEnter:br,onEnterCancelled:_r,onBeforeLeave:Ar,onLeave:vr,onAfterLeave:Tr,onLeaveCancelled:Or,onBeforeAppear:Ir,onAppear:xr,onAfterAppear:Lr,onAppearCancelled:Fr}=e,Mr=String(t.key),Hr=getLeavingNodesForType(r,t),Vr=(qr,tn)=>{qr&&callWithAsyncErrorHandling(qr,n,9,tn)},Kr=(qr,tn)=>{const en=tn[1];Vr(qr,tn),isArray$5(qr)?qr.every(sn=>sn.length<=1)&&en():qr.length<=1&&en()},jr={mode:a,persisted:c,beforeEnter(qr){let tn=u;if(!r.isMounted)if(o)tn=Ir||u;else return;qr[leaveCbKey]&&qr[leaveCbKey](!0);const en=Hr[Mr];en&&isSameVNodeType(t,en)&&en.el[leaveCbKey]&&en.el[leaveCbKey](),Vr(tn,[qr])},enter(qr){let tn=gr,en=br,sn=_r;if(!r.isMounted)if(o)tn=xr||gr,en=Lr||br,sn=Fr||_r;else return;let cn=!1;const Ur=qr[enterCbKey$1]=Rr=>{cn||(cn=!0,Rr?Vr(sn,[qr]):Vr(en,[qr]),jr.delayedLeave&&jr.delayedLeave(),qr[enterCbKey$1]=void 0)};tn?Kr(tn,[qr,Ur]):Ur()},leave(qr,tn){const en=String(t.key);if(qr[enterCbKey$1]&&qr[enterCbKey$1](!0),r.isUnmounting)return tn();Vr(Ar,[qr]);let sn=!1;const cn=qr[leaveCbKey]=Ur=>{sn||(sn=!0,tn(),Ur?Vr(Or,[qr]):Vr(Tr,[qr]),qr[leaveCbKey]=void 0,Hr[en]===t&&delete Hr[en])};Hr[en]=t,vr?Kr(vr,[qr,cn]):cn()},clone(qr){return resolveTransitionHooks(qr,e,r,n)}};return jr}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getKeepAliveChild(t){return isKeepAlive(t)?t.children?t.children[0]:void 0:t}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?setTransitionHooks(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,r){let n=[],o=0;for(let a=0;a<t.length;a++){let c=t[a];const u=r==null?c.key:String(r)+String(c.key!=null?c.key:a);c.type===Fragment?(c.patchFlag&128&&o++,n=n.concat(getTransitionRawChildren(c.children,e,u))):(e||c.type!==Comment)&&n.push(u!=null?cloneVNode(c,{key:u}):c)}if(o>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(t,e){return isFunction$5(t)?(()=>extend$1({name:t.name},e,{setup:t}))():t}const isAsyncWrapper=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function defineAsyncComponent(t){isFunction$5(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:o=200,timeout:a,suspensible:c=!0,onError:u}=t;let gr=null,br,_r=0;const Ar=()=>(_r++,gr=null,vr()),vr=()=>{let Tr;return gr||(Tr=gr=e().catch(Or=>{if(Or=Or instanceof Error?Or:new Error(String(Or)),u)return new Promise((Ir,xr)=>{u(Or,()=>Ir(Ar()),()=>xr(Or),_r+1)});throw Or}).then(Or=>Tr!==gr&&gr?gr:(Or&&(Or.__esModule||Or[Symbol.toStringTag]==="Module")&&(Or=Or.default),br=Or,Or)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:vr,get __asyncResolved(){return br},setup(){const Tr=currentInstance;if(br)return()=>createInnerComp(br,Tr);const Or=Fr=>{gr=null,handleError(Fr,Tr,13,!n)};if(c&&Tr.suspense||isInSSRComponentSetup)return vr().then(Fr=>()=>createInnerComp(Fr,Tr)).catch(Fr=>(Or(Fr),()=>n?createVNode(n,{error:Fr}):null));const Ir=ref(!1),xr=ref(),Lr=ref(!!o);return o&&setTimeout(()=>{Lr.value=!1},o),a!=null&&setTimeout(()=>{if(!Ir.value&&!xr.value){const Fr=new Error(`Async component timed out after ${a}ms.`);Or(Fr),xr.value=Fr}},a),vr().then(()=>{Ir.value=!0,Tr.parent&&isKeepAlive(Tr.parent.vnode)&&queueJob(Tr.parent.update)}).catch(Fr=>{Or(Fr),xr.value=Fr}),()=>{if(Ir.value&&br)return createInnerComp(br,Tr);if(xr.value&&n)return createVNode(n,{error:xr.value});if(r&&!Lr.value)return createVNode(r)}}})}function createInnerComp(t,e){const{ref:r,props:n,children:o,ce:a}=e.vnode,c=createVNode(t,n,o);return c.ref=r,c.ce=a,delete e.vnode.ce,c}const isKeepAlive=t=>t.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=getCurrentInstance(),n=r.ctx;if(!n.renderer)return()=>{const Fr=e.default&&e.default();return Fr&&Fr.length===1?Fr[0]:Fr};const o=new Map,a=new Set;let c=null;const u=r.suspense,{renderer:{p:gr,m:br,um:_r,o:{createElement:Ar}}}=n,vr=Ar("div");n.activate=(Fr,Mr,Hr,Vr,Kr)=>{const jr=Fr.component;br(Fr,Mr,Hr,0,u),gr(jr.vnode,Fr,Mr,Hr,jr,u,Vr,Fr.slotScopeIds,Kr),queuePostRenderEffect(()=>{jr.isDeactivated=!1,jr.a&&invokeArrayFns(jr.a);const qr=Fr.props&&Fr.props.onVnodeMounted;qr&&invokeVNodeHook(qr,jr.parent,Fr)},u)},n.deactivate=Fr=>{const Mr=Fr.component;br(Fr,vr,null,1,u),queuePostRenderEffect(()=>{Mr.da&&invokeArrayFns(Mr.da);const Hr=Fr.props&&Fr.props.onVnodeUnmounted;Hr&&invokeVNodeHook(Hr,Mr.parent,Fr),Mr.isDeactivated=!0},u)};function Tr(Fr){resetShapeFlag(Fr),_r(Fr,r,u,!0)}function Or(Fr){o.forEach((Mr,Hr)=>{const Vr=getComponentName(Mr.type);Vr&&(!Fr||!Fr(Vr))&&Ir(Hr)})}function Ir(Fr){const Mr=o.get(Fr);!c||!isSameVNodeType(Mr,c)?Tr(Mr):c&&resetShapeFlag(c),o.delete(Fr),a.delete(Fr)}watch(()=>[t.include,t.exclude],([Fr,Mr])=>{Fr&&Or(Hr=>matches(Fr,Hr)),Mr&&Or(Hr=>!matches(Mr,Hr))},{flush:"post",deep:!0});let xr=null;const Lr=()=>{xr!=null&&o.set(xr,getInnerChild(r.subTree))};return onMounted(Lr),onUpdated(Lr),onBeforeUnmount(()=>{o.forEach(Fr=>{const{subTree:Mr,suspense:Hr}=r,Vr=getInnerChild(Mr);if(Fr.type===Vr.type&&Fr.key===Vr.key){resetShapeFlag(Vr);const Kr=Vr.component.da;Kr&&queuePostRenderEffect(Kr,Hr);return}Tr(Fr)})}),()=>{if(xr=null,!e.default)return null;const Fr=e.default(),Mr=Fr[0];if(Fr.length>1)return c=null,Fr;if(!isVNode(Mr)||!(Mr.shapeFlag&4)&&!(Mr.shapeFlag&128))return c=null,Mr;let Hr=getInnerChild(Mr);const Vr=Hr.type,Kr=getComponentName(isAsyncWrapper(Hr)?Hr.type.__asyncResolved||{}:Vr),{include:jr,exclude:qr,max:tn}=t;if(jr&&(!Kr||!matches(jr,Kr))||qr&&Kr&&matches(qr,Kr))return c=Hr,Mr;const en=Hr.key==null?Vr:Hr.key,sn=o.get(en);return Hr.el&&(Hr=cloneVNode(Hr),Mr.shapeFlag&128&&(Mr.ssContent=Hr)),xr=en,sn?(Hr.el=sn.el,Hr.component=sn.component,Hr.transition&&setTransitionHooks(Hr,Hr.transition),Hr.shapeFlag|=512,a.delete(en),a.add(en)):(a.add(en),tn&&a.size>parseInt(tn,10)&&Ir(a.values().next().value)),Hr.shapeFlag|=256,c=Hr,isSuspense(Mr.type)?Mr:Hr}}},KeepAlive=KeepAliveImpl;function matches(t,e){return isArray$5(t)?t.some(r=>matches(r,e)):isString$3(t)?t.split(",").includes(e):isRegExp$4(t)?t.test(e):!1}function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,r=currentInstance){const n=t.__wdc||(t.__wdc=()=>{let o=r;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(injectHook(e,n,r),r){let o=r.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(n,e,r,o),o=o.parent}}function injectToKeepAliveRoot(t,e,r,n){const o=injectHook(e,t,n,!0);onUnmounted(()=>{remove$1(n[e],o)},r)}function resetShapeFlag(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function getInnerChild(t){return t.shapeFlag&128?t.ssContent:t}function injectHook(t,e,r=currentInstance,n=!1){if(r){const o=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...c)=>{if(r.isUnmounted)return;pauseTracking(),setCurrentInstance(r);const u=callWithAsyncErrorHandling(e,r,t,c);return unsetCurrentInstance(),resetTracking(),u});return n?o.unshift(a):o.push(a),a}}const createHook=t=>(e,r=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...n)=>e(...n),r),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(t){return isString$3(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,e,r=!0,n=!1){const o=currentRenderingInstance||currentInstance;if(o){const a=o.type;if(t===COMPONENTS){const u=getComponentName(a,!1);if(u&&(u===e||u===camelize(e)||u===capitalize(camelize(e))))return a}const c=resolve(o[t]||a[t],e)||resolve(o.appContext[t],e);return!c&&n?a:c}}function resolve(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,r,n){let o;const a=r&&r[n];if(isArray$5(t)||isString$3(t)){o=new Array(t.length);for(let c=0,u=t.length;c<u;c++)o[c]=e(t[c],c,void 0,a&&a[c])}else if(typeof t=="number"){o=new Array(t);for(let c=0;c<t;c++)o[c]=e(c+1,c,void 0,a&&a[c])}else if(isObject$8(t))if(t[Symbol.iterator])o=Array.from(t,(c,u)=>e(c,u,void 0,a&&a[u]));else{const c=Object.keys(t);o=new Array(c.length);for(let u=0,gr=c.length;u<gr;u++){const br=c[u];o[u]=e(t[br],br,u,a&&a[u])}}else o=[];return r&&(r[n]=o),o}function createSlots(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(isArray$5(n))for(let o=0;o<n.length;o++)t[n[o].name]=n[o].fn;else n&&(t[n.name]=n.key?(...o)=>{const a=n.fn(...o);return a&&(a.key=n.key),a}:n.fn)}return t}function renderSlot(t,e,r={},n,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(r.name=e),createVNode("slot",r,n&&n());let a=t[e];a&&a._c&&(a._d=!1),openBlock();const c=a&&ensureValidVNode(a(r)),u=createBlock(Fragment,{key:r.key||c&&c.key||`_${e}`},c||(n?n():[]),c&&t._===1?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),a&&a._c&&(a._d=!0),u}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}function toHandlers(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:toHandlerKey(n)]=t[n];return r}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>queueJob(t.update)),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn$2(t,e),PublicInstanceProxyHandlers={get({_:t},e){const{ctx:r,setupState:n,data:o,props:a,accessCache:c,type:u,appContext:gr}=t;let br;if(e[0]!=="$"){const Tr=c[e];if(Tr!==void 0)switch(Tr){case 1:return n[e];case 2:return o[e];case 4:return r[e];case 3:return a[e]}else{if(hasSetupBinding(n,e))return c[e]=1,n[e];if(o!==EMPTY_OBJ&&hasOwn$2(o,e))return c[e]=2,o[e];if((br=t.propsOptions[0])&&hasOwn$2(br,e))return c[e]=3,a[e];if(r!==EMPTY_OBJ&&hasOwn$2(r,e))return c[e]=4,r[e];shouldCacheAccess&&(c[e]=0)}}const _r=publicPropertiesMap[e];let Ar,vr;if(_r)return e==="$attrs"&&track(t,"get",e),_r(t);if((Ar=u.__cssModules)&&(Ar=Ar[e]))return Ar;if(r!==EMPTY_OBJ&&hasOwn$2(r,e))return c[e]=4,r[e];if(vr=gr.config.globalProperties,hasOwn$2(vr,e))return vr[e]},set({_:t},e,r){const{data:n,setupState:o,ctx:a}=t;return hasSetupBinding(o,e)?(o[e]=r,!0):n!==EMPTY_OBJ&&hasOwn$2(n,e)?(n[e]=r,!0):hasOwn$2(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:o,propsOptions:a}},c){let u;return!!r[c]||t!==EMPTY_OBJ&&hasOwn$2(t,c)||hasSetupBinding(e,c)||(u=a[0])&&hasOwn$2(u,c)||hasOwn$2(n,c)||hasOwn$2(publicPropertiesMap,c)||hasOwn$2(o.config.globalProperties,c)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:hasOwn$2(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},RuntimeCompiledPublicInstanceProxyHandlers=extend$1({},PublicInstanceProxyHandlers,{get(t,e){if(e!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(t,e,t)},has(t,e){return e[0]!=="_"&&!isGloballyAllowed(e)}});function defineProps(){return null}function defineEmits(){return null}function defineExpose(t){}function defineOptions(t){}function defineSlots(){return null}function defineModel(){}function withDefaults(t,e){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function useModel(t,e,r){const n=getCurrentInstance();if(r&&r.local){const o=ref(t[e]);return watch(()=>t[e],a=>o.value=a),watch(o,a=>{a!==t[e]&&n.emit(`update:${e}`,a)}),o}else return{__v_isRef:!0,get value(){return t[e]},set value(o){n.emit(`update:${e}`,o)}}}function getContext(){const t=getCurrentInstance();return t.setupContext||(t.setupContext=createSetupContext(t))}function normalizePropsOrEmits(t){return isArray$5(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function mergeDefaults(t,e){const r=normalizePropsOrEmits(t);for(const n in e){if(n.startsWith("__skip"))continue;let o=r[n];o?isArray$5(o)||isFunction$5(o)?o=r[n]={type:o,default:e[n]}:o.default=e[n]:o===null&&(o=r[n]={default:e[n]}),o&&e[`__skip_${n}`]&&(o.skipFactory=!0)}return r}function mergeModels(t,e){return!t||!e?t||e:isArray$5(t)&&isArray$5(e)?t.concat(e):extend$1({},normalizePropsOrEmits(t),normalizePropsOrEmits(e))}function createPropsRestProxy(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function withAsyncContext(t){const e=getCurrentInstance();let r=t();return unsetCurrentInstance(),isPromise$1(r)&&(r=r.catch(n=>{throw setCurrentInstance(e),n})),[r,()=>setCurrentInstance(e)]}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),r=t.proxy,n=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:c,watch:u,provide:gr,inject:br,created:_r,beforeMount:Ar,mounted:vr,beforeUpdate:Tr,updated:Or,activated:Ir,deactivated:xr,beforeDestroy:Lr,beforeUnmount:Fr,destroyed:Mr,unmounted:Hr,render:Vr,renderTracked:Kr,renderTriggered:jr,errorCaptured:qr,serverPrefetch:tn,expose:en,inheritAttrs:sn,components:cn,directives:Ur,filters:Rr}=e;if(br&&resolveInjections(br,n,null),c)for(const Yr in c){const Zr=c[Yr];isFunction$5(Zr)&&(n[Yr]=Zr.bind(r))}if(o){const Yr=o.call(r,r);isObject$8(Yr)&&(t.data=reactive(Yr))}if(shouldCacheAccess=!0,a)for(const Yr in a){const Zr=a[Yr],Xr=isFunction$5(Zr)?Zr.bind(r,r):isFunction$5(Zr.get)?Zr.get.bind(r,r):NOOP$1,nn=!isFunction$5(Zr)&&isFunction$5(Zr.set)?Zr.set.bind(r):NOOP$1,Gr=computed$1({get:Xr,set:nn});Object.defineProperty(n,Yr,{enumerable:!0,configurable:!0,get:()=>Gr.value,set:Nr=>Gr.value=Nr})}if(u)for(const Yr in u)createWatcher(u[Yr],n,r,Yr);if(gr){const Yr=isFunction$5(gr)?gr.call(r):gr;Reflect.ownKeys(Yr).forEach(Zr=>{provide(Zr,Yr[Zr])})}_r&&callHook$1(_r,t,"c");function Dr(Yr,Zr){isArray$5(Zr)?Zr.forEach(Xr=>Yr(Xr.bind(r))):Zr&&Yr(Zr.bind(r))}if(Dr(onBeforeMount,Ar),Dr(onMounted,vr),Dr(onBeforeUpdate,Tr),Dr(onUpdated,Or),Dr(onActivated,Ir),Dr(onDeactivated,xr),Dr(onErrorCaptured,qr),Dr(onRenderTracked,Kr),Dr(onRenderTriggered,jr),Dr(onBeforeUnmount,Fr),Dr(onUnmounted,Hr),Dr(onServerPrefetch,tn),isArray$5(en))if(en.length){const Yr=t.exposed||(t.exposed={});en.forEach(Zr=>{Object.defineProperty(Yr,Zr,{get:()=>r[Zr],set:Xr=>r[Zr]=Xr})})}else t.exposed||(t.exposed={});Vr&&t.render===NOOP$1&&(t.render=Vr),sn!=null&&(t.inheritAttrs=sn),cn&&(t.components=cn),Ur&&(t.directives=Ur)}function resolveInjections(t,e,r=NOOP$1){isArray$5(t)&&(t=normalizeInject(t));for(const n in t){const o=t[n];let a;isObject$8(o)?"default"in o?a=inject(o.from||n,o.default,!0):a=inject(o.from||n):a=inject(o),isRef(a)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[n]=a}}function callHook$1(t,e,r){callWithAsyncErrorHandling(isArray$5(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function createWatcher(t,e,r,n){const o=n.includes(".")?createPathGetter(r,n):()=>r[n];if(isString$3(t)){const a=e[t];isFunction$5(a)&&watch(o,a)}else if(isFunction$5(t))watch(o,t.bind(r));else if(isObject$8(t))if(isArray$5(t))t.forEach(a=>createWatcher(a,e,r,n));else{const a=isFunction$5(t.handler)?t.handler.bind(r):e[t.handler];isFunction$5(a)&&watch(o,a,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:o,optionsCache:a,config:{optionMergeStrategies:c}}=t.appContext,u=a.get(e);let gr;return u?gr=u:!o.length&&!r&&!n?gr=e:(gr={},o.length&&o.forEach(br=>mergeOptions$1(gr,br,c,!0)),mergeOptions$1(gr,e,c)),isObject$8(e)&&a.set(e,gr),gr}function mergeOptions$1(t,e,r,n=!1){const{mixins:o,extends:a}=e;a&&mergeOptions$1(t,a,r,!0),o&&o.forEach(c=>mergeOptions$1(t,c,r,!0));for(const c in e)if(!(n&&c==="expose")){const u=internalOptionMergeStrats[c]||r&&r[c];t[c]=u?u(t[c],e[c]):e[c]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend$1(isFunction$5(t)?t.call(this,this):t,isFunction$5(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$5(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend$1(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray$5(t)&&isArray$5(e)?[...new Set([...t,...e])]:extend$1(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const r=extend$1(Object.create(null),t);for(const n in e)r[n]=mergeAsArray(t[n],e[n]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(n,o=null){isFunction$5(n)||(n=extend$1({},n)),o!=null&&!isObject$8(o)&&(o=null);const a=createAppContext(),c=new WeakSet;let u=!1;const gr=a.app={_uid:uid$1++,_component:n,_props:o,_container:null,_context:a,_instance:null,version:version$5,get config(){return a.config},set config(br){},use(br,..._r){return c.has(br)||(br&&isFunction$5(br.install)?(c.add(br),br.install(gr,..._r)):isFunction$5(br)&&(c.add(br),br(gr,..._r))),gr},mixin(br){return a.mixins.includes(br)||a.mixins.push(br),gr},component(br,_r){return _r?(a.components[br]=_r,gr):a.components[br]},directive(br,_r){return _r?(a.directives[br]=_r,gr):a.directives[br]},mount(br,_r,Ar){if(!u){const vr=createVNode(n,o);return vr.appContext=a,_r&&e?e(vr,br):t(vr,br,Ar),u=!0,gr._container=br,br.__vue_app__=gr,getExposeProxy(vr.component)||vr.component.proxy}},unmount(){u&&(t(null,gr._container),delete gr._container.__vue_app__)},provide(br,_r){return a.provides[br]=_r,gr},runWithContext(br){currentApp=gr;try{return br()}finally{currentApp=null}}};return gr}}let currentApp=null;function provide(t,e){if(currentInstance){let r=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===r&&(r=currentInstance.provides=Object.create(n)),r[t]=e}}function inject(t,e,r=!1){const n=currentInstance||currentRenderingInstance;if(n||currentApp){const o=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:currentApp._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return r&&isFunction$5(e)?e.call(n&&n.proxy):e}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(t,e,r,n=!1){const o={},a={};def(a,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,e,o,a);for(const c in t.propsOptions[0])c in o||(o[c]=void 0);r?t.props=n?o:shallowReactive(o):t.type.props?t.props=o:t.props=a,t.attrs=a}function updateProps(t,e,r,n){const{props:o,attrs:a,vnode:{patchFlag:c}}=t,u=toRaw(o),[gr]=t.propsOptions;let br=!1;if((n||c>0)&&!(c&16)){if(c&8){const _r=t.vnode.dynamicProps;for(let Ar=0;Ar<_r.length;Ar++){let vr=_r[Ar];if(isEmitListener(t.emitsOptions,vr))continue;const Tr=e[vr];if(gr)if(hasOwn$2(a,vr))Tr!==a[vr]&&(a[vr]=Tr,br=!0);else{const Or=camelize(vr);o[Or]=resolvePropValue(gr,u,Or,Tr,t,!1)}else Tr!==a[vr]&&(a[vr]=Tr,br=!0)}}}else{setFullProps(t,e,o,a)&&(br=!0);let _r;for(const Ar in u)(!e||!hasOwn$2(e,Ar)&&((_r=hyphenate(Ar))===Ar||!hasOwn$2(e,_r)))&&(gr?r&&(r[Ar]!==void 0||r[_r]!==void 0)&&(o[Ar]=resolvePropValue(gr,u,Ar,void 0,t,!0)):delete o[Ar]);if(a!==u)for(const Ar in a)(!e||!hasOwn$2(e,Ar)&&!0)&&(delete a[Ar],br=!0)}br&&trigger(t,"set","$attrs")}function setFullProps(t,e,r,n){const[o,a]=t.propsOptions;let c=!1,u;if(e)for(let gr in e){if(isReservedProp(gr))continue;const br=e[gr];let _r;o&&hasOwn$2(o,_r=camelize(gr))?!a||!a.includes(_r)?r[_r]=br:(u||(u={}))[_r]=br:isEmitListener(t.emitsOptions,gr)||(!(gr in n)||br!==n[gr])&&(n[gr]=br,c=!0)}if(a){const gr=toRaw(r),br=u||EMPTY_OBJ;for(let _r=0;_r<a.length;_r++){const Ar=a[_r];r[Ar]=resolvePropValue(o,gr,Ar,br[Ar],t,!hasOwn$2(br,Ar))}}return c}function resolvePropValue(t,e,r,n,o,a){const c=t[r];if(c!=null){const u=hasOwn$2(c,"default");if(u&&n===void 0){const gr=c.default;if(c.type!==Function&&!c.skipFactory&&isFunction$5(gr)){const{propsDefaults:br}=o;r in br?n=br[r]:(setCurrentInstance(o),n=br[r]=gr.call(null,e),unsetCurrentInstance())}else n=gr}c[0]&&(a&&!u?n=!1:c[1]&&(n===""||n===hyphenate(r))&&(n=!0))}return n}function normalizePropsOptions(t,e,r=!1){const n=e.propsCache,o=n.get(t);if(o)return o;const a=t.props,c={},u=[];let gr=!1;if(!isFunction$5(t)){const _r=Ar=>{gr=!0;const[vr,Tr]=normalizePropsOptions(Ar,e,!0);extend$1(c,vr),Tr&&u.push(...Tr)};!r&&e.mixins.length&&e.mixins.forEach(_r),t.extends&&_r(t.extends),t.mixins&&t.mixins.forEach(_r)}if(!a&&!gr)return isObject$8(t)&&n.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$5(a))for(let _r=0;_r<a.length;_r++){const Ar=camelize(a[_r]);validatePropName(Ar)&&(c[Ar]=EMPTY_OBJ)}else if(a)for(const _r in a){const Ar=camelize(_r);if(validatePropName(Ar)){const vr=a[_r],Tr=c[Ar]=isArray$5(vr)||isFunction$5(vr)?{type:vr}:extend$1({},vr);if(Tr){const Or=getTypeIndex(Boolean,Tr.type),Ir=getTypeIndex(String,Tr.type);Tr[0]=Or>-1,Tr[1]=Ir<0||Or<Ir,(Or>-1||hasOwn$2(Tr,"default"))&&u.push(Ar)}}}const br=[c,u];return isObject$8(t)&&n.set(t,br),br}function validatePropName(t){return t[0]!=="$"}function getType(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function isSameType(t,e){return getType(t)===getType(e)}function getTypeIndex(t,e){return isArray$5(e)?e.findIndex(r=>isSameType(r,t)):isFunction$5(e)&&isSameType(e,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$5(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,r)=>{if(e._n)return e;const n=withCtx((...o)=>normalizeSlotValue(e(...o)),r);return n._c=!1,n},normalizeObjectSlots=(t,e,r)=>{const n=t._ctx;for(const o in t){if(isInternalKey(o))continue;const a=t[o];if(isFunction$5(a))e[o]=normalizeSlot$1(o,a,n);else if(a!=null){const c=normalizeSlotValue(a);e[o]=()=>c}}},normalizeVNodeSlots=(t,e)=>{const r=normalizeSlotValue(e);t.slots.default=()=>r},initSlots=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=toRaw(e),def(e,"_",r)):normalizeObjectSlots(e,t.slots={})}else t.slots={},e&&normalizeVNodeSlots(t,e);def(t.slots,InternalObjectKey,1)},updateSlots=(t,e,r)=>{const{vnode:n,slots:o}=t;let a=!0,c=EMPTY_OBJ;if(n.shapeFlag&32){const u=e._;u?r&&u===1?a=!1:(extend$1(o,e),!r&&u===1&&delete o._):(a=!e.$stable,normalizeObjectSlots(e,o)),c=e}else e&&(normalizeVNodeSlots(t,e),c={default:1});if(a)for(const u in o)!isInternalKey(u)&&c[u]==null&&delete o[u]};function setRef(t,e,r,n,o=!1){if(isArray$5(t)){t.forEach((vr,Tr)=>setRef(vr,e&&(isArray$5(e)?e[Tr]:e),r,n,o));return}if(isAsyncWrapper(n)&&!o)return;const a=n.shapeFlag&4?getExposeProxy(n.component)||n.component.proxy:n.el,c=o?null:a,{i:u,r:gr}=t,br=e&&e.r,_r=u.refs===EMPTY_OBJ?u.refs={}:u.refs,Ar=u.setupState;if(br!=null&&br!==gr&&(isString$3(br)?(_r[br]=null,hasOwn$2(Ar,br)&&(Ar[br]=null)):isRef(br)&&(br.value=null)),isFunction$5(gr))callWithErrorHandling(gr,u,12,[c,_r]);else{const vr=isString$3(gr),Tr=isRef(gr);if(vr||Tr){const Or=()=>{if(t.f){const Ir=vr?hasOwn$2(Ar,gr)?Ar[gr]:_r[gr]:gr.value;o?isArray$5(Ir)&&remove$1(Ir,a):isArray$5(Ir)?Ir.includes(a)||Ir.push(a):vr?(_r[gr]=[a],hasOwn$2(Ar,gr)&&(Ar[gr]=_r[gr])):(gr.value=[a],t.k&&(_r[t.k]=gr.value))}else vr?(_r[gr]=c,hasOwn$2(Ar,gr)&&(Ar[gr]=c)):Tr&&(gr.value=c,t.k&&(_r[t.k]=c))};c?(Or.id=-1,queuePostRenderEffect(Or,r)):Or()}}}let hasMismatch=!1;const isSVGContainer=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",isComment=t=>t.nodeType===8;function createHydrationFunctions(t){const{mt:e,p:r,o:{patchProp:n,createText:o,nextSibling:a,parentNode:c,remove:u,insert:gr,createComment:br}}=t,_r=(Mr,Hr)=>{if(!Hr.hasChildNodes()){r(null,Mr,Hr),flushPostFlushCbs(),Hr._vnode=Mr;return}hasMismatch=!1,Ar(Hr.firstChild,Mr,null,null,null),flushPostFlushCbs(),Hr._vnode=Mr,hasMismatch&&console.error("Hydration completed but contains mismatches.")},Ar=(Mr,Hr,Vr,Kr,jr,qr=!1)=>{const tn=isComment(Mr)&&Mr.data==="[",en=()=>Ir(Mr,Hr,Vr,Kr,jr,tn),{type:sn,ref:cn,shapeFlag:Ur,patchFlag:Rr}=Hr;let Pr=Mr.nodeType;Hr.el=Mr,Rr===-2&&(qr=!1,Hr.dynamicChildren=null);let Dr=null;switch(sn){case Text:Pr!==3?Hr.children===""?(gr(Hr.el=o(""),c(Mr),Mr),Dr=Mr):Dr=en():(Mr.data!==Hr.children&&(hasMismatch=!0,Mr.data=Hr.children),Dr=a(Mr));break;case Comment:if(Pr!==8||tn)if(Mr.tagName.toLowerCase()==="template"){const Yr=Hr.el.content.firstChild;Lr(Yr,Mr,Vr),Hr.el=Mr=Yr,Dr=a(Mr)}else Dr=en();else Dr=a(Mr);break;case Static:if(tn&&(Mr=a(Mr),Pr=Mr.nodeType),Pr===1||Pr===3){Dr=Mr;const Yr=!Hr.children.length;for(let Zr=0;Zr<Hr.staticCount;Zr++)Yr&&(Hr.children+=Dr.nodeType===1?Dr.outerHTML:Dr.data),Zr===Hr.staticCount-1&&(Hr.anchor=Dr),Dr=a(Dr);return tn?a(Dr):Dr}else en();break;case Fragment:tn?Dr=Or(Mr,Hr,Vr,Kr,jr,qr):Dr=en();break;default:if(Ur&1)(Pr!==1||Hr.type.toLowerCase()!==Mr.tagName.toLowerCase())&&!Fr(Mr)?Dr=en():Dr=vr(Mr,Hr,Vr,Kr,jr,qr);else if(Ur&6){Hr.slotScopeIds=jr;const Yr=c(Mr);if(tn?Dr=xr(Mr):isComment(Mr)&&Mr.data==="teleport start"?Dr=xr(Mr,Mr.data,"teleport end"):Dr=a(Mr),e(Hr,Yr,null,Vr,Kr,isSVGContainer(Yr),qr),isAsyncWrapper(Hr)){let Zr;tn?(Zr=createVNode(Fragment),Zr.anchor=Dr?Dr.previousSibling:Yr.lastChild):Zr=Mr.nodeType===3?createTextVNode(""):createVNode("div"),Zr.el=Mr,Hr.component.subTree=Zr}}else Ur&64?Pr!==8?Dr=en():Dr=Hr.type.hydrate(Mr,Hr,Vr,Kr,jr,qr,t,Tr):Ur&128&&(Dr=Hr.type.hydrate(Mr,Hr,Vr,Kr,isSVGContainer(c(Mr)),jr,qr,t,Ar))}return cn!=null&&setRef(cn,null,Kr,Hr),Dr},vr=(Mr,Hr,Vr,Kr,jr,qr)=>{qr=qr||!!Hr.dynamicChildren;const{type:tn,props:en,patchFlag:sn,shapeFlag:cn,dirs:Ur,transition:Rr}=Hr,Pr=tn==="input"&&Ur||tn==="option";if(Pr||sn!==-1){if(Ur&&invokeDirectiveHook(Hr,null,Vr,"created"),en)if(Pr||!qr||sn&48)for(const Zr in en)(Pr&&Zr.endsWith("value")||isOn(Zr)&&!isReservedProp(Zr))&&n(Mr,Zr,null,en[Zr],!1,void 0,Vr);else en.onClick&&n(Mr,"onClick",null,en.onClick,!1,void 0,Vr);let Dr;(Dr=en&&en.onVnodeBeforeMount)&&invokeVNodeHook(Dr,Vr,Hr);let Yr=!1;if(Fr(Mr)){Yr=needTransition(Kr,Rr)&&Vr&&Vr.vnode.props&&Vr.vnode.props.appear;const Zr=Mr.content.firstChild;Yr&&Rr.beforeEnter(Zr),Lr(Zr,Mr,Vr),Hr.el=Mr=Zr}if(Ur&&invokeDirectiveHook(Hr,null,Vr,"beforeMount"),((Dr=en&&en.onVnodeMounted)||Ur||Yr)&&queueEffectWithSuspense(()=>{Dr&&invokeVNodeHook(Dr,Vr,Hr),Yr&&Rr.enter(Mr),Ur&&invokeDirectiveHook(Hr,null,Vr,"mounted")},Kr),cn&16&&!(en&&(en.innerHTML||en.textContent))){let Zr=Tr(Mr.firstChild,Hr,Mr,Vr,Kr,jr,qr);for(;Zr;){hasMismatch=!0;const Xr=Zr;Zr=Zr.nextSibling,u(Xr)}}else cn&8&&Mr.textContent!==Hr.children&&(hasMismatch=!0,Mr.textContent=Hr.children)}return Mr.nextSibling},Tr=(Mr,Hr,Vr,Kr,jr,qr,tn)=>{tn=tn||!!Hr.dynamicChildren;const en=Hr.children,sn=en.length;for(let cn=0;cn<sn;cn++){const Ur=tn?en[cn]:en[cn]=normalizeVNode(en[cn]);if(Mr)Mr=Ar(Mr,Ur,Kr,jr,qr,tn);else{if(Ur.type===Text&&!Ur.children)continue;hasMismatch=!0,r(null,Ur,Vr,null,Kr,jr,isSVGContainer(Vr),qr)}}return Mr},Or=(Mr,Hr,Vr,Kr,jr,qr)=>{const{slotScopeIds:tn}=Hr;tn&&(jr=jr?jr.concat(tn):tn);const en=c(Mr),sn=Tr(a(Mr),Hr,en,Vr,Kr,jr,qr);return sn&&isComment(sn)&&sn.data==="]"?a(Hr.anchor=sn):(hasMismatch=!0,gr(Hr.anchor=br("]"),en,sn),sn)},Ir=(Mr,Hr,Vr,Kr,jr,qr)=>{if(hasMismatch=!0,Hr.el=null,qr){const sn=xr(Mr);for(;;){const cn=a(Mr);if(cn&&cn!==sn)u(cn);else break}}const tn=a(Mr),en=c(Mr);return u(Mr),r(null,Hr,en,tn,Vr,Kr,isSVGContainer(en),jr),tn},xr=(Mr,Hr="[",Vr="]")=>{let Kr=0;for(;Mr;)if(Mr=a(Mr),Mr&&isComment(Mr)&&(Mr.data===Hr&&Kr++,Mr.data===Vr)){if(Kr===0)return a(Mr);Kr--}return Mr},Lr=(Mr,Hr,Vr)=>{const Kr=Hr.parentNode;Kr&&Kr.replaceChild(Mr,Hr);let jr=Vr;for(;jr;)jr.vnode.el===Hr&&(jr.vnode.el=Mr,jr.subTree.el=Mr),jr=jr.parent},Fr=Mr=>Mr.nodeType===1&&Mr.tagName.toLowerCase()==="template";return[_r,Ar]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function createHydrationRenderer(t){return baseCreateRenderer(t,createHydrationFunctions)}function baseCreateRenderer(t,e){const r=getGlobalThis();r.__VUE__=!0;const{insert:n,remove:o,patchProp:a,createElement:c,createText:u,createComment:gr,setText:br,setElementText:_r,parentNode:Ar,nextSibling:vr,setScopeId:Tr=NOOP$1,insertStaticContent:Or}=t,Ir=(ln,hn,gn,Rn=null,Cn=null,kn=null,Un=!1,Sn=null,Bn=!!hn.dynamicChildren)=>{if(ln===hn)return;ln&&!isSameVNodeType(ln,hn)&&(Rn=yn(ln),Nr(ln,Cn,kn,!0),ln=null),hn.patchFlag===-2&&(Bn=!1,hn.dynamicChildren=null);const{type:Tn,ref:jn,shapeFlag:Hn}=hn;switch(Tn){case Text:xr(ln,hn,gn,Rn);break;case Comment:Lr(ln,hn,gn,Rn);break;case Static:ln==null&&Fr(hn,gn,Rn,Un);break;case Fragment:cn(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn);break;default:Hn&1?Vr(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn):Hn&6?Ur(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn):(Hn&64||Hn&128)&&Tn.process(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn,_n)}jn!=null&&Cn&&setRef(jn,ln&&ln.ref,kn,hn||ln,!hn)},xr=(ln,hn,gn,Rn)=>{if(ln==null)n(hn.el=u(hn.children),gn,Rn);else{const Cn=hn.el=ln.el;hn.children!==ln.children&&br(Cn,hn.children)}},Lr=(ln,hn,gn,Rn)=>{ln==null?n(hn.el=gr(hn.children||""),gn,Rn):hn.el=ln.el},Fr=(ln,hn,gn,Rn)=>{[ln.el,ln.anchor]=Or(ln.children,hn,gn,Rn,ln.el,ln.anchor)},Mr=({el:ln,anchor:hn},gn,Rn)=>{let Cn;for(;ln&&ln!==hn;)Cn=vr(ln),n(ln,gn,Rn),ln=Cn;n(hn,gn,Rn)},Hr=({el:ln,anchor:hn})=>{let gn;for(;ln&&ln!==hn;)gn=vr(ln),o(ln),ln=gn;o(hn)},Vr=(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn)=>{Un=Un||hn.type==="svg",ln==null?Kr(hn,gn,Rn,Cn,kn,Un,Sn,Bn):tn(ln,hn,Cn,kn,Un,Sn,Bn)},Kr=(ln,hn,gn,Rn,Cn,kn,Un,Sn)=>{let Bn,Tn;const{type:jn,props:Hn,shapeFlag:Wn,transition:Vn,dirs:Yn}=ln;if(Bn=ln.el=c(ln.type,kn,Hn&&Hn.is,Hn),Wn&8?_r(Bn,ln.children):Wn&16&&qr(ln.children,Bn,null,Rn,Cn,kn&&jn!=="foreignObject",Un,Sn),Yn&&invokeDirectiveHook(ln,null,Rn,"created"),jr(Bn,ln,ln.scopeId,Un,Rn),Hn){for(const Sr in Hn)Sr!=="value"&&!isReservedProp(Sr)&&a(Bn,Sr,null,Hn[Sr],kn,ln.children,Rn,Cn,wn);"value"in Hn&&a(Bn,"value",null,Hn.value),(Tn=Hn.onVnodeBeforeMount)&&invokeVNodeHook(Tn,Rn,ln)}Yn&&invokeDirectiveHook(ln,null,Rn,"beforeMount");const kr=needTransition(Cn,Vn);kr&&Vn.beforeEnter(Bn),n(Bn,hn,gn),((Tn=Hn&&Hn.onVnodeMounted)||kr||Yn)&&queuePostRenderEffect(()=>{Tn&&invokeVNodeHook(Tn,Rn,ln),kr&&Vn.enter(Bn),Yn&&invokeDirectiveHook(ln,null,Rn,"mounted")},Cn)},jr=(ln,hn,gn,Rn,Cn)=>{if(gn&&Tr(ln,gn),Rn)for(let kn=0;kn<Rn.length;kn++)Tr(ln,Rn[kn]);if(Cn){let kn=Cn.subTree;if(hn===kn){const Un=Cn.vnode;jr(ln,Un,Un.scopeId,Un.slotScopeIds,Cn.parent)}}},qr=(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn=0)=>{for(let Tn=Bn;Tn<ln.length;Tn++){const jn=ln[Tn]=Sn?cloneIfMounted(ln[Tn]):normalizeVNode(ln[Tn]);Ir(null,jn,hn,gn,Rn,Cn,kn,Un,Sn)}},tn=(ln,hn,gn,Rn,Cn,kn,Un)=>{const Sn=hn.el=ln.el;let{patchFlag:Bn,dynamicChildren:Tn,dirs:jn}=hn;Bn|=ln.patchFlag&16;const Hn=ln.props||EMPTY_OBJ,Wn=hn.props||EMPTY_OBJ;let Vn;gn&&toggleRecurse(gn,!1),(Vn=Wn.onVnodeBeforeUpdate)&&invokeVNodeHook(Vn,gn,hn,ln),jn&&invokeDirectiveHook(hn,ln,gn,"beforeUpdate"),gn&&toggleRecurse(gn,!0);const Yn=Cn&&hn.type!=="foreignObject";if(Tn?en(ln.dynamicChildren,Tn,Sn,gn,Rn,Yn,kn):Un||Zr(ln,hn,Sn,null,gn,Rn,Yn,kn,!1),Bn>0){if(Bn&16)sn(Sn,hn,Hn,Wn,gn,Rn,Cn);else if(Bn&2&&Hn.class!==Wn.class&&a(Sn,"class",null,Wn.class,Cn),Bn&4&&a(Sn,"style",Hn.style,Wn.style,Cn),Bn&8){const kr=hn.dynamicProps;for(let Sr=0;Sr<kr.length;Sr++){const wr=kr[Sr],Br=Hn[wr],Wr=Wn[wr];(Wr!==Br||wr==="value")&&a(Sn,wr,Br,Wr,Cn,ln.children,gn,Rn,wn)}}Bn&1&&ln.children!==hn.children&&_r(Sn,hn.children)}else!Un&&Tn==null&&sn(Sn,hn,Hn,Wn,gn,Rn,Cn);((Vn=Wn.onVnodeUpdated)||jn)&&queuePostRenderEffect(()=>{Vn&&invokeVNodeHook(Vn,gn,hn,ln),jn&&invokeDirectiveHook(hn,ln,gn,"updated")},Rn)},en=(ln,hn,gn,Rn,Cn,kn,Un)=>{for(let Sn=0;Sn<hn.length;Sn++){const Bn=ln[Sn],Tn=hn[Sn],jn=Bn.el&&(Bn.type===Fragment||!isSameVNodeType(Bn,Tn)||Bn.shapeFlag&70)?Ar(Bn.el):gn;Ir(Bn,Tn,jn,null,Rn,Cn,kn,Un,!0)}},sn=(ln,hn,gn,Rn,Cn,kn,Un)=>{if(gn!==Rn){if(gn!==EMPTY_OBJ)for(const Sn in gn)!isReservedProp(Sn)&&!(Sn in Rn)&&a(ln,Sn,gn[Sn],null,Un,hn.children,Cn,kn,wn);for(const Sn in Rn){if(isReservedProp(Sn))continue;const Bn=Rn[Sn],Tn=gn[Sn];Bn!==Tn&&Sn!=="value"&&a(ln,Sn,Tn,Bn,Un,hn.children,Cn,kn,wn)}"value"in Rn&&a(ln,"value",gn.value,Rn.value)}},cn=(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn)=>{const Tn=hn.el=ln?ln.el:u(""),jn=hn.anchor=ln?ln.anchor:u("");let{patchFlag:Hn,dynamicChildren:Wn,slotScopeIds:Vn}=hn;Vn&&(Sn=Sn?Sn.concat(Vn):Vn),ln==null?(n(Tn,gn,Rn),n(jn,gn,Rn),qr(hn.children,gn,jn,Cn,kn,Un,Sn,Bn)):Hn>0&&Hn&64&&Wn&&ln.dynamicChildren?(en(ln.dynamicChildren,Wn,gn,Cn,kn,Un,Sn),(hn.key!=null||Cn&&hn===Cn.subTree)&&traverseStaticChildren(ln,hn,!0)):Zr(ln,hn,gn,jn,Cn,kn,Un,Sn,Bn)},Ur=(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn)=>{hn.slotScopeIds=Sn,ln==null?hn.shapeFlag&512?Cn.ctx.activate(hn,gn,Rn,Un,Bn):Rr(hn,gn,Rn,Cn,kn,Un,Bn):Pr(ln,hn,Bn)},Rr=(ln,hn,gn,Rn,Cn,kn,Un)=>{const Sn=ln.component=createComponentInstance(ln,Rn,Cn);if(isKeepAlive(ln)&&(Sn.ctx.renderer=_n),setupComponent(Sn),Sn.asyncDep){if(Cn&&Cn.registerDep(Sn,Dr),!ln.el){const Bn=Sn.subTree=createVNode(Comment);Lr(null,Bn,hn,gn)}return}Dr(Sn,ln,hn,gn,Cn,kn,Un)},Pr=(ln,hn,gn)=>{const Rn=hn.component=ln.component;if(shouldUpdateComponent(ln,hn,gn))if(Rn.asyncDep&&!Rn.asyncResolved){Yr(Rn,hn,gn);return}else Rn.next=hn,invalidateJob(Rn.update),Rn.update();else hn.el=ln.el,Rn.vnode=hn},Dr=(ln,hn,gn,Rn,Cn,kn,Un)=>{const Sn=()=>{if(ln.isMounted){let{next:jn,bu:Hn,u:Wn,parent:Vn,vnode:Yn}=ln,kr=jn,Sr;toggleRecurse(ln,!1),jn?(jn.el=Yn.el,Yr(ln,jn,Un)):jn=Yn,Hn&&invokeArrayFns(Hn),(Sr=jn.props&&jn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Sr,Vn,jn,Yn),toggleRecurse(ln,!0);const wr=renderComponentRoot(ln),Br=ln.subTree;ln.subTree=wr,Ir(Br,wr,Ar(Br.el),yn(Br),ln,Cn,kn),jn.el=wr.el,kr===null&&updateHOCHostEl(ln,wr.el),Wn&&queuePostRenderEffect(Wn,Cn),(Sr=jn.props&&jn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Sr,Vn,jn,Yn),Cn)}else{let jn;const{el:Hn,props:Wn}=hn,{bm:Vn,m:Yn,parent:kr}=ln,Sr=isAsyncWrapper(hn);if(toggleRecurse(ln,!1),Vn&&invokeArrayFns(Vn),!Sr&&(jn=Wn&&Wn.onVnodeBeforeMount)&&invokeVNodeHook(jn,kr,hn),toggleRecurse(ln,!0),Hn&&Nn){const wr=()=>{ln.subTree=renderComponentRoot(ln),Nn(Hn,ln.subTree,ln,Cn,null)};Sr?hn.type.__asyncLoader().then(()=>!ln.isUnmounted&&wr()):wr()}else{const wr=ln.subTree=renderComponentRoot(ln);Ir(null,wr,gn,Rn,ln,Cn,kn),hn.el=wr.el}if(Yn&&queuePostRenderEffect(Yn,Cn),!Sr&&(jn=Wn&&Wn.onVnodeMounted)){const wr=hn;queuePostRenderEffect(()=>invokeVNodeHook(jn,kr,wr),Cn)}(hn.shapeFlag&256||kr&&isAsyncWrapper(kr.vnode)&&kr.vnode.shapeFlag&256)&&ln.a&&queuePostRenderEffect(ln.a,Cn),ln.isMounted=!0,hn=gn=Rn=null}},Bn=ln.effect=new ReactiveEffect(Sn,()=>queueJob(Tn),ln.scope),Tn=ln.update=()=>Bn.run();Tn.id=ln.uid,toggleRecurse(ln,!0),Tn()},Yr=(ln,hn,gn)=>{hn.component=ln;const Rn=ln.vnode.props;ln.vnode=hn,ln.next=null,updateProps(ln,hn.props,Rn,gn),updateSlots(ln,hn.children,gn),pauseTracking(),flushPreFlushCbs(),resetTracking()},Zr=(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn=!1)=>{const Tn=ln&&ln.children,jn=ln?ln.shapeFlag:0,Hn=hn.children,{patchFlag:Wn,shapeFlag:Vn}=hn;if(Wn>0){if(Wn&128){nn(Tn,Hn,gn,Rn,Cn,kn,Un,Sn,Bn);return}else if(Wn&256){Xr(Tn,Hn,gn,Rn,Cn,kn,Un,Sn,Bn);return}}Vn&8?(jn&16&&wn(Tn,Cn,kn),Hn!==Tn&&_r(gn,Hn)):jn&16?Vn&16?nn(Tn,Hn,gn,Rn,Cn,kn,Un,Sn,Bn):wn(Tn,Cn,kn,!0):(jn&8&&_r(gn,""),Vn&16&&qr(Hn,gn,Rn,Cn,kn,Un,Sn,Bn))},Xr=(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn)=>{ln=ln||EMPTY_ARR,hn=hn||EMPTY_ARR;const Tn=ln.length,jn=hn.length,Hn=Math.min(Tn,jn);let Wn;for(Wn=0;Wn<Hn;Wn++){const Vn=hn[Wn]=Bn?cloneIfMounted(hn[Wn]):normalizeVNode(hn[Wn]);Ir(ln[Wn],Vn,gn,null,Cn,kn,Un,Sn,Bn)}Tn>jn?wn(ln,Cn,kn,!0,!1,Hn):qr(hn,gn,Rn,Cn,kn,Un,Sn,Bn,Hn)},nn=(ln,hn,gn,Rn,Cn,kn,Un,Sn,Bn)=>{let Tn=0;const jn=hn.length;let Hn=ln.length-1,Wn=jn-1;for(;Tn<=Hn&&Tn<=Wn;){const Vn=ln[Tn],Yn=hn[Tn]=Bn?cloneIfMounted(hn[Tn]):normalizeVNode(hn[Tn]);if(isSameVNodeType(Vn,Yn))Ir(Vn,Yn,gn,null,Cn,kn,Un,Sn,Bn);else break;Tn++}for(;Tn<=Hn&&Tn<=Wn;){const Vn=ln[Hn],Yn=hn[Wn]=Bn?cloneIfMounted(hn[Wn]):normalizeVNode(hn[Wn]);if(isSameVNodeType(Vn,Yn))Ir(Vn,Yn,gn,null,Cn,kn,Un,Sn,Bn);else break;Hn--,Wn--}if(Tn>Hn){if(Tn<=Wn){const Vn=Wn+1,Yn=Vn<jn?hn[Vn].el:Rn;for(;Tn<=Wn;)Ir(null,hn[Tn]=Bn?cloneIfMounted(hn[Tn]):normalizeVNode(hn[Tn]),gn,Yn,Cn,kn,Un,Sn,Bn),Tn++}}else if(Tn>Wn)for(;Tn<=Hn;)Nr(ln[Tn],Cn,kn,!0),Tn++;else{const Vn=Tn,Yn=Tn,kr=new Map;for(Tn=Yn;Tn<=Wn;Tn++){const Fn=hn[Tn]=Bn?cloneIfMounted(hn[Tn]):normalizeVNode(hn[Tn]);Fn.key!=null&&kr.set(Fn.key,Tn)}let Sr,wr=0;const Br=Wn-Yn+1;let Wr=!1,Qr=0;const an=new Array(Br);for(Tn=0;Tn<Br;Tn++)an[Tn]=0;for(Tn=Vn;Tn<=Hn;Tn++){const Fn=ln[Tn];if(wr>=Br){Nr(Fn,Cn,kn,!0);continue}let Dn;if(Fn.key!=null)Dn=kr.get(Fn.key);else for(Sr=Yn;Sr<=Wn;Sr++)if(an[Sr-Yn]===0&&isSameVNodeType(Fn,hn[Sr])){Dn=Sr;break}Dn===void 0?Nr(Fn,Cn,kn,!0):(an[Dn-Yn]=Tn+1,Dn>=Qr?Qr=Dn:Wr=!0,Ir(Fn,hn[Dn],gn,null,Cn,kn,Un,Sn,Bn),wr++)}const Pn=Wr?getSequence(an):EMPTY_ARR;for(Sr=Pn.length-1,Tn=Br-1;Tn>=0;Tn--){const Fn=Yn+Tn,Dn=hn[Fn],Gn=Fn+1<jn?hn[Fn+1].el:Rn;an[Tn]===0?Ir(null,Dn,gn,Gn,Cn,kn,Un,Sn,Bn):Wr&&(Sr<0||Tn!==Pn[Sr]?Gr(Dn,gn,Gn,2):Sr--)}}},Gr=(ln,hn,gn,Rn,Cn=null)=>{const{el:kn,type:Un,transition:Sn,children:Bn,shapeFlag:Tn}=ln;if(Tn&6){Gr(ln.component.subTree,hn,gn,Rn);return}if(Tn&128){ln.suspense.move(hn,gn,Rn);return}if(Tn&64){Un.move(ln,hn,gn,_n);return}if(Un===Fragment){n(kn,hn,gn);for(let Hn=0;Hn<Bn.length;Hn++)Gr(Bn[Hn],hn,gn,Rn);n(ln.anchor,hn,gn);return}if(Un===Static){Mr(ln,hn,gn);return}if(Rn!==2&&Tn&1&&Sn)if(Rn===0)Sn.beforeEnter(kn),n(kn,hn,gn),queuePostRenderEffect(()=>Sn.enter(kn),Cn);else{const{leave:Hn,delayLeave:Wn,afterLeave:Vn}=Sn,Yn=()=>n(kn,hn,gn),kr=()=>{Hn(kn,()=>{Yn(),Vn&&Vn()})};Wn?Wn(kn,Yn,kr):kr()}else n(kn,hn,gn)},Nr=(ln,hn,gn,Rn=!1,Cn=!1)=>{const{type:kn,props:Un,ref:Sn,children:Bn,dynamicChildren:Tn,shapeFlag:jn,patchFlag:Hn,dirs:Wn}=ln;if(Sn!=null&&setRef(Sn,null,gn,ln,!0),jn&256){hn.ctx.deactivate(ln);return}const Vn=jn&1&&Wn,Yn=!isAsyncWrapper(ln);let kr;if(Yn&&(kr=Un&&Un.onVnodeBeforeUnmount)&&invokeVNodeHook(kr,hn,ln),jn&6)An(ln.component,gn,Rn);else{if(jn&128){ln.suspense.unmount(gn,Rn);return}Vn&&invokeDirectiveHook(ln,null,hn,"beforeUnmount"),jn&64?ln.type.remove(ln,hn,gn,Cn,_n,Rn):Tn&&(kn!==Fragment||Hn>0&&Hn&64)?wn(Tn,hn,gn,!1,!0):(kn===Fragment&&Hn&384||!Cn&&jn&16)&&wn(Bn,hn,gn),Rn&&Jr(ln)}(Yn&&(kr=Un&&Un.onVnodeUnmounted)||Vn)&&queuePostRenderEffect(()=>{kr&&invokeVNodeHook(kr,hn,ln),Vn&&invokeDirectiveHook(ln,null,hn,"unmounted")},gn)},Jr=ln=>{const{type:hn,el:gn,anchor:Rn,transition:Cn}=ln;if(hn===Fragment){fn(gn,Rn);return}if(hn===Static){Hr(ln);return}const kn=()=>{o(gn),Cn&&!Cn.persisted&&Cn.afterLeave&&Cn.afterLeave()};if(ln.shapeFlag&1&&Cn&&!Cn.persisted){const{leave:Un,delayLeave:Sn}=Cn,Bn=()=>Un(gn,kn);Sn?Sn(ln.el,kn,Bn):Bn()}else kn()},fn=(ln,hn)=>{let gn;for(;ln!==hn;)gn=vr(ln),o(ln),ln=gn;o(hn)},An=(ln,hn,gn)=>{const{bum:Rn,scope:Cn,update:kn,subTree:Un,um:Sn}=ln;Rn&&invokeArrayFns(Rn),Cn.stop(),kn&&(kn.active=!1,Nr(Un,ln,hn,gn)),Sn&&queuePostRenderEffect(Sn,hn),queuePostRenderEffect(()=>{ln.isUnmounted=!0},hn),hn&&hn.pendingBranch&&!hn.isUnmounted&&ln.asyncDep&&!ln.asyncResolved&&ln.suspenseId===hn.pendingId&&(hn.deps--,hn.deps===0&&hn.resolve())},wn=(ln,hn,gn,Rn=!1,Cn=!1,kn=0)=>{for(let Un=kn;Un<ln.length;Un++)Nr(ln[Un],hn,gn,Rn,Cn)},yn=ln=>ln.shapeFlag&6?yn(ln.component.subTree):ln.shapeFlag&128?ln.suspense.next():vr(ln.anchor||ln.el),mn=(ln,hn,gn)=>{ln==null?hn._vnode&&Nr(hn._vnode,null,null,!0):Ir(hn._vnode||null,ln,hn,null,null,null,gn),flushPreFlushCbs(),flushPostFlushCbs(),hn._vnode=ln},_n={p:Ir,um:Nr,m:Gr,r:Jr,mt:Rr,mc:qr,pc:Zr,pbc:en,n:yn,o:t};let In,Nn;return e&&([In,Nn]=e(_n)),{render:mn,hydrate:In,createApp:createAppAPI(mn,In)}}function toggleRecurse({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function needTransition(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(t,e,r=!1){const n=t.children,o=e.children;if(isArray$5(n)&&isArray$5(o))for(let a=0;a<n.length;a++){const c=n[a];let u=o[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[a]=cloneIfMounted(o[a]),u.el=c.el),r||traverseStaticChildren(c,u)),u.type===Text&&(u.el=c.el)}}function getSequence(t){const e=t.slice(),r=[0];let n,o,a,c,u;const gr=t.length;for(n=0;n<gr;n++){const br=t[n];if(br!==0){if(o=r[r.length-1],t[o]<br){e[n]=o,r.push(n);continue}for(a=0,c=r.length-1;a<c;)u=a+c>>1,t[r[u]]<br?a=u+1:c=u;br<t[r[a]]&&(a>0&&(e[n]=r[a-1]),r[a]=n)}}for(a=r.length,c=r[a-1];a-- >0;)r[a]=c,c=e[c];return r}const isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,resolveTarget=(t,e)=>{const r=t&&t.to;return isString$3(r)?e?e(r):null:r},TeleportImpl={__isTeleport:!0,process(t,e,r,n,o,a,c,u,gr,br){const{mc:_r,pc:Ar,pbc:vr,o:{insert:Tr,querySelector:Or,createText:Ir,createComment:xr}}=br,Lr=isTeleportDisabled(e.props);let{shapeFlag:Fr,children:Mr,dynamicChildren:Hr}=e;if(t==null){const Vr=e.el=Ir(""),Kr=e.anchor=Ir("");Tr(Vr,r,n),Tr(Kr,r,n);const jr=e.target=resolveTarget(e.props,Or),qr=e.targetAnchor=Ir("");jr&&(Tr(qr,jr),c=c||isTargetSVG(jr));const tn=(en,sn)=>{Fr&16&&_r(Mr,en,sn,o,a,c,u,gr)};Lr?tn(r,Kr):jr&&tn(jr,qr)}else{e.el=t.el;const Vr=e.anchor=t.anchor,Kr=e.target=t.target,jr=e.targetAnchor=t.targetAnchor,qr=isTeleportDisabled(t.props),tn=qr?r:Kr,en=qr?Vr:jr;if(c=c||isTargetSVG(Kr),Hr?(vr(t.dynamicChildren,Hr,tn,o,a,c,u),traverseStaticChildren(t,e,!0)):gr||Ar(t,e,tn,en,o,a,c,u,!1),Lr)qr?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):moveTeleport(e,r,Vr,br,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const sn=e.target=resolveTarget(e.props,Or);sn&&moveTeleport(e,sn,null,br,0)}else qr&&moveTeleport(e,Kr,jr,br,1)}updateCssVars(e)},remove(t,e,r,n,{um:o,o:{remove:a}},c){const{shapeFlag:u,children:gr,anchor:br,targetAnchor:_r,target:Ar,props:vr}=t;if(Ar&&a(_r),c&&a(br),u&16){const Tr=c||!isTeleportDisabled(vr);for(let Or=0;Or<gr.length;Or++){const Ir=gr[Or];o(Ir,e,r,Tr,!!Ir.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,r,{o:{insert:n},m:o},a=2){a===0&&n(t.targetAnchor,e,r);const{el:c,anchor:u,shapeFlag:gr,children:br,props:_r}=t,Ar=a===2;if(Ar&&n(c,e,r),(!Ar||isTeleportDisabled(_r))&&gr&16)for(let vr=0;vr<br.length;vr++)o(br[vr],e,r,2);Ar&&n(u,e,r)}function hydrateTeleport(t,e,r,n,o,a,{o:{nextSibling:c,parentNode:u,querySelector:gr}},br){const _r=e.target=resolveTarget(e.props,gr);if(_r){const Ar=_r._lpa||_r.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=br(c(t),e,u(t),r,n,o,a),e.targetAnchor=Ar;else{e.anchor=c(t);let vr=Ar;for(;vr;)if(vr=c(vr),vr&&vr.nodeType===8&&vr.data==="teleport anchor"){e.targetAnchor=vr,_r._lpa=e.targetAnchor&&c(e.targetAnchor);break}br(Ar,e,_r,r,n,o,a)}updateCssVars(e)}return e.anchor&&c(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(t){const e=t.ctx;if(e&&e.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,r,n,o,a){return setupBlock(createBaseVNode(t,e,r,n,o,a,!0))}function createBlock(t,e,r,n,o){return setupBlock(createVNode(t,e,r,n,o,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}function transformVNodeArgs(t){}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?isString$3(t)||isRef(t)||isFunction$5(t)?{i:currentRenderingInstance,r:t,k:e,f:!!r}:t:null);function createBaseVNode(t,e=null,r=null,n=0,o=null,a=t===Fragment?0:1,c=!1,u=!1){const gr={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return u?(normalizeChildren(gr,r),a&128&&t.normalize(gr)):r&&(gr.shapeFlag|=isString$3(r)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(gr.patchFlag>0||a&6)&&gr.patchFlag!==32&&currentBlock.push(gr),gr}const createVNode=_createVNode;function _createVNode(t,e=null,r=null,n=0,o=null,a=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const u=cloneVNode(t,e,!0);return r&&normalizeChildren(u,r),isBlockTreeEnabled>0&&!a&&currentBlock&&(u.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=u:currentBlock.push(u)),u.patchFlag|=-2,u}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:u,style:gr}=e;u&&!isString$3(u)&&(e.class=normalizeClass(u)),isObject$8(gr)&&(isProxy(gr)&&!isArray$5(gr)&&(gr=extend$1({},gr)),e.style=normalizeStyle(gr))}const c=isString$3(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$8(t)?4:isFunction$5(t)?2:0;return createBaseVNode(t,e,r,n,o,c,a,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend$1({},t):t:null}function cloneVNode(t,e,r=!1){const{props:n,ref:o,patchFlag:a,children:c}=t,u=e?mergeProps(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&normalizeKey(u),ref:e&&e.ref?r&&o?isArray$5(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:c,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createStaticVNode(t,e){const r=createVNode(Static,null,t);return r.staticCount=e,r}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$5(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(isArray$5(e))r=16;else if(typeof e=="object")if(n&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(t,o()),o._c&&(o._d=!0));return}else{r=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$5(e)?(e={default:e,_ctx:currentRenderingInstance},r=32):(e=String(e),n&64?(r=16,e=[createTextVNode(e)]):r=8);t.children=e,t.shapeFlag|=r}function mergeProps(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const o in n)if(o==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(o==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn(o)){const a=e[o],c=n[o];c&&a!==c&&!(isArray$5(a)&&a.includes(c))&&(e[o]=a?[].concat(a,c):c)}else o!==""&&(e[o]=n[o])}return e}function invokeVNodeHook(t,e,r,n=null){callWithAsyncErrorHandling(t,e,7,[r,n])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(t,e,r){const n=t.type,o=(e?e.appContext:t.appContext)||emptyAppContext,a={uid:uid$2++,vnode:t,type:n,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,o),emitsOptions:normalizeEmitsOptions(n,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=emit.bind(null,a),t.ce&&t.ce(a),a}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(t=>currentInstance=t),internalSetCurrentInstance=t=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(e=>e(t)):globalCurrentInstanceSetters[0](t)};const setCurrentInstance=t=>{internalSetCurrentInstance(t),t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1){isInSSRComponentSetup=e;const{props:r,children:n}=t.vnode,o=isStatefulComponent(t);initProps(t,r,o,e),initSlots(t,n);const a=o?setupStatefulComponent(t,e):void 0;return isInSSRComponentSetup=!1,a}function setupStatefulComponent(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:n}=r;if(n){const o=t.setupContext=n.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const a=callWithErrorHandling(n,t,0,[t.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(a)){if(a.then(unsetCurrentInstance,unsetCurrentInstance),e)return a.then(c=>{handleSetupResult(t,c,e)}).catch(c=>{handleError(c,t,0)});t.asyncDep=a}else handleSetupResult(t,a,e)}else finishComponentSetup(t,e)}function handleSetupResult(t,e,r){isFunction$5(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$8(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t,r)}let compile,installWithProxy;function registerRuntimeCompiler(t){compile=t,installWithProxy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile;function finishComponentSetup(t,e,r){const n=t.type;if(!t.render){if(!e&&compile&&!n.render){const o=n.template||resolveMergedOptions(t).template;if(o){const{isCustomElement:a,compilerOptions:c}=t.appContext.config,{delimiters:u,compilerOptions:gr}=n,br=extend$1(extend$1({isCustomElement:a,delimiters:u},c),gr);n.render=compile(o,br)}}t.render=n.render||NOOP$1,installWithProxy&&installWithProxy(t)}{setCurrentInstance(t),pauseTracking();try{applyOptions(t)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return track(t,"get","$attrs"),e[r]}}))}function createSetupContext(t){const e=r=>{t.exposed=r||{}};return{get attrs(){return getAttrsProxy(t)},slots:t.slots,emit:t.emit,expose:e}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](t)},has(e,r){return r in e||r in publicPropertiesMap}}))}function getComponentName(t,e=!0){return isFunction$5(t)?t.displayName||t.name:t.name||e&&t.__name}function isClassComponent(t){return isFunction$5(t)&&"__vccOpts"in t}const computed$1=(t,e)=>computed$2(t,e,isInSSRComponentSetup);function h$1(t,e,r){const n=arguments.length;return n===2?isObject$8(e)&&!isArray$5(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&isVNode(r)&&(r=[r]),createVNode(t,e,r))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function initCustomFormatter(){}function withMemo(t,e,r,n){const o=r[n];if(o&&isMemoSame(o,t))return o;const a=e();return a.memo=t.slice(),r[n]=a}function isMemoSame(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(hasChanged(r[n],e[n]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),!0}const version$5="3.3.7",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const o=e?doc.createElementNS(svgNS,t):doc.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&o.setAttribute("multiple",n.multiple),o},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,o,a){const c=r?r.previousSibling:e.lastChild;if(o&&(o===a||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),r),!(o===a||!(o=o.nextSibling)););else{templateContainer.innerHTML=n?`<svg>${t}</svg>`:t;const u=templateContainer.content;if(n){const gr=u.firstChild;for(;gr.firstChild;)u.appendChild(gr.firstChild);u.removeChild(gr)}e.insertBefore(u,r)}return[c?c.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(t,{slots:e})=>h$1(BaseTransition,resolveTransitionProps(t),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(t,e=[])=>{isArray$5(t)?t.forEach(r=>r(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray$5(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const cn in t)cn in DOMTransitionPropsValidators||(e[cn]=t[cn]);if(t.css===!1)return e;const{name:r="v",type:n,duration:o,enterFromClass:a=`${r}-enter-from`,enterActiveClass:c=`${r}-enter-active`,enterToClass:u=`${r}-enter-to`,appearFromClass:gr=a,appearActiveClass:br=c,appearToClass:_r=u,leaveFromClass:Ar=`${r}-leave-from`,leaveActiveClass:vr=`${r}-leave-active`,leaveToClass:Tr=`${r}-leave-to`}=t,Or=normalizeDuration(o),Ir=Or&&Or[0],xr=Or&&Or[1],{onBeforeEnter:Lr,onEnter:Fr,onEnterCancelled:Mr,onLeave:Hr,onLeaveCancelled:Vr,onBeforeAppear:Kr=Lr,onAppear:jr=Fr,onAppearCancelled:qr=Mr}=e,tn=(cn,Ur,Rr)=>{removeTransitionClass(cn,Ur?_r:u),removeTransitionClass(cn,Ur?br:c),Rr&&Rr()},en=(cn,Ur)=>{cn._isLeaving=!1,removeTransitionClass(cn,Ar),removeTransitionClass(cn,Tr),removeTransitionClass(cn,vr),Ur&&Ur()},sn=cn=>(Ur,Rr)=>{const Pr=cn?jr:Fr,Dr=()=>tn(Ur,cn,Rr);callHook(Pr,[Ur,Dr]),nextFrame(()=>{removeTransitionClass(Ur,cn?gr:a),addTransitionClass(Ur,cn?_r:u),hasExplicitCallback(Pr)||whenTransitionEnds(Ur,n,Ir,Dr)})};return extend$1(e,{onBeforeEnter(cn){callHook(Lr,[cn]),addTransitionClass(cn,a),addTransitionClass(cn,c)},onBeforeAppear(cn){callHook(Kr,[cn]),addTransitionClass(cn,gr),addTransitionClass(cn,br)},onEnter:sn(!1),onAppear:sn(!0),onLeave(cn,Ur){cn._isLeaving=!0;const Rr=()=>en(cn,Ur);addTransitionClass(cn,Ar),forceReflow(),addTransitionClass(cn,vr),nextFrame(()=>{!cn._isLeaving||(removeTransitionClass(cn,Ar),addTransitionClass(cn,Tr),hasExplicitCallback(Hr)||whenTransitionEnds(cn,n,xr,Rr))}),callHook(Hr,[cn,Rr])},onEnterCancelled(cn){tn(cn,!1),callHook(Mr,[cn])},onAppearCancelled(cn){tn(cn,!0),callHook(qr,[cn])},onLeaveCancelled(cn){en(cn),callHook(Vr,[cn])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$8(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[vtcKey]||(t[vtcKey]=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[vtcKey];r&&(r.delete(e),r.size||(t[vtcKey]=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,r,n){const o=t._endId=++endId,a=()=>{o===t._endId&&n()};if(r)return setTimeout(a,r);const{type:c,timeout:u,propCount:gr}=getTransitionInfo(t,e);if(!c)return n();const br=c+"end";let _r=0;const Ar=()=>{t.removeEventListener(br,vr),a()},vr=Tr=>{Tr.target===t&&++_r>=gr&&Ar()};setTimeout(()=>{_r<gr&&Ar()},u+1),t.addEventListener(br,vr)}function getTransitionInfo(t,e){const r=window.getComputedStyle(t),n=Or=>(r[Or]||"").split(", "),o=n(`${TRANSITION}Delay`),a=n(`${TRANSITION}Duration`),c=getTimeout(o,a),u=n(`${ANIMATION}Delay`),gr=n(`${ANIMATION}Duration`),br=getTimeout(u,gr);let _r=null,Ar=0,vr=0;e===TRANSITION?c>0&&(_r=TRANSITION,Ar=c,vr=a.length):e===ANIMATION?br>0&&(_r=ANIMATION,Ar=br,vr=gr.length):(Ar=Math.max(c,br),_r=Ar>0?c>br?TRANSITION:ANIMATION:null,vr=_r?_r===TRANSITION?a.length:gr.length:0);const Tr=_r===TRANSITION&&/\b(transform|all)(,|$)/.test(n(`${TRANSITION}Property`).toString());return{type:_r,timeout:Ar,propCount:vr,hasTransform:Tr}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>toMs(r)+toMs(t[n])))}function toMs(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(t,e,r){const n=t[vtcKey];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(t,{value:e},{transition:r}){t[vShowOldKey]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),setDisplay(t,!0),n.enter(t)):n.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t[vShowOldKey]:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}function patchStyle(t,e,r){const n=t.style,o=isString$3(r);if(r&&!o){if(e&&!isString$3(e))for(const a in e)r[a]==null&&setStyle(n,a,"");for(const a in r)setStyle(n,a,r[a])}else{const a=n.display;o?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),vShowOldKey in t&&(n.display=a)}}const importantRE=/\s*!important$/;function setStyle(t,e,r){if(isArray$5(r))r.forEach(n=>setStyle(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=autoPrefix(t,e);importantRE.test(r)?t.setProperty(hyphenate(n),r.replace(importantRE,""),"important"):t[n]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const r=prefixCache[e];if(r)return r;let n=camelize(e);if(n!=="filter"&&n in t)return prefixCache[e]=n;n=capitalize(n);for(let o=0;o<prefixes.length;o++){const a=prefixes[o]+n;if(a in t)return prefixCache[e]=a}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,r,n,o){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,r);else{const a=isSpecialBooleanAttr(e);r==null||a&&!includeBooleanAttr(r)?t.removeAttribute(e):t.setAttribute(e,a?"":r)}}function patchDOMProp(t,e,r,n,o,a,c){if(e==="innerHTML"||e==="textContent"){n&&c(n,o,a),t[e]=r??"";return}const u=t.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){t._value=r;const br=u==="OPTION"?t.getAttribute("value"):t.value,_r=r??"";br!==_r&&(t.value=_r),r==null&&t.removeAttribute(e);return}let gr=!1;if(r===""||r==null){const br=typeof t[e];br==="boolean"?r=includeBooleanAttr(r):r==null&&br==="string"?(r="",gr=!0):br==="number"&&(r=0,gr=!0)}try{t[e]=r}catch{}gr&&t.removeAttribute(e)}function addEventListener(t,e,r,n){t.addEventListener(e,r,n)}function removeEventListener(t,e,r,n){t.removeEventListener(e,r,n)}const veiKey=Symbol("_vei");function patchEvent(t,e,r,n,o=null){const a=t[veiKey]||(t[veiKey]={}),c=a[e];if(n&&c)c.value=n;else{const[u,gr]=parseName(e);if(n){const br=a[e]=createInvoker(n,o);addEventListener(t,u,br,gr)}else c&&(removeEventListener(t,u,c,gr),a[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let n;for(;n=t.match(optionsModifierRE);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,r.value),e,5,[n])};return r.value=t,r.attached=getNow(),r}function patchStopImmediatePropagation(t,e){if(isArray$5(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>o=>!o._stopped&&n&&n(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(t,e,r,n,o=!1,a,c,u,gr)=>{e==="class"?patchClass(t,n,o):e==="style"?patchStyle(t,r,n):isOn(e)?isModelListener(e)||patchEvent(t,e,r,n,c):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,n,o))?patchDOMProp(t,e,n,a,c,u,gr):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),patchAttr(t,e,n,o))};function shouldSetAsProp(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&nativeOnRE.test(e)&&isFunction$5(r)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$3(r)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function defineCustomElement(t,e){const r=defineComponent(t);class n extends VueElement{constructor(a){super(r,a,e)}}return n.def=r,n}/*! #__NO_SIDE_EFFECTS__ */const defineSSRCustomElement=t=>defineCustomElement(t,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(e,r={},n){super(),this._def=e,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),nextTick(()=>{this._connected||(render(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const o of n)this._setAttr(o.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(n,o=!1)=>{const{props:a,styles:c}=n;let u;if(a&&!isArray$5(a))for(const gr in a){const br=a[gr];(br===Number||br&&br.type===Number)&&(gr in this._props&&(this._props[gr]=toNumber(this._props[gr])),(u||(u=Object.create(null)))[camelize(gr)]=!0)}this._numberProps=u,o&&this._resolveProps(n),this._applyStyles(c),this._update()},r=this._def.__asyncLoader;r?r().then(n=>e(n,!0)):e(this._def)}_resolveProps(e){const{props:r}=e,n=isArray$5(r)?r:Object.keys(r||{});for(const o of Object.keys(this))o[0]!=="_"&&n.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of n.map(camelize))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(a){this._setProp(o,a)}})}_setAttr(e){let r=this.getAttribute(e);const n=camelize(e);this._numberProps&&this._numberProps[n]&&(r=toNumber(r)),this._setProp(n,r,!1)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,o=!0){r!==this._props[e]&&(this._props[e]=r,o&&this._instance&&this._update(),n&&(r===!0?this.setAttribute(hyphenate(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(hyphenate(e),r+""):r||this.removeAttribute(hyphenate(e))))}_update(){render(this._createVNode(),this.shadowRoot)}_createVNode(){const e=createVNode(this._def,extend$1({},this._props));return this._instance||(e.ce=r=>{this._instance=r,r.isCE=!0;const n=(a,c)=>{this.dispatchEvent(new CustomEvent(a,{detail:c}))};r.emit=(a,...c)=>{n(a,c),hyphenate(a)!==a&&n(hyphenate(a),c)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof VueElement){r.parent=o._instance,r.provides=o._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(r=>{const n=document.createElement("style");n.textContent=r,this.shadowRoot.appendChild(n)})}}function useCssModule(t="$style"){{const e=getCurrentInstance();if(!e)return EMPTY_OBJ;const r=e.type.__cssModules;if(!r)return EMPTY_OBJ;const n=r[t];return n||EMPTY_OBJ}}function useCssVars(t){const e=getCurrentInstance();if(!e)return;const r=e.ut=(o=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(a=>setVarsOnNode(a,o))},n=()=>{const o=t(e.proxy);setVarsOnVNode(e.subTree,o),r(o)};watchPostEffect(n),onMounted(()=>{const o=new MutationObserver(n);o.observe(e.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>o.disconnect())})}function setVarsOnVNode(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{setVarsOnVNode(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)setVarsOnNode(t.el,e);else if(t.type===Fragment)t.children.forEach(r=>setVarsOnVNode(r,e));else if(t.type===Static){let{el:r,anchor:n}=t;for(;r&&(setVarsOnNode(r,e),r!==n);)r=r.nextSibling}}function setVarsOnNode(t,e){if(t.nodeType===1){const r=t.style;for(const n in e)r.setProperty(`--${n}`,e[n])}}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),TransitionGroupImpl={name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=getCurrentInstance(),n=useTransitionState();let o,a;return onUpdated(()=>{if(!o.length)return;const c=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(o[0].el,r.vnode.el,c))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const u=o.filter(applyTranslation);forceReflow(),u.forEach(gr=>{const br=gr.el,_r=br.style;addTransitionClass(br,c),_r.transform=_r.webkitTransform=_r.transitionDuration="";const Ar=br[moveCbKey]=vr=>{vr&&vr.target!==br||(!vr||/transform$/.test(vr.propertyName))&&(br.removeEventListener("transitionend",Ar),br[moveCbKey]=null,removeTransitionClass(br,c))};br.addEventListener("transitionend",Ar)})}),()=>{const c=toRaw(t),u=resolveTransitionProps(c);let gr=c.tag||Fragment;o=a,a=e.default?getTransitionRawChildren(e.default()):[];for(let br=0;br<a.length;br++){const _r=a[br];_r.key!=null&&setTransitionHooks(_r,resolveTransitionHooks(_r,u,n,r))}if(o)for(let br=0;br<o.length;br++){const _r=o[br];setTransitionHooks(_r,resolveTransitionHooks(_r,u,n,r)),positionMap.set(_r,_r.el.getBoundingClientRect())}return createVNode(gr,null,a)}}},removeMode=t=>delete t.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const e=t.el;e[moveCbKey]&&e[moveCbKey](),e[enterCbKey]&&e[enterCbKey]()}function recordPosition(t){newPositionMap.set(t,t.el.getBoundingClientRect())}function applyTranslation(t){const e=positionMap.get(t),r=newPositionMap.get(t),n=e.left-r.left,o=e.top-r.top;if(n||o){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${n}px,${o}px)`,a.transitionDuration="0s",t}}function hasCSSTransform(t,e,r){const n=t.cloneNode(),o=t[vtcKey];o&&o.forEach(u=>{u.split(/\s+/).forEach(gr=>gr&&n.classList.remove(gr))}),r.split(/\s+/).forEach(u=>u&&n.classList.add(u)),n.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(n);const{hasTransform:c}=getTransitionInfo(n);return a.removeChild(n),c}const getModelAssigner=t=>{const e=t.props["onUpdate:modelValue"]||!1;return isArray$5(e)?r=>invokeArrayFns(e,r):e};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(t,{modifiers:{lazy:e,trim:r,number:n}},o){t[assignKey]=getModelAssigner(o);const a=n||o.props&&o.props.type==="number";addEventListener(t,e?"change":"input",c=>{if(c.target.composing)return;let u=t.value;r&&(u=u.trim()),a&&(u=looseToNumber(u)),t[assignKey](u)}),r&&addEventListener(t,"change",()=>{t.value=t.value.trim()}),e||(addEventListener(t,"compositionstart",onCompositionStart),addEventListener(t,"compositionend",onCompositionEnd),addEventListener(t,"change",onCompositionEnd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:o}},a){if(t[assignKey]=getModelAssigner(a),t.composing||document.activeElement===t&&t.type!=="range"&&(r||n&&t.value.trim()===e||(o||t.type==="number")&&looseToNumber(t.value)===e))return;const c=e??"";t.value!==c&&(t.value=c)}},vModelCheckbox={deep:!0,created(t,e,r){t[assignKey]=getModelAssigner(r),addEventListener(t,"change",()=>{const n=t._modelValue,o=getValue(t),a=t.checked,c=t[assignKey];if(isArray$5(n)){const u=looseIndexOf(n,o),gr=u!==-1;if(a&&!gr)c(n.concat(o));else if(!a&&gr){const br=[...n];br.splice(u,1),c(br)}}else if(isSet$2(n)){const u=new Set(n);a?u.add(o):u.delete(o),c(u)}else c(getCheckboxValue(t,a))})},mounted:setChecked,beforeUpdate(t,e,r){t[assignKey]=getModelAssigner(r),setChecked(t,e,r)}};function setChecked(t,{value:e,oldValue:r},n){t._modelValue=e,isArray$5(e)?t.checked=looseIndexOf(e,n.props.value)>-1:isSet$2(e)?t.checked=e.has(n.props.value):e!==r&&(t.checked=looseEqual(e,getCheckboxValue(t,!0)))}const vModelRadio={created(t,{value:e},r){t.checked=looseEqual(e,r.props.value),t[assignKey]=getModelAssigner(r),addEventListener(t,"change",()=>{t[assignKey](getValue(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[assignKey]=getModelAssigner(n),e!==r&&(t.checked=looseEqual(e,n.props.value))}},vModelSelect={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const o=isSet$2(e);addEventListener(t,"change",()=>{const a=Array.prototype.filter.call(t.options,c=>c.selected).map(c=>r?looseToNumber(getValue(c)):getValue(c));t[assignKey](t.multiple?o?new Set(a):a:a[0])}),t[assignKey]=getModelAssigner(n)},mounted(t,{value:e}){setSelected(t,e)},beforeUpdate(t,e,r){t[assignKey]=getModelAssigner(r)},updated(t,{value:e}){setSelected(t,e)}};function setSelected(t,e){const r=t.multiple;if(!(r&&!isArray$5(e)&&!isSet$2(e))){for(let n=0,o=t.options.length;n<o;n++){const a=t.options[n],c=getValue(a);if(r)isArray$5(e)?a.selected=looseIndexOf(e,c)>-1:a.selected=e.has(c);else if(looseEqual(getValue(a),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function getValue(t){return"_value"in t?t._value:t.value}function getCheckboxValue(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const vModelDynamic={created(t,e,r){callModelHook(t,e,r,null,"created")},mounted(t,e,r){callModelHook(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){callModelHook(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){callModelHook(t,e,r,n,"updated")}};function resolveDynamicModel(t,e){switch(t){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(e){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(t,e,r,n,o){const c=resolveDynamicModel(t.tagName,r.props&&r.props.type)[o];c&&c(t,e,r,n)}function initVModelForSSR(){vModelText.getSSRProps=({value:t})=>({value:t}),vModelRadio.getSSRProps=({value:t},e)=>{if(e.props&&looseEqual(e.props.value,t))return{checked:!0}},vModelCheckbox.getSSRProps=({value:t},e)=>{if(isArray$5(t)){if(e.props&&looseIndexOf(t,e.props.value)>-1)return{checked:!0}}else if(isSet$2(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},vModelDynamic.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=resolveDynamicModel(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>systemModifiers.some(r=>t[`${r}Key`]&&!e.includes(r))},withModifiers=(t,e)=>(r,...n)=>{for(let o=0;o<e.length;o++){const a=modifierGuards[e[o]];if(a&&a(r,e))return}return t(r,...n)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,e)=>r=>{if(!("key"in r))return;const n=hyphenate(r.key);if(e.some(o=>o===n||keyNames[o]===n))return t(r)},rendererOptions=extend$1({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render=(...t)=>{ensureRenderer().render(...t)},hydrate=(...t)=>{ensureHydrationRenderer().hydrate(...t)},createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:r}=e;return e.mount=n=>{const o=normalizeContainer(n);if(!o)return;const a=e._component;!isFunction$5(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.innerHTML="";const c=r(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},e},createSSRApp=(...t)=>{const e=ensureHydrationRenderer().createApp(...t),{mount:r}=e;return e.mount=n=>{const o=normalizeContainer(n);if(o)return r(o,!0,o instanceof SVGElement)},e};function normalizeContainer(t){return isString$3(t)?document.querySelector(t):t}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())};var robotoFont="",materialIcons$1="",bounce="",flash="",flip="",headShake="",heartBeat="",hinge="",jello="",pulse="",rubberBand="",shake="",shakeX="",shakeY="",swing="",tada="",wobble="",backInDown="",backInLeft="",backInRight="",backInUp="",bounceIn="",bounceInDown="",bounceInLeft="",bounceInRight="",bounceInUp="",fadeIn="",fadeInBottomLeft="",fadeInBottomRight="",fadeInDown="",fadeInDownBig="",fadeInLeft="",fadeInLeftBig="",fadeInRight="",fadeInRightBig="",fadeInTopLeft="",fadeInTopRight="",fadeInUp="",fadeInUpBig="",flipInX="",flipInY="",jackInTheBox="",lightSpeedInLeft="",lightSpeedInRight="",rollIn="",rotateIn="",rotateInDownLeft="",rotateInDownRight="",rotateInUpLeft="",rotateInUpRight="",slideInDown="",slideInLeft="",slideInRight="",slideInUp="",zoomIn="",zoomInDown="",zoomInLeft="",zoomInRight="",zoomInUp="",backOutDown="",backOutLeft="",backOutRight="",backOutUp="",bounceOut="",bounceOutDown="",bounceOutLeft="",bounceOutRight="",bounceOutUp="",fadeOut="",fadeOutBottomLeft="",fadeOutBottomRight="",fadeOutDown="",fadeOutDownBig="",fadeOutLeft="",fadeOutLeftBig="",fadeOutRight="",fadeOutRightBig="",fadeOutTopLeft="",fadeOutTopRight="",fadeOutUp="",fadeOutUpBig="",flipOutX="",flipOutY="",lightSpeedOutLeft="",lightSpeedOutRight="",rollOut="",rotateOut="",rotateOutDownLeft="",rotateOutDownRight="",rotateOutUpLeft="",rotateOutUpRight="",slideOutDown="",slideOutLeft="",slideOutRight="",slideOutUp="",zoomOut="",zoomOutDown="",zoomOutLeft="",zoomOutRight="",zoomOutUp="",quasar="",app="";function injectProp(t,e,r,n){return Object.defineProperty(t,e,{get:r,set:n,enumerable:!0}),t}function injectMultipleProps(t,e){for(const r in e)injectProp(t,r,e[r]);return t}const isRuntimeSsrPreHydration=ref(!1);let iosCorrection;function getMatch(t,e){const r=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||[];return{browser:r[5]||r[3]||r[1]||"",version:r[2]||r[4]||"0",versionNumber:r[4]||r[2]||"0",platform:e[0]||""}}function getPlatformMatch(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}const hasTouch="ontouchstart"in window||window.navigator.maxTouchPoints>0;function applyIosCorrection(t){iosCorrection={is:{...t}},delete t.mac,delete t.desktop;const e=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(t,{mobile:!0,ios:!0,platform:e,[e]:!0})}function getPlatform(t){const e=t.toLowerCase(),r=getPlatformMatch(e),n=getMatch(e,r),o={};n.browser&&(o[n.browser]=!0,o.version=n.version,o.versionNumber=parseInt(n.versionNumber,10)),n.platform&&(o[n.platform]=!0);const a=o.android||o.ios||o.bb||o.blackberry||o.ipad||o.iphone||o.ipod||o.kindle||o.playbook||o.silk||o["windows phone"];return a===!0||e.indexOf("mobile")>-1?(o.mobile=!0,o.edga||o.edgios?(o.edge=!0,n.browser="edge"):o.crios?(o.chrome=!0,n.browser="chrome"):o.fxios&&(o.firefox=!0,n.browser="firefox")):o.desktop=!0,(o.ipod||o.ipad||o.iphone)&&(o.ios=!0),o["windows phone"]&&(o.winphone=!0,delete o["windows phone"]),(o.chrome||o.opr||o.safari||o.vivaldi||o.mobile===!0&&o.ios!==!0&&a!==!0)&&(o.webkit=!0),o.edg&&(n.browser="edgechromium",o.edgeChromium=!0),(o.safari&&o.blackberry||o.bb)&&(n.browser="blackberry",o.blackberry=!0),o.safari&&o.playbook&&(n.browser="playbook",o.playbook=!0),o.opr&&(n.browser="opera",o.opera=!0),o.safari&&o.android&&(n.browser="android",o.android=!0),o.safari&&o.kindle&&(n.browser="kindle",o.kindle=!0),o.safari&&o.silk&&(n.browser="silk",o.silk=!0),o.vivaldi&&(n.browser="vivaldi",o.vivaldi=!0),o.name=n.browser,o.platform=n.platform,e.indexOf("electron")>-1?o.electron=!0:document.location.href.indexOf("-extension://")>-1?o.bex=!0:(window.Capacitor!==void 0?(o.capacitor=!0,o.nativeMobile=!0,o.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(o.cordova=!0,o.nativeMobile=!0,o.nativeMobileWrapper="cordova"),hasTouch===!0&&o.mac===!0&&(o.desktop===!0&&o.safari===!0||o.nativeMobile===!0&&o.android!==!0&&o.ios!==!0&&o.ipad!==!0)&&applyIosCorrection(o)),o}const userAgent=navigator.userAgent||navigator.vendor||window.opera,ssrClient={has:{touch:!1,webStorage:!1},within:{iframe:!1}},client$1={userAgent,is:getPlatform(userAgent),has:{touch:hasTouch},within:{iframe:window.self!==window.top}},Platform={install(t){const{$q:e}=t;isRuntimeSsrPreHydration.value===!0?(t.onSSRHydrated.push(()=>{Object.assign(e.platform,client$1),isRuntimeSsrPreHydration.value=!1,iosCorrection=void 0}),e.platform=reactive(this)):e.platform=this}};{let t;injectProp(client$1.has,"webStorage",()=>{if(t!==void 0)return t;try{if(window.localStorage)return t=!0,!0}catch{}return t=!1,!1}),client$1.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),isRuntimeSsrPreHydration.value===!0?Object.assign(Platform,client$1,iosCorrection,ssrClient):Object.assign(Platform,client$1)}var defineReactivePlugin=(t,e)=>{const r=reactive(t);for(const n in t)injectProp(e,n,()=>r[n],o=>{r[n]=o});return e};const listenOpts={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(listenOpts,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch{}function noop$6(){}function leftClick(t){return t.button===0}function position(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function getEventPath(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let r=t.target;for(;r;){if(e.push(r),r.tagName==="HTML")return e.push(document),e.push(window),e;r=r.parentElement}}function stop(t){t.stopPropagation()}function prevent(t){t.cancelable!==!1&&t.preventDefault()}function stopAndPrevent(t){t.cancelable!==!1&&t.preventDefault(),t.stopPropagation()}function preventDraggable(t,e){if(t===void 0||e===!0&&t.__dragPrevented===!0)return;const r=e===!0?n=>{n.__dragPrevented=!0,n.addEventListener("dragstart",prevent,listenOpts.notPassiveCapture)}:n=>{delete n.__dragPrevented,n.removeEventListener("dragstart",prevent,listenOpts.notPassiveCapture)};t.querySelectorAll("a, img").forEach(r)}function addEvt(t,e,r){const n=`__q_${e}_evt`;t[n]=t[n]!==void 0?t[n].concat(r):r,r.forEach(o=>{o[0].addEventListener(o[1],t[o[2]],listenOpts[o[3]])})}function cleanEvt(t,e){const r=`__q_${e}_evt`;t[r]!==void 0&&(t[r].forEach(n=>{n[0].removeEventListener(n[1],t[n[2]],listenOpts[n[3]])}),t[r]=void 0)}function debounce(t,e=250,r){let n=null;function o(){const a=arguments,c=()=>{n=null,r!==!0&&t.apply(this,a)};n!==null?clearTimeout(n):r===!0&&t.apply(this,a),n=setTimeout(c,e)}return o.cancel=()=>{n!==null&&clearTimeout(n)},o}const SIZE_LIST=["sm","md","lg","xl"],{passive}=listenOpts;var Screen=defineReactivePlugin({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:noop$6,setDebounce:noop$6,install({$q:t,onSSRHydrated:e}){if(t.screen=this,this.__installed===!0){t.config.screen!==void 0&&(t.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:r}=window,n=r||window,o=document.scrollingElement||document.documentElement,a=r===void 0||client$1.is.mobile===!0?()=>[Math.max(window.innerWidth,o.clientWidth),Math.max(window.innerHeight,o.clientHeight)]:()=>[r.width*r.scale+window.innerWidth-o.clientWidth,r.height*r.scale+window.innerHeight-o.clientHeight],c=t.config.screen!==void 0&&t.config.screen.bodyClasses===!0;this.__update=Ar=>{const[vr,Tr]=a();if(Tr!==this.height&&(this.height=Tr),vr!==this.width)this.width=vr;else if(Ar!==!0)return;let Or=this.sizes;this.gt.xs=vr>=Or.sm,this.gt.sm=vr>=Or.md,this.gt.md=vr>=Or.lg,this.gt.lg=vr>=Or.xl,this.lt.sm=vr<Or.sm,this.lt.md=vr<Or.md,this.lt.lg=vr<Or.lg,this.lt.xl=vr<Or.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,Or=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",Or!==this.name&&(c===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${Or}`)),this.name=Or)};let u,gr={},br=16;this.setSizes=Ar=>{SIZE_LIST.forEach(vr=>{Ar[vr]!==void 0&&(gr[vr]=Ar[vr])})},this.setDebounce=Ar=>{br=Ar};const _r=()=>{const Ar=getComputedStyle(document.body);Ar.getPropertyValue("--q-size-sm")&&SIZE_LIST.forEach(vr=>{this.sizes[vr]=parseInt(Ar.getPropertyValue(`--q-size-${vr}`),10)}),this.setSizes=vr=>{SIZE_LIST.forEach(Tr=>{vr[Tr]&&(this.sizes[Tr]=vr[Tr])}),this.__update(!0)},this.setDebounce=vr=>{u!==void 0&&n.removeEventListener("resize",u,passive),u=vr>0?debounce(this.__update,vr):this.__update,n.addEventListener("resize",u,passive)},this.setDebounce(br),Object.keys(gr).length!==0?(this.setSizes(gr),gr=void 0):this.__update(),c===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};isRuntimeSsrPreHydration.value===!0?e.push(_r):_r()}});const Plugin$2=defineReactivePlugin({isActive:!1,mode:!1},{__media:void 0,set(t){Plugin$2.mode=t,t==="auto"?(Plugin$2.__media===void 0&&(Plugin$2.__media=window.matchMedia("(prefers-color-scheme: dark)"),Plugin$2.__updateMedia=()=>{Plugin$2.set("auto")},Plugin$2.__media.addListener(Plugin$2.__updateMedia)),t=Plugin$2.__media.matches):Plugin$2.__media!==void 0&&(Plugin$2.__media.removeListener(Plugin$2.__updateMedia),Plugin$2.__media=void 0),Plugin$2.isActive=t===!0,document.body.classList.remove(`body--${t===!0?"light":"dark"}`),document.body.classList.add(`body--${t===!0?"dark":"light"}`)},toggle(){Plugin$2.set(Plugin$2.isActive===!1)},install({$q:t,onSSRHydrated:e,ssrContext:r}){const{dark:n}=t.config;if(t.dark=this,this.__installed===!0&&n===void 0)return;this.isActive=n===!0;const o=n!==void 0?n:!1;if(isRuntimeSsrPreHydration.value===!0){const a=u=>{this.__fromSSR=u},c=this.set;this.set=a,a(o),e.push(()=>{this.set=c,this.set(this.__fromSSR)})}else this.set(o)}}),getTrue=()=>!0;function filterInvalidPath(t){return typeof t=="string"&&t!==""&&t!=="/"&&t!=="#/"}function normalizeExitPath(t){return t.startsWith("#")===!0&&(t=t.substring(1)),t.startsWith("/")===!1&&(t="/"+t),t.endsWith("/")===!0&&(t=t.substring(0,t.length-1)),"#"+t}function getShouldExitFn(t){if(t.backButtonExit===!1)return()=>!1;if(t.backButtonExit==="*")return getTrue;const e=["#/"];return Array.isArray(t.backButtonExit)===!0&&e.push(...t.backButtonExit.filter(filterInvalidPath).map(normalizeExitPath)),()=>e.includes(window.location.hash)}var History={__history:[],add:noop$6,remove:noop$6,install({$q:t}){if(this.__installed===!0)return;const{cordova:e,capacitor:r}=client$1.is;if(e!==!0&&r!==!0)return;const n=t.config[e===!0?"cordova":"capacitor"];if(n!==void 0&&n.backButton===!1||r===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=c=>{c.condition===void 0&&(c.condition=getTrue),this.__history.push(c)},this.remove=c=>{const u=this.__history.indexOf(c);u>=0&&this.__history.splice(u,1)};const o=getShouldExitFn(Object.assign({backButtonExit:!0},n)),a=()=>{if(this.__history.length){const c=this.__history[this.__history.length-1];c.condition()===!0&&(this.__history.pop(),c.handler())}else o()===!0?navigator.app.exitApp():window.history.back()};e===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",a,!1)}):window.Capacitor.Plugins.App.addListener("backButton",a)}},defaultLang={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>t===1?"1 record selected.":(t===0?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,r)=>t+"-"+e+" of "+r,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function getLocale(){const t=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof t=="string")return t.split(/[-_]/).map((e,r)=>r===0?e.toLowerCase():r>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join("-")}const Plugin$1=defineReactivePlugin({__langPack:{}},{getLocale,set(t=defaultLang,e){const r={...t,rtl:t.rtl===!0,getLocale};{if(r.set=Plugin$1.set,Plugin$1.__langConfig===void 0||Plugin$1.__langConfig.noHtmlAttrs!==!0){const n=document.documentElement;n.setAttribute("dir",r.rtl===!0?"rtl":"ltr"),n.setAttribute("lang",r.isoName)}Object.assign(Plugin$1.__langPack,r),Plugin$1.props=r,Plugin$1.isoName=r.isoName,Plugin$1.nativeName=r.nativeName}},install({$q:t,lang:e,ssrContext:r}){t.lang=Plugin$1.__langPack,Plugin$1.__langConfig=t.config.lang,this.__installed===!0?e!==void 0&&this.set(e):this.set(e||defaultLang)}});function setCssVar(t,e,r=document.body){if(typeof t!="string")throw new TypeError("Expected a string as propName");if(typeof e!="string")throw new TypeError("Expected a string as value");if(!(r instanceof Element))throw new TypeError("Expected a DOM element");r.style.setProperty(`--q-${t}`,e)}let lastKeyCompositionStatus=!1;function onKeyDownComposition(t){lastKeyCompositionStatus=t.isComposing===!0}function shouldIgnoreKey(t){return lastKeyCompositionStatus===!0||t!==Object(t)||t.isComposing===!0||t.qKeyEvent===!0}function isKeyCode(t,e){return shouldIgnoreKey(t)===!0?!1:[].concat(e).includes(t.keyCode)}function getMobilePlatform(t){if(t.ios===!0)return"ios";if(t.android===!0)return"android"}function getBodyClasses({is:t,has:e,within:r},n){const o=[t.desktop===!0?"desktop":"mobile",`${e.touch===!1?"no-":""}touch`];if(t.mobile===!0){const a=getMobilePlatform(t);a!==void 0&&o.push("platform-"+a)}if(t.nativeMobile===!0){const a=t.nativeMobileWrapper;o.push(a),o.push("native-mobile"),t.ios===!0&&(n[a]===void 0||n[a].iosStatusBarPadding!==!1)&&o.push("q-ios-padding")}else t.electron===!0?o.push("electron"):t.bex===!0&&o.push("bex");return r.iframe===!0&&o.push("within-iframe"),o}function applyClientSsrCorrections(){const{is:t}=client$1,e=document.body.className,r=new Set(e.replace(/ {2}/g," ").split(" "));if(iosCorrection!==void 0)r.delete("desktop"),r.add("platform-ios"),r.add("mobile");else if(t.nativeMobile!==!0&&t.electron!==!0&&t.bex!==!0){if(t.desktop===!0)r.delete("mobile"),r.delete("platform-ios"),r.delete("platform-android"),r.add("desktop");else if(t.mobile===!0){r.delete("desktop"),r.add("mobile");const o=getMobilePlatform(t);o!==void 0?(r.add(`platform-${o}`),r.delete(`platform-${o==="ios"?"android":"ios"}`)):(r.delete("platform-ios"),r.delete("platform-android"))}}client$1.has.touch===!0&&(r.delete("no-touch"),r.add("touch")),client$1.within.iframe===!0&&r.add("within-iframe");const n=Array.from(r).join(" ");e!==n&&(document.body.className=n)}function setColors(t){for(const e in t)setCssVar(e,t[e])}var Body={install(t){if(this.__installed!==!0){if(isRuntimeSsrPreHydration.value===!0)applyClientSsrCorrections();else{const{$q:e}=t;e.config.brand!==void 0&&setColors(e.config.brand);const r=getBodyClasses(client$1,e.config);document.body.classList.add.apply(document.body.classList,r)}client$1.is.ios===!0&&document.body.addEventListener("touchstart",noop$6),window.addEventListener("keydown",onKeyDownComposition,!0)}}},materialIcons={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const Plugin=defineReactivePlugin({iconMapFn:null,__icons:{}},{set(t,e){const r={...t,rtl:t.rtl===!0};r.set=Plugin.set,Object.assign(Plugin.__icons,r)},install({$q:t,iconSet:e,ssrContext:r}){t.config.iconMapFn!==void 0&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__icons,injectProp(t,"iconMapFn",()=>this.iconMapFn,n=>{this.iconMapFn=n}),this.__installed===!0?e!==void 0&&this.set(e):this.set(e||materialIcons)}}),quasarKey="_q_",layoutKey="_q_l_",pageContainerKey="_q_pc_",formKey="_q_fo_",tabsKey="_q_tabs_",emptyRenderFn=()=>{},globalConfig={};let globalConfigIsFrozen=!1;function freezeGlobalConfig(){globalConfigIsFrozen=!0}function isDeepEqual$2(t,e){if(t===e)return!0;if(t!==null&&e!==null&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;let r,n;if(t.constructor===Array){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(isDeepEqual$2(t[n],e[n])!==!0)return!1;return!0}if(t.constructor===Map){if(t.size!==e.size)return!1;let a=t.entries();for(n=a.next();n.done!==!0;){if(e.has(n.value[0])!==!0)return!1;n=a.next()}for(a=t.entries(),n=a.next();n.done!==!0;){if(isDeepEqual$2(n.value[1],e.get(n.value[0]))!==!0)return!1;n=a.next()}return!0}if(t.constructor===Set){if(t.size!==e.size)return!1;const a=t.entries();for(n=a.next();n.done!==!0;){if(e.has(n.value[0])!==!0)return!1;n=a.next()}return!0}if(t.buffer!=null&&t.buffer.constructor===ArrayBuffer){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const o=Object.keys(t).filter(a=>t[a]!==void 0);if(r=o.length,r!==Object.keys(e).filter(a=>e[a]!==void 0).length)return!1;for(n=r;n--!==0;){const a=o[n];if(isDeepEqual$2(t[a],e[a])!==!0)return!1}return!0}return t!==t&&e!==e}function isObject$7(t){return t!==null&&typeof t=="object"&&Array.isArray(t)!==!0}function isDate$3(t){return Object.prototype.toString.call(t)==="[object Date]"}function isNumber$2(t){return typeof t=="number"&&isFinite(t)}const autoInstalledPlugins=[Platform,Body,Plugin$2,Screen,History,Plugin$1,Plugin];function createChildApp(t,e){const r=createApp(t);r.config.globalProperties=e.config.globalProperties;const{reload:n,...o}=e._context;return Object.assign(r._context,o),r}function installPlugins(t,e){e.forEach(r=>{r.install(t),r.__installed=!0})}function prepareApp(t,e,r){t.config.globalProperties.$q=r.$q,t.provide(quasarKey,r.$q),installPlugins(r,autoInstalledPlugins),e.components!==void 0&&Object.values(e.components).forEach(n=>{isObject$7(n)===!0&&n.name!==void 0&&t.component(n.name,n)}),e.directives!==void 0&&Object.values(e.directives).forEach(n=>{isObject$7(n)===!0&&n.name!==void 0&&t.directive(n.name,n)}),e.plugins!==void 0&&installPlugins(r,Object.values(e.plugins).filter(n=>typeof n.install=="function"&&autoInstalledPlugins.includes(n)===!1)),isRuntimeSsrPreHydration.value===!0&&(r.$q.onSSRHydrated=()=>{r.onSSRHydrated.forEach(n=>{n()}),r.$q.onSSRHydrated=()=>{}})}var installQuasar=function(t,e={}){const r={version:"2.13.0"};globalConfigIsFrozen===!1?(e.config!==void 0&&Object.assign(globalConfig,e.config),r.config={...globalConfig},freezeGlobalConfig()):r.config=e.config||{},prepareApp(t,e,{parentApp:t,$q:r,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})},Quasar={version:"2.13.0",install:installQuasar,lang:Plugin$1,iconSet:Plugin},isVue2=!1;let activePinia;const setActivePinia=t=>activePinia=t,piniaSymbol=Symbol();function isPlainObject$2(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),e=t.run(()=>ref({}));let r=[],n=[];const o=markRaw({install(a){setActivePinia(o),o._a=a,a.provide(piniaSymbol,o),a.config.globalProperties.$pinia=o,n.forEach(c=>r.push(c)),n=[]},use(a){return!this._a&&!isVue2?n.push(a):r.push(a),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return o}const noop$5=()=>{};function addSubscription(t,e,r,n=noop$5){t.push(e);const o=()=>{const a=t.indexOf(e);a>-1&&(t.splice(a,1),n())};return!r&&getCurrentScope()&&onScopeDispose(o),o}function triggerSubscriptions(t,...e){t.slice().forEach(r=>{r(...e)})}const fallbackRunWithContext=t=>t();function mergeReactiveObjects(t,e){t instanceof Map&&e instanceof Map&&e.forEach((r,n)=>t.set(n,r)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],o=t[r];isPlainObject$2(o)&&isPlainObject$2(n)&&t.hasOwnProperty(r)&&!isRef(n)&&!isReactive(n)?t[r]=mergeReactiveObjects(o,n):t[r]=n}return t}const skipHydrateSymbol=Symbol();function shouldHydrate(t){return!isPlainObject$2(t)||!t.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed$1(t){return!!(isRef(t)&&t.effect)}function createOptionsStore(t,e,r,n){const{state:o,actions:a,getters:c}=e,u=r.state.value[t];let gr;function br(){u||(r.state.value[t]=o?o():{});const _r=toRefs(r.state.value[t]);return assign$3(_r,a,Object.keys(c||{}).reduce((Ar,vr)=>(Ar[vr]=markRaw(computed$1(()=>{setActivePinia(r);const Tr=r._s.get(t);return c[vr].call(Tr,Tr)})),Ar),{}))}return gr=createSetupStore(t,br,e,r,n,!0),gr}function createSetupStore(t,e,r={},n,o,a){let c;const u=assign$3({actions:{}},r),gr={deep:!0};let br,_r,Ar=[],vr=[],Tr;const Or=n.state.value[t];!a&&!Or&&(n.state.value[t]={}),ref({});let Ir;function xr(qr){let tn;br=_r=!1,typeof qr=="function"?(qr(n.state.value[t]),tn={type:MutationType.patchFunction,storeId:t,events:Tr}):(mergeReactiveObjects(n.state.value[t],qr),tn={type:MutationType.patchObject,payload:qr,storeId:t,events:Tr});const en=Ir=Symbol();nextTick().then(()=>{Ir===en&&(br=!0)}),_r=!0,triggerSubscriptions(Ar,tn,n.state.value[t])}const Lr=a?function(){const{state:tn}=r,en=tn?tn():{};this.$patch(sn=>{assign$3(sn,en)})}:noop$5;function Fr(){c.stop(),Ar=[],vr=[],n._s.delete(t)}function Mr(qr,tn){return function(){setActivePinia(n);const en=Array.from(arguments),sn=[],cn=[];function Ur(Dr){sn.push(Dr)}function Rr(Dr){cn.push(Dr)}triggerSubscriptions(vr,{args:en,name:qr,store:Vr,after:Ur,onError:Rr});let Pr;try{Pr=tn.apply(this&&this.$id===t?this:Vr,en)}catch(Dr){throw triggerSubscriptions(cn,Dr),Dr}return Pr instanceof Promise?Pr.then(Dr=>(triggerSubscriptions(sn,Dr),Dr)).catch(Dr=>(triggerSubscriptions(cn,Dr),Promise.reject(Dr))):(triggerSubscriptions(sn,Pr),Pr)}}const Hr={_p:n,$id:t,$onAction:addSubscription.bind(null,vr),$patch:xr,$reset:Lr,$subscribe(qr,tn={}){const en=addSubscription(Ar,qr,tn.detached,()=>sn()),sn=c.run(()=>watch(()=>n.state.value[t],cn=>{(tn.flush==="sync"?_r:br)&&qr({storeId:t,type:MutationType.direct,events:Tr},cn)},assign$3({},gr,tn)));return en},$dispose:Fr},Vr=reactive(Hr);n._s.set(t,Vr);const jr=(n._a&&n._a.runWithContext||fallbackRunWithContext)(()=>n._e.run(()=>(c=effectScope()).run(e)));for(const qr in jr){const tn=jr[qr];if(isRef(tn)&&!isComputed$1(tn)||isReactive(tn))a||(Or&&shouldHydrate(tn)&&(isRef(tn)?tn.value=Or[qr]:mergeReactiveObjects(tn,Or[qr])),n.state.value[t][qr]=tn);else if(typeof tn=="function"){const en=Mr(qr,tn);jr[qr]=en,u.actions[qr]=tn}}return assign$3(Vr,jr),assign$3(toRaw(Vr),jr),Object.defineProperty(Vr,"$state",{get:()=>n.state.value[t],set:qr=>{xr(tn=>{assign$3(tn,qr)})}}),n._p.forEach(qr=>{assign$3(Vr,c.run(()=>qr({store:Vr,app:n._a,pinia:n,options:u})))}),Or&&a&&r.hydrate&&r.hydrate(Vr.$state,Or),br=!0,_r=!0,Vr}function defineStore(t,e,r){let n,o;const a=typeof e=="function";typeof t=="string"?(n=t,o=a?r:e):(o=t,n=t.id);function c(u,gr){const br=hasInjectionContext();return u=u||(br?inject(piniaSymbol,null):null),u&&setActivePinia(u),u=activePinia,u._s.has(n)||(a?createSetupStore(n,e,o,u):createOptionsStore(n,o,u)),u._s.get(n)}return c.$id=n,c}function storeToRefs(t){{t=toRaw(t);const e={};for(const r in t){const n=t[r];(isRef(n)||isReactive(n))&&(e[r]=toRef(t,r))}return e}}function number$4(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function bytes$2(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function hash$1(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$4(t.outputLen),number$4(t.blockLen)}function exists$1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function output$1(t,e){bytes$2(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=t=>t instanceof Uint8Array,u32$3=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),createView$1=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),rotr$1=(t,e)=>t<<32-e|t>>>e,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$3(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function toBytes$1(t){if(typeof t=="string"&&(t=utf8ToBytes$3(t)),!u8a$1(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function concatBytes$3(...t){const e=new Uint8Array(t.reduce((n,o)=>n+o.length,0));let r=0;return t.forEach(n=>{if(!u8a$1(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}class Hash$1{clone(){return this._cloneInto()}}function wrapConstructor$1(t){const e=n=>t().update(toBytes$1(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function randomBytes$1(t=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$1(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),a=BigInt(4294967295),c=Number(r>>o&a),u=Number(r&a),gr=n?4:0,br=n?0:4;t.setUint32(e+gr,c,n),t.setUint32(e+br,u,n)}class SHA2 extends Hash$1{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView$1(this.buffer)}update(e){exists$1(this);const{view:r,buffer:n,blockLen:o}=this;e=toBytes$1(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(o-this.pos,a-c);if(u===o){const gr=createView$1(e);for(;o<=a-c;c+=o)this.process(gr,c);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists$1(this),output$1(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:o,isLE:a}=this;let{pos:c}=this;r[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(n,0),c=0);for(let Ar=c;Ar<o;Ar++)r[Ar]=0;setBigUint64$1(n,o-8,BigInt(this.length*8),a),this.process(n,0);const u=createView$1(e),gr=this.outputLen;if(gr%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const br=gr/4,_r=this.get();if(br>_r.length)throw new Error("_sha2: outputLen bigger than state");for(let Ar=0;Ar<br;Ar++)u.setUint32(4*Ar,_r[Ar],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:o,finished:a,destroyed:c,pos:u}=this;return e.length=o,e.pos=u,e.finished=a,e.destroyed=c,o%r&&e.buffer.set(n),e}}const U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(t,e=!1){return e?{h:Number(t&U32_MASK64$1),l:Number(t>>_32n$1&U32_MASK64$1)}:{h:Number(t>>_32n$1&U32_MASK64$1)|0,l:Number(t&U32_MASK64$1)|0}}function split$1(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:a,l:c}=fromBig$1(t[o],e);[r[o],n[o]]=[a,c]}return[r,n]}const toBig$1=(t,e)=>BigInt(t>>>0)<<_32n$1|BigInt(e>>>0),shrSH$1=(t,e,r)=>t>>>r,shrSL$1=(t,e,r)=>t<<32-r|e>>>r,rotrSH$1=(t,e,r)=>t>>>r|e<<32-r,rotrSL$1=(t,e,r)=>t<<32-r|e>>>r,rotrBH$1=(t,e,r)=>t<<64-r|e>>>r-32,rotrBL$1=(t,e,r)=>t>>>r-32|e<<64-r,rotr32H$1=(t,e)=>e,rotr32L$1=(t,e)=>t,rotlSH$1=(t,e,r)=>t<<r|e>>>32-r,rotlSL$1=(t,e,r)=>e<<r|t>>>32-r,rotlBH$1=(t,e,r)=>e<<r-32|t>>>64-r,rotlBL$1=(t,e,r)=>t<<r-32|e>>>64-r;function add$1(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}const add3L$1=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H$1=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L$1=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H$1=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,add5L$1=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),add5H$1=(t,e,r,n,o,a)=>e+r+n+o+a+(t/2**32|0)|0,u64$9={fromBig:fromBig$1,split:split$1,toBig:toBig$1,shrSH:shrSH$1,shrSL:shrSL$1,rotrSH:rotrSH$1,rotrSL:rotrSL$1,rotrBH:rotrBH$1,rotrBL:rotrBL$1,rotr32H:rotr32H$1,rotr32L:rotr32L$1,rotlSH:rotlSH$1,rotlSL:rotlSL$1,rotlBH:rotlBH$1,rotlBL:rotlBL$1,add:add$1,add3L:add3L$1,add3H:add3H$1,add4L:add4L$1,add4H:add4H$1,add5H:add5H$1,add5L:add5L$1};var u64$a=u64$9;const[SHA512_Kh$1,SHA512_Kl$1]=(()=>u64$a.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),SHA512_W_H$1=new Uint32Array(80),SHA512_W_L$1=new Uint32Array(80);class SHA512$1 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:o,Ch:a,Cl:c,Dh:u,Dl:gr,Eh:br,El:_r,Fh:Ar,Fl:vr,Gh:Tr,Gl:Or,Hh:Ir,Hl:xr}=this;return[e,r,n,o,a,c,u,gr,br,_r,Ar,vr,Tr,Or,Ir,xr]}set(e,r,n,o,a,c,u,gr,br,_r,Ar,vr,Tr,Or,Ir,xr){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=gr|0,this.Eh=br|0,this.El=_r|0,this.Fh=Ar|0,this.Fl=vr|0,this.Gh=Tr|0,this.Gl=Or|0,this.Hh=Ir|0,this.Hl=xr|0}process(e,r){for(let Mr=0;Mr<16;Mr++,r+=4)SHA512_W_H$1[Mr]=e.getUint32(r),SHA512_W_L$1[Mr]=e.getUint32(r+=4);for(let Mr=16;Mr<80;Mr++){const Hr=SHA512_W_H$1[Mr-15]|0,Vr=SHA512_W_L$1[Mr-15]|0,Kr=u64$a.rotrSH(Hr,Vr,1)^u64$a.rotrSH(Hr,Vr,8)^u64$a.shrSH(Hr,Vr,7),jr=u64$a.rotrSL(Hr,Vr,1)^u64$a.rotrSL(Hr,Vr,8)^u64$a.shrSL(Hr,Vr,7),qr=SHA512_W_H$1[Mr-2]|0,tn=SHA512_W_L$1[Mr-2]|0,en=u64$a.rotrSH(qr,tn,19)^u64$a.rotrBH(qr,tn,61)^u64$a.shrSH(qr,tn,6),sn=u64$a.rotrSL(qr,tn,19)^u64$a.rotrBL(qr,tn,61)^u64$a.shrSL(qr,tn,6),cn=u64$a.add4L(jr,sn,SHA512_W_L$1[Mr-7],SHA512_W_L$1[Mr-16]),Ur=u64$a.add4H(cn,Kr,en,SHA512_W_H$1[Mr-7],SHA512_W_H$1[Mr-16]);SHA512_W_H$1[Mr]=Ur|0,SHA512_W_L$1[Mr]=cn|0}let{Ah:n,Al:o,Bh:a,Bl:c,Ch:u,Cl:gr,Dh:br,Dl:_r,Eh:Ar,El:vr,Fh:Tr,Fl:Or,Gh:Ir,Gl:xr,Hh:Lr,Hl:Fr}=this;for(let Mr=0;Mr<80;Mr++){const Hr=u64$a.rotrSH(Ar,vr,14)^u64$a.rotrSH(Ar,vr,18)^u64$a.rotrBH(Ar,vr,41),Vr=u64$a.rotrSL(Ar,vr,14)^u64$a.rotrSL(Ar,vr,18)^u64$a.rotrBL(Ar,vr,41),Kr=Ar&Tr^~Ar&Ir,jr=vr&Or^~vr&xr,qr=u64$a.add5L(Fr,Vr,jr,SHA512_Kl$1[Mr],SHA512_W_L$1[Mr]),tn=u64$a.add5H(qr,Lr,Hr,Kr,SHA512_Kh$1[Mr],SHA512_W_H$1[Mr]),en=qr|0,sn=u64$a.rotrSH(n,o,28)^u64$a.rotrBH(n,o,34)^u64$a.rotrBH(n,o,39),cn=u64$a.rotrSL(n,o,28)^u64$a.rotrBL(n,o,34)^u64$a.rotrBL(n,o,39),Ur=n&a^n&u^a&u,Rr=o&c^o&gr^c&gr;Lr=Ir|0,Fr=xr|0,Ir=Tr|0,xr=Or|0,Tr=Ar|0,Or=vr|0,{h:Ar,l:vr}=u64$a.add(br|0,_r|0,tn|0,en|0),br=u|0,_r=gr|0,u=a|0,gr=c|0,a=n|0,c=o|0;const Pr=u64$a.add3L(en,cn,Rr);n=u64$a.add3H(Pr,tn,sn,Ur),o=Pr|0}({h:n,l:o}=u64$a.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:a,l:c}=u64$a.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:gr}=u64$a.add(this.Ch|0,this.Cl|0,u|0,gr|0),{h:br,l:_r}=u64$a.add(this.Dh|0,this.Dl|0,br|0,_r|0),{h:Ar,l:vr}=u64$a.add(this.Eh|0,this.El|0,Ar|0,vr|0),{h:Tr,l:Or}=u64$a.add(this.Fh|0,this.Fl|0,Tr|0,Or|0),{h:Ir,l:xr}=u64$a.add(this.Gh|0,this.Gl|0,Ir|0,xr|0),{h:Lr,l:Fr}=u64$a.add(this.Hh|0,this.Hl|0,Lr|0,Fr|0),this.set(n,o,a,c,u,gr,br,_r,Ar,vr,Tr,Or,Ir,xr,Lr,Fr)}roundClean(){SHA512_W_H$1.fill(0),SHA512_W_L$1.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$1=wrapConstructor$1(()=>new SHA512$1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$a=BigInt(0),_1n$e=BigInt(1),_2n$a=BigInt(2),u8a=t=>t instanceof Uint8Array,hexes$1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex$1(t){if(!u8a(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=hexes$1[t[r]];return e}function numberToHexUnpadded$1(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hexToNumber$1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function hexToBytes$1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){const o=n*2,a=t.slice(o,o+2),c=Number.parseInt(a,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");r[n]=c}return r}function bytesToNumberBE$1(t){return hexToNumber$1(bytesToHex$1(t))}function bytesToNumberLE$1(t){if(!u8a(t))throw new Error("Uint8Array expected");return hexToNumber$1(bytesToHex$1(Uint8Array.from(t).reverse()))}function numberToBytesBE$1(t,e){return hexToBytes$1(t.toString(16).padStart(e*2,"0"))}function numberToBytesLE$1(t,e){return numberToBytesBE$1(t,e).reverse()}function numberToVarBytesBE$1(t){return hexToBytes$1(numberToHexUnpadded$1(t))}function ensureBytes$1(t,e,r){let n;if(typeof e=="string")try{n=hexToBytes$1(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(u8a(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const o=n.length;if(typeof r=="number"&&o!==r)throw new Error(`${t} expected ${r} bytes, got ${o}`);return n}function concatBytes$2(...t){const e=new Uint8Array(t.reduce((n,o)=>n+o.length,0));let r=0;return t.forEach(n=>{if(!u8a(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function equalBytes$1(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function utf8ToBytes$2(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function bitLen$1(t){let e;for(e=0;t>_0n$a;t>>=_1n$e,e+=1);return e}function bitGet$1(t,e){return t>>BigInt(e)&_1n$e}const bitSet$1=(t,e,r)=>t|(r?_1n$e:_0n$a)<<BigInt(e),bitMask$1=t=>(_2n$a<<BigInt(t-1))-_1n$e,u8n$1=t=>new Uint8Array(t),u8fr$1=t=>Uint8Array.from(t);function createHmacDrbg$1(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=u8n$1(t),o=u8n$1(t),a=0;const c=()=>{n.fill(1),o.fill(0),a=0},u=(...Ar)=>r(o,n,...Ar),gr=(Ar=u8n$1())=>{o=u(u8fr$1([0]),Ar),n=u(),Ar.length!==0&&(o=u(u8fr$1([1]),Ar),n=u())},br=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let Ar=0;const vr=[];for(;Ar<e;){n=u();const Tr=n.slice();vr.push(Tr),Ar+=n.length}return concatBytes$2(...vr)};return(Ar,vr)=>{c(),gr(Ar);let Tr;for(;!(Tr=vr(br()));)gr();return c(),Tr}}const validatorFns$1={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function validateObject$1(t,e,r={}){const n=(o,a,c)=>{const u=validatorFns$1[a];if(typeof u!="function")throw new Error(`Invalid validator "${a}", expected function`);const gr=t[o];if(!(c&&gr===void 0)&&!u(gr,t))throw new Error(`Invalid param ${String(o)}=${gr} (${typeof gr}), expected ${a}`)};for(const[o,a]of Object.entries(e))n(o,a,!1);for(const[o,a]of Object.entries(r))n(o,a,!0);return t}var ut$2=Object.freeze(Object.defineProperty({__proto__:null,bytesToHex:bytesToHex$1,numberToHexUnpadded:numberToHexUnpadded$1,hexToNumber:hexToNumber$1,hexToBytes:hexToBytes$1,bytesToNumberBE:bytesToNumberBE$1,bytesToNumberLE:bytesToNumberLE$1,numberToBytesBE:numberToBytesBE$1,numberToBytesLE:numberToBytesLE$1,numberToVarBytesBE:numberToVarBytesBE$1,ensureBytes:ensureBytes$1,concatBytes:concatBytes$2,equalBytes:equalBytes$1,utf8ToBytes:utf8ToBytes$2,bitLen:bitLen$1,bitGet:bitGet$1,bitSet:bitSet$1,bitMask:bitMask$1,createHmacDrbg:createHmacDrbg$1,validateObject:validateObject$1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$9=BigInt(0),_1n$d=BigInt(1),_2n$9=BigInt(2),_3n$3=BigInt(3),_4n$1=BigInt(4),_5n$3=BigInt(5),_8n$4=BigInt(8);BigInt(9);BigInt(16);function mod$1(t,e){const r=t%e;return r>=_0n$9?r:e+r}function pow$1(t,e,r){if(r<=_0n$9||e<_0n$9)throw new Error("Expected power/modulo > 0");if(r===_1n$d)return _0n$9;let n=_1n$d;for(;e>_0n$9;)e&_1n$d&&(n=n*t%r),t=t*t%r,e>>=_1n$d;return n}function pow2$1(t,e,r){let n=t;for(;e-- >_0n$9;)n*=n,n%=r;return n}function invert$1(t,e){if(t===_0n$9||e<=_0n$9)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=mod$1(t,e),n=e,o=_0n$9,a=_1n$d;for(;r!==_0n$9;){const u=n/r,gr=n%r,br=o-a*u;n=r,r=gr,o=a,a=br}if(n!==_1n$d)throw new Error("invert: does not exist");return mod$1(o,e)}function tonelliShanks$1(t){const e=(t-_1n$d)/_2n$9;let r,n,o;for(r=t-_1n$d,n=0;r%_2n$9===_0n$9;r/=_2n$9,n++);for(o=_2n$9;o<t&&pow$1(o,e,t)!==t-_1n$d;o++);if(n===1){const c=(t+_1n$d)/_4n$1;return function(gr,br){const _r=gr.pow(br,c);if(!gr.eql(gr.sqr(_r),br))throw new Error("Cannot find square root");return _r}}const a=(r+_1n$d)/_2n$9;return function(u,gr){if(u.pow(gr,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let br=n,_r=u.pow(u.mul(u.ONE,o),r),Ar=u.pow(gr,a),vr=u.pow(gr,r);for(;!u.eql(vr,u.ONE);){if(u.eql(vr,u.ZERO))return u.ZERO;let Tr=1;for(let Ir=u.sqr(vr);Tr<br&&!u.eql(Ir,u.ONE);Tr++)Ir=u.sqr(Ir);const Or=u.pow(_r,_1n$d<<BigInt(br-Tr-1));_r=u.sqr(Or),Ar=u.mul(Ar,Or),vr=u.mul(vr,_r),br=Tr}return Ar}}function FpSqrt$1(t){if(t%_4n$1===_3n$3){const e=(t+_1n$d)/_4n$1;return function(n,o){const a=n.pow(o,e);if(!n.eql(n.sqr(a),o))throw new Error("Cannot find square root");return a}}if(t%_8n$4===_5n$3){const e=(t-_5n$3)/_8n$4;return function(n,o){const a=n.mul(o,_2n$9),c=n.pow(a,e),u=n.mul(o,c),gr=n.mul(n.mul(u,_2n$9),c),br=n.mul(u,n.sub(gr,n.ONE));if(!n.eql(n.sqr(br),o))throw new Error("Cannot find square root");return br}}return tonelliShanks$1(t)}const isNegativeLE$1=(t,e)=>(mod$1(t,e)&_1n$d)===_1n$d,FIELD_FIELDS$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$1(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=FIELD_FIELDS$1.reduce((n,o)=>(n[o]="function",n),e);return validateObject$1(t,r)}function FpPow$1(t,e,r){if(r<_0n$9)throw new Error("Expected power > 0");if(r===_0n$9)return t.ONE;if(r===_1n$d)return e;let n=t.ONE,o=e;for(;r>_0n$9;)r&_1n$d&&(n=t.mul(n,o)),o=t.sqr(o),r>>=_1n$d;return n}function FpInvertBatch$1(t,e){const r=new Array(e.length),n=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),o=t.inv(n);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),o),r}function nLength$1(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Field$1(t,e,r=!1,n={}){if(t<=_0n$9)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:o,nByteLength:a}=nLength$1(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=FpSqrt$1(t),u=Object.freeze({ORDER:t,BITS:o,BYTES:a,MASK:bitMask$1(o),ZERO:_0n$9,ONE:_1n$d,create:gr=>mod$1(gr,t),isValid:gr=>{if(typeof gr!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof gr}`);return _0n$9<=gr&&gr<t},is0:gr=>gr===_0n$9,isOdd:gr=>(gr&_1n$d)===_1n$d,neg:gr=>mod$1(-gr,t),eql:(gr,br)=>gr===br,sqr:gr=>mod$1(gr*gr,t),add:(gr,br)=>mod$1(gr+br,t),sub:(gr,br)=>mod$1(gr-br,t),mul:(gr,br)=>mod$1(gr*br,t),pow:(gr,br)=>FpPow$1(u,gr,br),div:(gr,br)=>mod$1(gr*invert$1(br,t),t),sqrN:gr=>gr*gr,addN:(gr,br)=>gr+br,subN:(gr,br)=>gr-br,mulN:(gr,br)=>gr*br,inv:gr=>invert$1(gr,t),sqrt:n.sqrt||(gr=>c(u,gr)),invertBatch:gr=>FpInvertBatch$1(u,gr),cmov:(gr,br,_r)=>_r?br:gr,toBytes:gr=>r?numberToBytesLE$1(gr,a):numberToBytesBE$1(gr,a),fromBytes:gr=>{if(gr.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${gr.length}`);return r?bytesToNumberLE$1(gr):bytesToNumberBE$1(gr)}});return Object.freeze(u)}function FpSqrtEven(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}function getFieldBytesLength$1(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function getMinHashLength$1(t){const e=getFieldBytesLength$1(t);return e+Math.ceil(e/2)}function mapHashToField$1(t,e,r=!1){const n=t.length,o=getFieldBytesLength$1(e),a=getMinHashLength$1(e);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const c=r?bytesToNumberBE$1(t):bytesToNumberLE$1(t),u=mod$1(c,e-_1n$d)+_1n$d;return r?numberToBytesLE$1(u,o):numberToBytesBE$1(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$8=BigInt(0),_1n$c=BigInt(1);function wNAF$1(t,e){const r=(o,a)=>{const c=a.negate();return o?c:a},n=o=>{const a=Math.ceil(e/o)+1,c=2**(o-1);return{windows:a,windowSize:c}};return{constTimeNegate:r,unsafeLadder(o,a){let c=t.ZERO,u=o;for(;a>_0n$8;)a&_1n$c&&(c=c.add(u)),u=u.double(),a>>=_1n$c;return c},precomputeWindow(o,a){const{windows:c,windowSize:u}=n(a),gr=[];let br=o,_r=br;for(let Ar=0;Ar<c;Ar++){_r=br,gr.push(_r);for(let vr=1;vr<u;vr++)_r=_r.add(br),gr.push(_r);br=_r.double()}return gr},wNAF(o,a,c){const{windows:u,windowSize:gr}=n(o);let br=t.ZERO,_r=t.BASE;const Ar=BigInt(2**o-1),vr=2**o,Tr=BigInt(o);for(let Or=0;Or<u;Or++){const Ir=Or*gr;let xr=Number(c&Ar);c>>=Tr,xr>gr&&(xr-=vr,c+=_1n$c);const Lr=Ir,Fr=Ir+Math.abs(xr)-1,Mr=Or%2!==0,Hr=xr<0;xr===0?_r=_r.add(r(Mr,a[Lr])):br=br.add(r(Hr,a[Fr]))}return{p:br,f:_r}},wNAFCached(o,a,c,u){const gr=o._WINDOW_SIZE||1;let br=a.get(o);return br||(br=this.precomputeWindow(o,gr),gr!==1&&a.set(o,u(br))),this.wNAF(gr,br,c)}}}function validateBasic$1(t){return validateField$1(t.Fp),validateObject$1(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$1(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$7=BigInt(0),_1n$b=BigInt(1),_2n$8=BigInt(2),_8n$3=BigInt(8),VERIFY_DEFAULT$1={zip215:!0};function validateOpts$3(t){const e=validateBasic$1(t);return validateObject$1(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function twistedEdwards$1(t){const e=validateOpts$3(t),{Fp:r,n,prehash:o,hash:a,randomBytes:c,nByteLength:u,h:gr}=e,br=_2n$8<<BigInt(u*8)-_1n$b,_r=r.create,Ar=e.uvRatio||((Zr,Xr)=>{try{return{isValid:!0,value:r.sqrt(Zr*r.inv(Xr))}}catch{return{isValid:!1,value:_0n$7}}}),vr=e.adjustScalarBytes||(Zr=>Zr),Tr=e.domain||((Zr,Xr,nn)=>{if(Xr.length||nn)throw new Error("Contexts/pre-hash are not supported");return Zr}),Or=Zr=>typeof Zr=="bigint"&&_0n$7<Zr,Ir=(Zr,Xr)=>Or(Zr)&&Or(Xr)&&Zr<Xr,xr=Zr=>Zr===_0n$7||Ir(Zr,br);function Lr(Zr,Xr){if(Ir(Zr,Xr))return Zr;throw new Error(`Expected valid scalar < ${Xr}, got ${typeof Zr} ${Zr}`)}function Fr(Zr){return Zr===_0n$7?Zr:Lr(Zr,n)}const Mr=new Map;function Hr(Zr){if(!(Zr instanceof Vr))throw new Error("ExtendedPoint expected")}class Vr{constructor(Xr,nn,Gr,Nr){if(this.ex=Xr,this.ey=nn,this.ez=Gr,this.et=Nr,!xr(Xr))throw new Error("x required");if(!xr(nn))throw new Error("y required");if(!xr(Gr))throw new Error("z required");if(!xr(Nr))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Xr){if(Xr instanceof Vr)throw new Error("extended point not allowed");const{x:nn,y:Gr}=Xr||{};if(!xr(nn)||!xr(Gr))throw new Error("invalid affine point");return new Vr(nn,Gr,_1n$b,_r(nn*Gr))}static normalizeZ(Xr){const nn=r.invertBatch(Xr.map(Gr=>Gr.ez));return Xr.map((Gr,Nr)=>Gr.toAffine(nn[Nr])).map(Vr.fromAffine)}_setWindowSize(Xr){this._WINDOW_SIZE=Xr,Mr.delete(this)}assertValidity(){const{a:Xr,d:nn}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:Gr,ey:Nr,ez:Jr,et:fn}=this,An=_r(Gr*Gr),wn=_r(Nr*Nr),yn=_r(Jr*Jr),mn=_r(yn*yn),_n=_r(An*Xr),In=_r(yn*_r(_n+wn)),Nn=_r(mn+_r(nn*_r(An*wn)));if(In!==Nn)throw new Error("bad point: equation left != right (1)");const ln=_r(Gr*Nr),hn=_r(Jr*fn);if(ln!==hn)throw new Error("bad point: equation left != right (2)")}equals(Xr){Hr(Xr);const{ex:nn,ey:Gr,ez:Nr}=this,{ex:Jr,ey:fn,ez:An}=Xr,wn=_r(nn*An),yn=_r(Jr*Nr),mn=_r(Gr*An),_n=_r(fn*Nr);return wn===yn&&mn===_n}is0(){return this.equals(Vr.ZERO)}negate(){return new Vr(_r(-this.ex),this.ey,this.ez,_r(-this.et))}double(){const{a:Xr}=e,{ex:nn,ey:Gr,ez:Nr}=this,Jr=_r(nn*nn),fn=_r(Gr*Gr),An=_r(_2n$8*_r(Nr*Nr)),wn=_r(Xr*Jr),yn=nn+Gr,mn=_r(_r(yn*yn)-Jr-fn),_n=wn+fn,In=_n-An,Nn=wn-fn,ln=_r(mn*In),hn=_r(_n*Nn),gn=_r(mn*Nn),Rn=_r(In*_n);return new Vr(ln,hn,Rn,gn)}add(Xr){Hr(Xr);const{a:nn,d:Gr}=e,{ex:Nr,ey:Jr,ez:fn,et:An}=this,{ex:wn,ey:yn,ez:mn,et:_n}=Xr;if(nn===BigInt(-1)){const jn=_r((Jr-Nr)*(yn+wn)),Hn=_r((Jr+Nr)*(yn-wn)),Wn=_r(Hn-jn);if(Wn===_0n$7)return this.double();const Vn=_r(fn*_2n$8*_n),Yn=_r(An*_2n$8*mn),kr=Yn+Vn,Sr=Hn+jn,wr=Yn-Vn,Br=_r(kr*Wn),Wr=_r(Sr*wr),Qr=_r(kr*wr),an=_r(Wn*Sr);return new Vr(Br,Wr,an,Qr)}const In=_r(Nr*wn),Nn=_r(Jr*yn),ln=_r(An*Gr*_n),hn=_r(fn*mn),gn=_r((Nr+Jr)*(wn+yn)-In-Nn),Rn=hn-ln,Cn=hn+ln,kn=_r(Nn-nn*In),Un=_r(gn*Rn),Sn=_r(Cn*kn),Bn=_r(gn*kn),Tn=_r(Rn*Cn);return new Vr(Un,Sn,Tn,Bn)}subtract(Xr){return this.add(Xr.negate())}wNAF(Xr){return qr.wNAFCached(this,Mr,Xr,Vr.normalizeZ)}multiply(Xr){const{p:nn,f:Gr}=this.wNAF(Lr(Xr,n));return Vr.normalizeZ([nn,Gr])[0]}multiplyUnsafe(Xr){let nn=Fr(Xr);return nn===_0n$7?jr:this.equals(jr)||nn===_1n$b?this:this.equals(Kr)?this.wNAF(nn).p:qr.unsafeLadder(this,nn)}isSmallOrder(){return this.multiplyUnsafe(gr).is0()}isTorsionFree(){return qr.unsafeLadder(this,n).is0()}toAffine(Xr){const{ex:nn,ey:Gr,ez:Nr}=this,Jr=this.is0();Xr==null&&(Xr=Jr?_8n$3:r.inv(Nr));const fn=_r(nn*Xr),An=_r(Gr*Xr),wn=_r(Nr*Xr);if(Jr)return{x:_0n$7,y:_1n$b};if(wn!==_1n$b)throw new Error("invZ was invalid");return{x:fn,y:An}}clearCofactor(){const{h:Xr}=e;return Xr===_1n$b?this:this.multiplyUnsafe(Xr)}static fromHex(Xr,nn=!1){const{d:Gr,a:Nr}=e,Jr=r.BYTES;Xr=ensureBytes$1("pointHex",Xr,Jr);const fn=Xr.slice(),An=Xr[Jr-1];fn[Jr-1]=An&-129;const wn=bytesToNumberLE$1(fn);wn===_0n$7||(nn?Lr(wn,br):Lr(wn,r.ORDER));const yn=_r(wn*wn),mn=_r(yn-_1n$b),_n=_r(Gr*yn-Nr);let{isValid:In,value:Nn}=Ar(mn,_n);if(!In)throw new Error("Point.fromHex: invalid y coordinate");const ln=(Nn&_1n$b)===_1n$b,hn=(An&128)!==0;if(!nn&&Nn===_0n$7&&hn)throw new Error("Point.fromHex: x=0 and x_0=1");return hn!==ln&&(Nn=_r(-Nn)),Vr.fromAffine({x:Nn,y:wn})}static fromPrivateKey(Xr){return sn(Xr).point}toRawBytes(){const{x:Xr,y:nn}=this.toAffine(),Gr=numberToBytesLE$1(nn,r.BYTES);return Gr[Gr.length-1]|=Xr&_1n$b?128:0,Gr}toHex(){return bytesToHex$1(this.toRawBytes())}}Vr.BASE=new Vr(e.Gx,e.Gy,_1n$b,_r(e.Gx*e.Gy)),Vr.ZERO=new Vr(_0n$7,_1n$b,_1n$b,_0n$7);const{BASE:Kr,ZERO:jr}=Vr,qr=wNAF$1(Vr,u*8);function tn(Zr){return mod$1(Zr,n)}function en(Zr){return tn(bytesToNumberLE$1(Zr))}function sn(Zr){const Xr=u;Zr=ensureBytes$1("private key",Zr,Xr);const nn=ensureBytes$1("hashed private key",a(Zr),2*Xr),Gr=vr(nn.slice(0,Xr)),Nr=nn.slice(Xr,2*Xr),Jr=en(Gr),fn=Kr.multiply(Jr),An=fn.toRawBytes();return{head:Gr,prefix:Nr,scalar:Jr,point:fn,pointBytes:An}}function cn(Zr){return sn(Zr).pointBytes}function Ur(Zr=new Uint8Array,...Xr){const nn=concatBytes$2(...Xr);return en(a(Tr(nn,ensureBytes$1("context",Zr),!!o)))}function Rr(Zr,Xr,nn={}){Zr=ensureBytes$1("message",Zr),o&&(Zr=o(Zr));const{prefix:Gr,scalar:Nr,pointBytes:Jr}=sn(Xr),fn=Ur(nn.context,Gr,Zr),An=Kr.multiply(fn).toRawBytes(),wn=Ur(nn.context,An,Jr,Zr),yn=tn(fn+wn*Nr);Fr(yn);const mn=concatBytes$2(An,numberToBytesLE$1(yn,r.BYTES));return ensureBytes$1("result",mn,u*2)}const Pr=VERIFY_DEFAULT$1;function Dr(Zr,Xr,nn,Gr=Pr){const{context:Nr,zip215:Jr}=Gr,fn=r.BYTES;Zr=ensureBytes$1("signature",Zr,2*fn),Xr=ensureBytes$1("message",Xr),o&&(Xr=o(Xr));const An=bytesToNumberLE$1(Zr.slice(fn,2*fn));let wn,yn,mn;try{wn=Vr.fromHex(nn,Jr),yn=Vr.fromHex(Zr.slice(0,fn),Jr),mn=Kr.multiplyUnsafe(An)}catch{return!1}if(!Jr&&wn.isSmallOrder())return!1;const _n=Ur(Nr,yn.toRawBytes(),wn.toRawBytes(),Xr);return yn.add(wn.multiplyUnsafe(_n)).subtract(mn).clearCofactor().equals(Vr.ZERO)}return Kr._setWindowSize(8),{CURVE:e,getPublicKey:cn,sign:Rr,verify:Dr,ExtendedPoint:Vr,utils:{getExtendedPublicKey:sn,randomPrivateKey:()=>c(r.BYTES),precompute(Zr=8,Xr=Vr.BASE){return Xr._setWindowSize(Zr),Xr.multiply(BigInt(3)),Xr}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P$1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1$1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$a=BigInt(1),_2n$7=BigInt(2),_5n$2=BigInt(5),_10n=BigInt(10),_20n=BigInt(20),_40n=BigInt(40),_80n=BigInt(80);function ed25519_pow_2_252_3$1(t){const e=ED25519_P$1,n=t*t%e*t%e,o=pow2$1(n,_2n$7,e)*n%e,a=pow2$1(o,_1n$a,e)*t%e,c=pow2$1(a,_5n$2,e)*a%e,u=pow2$1(c,_10n,e)*c%e,gr=pow2$1(u,_20n,e)*u%e,br=pow2$1(gr,_40n,e)*gr%e,_r=pow2$1(br,_80n,e)*br%e,Ar=pow2$1(_r,_80n,e)*br%e,vr=pow2$1(Ar,_10n,e)*c%e;return{pow_p_5_8:pow2$1(vr,_2n$7,e)*t%e,b2:n}}function adjustScalarBytes$1(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function uvRatio$1(t,e){const r=ED25519_P$1,n=mod$1(e*e*e,r),o=mod$1(n*n*e,r),a=ed25519_pow_2_252_3$1(t*o).pow_p_5_8;let c=mod$1(t*n*a,r);const u=mod$1(e*c*c,r),gr=c,br=mod$1(c*ED25519_SQRT_M1$1,r),_r=u===t,Ar=u===mod$1(-t,r),vr=u===mod$1(-t*ED25519_SQRT_M1$1,r);return _r&&(c=gr),(Ar||vr)&&(c=br),isNegativeLE$1(c,r)&&(c=mod$1(-c,r)),{isValid:_r||Ar,value:c}}const Fp$3=Field$1(ED25519_P$1,void 0,!0),ed25519Defaults$1={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Fp$3,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512$1,randomBytes:randomBytes$1,adjustScalarBytes:adjustScalarBytes$1,uvRatio:uvRatio$1},ed25519$1=twistedEdwards$1(ed25519Defaults$1);function ed25519_domain(t,e,r){if(e.length>255)throw new Error("Context is too big");return concatBytes$3(utf8ToBytes$3("SigEd25519 no Ed25519 collisions"),new Uint8Array([r?1:0,e.length]),e,t)}({...ed25519Defaults$1});({...ed25519Defaults$1});const ELL2_C1=(Fp$3.ORDER+BigInt(3))/BigInt(8);Fp$3.pow(_2n$7,ELL2_C1);Fp$3.sqrt(Fp$3.neg(Fp$3.ONE));(Fp$3.ORDER-BigInt(5))/BigInt(8);BigInt(486662);FpSqrtEven(Fp$3,Fp$3.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var bn={exports:{}};(function(t){(function(e,r){function n(Ur,Rr){if(!Ur)throw new Error(Rr||"Assertion failed")}function o(Ur,Rr){Ur.super_=Rr;var Pr=function(){};Pr.prototype=Rr.prototype,Ur.prototype=new Pr,Ur.prototype.constructor=Ur}function a(Ur,Rr,Pr){if(a.isBN(Ur))return Ur;this.negative=0,this.words=null,this.length=0,this.red=null,Ur!==null&&((Rr==="le"||Rr==="be")&&(Pr=Rr,Rr=10),this._init(Ur||0,Rr||10,Pr||"be"))}typeof e=="object"?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=require("buffer").Buffer}catch{}a.isBN=function(Rr){return Rr instanceof a?!0:Rr!==null&&typeof Rr=="object"&&Rr.constructor.wordSize===a.wordSize&&Array.isArray(Rr.words)},a.max=function(Rr,Pr){return Rr.cmp(Pr)>0?Rr:Pr},a.min=function(Rr,Pr){return Rr.cmp(Pr)<0?Rr:Pr},a.prototype._init=function(Rr,Pr,Dr){if(typeof Rr=="number")return this._initNumber(Rr,Pr,Dr);if(typeof Rr=="object")return this._initArray(Rr,Pr,Dr);Pr==="hex"&&(Pr=16),n(Pr===(Pr|0)&&Pr>=2&&Pr<=36),Rr=Rr.toString().replace(/\s+/g,"");var Yr=0;Rr[0]==="-"&&(Yr++,this.negative=1),Yr<Rr.length&&(Pr===16?this._parseHex(Rr,Yr,Dr):(this._parseBase(Rr,Pr,Yr),Dr==="le"&&this._initArray(this.toArray(),Pr,Dr)))},a.prototype._initNumber=function(Rr,Pr,Dr){Rr<0&&(this.negative=1,Rr=-Rr),Rr<67108864?(this.words=[Rr&67108863],this.length=1):Rr<4503599627370496?(this.words=[Rr&67108863,Rr/67108864&67108863],this.length=2):(n(Rr<9007199254740992),this.words=[Rr&67108863,Rr/67108864&67108863,1],this.length=3),Dr==="le"&&this._initArray(this.toArray(),Pr,Dr)},a.prototype._initArray=function(Rr,Pr,Dr){if(n(typeof Rr.length=="number"),Rr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Rr.length/3),this.words=new Array(this.length);for(var Yr=0;Yr<this.length;Yr++)this.words[Yr]=0;var Zr,Xr,nn=0;if(Dr==="be")for(Yr=Rr.length-1,Zr=0;Yr>=0;Yr-=3)Xr=Rr[Yr]|Rr[Yr-1]<<8|Rr[Yr-2]<<16,this.words[Zr]|=Xr<<nn&67108863,this.words[Zr+1]=Xr>>>26-nn&67108863,nn+=24,nn>=26&&(nn-=26,Zr++);else if(Dr==="le")for(Yr=0,Zr=0;Yr<Rr.length;Yr+=3)Xr=Rr[Yr]|Rr[Yr+1]<<8|Rr[Yr+2]<<16,this.words[Zr]|=Xr<<nn&67108863,this.words[Zr+1]=Xr>>>26-nn&67108863,nn+=24,nn>=26&&(nn-=26,Zr++);return this._strip()};function u(Ur,Rr){var Pr=Ur.charCodeAt(Rr);if(Pr>=48&&Pr<=57)return Pr-48;if(Pr>=65&&Pr<=70)return Pr-55;if(Pr>=97&&Pr<=102)return Pr-87;n(!1,"Invalid character in "+Ur)}function gr(Ur,Rr,Pr){var Dr=u(Ur,Pr);return Pr-1>=Rr&&(Dr|=u(Ur,Pr-1)<<4),Dr}a.prototype._parseHex=function(Rr,Pr,Dr){this.length=Math.ceil((Rr.length-Pr)/6),this.words=new Array(this.length);for(var Yr=0;Yr<this.length;Yr++)this.words[Yr]=0;var Zr=0,Xr=0,nn;if(Dr==="be")for(Yr=Rr.length-1;Yr>=Pr;Yr-=2)nn=gr(Rr,Pr,Yr)<<Zr,this.words[Xr]|=nn&67108863,Zr>=18?(Zr-=18,Xr+=1,this.words[Xr]|=nn>>>26):Zr+=8;else{var Gr=Rr.length-Pr;for(Yr=Gr%2===0?Pr+1:Pr;Yr<Rr.length;Yr+=2)nn=gr(Rr,Pr,Yr)<<Zr,this.words[Xr]|=nn&67108863,Zr>=18?(Zr-=18,Xr+=1,this.words[Xr]|=nn>>>26):Zr+=8}this._strip()};function br(Ur,Rr,Pr,Dr){for(var Yr=0,Zr=0,Xr=Math.min(Ur.length,Pr),nn=Rr;nn<Xr;nn++){var Gr=Ur.charCodeAt(nn)-48;Yr*=Dr,Gr>=49?Zr=Gr-49+10:Gr>=17?Zr=Gr-17+10:Zr=Gr,n(Gr>=0&&Zr<Dr,"Invalid character"),Yr+=Zr}return Yr}a.prototype._parseBase=function(Rr,Pr,Dr){this.words=[0],this.length=1;for(var Yr=0,Zr=1;Zr<=67108863;Zr*=Pr)Yr++;Yr--,Zr=Zr/Pr|0;for(var Xr=Rr.length-Dr,nn=Xr%Yr,Gr=Math.min(Xr,Xr-nn)+Dr,Nr=0,Jr=Dr;Jr<Gr;Jr+=Yr)Nr=br(Rr,Jr,Jr+Yr,Pr),this.imuln(Zr),this.words[0]+Nr<67108864?this.words[0]+=Nr:this._iaddn(Nr);if(nn!==0){var fn=1;for(Nr=br(Rr,Jr,Rr.length,Pr),Jr=0;Jr<nn;Jr++)fn*=Pr;this.imuln(fn),this.words[0]+Nr<67108864?this.words[0]+=Nr:this._iaddn(Nr)}this._strip()},a.prototype.copy=function(Rr){Rr.words=new Array(this.length);for(var Pr=0;Pr<this.length;Pr++)Rr.words[Pr]=this.words[Pr];Rr.length=this.length,Rr.negative=this.negative,Rr.red=this.red};function _r(Ur,Rr){Ur.words=Rr.words,Ur.length=Rr.length,Ur.negative=Rr.negative,Ur.red=Rr.red}if(a.prototype._move=function(Rr){_r(Rr,this)},a.prototype.clone=function(){var Rr=new a(null);return this.copy(Rr),Rr},a.prototype._expand=function(Rr){for(;this.length<Rr;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ar}catch{a.prototype.inspect=Ar}else a.prototype.inspect=Ar;function Ar(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var vr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],Tr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Or=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(Rr,Pr){Rr=Rr||10,Pr=Pr|0||1;var Dr;if(Rr===16||Rr==="hex"){Dr="";for(var Yr=0,Zr=0,Xr=0;Xr<this.length;Xr++){var nn=this.words[Xr],Gr=((nn<<Yr|Zr)&16777215).toString(16);Zr=nn>>>24-Yr&16777215,Yr+=2,Yr>=26&&(Yr-=26,Xr--),Zr!==0||Xr!==this.length-1?Dr=vr[6-Gr.length]+Gr+Dr:Dr=Gr+Dr}for(Zr!==0&&(Dr=Zr.toString(16)+Dr);Dr.length%Pr!==0;)Dr="0"+Dr;return this.negative!==0&&(Dr="-"+Dr),Dr}if(Rr===(Rr|0)&&Rr>=2&&Rr<=36){var Nr=Tr[Rr],Jr=Or[Rr];Dr="";var fn=this.clone();for(fn.negative=0;!fn.isZero();){var An=fn.modrn(Jr).toString(Rr);fn=fn.idivn(Jr),fn.isZero()?Dr=An+Dr:Dr=vr[Nr-An.length]+An+Dr}for(this.isZero()&&(Dr="0"+Dr);Dr.length%Pr!==0;)Dr="0"+Dr;return this.negative!==0&&(Dr="-"+Dr),Dr}n(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var Rr=this.words[0];return this.length===2?Rr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Rr+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Rr:Rr},a.prototype.toJSON=function(){return this.toString(16,2)},c&&(a.prototype.toBuffer=function(Rr,Pr){return this.toArrayLike(c,Rr,Pr)}),a.prototype.toArray=function(Rr,Pr){return this.toArrayLike(Array,Rr,Pr)};var Ir=function(Rr,Pr){return Rr.allocUnsafe?Rr.allocUnsafe(Pr):new Rr(Pr)};a.prototype.toArrayLike=function(Rr,Pr,Dr){this._strip();var Yr=this.byteLength(),Zr=Dr||Math.max(1,Yr);n(Yr<=Zr,"byte array longer than desired length"),n(Zr>0,"Requested array length <= 0");var Xr=Ir(Rr,Zr),nn=Pr==="le"?"LE":"BE";return this["_toArrayLike"+nn](Xr,Yr),Xr},a.prototype._toArrayLikeLE=function(Rr,Pr){for(var Dr=0,Yr=0,Zr=0,Xr=0;Zr<this.length;Zr++){var nn=this.words[Zr]<<Xr|Yr;Rr[Dr++]=nn&255,Dr<Rr.length&&(Rr[Dr++]=nn>>8&255),Dr<Rr.length&&(Rr[Dr++]=nn>>16&255),Xr===6?(Dr<Rr.length&&(Rr[Dr++]=nn>>24&255),Yr=0,Xr=0):(Yr=nn>>>24,Xr+=2)}if(Dr<Rr.length)for(Rr[Dr++]=Yr;Dr<Rr.length;)Rr[Dr++]=0},a.prototype._toArrayLikeBE=function(Rr,Pr){for(var Dr=Rr.length-1,Yr=0,Zr=0,Xr=0;Zr<this.length;Zr++){var nn=this.words[Zr]<<Xr|Yr;Rr[Dr--]=nn&255,Dr>=0&&(Rr[Dr--]=nn>>8&255),Dr>=0&&(Rr[Dr--]=nn>>16&255),Xr===6?(Dr>=0&&(Rr[Dr--]=nn>>24&255),Yr=0,Xr=0):(Yr=nn>>>24,Xr+=2)}if(Dr>=0)for(Rr[Dr--]=Yr;Dr>=0;)Rr[Dr--]=0},Math.clz32?a.prototype._countBits=function(Rr){return 32-Math.clz32(Rr)}:a.prototype._countBits=function(Rr){var Pr=Rr,Dr=0;return Pr>=4096&&(Dr+=13,Pr>>>=13),Pr>=64&&(Dr+=7,Pr>>>=7),Pr>=8&&(Dr+=4,Pr>>>=4),Pr>=2&&(Dr+=2,Pr>>>=2),Dr+Pr},a.prototype._zeroBits=function(Rr){if(Rr===0)return 26;var Pr=Rr,Dr=0;return(Pr&8191)===0&&(Dr+=13,Pr>>>=13),(Pr&127)===0&&(Dr+=7,Pr>>>=7),(Pr&15)===0&&(Dr+=4,Pr>>>=4),(Pr&3)===0&&(Dr+=2,Pr>>>=2),(Pr&1)===0&&Dr++,Dr},a.prototype.bitLength=function(){var Rr=this.words[this.length-1],Pr=this._countBits(Rr);return(this.length-1)*26+Pr};function xr(Ur){for(var Rr=new Array(Ur.bitLength()),Pr=0;Pr<Rr.length;Pr++){var Dr=Pr/26|0,Yr=Pr%26;Rr[Pr]=Ur.words[Dr]>>>Yr&1}return Rr}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Rr=0,Pr=0;Pr<this.length;Pr++){var Dr=this._zeroBits(this.words[Pr]);if(Rr+=Dr,Dr!==26)break}return Rr},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(Rr){return this.negative!==0?this.abs().inotn(Rr).iaddn(1):this.clone()},a.prototype.fromTwos=function(Rr){return this.testn(Rr-1)?this.notn(Rr).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(Rr){for(;this.length<Rr.length;)this.words[this.length++]=0;for(var Pr=0;Pr<Rr.length;Pr++)this.words[Pr]=this.words[Pr]|Rr.words[Pr];return this._strip()},a.prototype.ior=function(Rr){return n((this.negative|Rr.negative)===0),this.iuor(Rr)},a.prototype.or=function(Rr){return this.length>Rr.length?this.clone().ior(Rr):Rr.clone().ior(this)},a.prototype.uor=function(Rr){return this.length>Rr.length?this.clone().iuor(Rr):Rr.clone().iuor(this)},a.prototype.iuand=function(Rr){var Pr;this.length>Rr.length?Pr=Rr:Pr=this;for(var Dr=0;Dr<Pr.length;Dr++)this.words[Dr]=this.words[Dr]&Rr.words[Dr];return this.length=Pr.length,this._strip()},a.prototype.iand=function(Rr){return n((this.negative|Rr.negative)===0),this.iuand(Rr)},a.prototype.and=function(Rr){return this.length>Rr.length?this.clone().iand(Rr):Rr.clone().iand(this)},a.prototype.uand=function(Rr){return this.length>Rr.length?this.clone().iuand(Rr):Rr.clone().iuand(this)},a.prototype.iuxor=function(Rr){var Pr,Dr;this.length>Rr.length?(Pr=this,Dr=Rr):(Pr=Rr,Dr=this);for(var Yr=0;Yr<Dr.length;Yr++)this.words[Yr]=Pr.words[Yr]^Dr.words[Yr];if(this!==Pr)for(;Yr<Pr.length;Yr++)this.words[Yr]=Pr.words[Yr];return this.length=Pr.length,this._strip()},a.prototype.ixor=function(Rr){return n((this.negative|Rr.negative)===0),this.iuxor(Rr)},a.prototype.xor=function(Rr){return this.length>Rr.length?this.clone().ixor(Rr):Rr.clone().ixor(this)},a.prototype.uxor=function(Rr){return this.length>Rr.length?this.clone().iuxor(Rr):Rr.clone().iuxor(this)},a.prototype.inotn=function(Rr){n(typeof Rr=="number"&&Rr>=0);var Pr=Math.ceil(Rr/26)|0,Dr=Rr%26;this._expand(Pr),Dr>0&&Pr--;for(var Yr=0;Yr<Pr;Yr++)this.words[Yr]=~this.words[Yr]&67108863;return Dr>0&&(this.words[Yr]=~this.words[Yr]&67108863>>26-Dr),this._strip()},a.prototype.notn=function(Rr){return this.clone().inotn(Rr)},a.prototype.setn=function(Rr,Pr){n(typeof Rr=="number"&&Rr>=0);var Dr=Rr/26|0,Yr=Rr%26;return this._expand(Dr+1),Pr?this.words[Dr]=this.words[Dr]|1<<Yr:this.words[Dr]=this.words[Dr]&~(1<<Yr),this._strip()},a.prototype.iadd=function(Rr){var Pr;if(this.negative!==0&&Rr.negative===0)return this.negative=0,Pr=this.isub(Rr),this.negative^=1,this._normSign();if(this.negative===0&&Rr.negative!==0)return Rr.negative=0,Pr=this.isub(Rr),Rr.negative=1,Pr._normSign();var Dr,Yr;this.length>Rr.length?(Dr=this,Yr=Rr):(Dr=Rr,Yr=this);for(var Zr=0,Xr=0;Xr<Yr.length;Xr++)Pr=(Dr.words[Xr]|0)+(Yr.words[Xr]|0)+Zr,this.words[Xr]=Pr&67108863,Zr=Pr>>>26;for(;Zr!==0&&Xr<Dr.length;Xr++)Pr=(Dr.words[Xr]|0)+Zr,this.words[Xr]=Pr&67108863,Zr=Pr>>>26;if(this.length=Dr.length,Zr!==0)this.words[this.length]=Zr,this.length++;else if(Dr!==this)for(;Xr<Dr.length;Xr++)this.words[Xr]=Dr.words[Xr];return this},a.prototype.add=function(Rr){var Pr;return Rr.negative!==0&&this.negative===0?(Rr.negative=0,Pr=this.sub(Rr),Rr.negative^=1,Pr):Rr.negative===0&&this.negative!==0?(this.negative=0,Pr=Rr.sub(this),this.negative=1,Pr):this.length>Rr.length?this.clone().iadd(Rr):Rr.clone().iadd(this)},a.prototype.isub=function(Rr){if(Rr.negative!==0){Rr.negative=0;var Pr=this.iadd(Rr);return Rr.negative=1,Pr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Rr),this.negative=1,this._normSign();var Dr=this.cmp(Rr);if(Dr===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Yr,Zr;Dr>0?(Yr=this,Zr=Rr):(Yr=Rr,Zr=this);for(var Xr=0,nn=0;nn<Zr.length;nn++)Pr=(Yr.words[nn]|0)-(Zr.words[nn]|0)+Xr,Xr=Pr>>26,this.words[nn]=Pr&67108863;for(;Xr!==0&&nn<Yr.length;nn++)Pr=(Yr.words[nn]|0)+Xr,Xr=Pr>>26,this.words[nn]=Pr&67108863;if(Xr===0&&nn<Yr.length&&Yr!==this)for(;nn<Yr.length;nn++)this.words[nn]=Yr.words[nn];return this.length=Math.max(this.length,nn),Yr!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(Rr){return this.clone().isub(Rr)};function Lr(Ur,Rr,Pr){Pr.negative=Rr.negative^Ur.negative;var Dr=Ur.length+Rr.length|0;Pr.length=Dr,Dr=Dr-1|0;var Yr=Ur.words[0]|0,Zr=Rr.words[0]|0,Xr=Yr*Zr,nn=Xr&67108863,Gr=Xr/67108864|0;Pr.words[0]=nn;for(var Nr=1;Nr<Dr;Nr++){for(var Jr=Gr>>>26,fn=Gr&67108863,An=Math.min(Nr,Rr.length-1),wn=Math.max(0,Nr-Ur.length+1);wn<=An;wn++){var yn=Nr-wn|0;Yr=Ur.words[yn]|0,Zr=Rr.words[wn]|0,Xr=Yr*Zr+fn,Jr+=Xr/67108864|0,fn=Xr&67108863}Pr.words[Nr]=fn|0,Gr=Jr|0}return Gr!==0?Pr.words[Nr]=Gr|0:Pr.length--,Pr._strip()}var Fr=function(Rr,Pr,Dr){var Yr=Rr.words,Zr=Pr.words,Xr=Dr.words,nn=0,Gr,Nr,Jr,fn=Yr[0]|0,An=fn&8191,wn=fn>>>13,yn=Yr[1]|0,mn=yn&8191,_n=yn>>>13,In=Yr[2]|0,Nn=In&8191,ln=In>>>13,hn=Yr[3]|0,gn=hn&8191,Rn=hn>>>13,Cn=Yr[4]|0,kn=Cn&8191,Un=Cn>>>13,Sn=Yr[5]|0,Bn=Sn&8191,Tn=Sn>>>13,jn=Yr[6]|0,Hn=jn&8191,Wn=jn>>>13,Vn=Yr[7]|0,Yn=Vn&8191,kr=Vn>>>13,Sr=Yr[8]|0,wr=Sr&8191,Br=Sr>>>13,Wr=Yr[9]|0,Qr=Wr&8191,an=Wr>>>13,Pn=Zr[0]|0,Fn=Pn&8191,Dn=Pn>>>13,Gn=Zr[1]|0,Kn=Gn&8191,Ai=Gn>>>13,Hs=Zr[2]|0,bi=Hs&8191,_i=Hs>>>13,zs=Zr[3]|0,Ei=zs&8191,vi=zs>>>13,js=Zr[4]|0,$i=js&8191,Ri=js>>>13,Ws=Zr[5]|0,Ti=Ws&8191,yi=Ws>>>13,Vs=Zr[6]|0,gi=Vs&8191,ki=Vs>>>13,Gs=Zr[7]|0,Ii=Gs&8191,Oi=Gs>>>13,qs=Zr[8]|0,Ci=qs&8191,Pi=qs>>>13,Ys=Zr[9]|0,Si=Ys&8191,xi=Ys>>>13;Dr.negative=Rr.negative^Pr.negative,Dr.length=19,Gr=Math.imul(An,Fn),Nr=Math.imul(An,Dn),Nr=Nr+Math.imul(wn,Fn)|0,Jr=Math.imul(wn,Dn);var hs=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(hs>>>26)|0,hs&=67108863,Gr=Math.imul(mn,Fn),Nr=Math.imul(mn,Dn),Nr=Nr+Math.imul(_n,Fn)|0,Jr=Math.imul(_n,Dn),Gr=Gr+Math.imul(An,Kn)|0,Nr=Nr+Math.imul(An,Ai)|0,Nr=Nr+Math.imul(wn,Kn)|0,Jr=Jr+Math.imul(wn,Ai)|0;var ps=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(ps>>>26)|0,ps&=67108863,Gr=Math.imul(Nn,Fn),Nr=Math.imul(Nn,Dn),Nr=Nr+Math.imul(ln,Fn)|0,Jr=Math.imul(ln,Dn),Gr=Gr+Math.imul(mn,Kn)|0,Nr=Nr+Math.imul(mn,Ai)|0,Nr=Nr+Math.imul(_n,Kn)|0,Jr=Jr+Math.imul(_n,Ai)|0,Gr=Gr+Math.imul(An,bi)|0,Nr=Nr+Math.imul(An,_i)|0,Nr=Nr+Math.imul(wn,bi)|0,Jr=Jr+Math.imul(wn,_i)|0;var ys=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(ys>>>26)|0,ys&=67108863,Gr=Math.imul(gn,Fn),Nr=Math.imul(gn,Dn),Nr=Nr+Math.imul(Rn,Fn)|0,Jr=Math.imul(Rn,Dn),Gr=Gr+Math.imul(Nn,Kn)|0,Nr=Nr+Math.imul(Nn,Ai)|0,Nr=Nr+Math.imul(ln,Kn)|0,Jr=Jr+Math.imul(ln,Ai)|0,Gr=Gr+Math.imul(mn,bi)|0,Nr=Nr+Math.imul(mn,_i)|0,Nr=Nr+Math.imul(_n,bi)|0,Jr=Jr+Math.imul(_n,_i)|0,Gr=Gr+Math.imul(An,Ei)|0,Nr=Nr+Math.imul(An,vi)|0,Nr=Nr+Math.imul(wn,Ei)|0,Jr=Jr+Math.imul(wn,vi)|0;var gs=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(gs>>>26)|0,gs&=67108863,Gr=Math.imul(kn,Fn),Nr=Math.imul(kn,Dn),Nr=Nr+Math.imul(Un,Fn)|0,Jr=Math.imul(Un,Dn),Gr=Gr+Math.imul(gn,Kn)|0,Nr=Nr+Math.imul(gn,Ai)|0,Nr=Nr+Math.imul(Rn,Kn)|0,Jr=Jr+Math.imul(Rn,Ai)|0,Gr=Gr+Math.imul(Nn,bi)|0,Nr=Nr+Math.imul(Nn,_i)|0,Nr=Nr+Math.imul(ln,bi)|0,Jr=Jr+Math.imul(ln,_i)|0,Gr=Gr+Math.imul(mn,Ei)|0,Nr=Nr+Math.imul(mn,vi)|0,Nr=Nr+Math.imul(_n,Ei)|0,Jr=Jr+Math.imul(_n,vi)|0,Gr=Gr+Math.imul(An,$i)|0,Nr=Nr+Math.imul(An,Ri)|0,Nr=Nr+Math.imul(wn,$i)|0,Jr=Jr+Math.imul(wn,Ri)|0;var bs=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(bs>>>26)|0,bs&=67108863,Gr=Math.imul(Bn,Fn),Nr=Math.imul(Bn,Dn),Nr=Nr+Math.imul(Tn,Fn)|0,Jr=Math.imul(Tn,Dn),Gr=Gr+Math.imul(kn,Kn)|0,Nr=Nr+Math.imul(kn,Ai)|0,Nr=Nr+Math.imul(Un,Kn)|0,Jr=Jr+Math.imul(Un,Ai)|0,Gr=Gr+Math.imul(gn,bi)|0,Nr=Nr+Math.imul(gn,_i)|0,Nr=Nr+Math.imul(Rn,bi)|0,Jr=Jr+Math.imul(Rn,_i)|0,Gr=Gr+Math.imul(Nn,Ei)|0,Nr=Nr+Math.imul(Nn,vi)|0,Nr=Nr+Math.imul(ln,Ei)|0,Jr=Jr+Math.imul(ln,vi)|0,Gr=Gr+Math.imul(mn,$i)|0,Nr=Nr+Math.imul(mn,Ri)|0,Nr=Nr+Math.imul(_n,$i)|0,Jr=Jr+Math.imul(_n,Ri)|0,Gr=Gr+Math.imul(An,Ti)|0,Nr=Nr+Math.imul(An,yi)|0,Nr=Nr+Math.imul(wn,Ti)|0,Jr=Jr+Math.imul(wn,yi)|0;var ko=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(ko>>>26)|0,ko&=67108863,Gr=Math.imul(Hn,Fn),Nr=Math.imul(Hn,Dn),Nr=Nr+Math.imul(Wn,Fn)|0,Jr=Math.imul(Wn,Dn),Gr=Gr+Math.imul(Bn,Kn)|0,Nr=Nr+Math.imul(Bn,Ai)|0,Nr=Nr+Math.imul(Tn,Kn)|0,Jr=Jr+Math.imul(Tn,Ai)|0,Gr=Gr+Math.imul(kn,bi)|0,Nr=Nr+Math.imul(kn,_i)|0,Nr=Nr+Math.imul(Un,bi)|0,Jr=Jr+Math.imul(Un,_i)|0,Gr=Gr+Math.imul(gn,Ei)|0,Nr=Nr+Math.imul(gn,vi)|0,Nr=Nr+Math.imul(Rn,Ei)|0,Jr=Jr+Math.imul(Rn,vi)|0,Gr=Gr+Math.imul(Nn,$i)|0,Nr=Nr+Math.imul(Nn,Ri)|0,Nr=Nr+Math.imul(ln,$i)|0,Jr=Jr+Math.imul(ln,Ri)|0,Gr=Gr+Math.imul(mn,Ti)|0,Nr=Nr+Math.imul(mn,yi)|0,Nr=Nr+Math.imul(_n,Ti)|0,Jr=Jr+Math.imul(_n,yi)|0,Gr=Gr+Math.imul(An,gi)|0,Nr=Nr+Math.imul(An,ki)|0,Nr=Nr+Math.imul(wn,gi)|0,Jr=Jr+Math.imul(wn,ki)|0;var _s=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(_s>>>26)|0,_s&=67108863,Gr=Math.imul(Yn,Fn),Nr=Math.imul(Yn,Dn),Nr=Nr+Math.imul(kr,Fn)|0,Jr=Math.imul(kr,Dn),Gr=Gr+Math.imul(Hn,Kn)|0,Nr=Nr+Math.imul(Hn,Ai)|0,Nr=Nr+Math.imul(Wn,Kn)|0,Jr=Jr+Math.imul(Wn,Ai)|0,Gr=Gr+Math.imul(Bn,bi)|0,Nr=Nr+Math.imul(Bn,_i)|0,Nr=Nr+Math.imul(Tn,bi)|0,Jr=Jr+Math.imul(Tn,_i)|0,Gr=Gr+Math.imul(kn,Ei)|0,Nr=Nr+Math.imul(kn,vi)|0,Nr=Nr+Math.imul(Un,Ei)|0,Jr=Jr+Math.imul(Un,vi)|0,Gr=Gr+Math.imul(gn,$i)|0,Nr=Nr+Math.imul(gn,Ri)|0,Nr=Nr+Math.imul(Rn,$i)|0,Jr=Jr+Math.imul(Rn,Ri)|0,Gr=Gr+Math.imul(Nn,Ti)|0,Nr=Nr+Math.imul(Nn,yi)|0,Nr=Nr+Math.imul(ln,Ti)|0,Jr=Jr+Math.imul(ln,yi)|0,Gr=Gr+Math.imul(mn,gi)|0,Nr=Nr+Math.imul(mn,ki)|0,Nr=Nr+Math.imul(_n,gi)|0,Jr=Jr+Math.imul(_n,ki)|0,Gr=Gr+Math.imul(An,Ii)|0,Nr=Nr+Math.imul(An,Oi)|0,Nr=Nr+Math.imul(wn,Ii)|0,Jr=Jr+Math.imul(wn,Oi)|0;var Io=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(Io>>>26)|0,Io&=67108863,Gr=Math.imul(wr,Fn),Nr=Math.imul(wr,Dn),Nr=Nr+Math.imul(Br,Fn)|0,Jr=Math.imul(Br,Dn),Gr=Gr+Math.imul(Yn,Kn)|0,Nr=Nr+Math.imul(Yn,Ai)|0,Nr=Nr+Math.imul(kr,Kn)|0,Jr=Jr+Math.imul(kr,Ai)|0,Gr=Gr+Math.imul(Hn,bi)|0,Nr=Nr+Math.imul(Hn,_i)|0,Nr=Nr+Math.imul(Wn,bi)|0,Jr=Jr+Math.imul(Wn,_i)|0,Gr=Gr+Math.imul(Bn,Ei)|0,Nr=Nr+Math.imul(Bn,vi)|0,Nr=Nr+Math.imul(Tn,Ei)|0,Jr=Jr+Math.imul(Tn,vi)|0,Gr=Gr+Math.imul(kn,$i)|0,Nr=Nr+Math.imul(kn,Ri)|0,Nr=Nr+Math.imul(Un,$i)|0,Jr=Jr+Math.imul(Un,Ri)|0,Gr=Gr+Math.imul(gn,Ti)|0,Nr=Nr+Math.imul(gn,yi)|0,Nr=Nr+Math.imul(Rn,Ti)|0,Jr=Jr+Math.imul(Rn,yi)|0,Gr=Gr+Math.imul(Nn,gi)|0,Nr=Nr+Math.imul(Nn,ki)|0,Nr=Nr+Math.imul(ln,gi)|0,Jr=Jr+Math.imul(ln,ki)|0,Gr=Gr+Math.imul(mn,Ii)|0,Nr=Nr+Math.imul(mn,Oi)|0,Nr=Nr+Math.imul(_n,Ii)|0,Jr=Jr+Math.imul(_n,Oi)|0,Gr=Gr+Math.imul(An,Ci)|0,Nr=Nr+Math.imul(An,Pi)|0,Nr=Nr+Math.imul(wn,Ci)|0,Jr=Jr+Math.imul(wn,Pi)|0;var $s=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+($s>>>26)|0,$s&=67108863,Gr=Math.imul(Qr,Fn),Nr=Math.imul(Qr,Dn),Nr=Nr+Math.imul(an,Fn)|0,Jr=Math.imul(an,Dn),Gr=Gr+Math.imul(wr,Kn)|0,Nr=Nr+Math.imul(wr,Ai)|0,Nr=Nr+Math.imul(Br,Kn)|0,Jr=Jr+Math.imul(Br,Ai)|0,Gr=Gr+Math.imul(Yn,bi)|0,Nr=Nr+Math.imul(Yn,_i)|0,Nr=Nr+Math.imul(kr,bi)|0,Jr=Jr+Math.imul(kr,_i)|0,Gr=Gr+Math.imul(Hn,Ei)|0,Nr=Nr+Math.imul(Hn,vi)|0,Nr=Nr+Math.imul(Wn,Ei)|0,Jr=Jr+Math.imul(Wn,vi)|0,Gr=Gr+Math.imul(Bn,$i)|0,Nr=Nr+Math.imul(Bn,Ri)|0,Nr=Nr+Math.imul(Tn,$i)|0,Jr=Jr+Math.imul(Tn,Ri)|0,Gr=Gr+Math.imul(kn,Ti)|0,Nr=Nr+Math.imul(kn,yi)|0,Nr=Nr+Math.imul(Un,Ti)|0,Jr=Jr+Math.imul(Un,yi)|0,Gr=Gr+Math.imul(gn,gi)|0,Nr=Nr+Math.imul(gn,ki)|0,Nr=Nr+Math.imul(Rn,gi)|0,Jr=Jr+Math.imul(Rn,ki)|0,Gr=Gr+Math.imul(Nn,Ii)|0,Nr=Nr+Math.imul(Nn,Oi)|0,Nr=Nr+Math.imul(ln,Ii)|0,Jr=Jr+Math.imul(ln,Oi)|0,Gr=Gr+Math.imul(mn,Ci)|0,Nr=Nr+Math.imul(mn,Pi)|0,Nr=Nr+Math.imul(_n,Ci)|0,Jr=Jr+Math.imul(_n,Pi)|0,Gr=Gr+Math.imul(An,Si)|0,Nr=Nr+Math.imul(An,xi)|0,Nr=Nr+Math.imul(wn,Si)|0,Jr=Jr+Math.imul(wn,xi)|0;var Ss=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(Ss>>>26)|0,Ss&=67108863,Gr=Math.imul(Qr,Kn),Nr=Math.imul(Qr,Ai),Nr=Nr+Math.imul(an,Kn)|0,Jr=Math.imul(an,Ai),Gr=Gr+Math.imul(wr,bi)|0,Nr=Nr+Math.imul(wr,_i)|0,Nr=Nr+Math.imul(Br,bi)|0,Jr=Jr+Math.imul(Br,_i)|0,Gr=Gr+Math.imul(Yn,Ei)|0,Nr=Nr+Math.imul(Yn,vi)|0,Nr=Nr+Math.imul(kr,Ei)|0,Jr=Jr+Math.imul(kr,vi)|0,Gr=Gr+Math.imul(Hn,$i)|0,Nr=Nr+Math.imul(Hn,Ri)|0,Nr=Nr+Math.imul(Wn,$i)|0,Jr=Jr+Math.imul(Wn,Ri)|0,Gr=Gr+Math.imul(Bn,Ti)|0,Nr=Nr+Math.imul(Bn,yi)|0,Nr=Nr+Math.imul(Tn,Ti)|0,Jr=Jr+Math.imul(Tn,yi)|0,Gr=Gr+Math.imul(kn,gi)|0,Nr=Nr+Math.imul(kn,ki)|0,Nr=Nr+Math.imul(Un,gi)|0,Jr=Jr+Math.imul(Un,ki)|0,Gr=Gr+Math.imul(gn,Ii)|0,Nr=Nr+Math.imul(gn,Oi)|0,Nr=Nr+Math.imul(Rn,Ii)|0,Jr=Jr+Math.imul(Rn,Oi)|0,Gr=Gr+Math.imul(Nn,Ci)|0,Nr=Nr+Math.imul(Nn,Pi)|0,Nr=Nr+Math.imul(ln,Ci)|0,Jr=Jr+Math.imul(ln,Pi)|0,Gr=Gr+Math.imul(mn,Si)|0,Nr=Nr+Math.imul(mn,xi)|0,Nr=Nr+Math.imul(_n,Si)|0,Jr=Jr+Math.imul(_n,xi)|0;var ws=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(ws>>>26)|0,ws&=67108863,Gr=Math.imul(Qr,bi),Nr=Math.imul(Qr,_i),Nr=Nr+Math.imul(an,bi)|0,Jr=Math.imul(an,_i),Gr=Gr+Math.imul(wr,Ei)|0,Nr=Nr+Math.imul(wr,vi)|0,Nr=Nr+Math.imul(Br,Ei)|0,Jr=Jr+Math.imul(Br,vi)|0,Gr=Gr+Math.imul(Yn,$i)|0,Nr=Nr+Math.imul(Yn,Ri)|0,Nr=Nr+Math.imul(kr,$i)|0,Jr=Jr+Math.imul(kr,Ri)|0,Gr=Gr+Math.imul(Hn,Ti)|0,Nr=Nr+Math.imul(Hn,yi)|0,Nr=Nr+Math.imul(Wn,Ti)|0,Jr=Jr+Math.imul(Wn,yi)|0,Gr=Gr+Math.imul(Bn,gi)|0,Nr=Nr+Math.imul(Bn,ki)|0,Nr=Nr+Math.imul(Tn,gi)|0,Jr=Jr+Math.imul(Tn,ki)|0,Gr=Gr+Math.imul(kn,Ii)|0,Nr=Nr+Math.imul(kn,Oi)|0,Nr=Nr+Math.imul(Un,Ii)|0,Jr=Jr+Math.imul(Un,Oi)|0,Gr=Gr+Math.imul(gn,Ci)|0,Nr=Nr+Math.imul(gn,Pi)|0,Nr=Nr+Math.imul(Rn,Ci)|0,Jr=Jr+Math.imul(Rn,Pi)|0,Gr=Gr+Math.imul(Nn,Si)|0,Nr=Nr+Math.imul(Nn,xi)|0,Nr=Nr+Math.imul(ln,Si)|0,Jr=Jr+Math.imul(ln,xi)|0;var qo=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(qo>>>26)|0,qo&=67108863,Gr=Math.imul(Qr,Ei),Nr=Math.imul(Qr,vi),Nr=Nr+Math.imul(an,Ei)|0,Jr=Math.imul(an,vi),Gr=Gr+Math.imul(wr,$i)|0,Nr=Nr+Math.imul(wr,Ri)|0,Nr=Nr+Math.imul(Br,$i)|0,Jr=Jr+Math.imul(Br,Ri)|0,Gr=Gr+Math.imul(Yn,Ti)|0,Nr=Nr+Math.imul(Yn,yi)|0,Nr=Nr+Math.imul(kr,Ti)|0,Jr=Jr+Math.imul(kr,yi)|0,Gr=Gr+Math.imul(Hn,gi)|0,Nr=Nr+Math.imul(Hn,ki)|0,Nr=Nr+Math.imul(Wn,gi)|0,Jr=Jr+Math.imul(Wn,ki)|0,Gr=Gr+Math.imul(Bn,Ii)|0,Nr=Nr+Math.imul(Bn,Oi)|0,Nr=Nr+Math.imul(Tn,Ii)|0,Jr=Jr+Math.imul(Tn,Oi)|0,Gr=Gr+Math.imul(kn,Ci)|0,Nr=Nr+Math.imul(kn,Pi)|0,Nr=Nr+Math.imul(Un,Ci)|0,Jr=Jr+Math.imul(Un,Pi)|0,Gr=Gr+Math.imul(gn,Si)|0,Nr=Nr+Math.imul(gn,xi)|0,Nr=Nr+Math.imul(Rn,Si)|0,Jr=Jr+Math.imul(Rn,xi)|0;var Yo=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,Gr=Math.imul(Qr,$i),Nr=Math.imul(Qr,Ri),Nr=Nr+Math.imul(an,$i)|0,Jr=Math.imul(an,Ri),Gr=Gr+Math.imul(wr,Ti)|0,Nr=Nr+Math.imul(wr,yi)|0,Nr=Nr+Math.imul(Br,Ti)|0,Jr=Jr+Math.imul(Br,yi)|0,Gr=Gr+Math.imul(Yn,gi)|0,Nr=Nr+Math.imul(Yn,ki)|0,Nr=Nr+Math.imul(kr,gi)|0,Jr=Jr+Math.imul(kr,ki)|0,Gr=Gr+Math.imul(Hn,Ii)|0,Nr=Nr+Math.imul(Hn,Oi)|0,Nr=Nr+Math.imul(Wn,Ii)|0,Jr=Jr+Math.imul(Wn,Oi)|0,Gr=Gr+Math.imul(Bn,Ci)|0,Nr=Nr+Math.imul(Bn,Pi)|0,Nr=Nr+Math.imul(Tn,Ci)|0,Jr=Jr+Math.imul(Tn,Pi)|0,Gr=Gr+Math.imul(kn,Si)|0,Nr=Nr+Math.imul(kn,xi)|0,Nr=Nr+Math.imul(Un,Si)|0,Jr=Jr+Math.imul(Un,xi)|0;var Zo=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,Gr=Math.imul(Qr,Ti),Nr=Math.imul(Qr,yi),Nr=Nr+Math.imul(an,Ti)|0,Jr=Math.imul(an,yi),Gr=Gr+Math.imul(wr,gi)|0,Nr=Nr+Math.imul(wr,ki)|0,Nr=Nr+Math.imul(Br,gi)|0,Jr=Jr+Math.imul(Br,ki)|0,Gr=Gr+Math.imul(Yn,Ii)|0,Nr=Nr+Math.imul(Yn,Oi)|0,Nr=Nr+Math.imul(kr,Ii)|0,Jr=Jr+Math.imul(kr,Oi)|0,Gr=Gr+Math.imul(Hn,Ci)|0,Nr=Nr+Math.imul(Hn,Pi)|0,Nr=Nr+Math.imul(Wn,Ci)|0,Jr=Jr+Math.imul(Wn,Pi)|0,Gr=Gr+Math.imul(Bn,Si)|0,Nr=Nr+Math.imul(Bn,xi)|0,Nr=Nr+Math.imul(Tn,Si)|0,Jr=Jr+Math.imul(Tn,xi)|0;var As=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(As>>>26)|0,As&=67108863,Gr=Math.imul(Qr,gi),Nr=Math.imul(Qr,ki),Nr=Nr+Math.imul(an,gi)|0,Jr=Math.imul(an,ki),Gr=Gr+Math.imul(wr,Ii)|0,Nr=Nr+Math.imul(wr,Oi)|0,Nr=Nr+Math.imul(Br,Ii)|0,Jr=Jr+Math.imul(Br,Oi)|0,Gr=Gr+Math.imul(Yn,Ci)|0,Nr=Nr+Math.imul(Yn,Pi)|0,Nr=Nr+Math.imul(kr,Ci)|0,Jr=Jr+Math.imul(kr,Pi)|0,Gr=Gr+Math.imul(Hn,Si)|0,Nr=Nr+Math.imul(Hn,xi)|0,Nr=Nr+Math.imul(Wn,Si)|0,Jr=Jr+Math.imul(Wn,xi)|0;var Es=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(Es>>>26)|0,Es&=67108863,Gr=Math.imul(Qr,Ii),Nr=Math.imul(Qr,Oi),Nr=Nr+Math.imul(an,Ii)|0,Jr=Math.imul(an,Oi),Gr=Gr+Math.imul(wr,Ci)|0,Nr=Nr+Math.imul(wr,Pi)|0,Nr=Nr+Math.imul(Br,Ci)|0,Jr=Jr+Math.imul(Br,Pi)|0,Gr=Gr+Math.imul(Yn,Si)|0,Nr=Nr+Math.imul(Yn,xi)|0,Nr=Nr+Math.imul(kr,Si)|0,Jr=Jr+Math.imul(kr,xi)|0;var vs=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(vs>>>26)|0,vs&=67108863,Gr=Math.imul(Qr,Ci),Nr=Math.imul(Qr,Pi),Nr=Nr+Math.imul(an,Ci)|0,Jr=Math.imul(an,Pi),Gr=Gr+Math.imul(wr,Si)|0,Nr=Nr+Math.imul(wr,xi)|0,Nr=Nr+Math.imul(Br,Si)|0,Jr=Jr+Math.imul(Br,xi)|0;var Rs=(nn+Gr|0)+((Nr&8191)<<13)|0;nn=(Jr+(Nr>>>13)|0)+(Rs>>>26)|0,Rs&=67108863,Gr=Math.imul(Qr,Si),Nr=Math.imul(Qr,xi),Nr=Nr+Math.imul(an,Si)|0,Jr=Math.imul(an,xi);var Jo=(nn+Gr|0)+((Nr&8191)<<13)|0;return nn=(Jr+(Nr>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,Xr[0]=hs,Xr[1]=ps,Xr[2]=ys,Xr[3]=gs,Xr[4]=bs,Xr[5]=ko,Xr[6]=_s,Xr[7]=Io,Xr[8]=$s,Xr[9]=Ss,Xr[10]=ws,Xr[11]=qo,Xr[12]=Yo,Xr[13]=Zo,Xr[14]=As,Xr[15]=Es,Xr[16]=vs,Xr[17]=Rs,Xr[18]=Jo,nn!==0&&(Xr[19]=nn,Dr.length++),Dr};Math.imul||(Fr=Lr);function Mr(Ur,Rr,Pr){Pr.negative=Rr.negative^Ur.negative,Pr.length=Ur.length+Rr.length;for(var Dr=0,Yr=0,Zr=0;Zr<Pr.length-1;Zr++){var Xr=Yr;Yr=0;for(var nn=Dr&67108863,Gr=Math.min(Zr,Rr.length-1),Nr=Math.max(0,Zr-Ur.length+1);Nr<=Gr;Nr++){var Jr=Zr-Nr,fn=Ur.words[Jr]|0,An=Rr.words[Nr]|0,wn=fn*An,yn=wn&67108863;Xr=Xr+(wn/67108864|0)|0,yn=yn+nn|0,nn=yn&67108863,Xr=Xr+(yn>>>26)|0,Yr+=Xr>>>26,Xr&=67108863}Pr.words[Zr]=nn,Dr=Xr,Xr=Yr}return Dr!==0?Pr.words[Zr]=Dr:Pr.length--,Pr._strip()}function Hr(Ur,Rr,Pr){return Mr(Ur,Rr,Pr)}a.prototype.mulTo=function(Rr,Pr){var Dr,Yr=this.length+Rr.length;return this.length===10&&Rr.length===10?Dr=Fr(this,Rr,Pr):Yr<63?Dr=Lr(this,Rr,Pr):Yr<1024?Dr=Mr(this,Rr,Pr):Dr=Hr(this,Rr,Pr),Dr},a.prototype.mul=function(Rr){var Pr=new a(null);return Pr.words=new Array(this.length+Rr.length),this.mulTo(Rr,Pr)},a.prototype.mulf=function(Rr){var Pr=new a(null);return Pr.words=new Array(this.length+Rr.length),Hr(this,Rr,Pr)},a.prototype.imul=function(Rr){return this.clone().mulTo(Rr,this)},a.prototype.imuln=function(Rr){var Pr=Rr<0;Pr&&(Rr=-Rr),n(typeof Rr=="number"),n(Rr<67108864);for(var Dr=0,Yr=0;Yr<this.length;Yr++){var Zr=(this.words[Yr]|0)*Rr,Xr=(Zr&67108863)+(Dr&67108863);Dr>>=26,Dr+=Zr/67108864|0,Dr+=Xr>>>26,this.words[Yr]=Xr&67108863}return Dr!==0&&(this.words[Yr]=Dr,this.length++),Pr?this.ineg():this},a.prototype.muln=function(Rr){return this.clone().imuln(Rr)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(Rr){var Pr=xr(Rr);if(Pr.length===0)return new a(1);for(var Dr=this,Yr=0;Yr<Pr.length&&Pr[Yr]===0;Yr++,Dr=Dr.sqr());if(++Yr<Pr.length)for(var Zr=Dr.sqr();Yr<Pr.length;Yr++,Zr=Zr.sqr())Pr[Yr]!==0&&(Dr=Dr.mul(Zr));return Dr},a.prototype.iushln=function(Rr){n(typeof Rr=="number"&&Rr>=0);var Pr=Rr%26,Dr=(Rr-Pr)/26,Yr=67108863>>>26-Pr<<26-Pr,Zr;if(Pr!==0){var Xr=0;for(Zr=0;Zr<this.length;Zr++){var nn=this.words[Zr]&Yr,Gr=(this.words[Zr]|0)-nn<<Pr;this.words[Zr]=Gr|Xr,Xr=nn>>>26-Pr}Xr&&(this.words[Zr]=Xr,this.length++)}if(Dr!==0){for(Zr=this.length-1;Zr>=0;Zr--)this.words[Zr+Dr]=this.words[Zr];for(Zr=0;Zr<Dr;Zr++)this.words[Zr]=0;this.length+=Dr}return this._strip()},a.prototype.ishln=function(Rr){return n(this.negative===0),this.iushln(Rr)},a.prototype.iushrn=function(Rr,Pr,Dr){n(typeof Rr=="number"&&Rr>=0);var Yr;Pr?Yr=(Pr-Pr%26)/26:Yr=0;var Zr=Rr%26,Xr=Math.min((Rr-Zr)/26,this.length),nn=67108863^67108863>>>Zr<<Zr,Gr=Dr;if(Yr-=Xr,Yr=Math.max(0,Yr),Gr){for(var Nr=0;Nr<Xr;Nr++)Gr.words[Nr]=this.words[Nr];Gr.length=Xr}if(Xr!==0)if(this.length>Xr)for(this.length-=Xr,Nr=0;Nr<this.length;Nr++)this.words[Nr]=this.words[Nr+Xr];else this.words[0]=0,this.length=1;var Jr=0;for(Nr=this.length-1;Nr>=0&&(Jr!==0||Nr>=Yr);Nr--){var fn=this.words[Nr]|0;this.words[Nr]=Jr<<26-Zr|fn>>>Zr,Jr=fn&nn}return Gr&&Jr!==0&&(Gr.words[Gr.length++]=Jr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(Rr,Pr,Dr){return n(this.negative===0),this.iushrn(Rr,Pr,Dr)},a.prototype.shln=function(Rr){return this.clone().ishln(Rr)},a.prototype.ushln=function(Rr){return this.clone().iushln(Rr)},a.prototype.shrn=function(Rr){return this.clone().ishrn(Rr)},a.prototype.ushrn=function(Rr){return this.clone().iushrn(Rr)},a.prototype.testn=function(Rr){n(typeof Rr=="number"&&Rr>=0);var Pr=Rr%26,Dr=(Rr-Pr)/26,Yr=1<<Pr;if(this.length<=Dr)return!1;var Zr=this.words[Dr];return!!(Zr&Yr)},a.prototype.imaskn=function(Rr){n(typeof Rr=="number"&&Rr>=0);var Pr=Rr%26,Dr=(Rr-Pr)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=Dr)return this;if(Pr!==0&&Dr++,this.length=Math.min(Dr,this.length),Pr!==0){var Yr=67108863^67108863>>>Pr<<Pr;this.words[this.length-1]&=Yr}return this._strip()},a.prototype.maskn=function(Rr){return this.clone().imaskn(Rr)},a.prototype.iaddn=function(Rr){return n(typeof Rr=="number"),n(Rr<67108864),Rr<0?this.isubn(-Rr):this.negative!==0?this.length===1&&(this.words[0]|0)<=Rr?(this.words[0]=Rr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Rr),this.negative=1,this):this._iaddn(Rr)},a.prototype._iaddn=function(Rr){this.words[0]+=Rr;for(var Pr=0;Pr<this.length&&this.words[Pr]>=67108864;Pr++)this.words[Pr]-=67108864,Pr===this.length-1?this.words[Pr+1]=1:this.words[Pr+1]++;return this.length=Math.max(this.length,Pr+1),this},a.prototype.isubn=function(Rr){if(n(typeof Rr=="number"),n(Rr<67108864),Rr<0)return this.iaddn(-Rr);if(this.negative!==0)return this.negative=0,this.iaddn(Rr),this.negative=1,this;if(this.words[0]-=Rr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Pr=0;Pr<this.length&&this.words[Pr]<0;Pr++)this.words[Pr]+=67108864,this.words[Pr+1]-=1;return this._strip()},a.prototype.addn=function(Rr){return this.clone().iaddn(Rr)},a.prototype.subn=function(Rr){return this.clone().isubn(Rr)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(Rr,Pr,Dr){var Yr=Rr.length+Dr,Zr;this._expand(Yr);var Xr,nn=0;for(Zr=0;Zr<Rr.length;Zr++){Xr=(this.words[Zr+Dr]|0)+nn;var Gr=(Rr.words[Zr]|0)*Pr;Xr-=Gr&67108863,nn=(Xr>>26)-(Gr/67108864|0),this.words[Zr+Dr]=Xr&67108863}for(;Zr<this.length-Dr;Zr++)Xr=(this.words[Zr+Dr]|0)+nn,nn=Xr>>26,this.words[Zr+Dr]=Xr&67108863;if(nn===0)return this._strip();for(n(nn===-1),nn=0,Zr=0;Zr<this.length;Zr++)Xr=-(this.words[Zr]|0)+nn,nn=Xr>>26,this.words[Zr]=Xr&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(Rr,Pr){var Dr=this.length-Rr.length,Yr=this.clone(),Zr=Rr,Xr=Zr.words[Zr.length-1]|0,nn=this._countBits(Xr);Dr=26-nn,Dr!==0&&(Zr=Zr.ushln(Dr),Yr.iushln(Dr),Xr=Zr.words[Zr.length-1]|0);var Gr=Yr.length-Zr.length,Nr;if(Pr!=="mod"){Nr=new a(null),Nr.length=Gr+1,Nr.words=new Array(Nr.length);for(var Jr=0;Jr<Nr.length;Jr++)Nr.words[Jr]=0}var fn=Yr.clone()._ishlnsubmul(Zr,1,Gr);fn.negative===0&&(Yr=fn,Nr&&(Nr.words[Gr]=1));for(var An=Gr-1;An>=0;An--){var wn=(Yr.words[Zr.length+An]|0)*67108864+(Yr.words[Zr.length+An-1]|0);for(wn=Math.min(wn/Xr|0,67108863),Yr._ishlnsubmul(Zr,wn,An);Yr.negative!==0;)wn--,Yr.negative=0,Yr._ishlnsubmul(Zr,1,An),Yr.isZero()||(Yr.negative^=1);Nr&&(Nr.words[An]=wn)}return Nr&&Nr._strip(),Yr._strip(),Pr!=="div"&&Dr!==0&&Yr.iushrn(Dr),{div:Nr||null,mod:Yr}},a.prototype.divmod=function(Rr,Pr,Dr){if(n(!Rr.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var Yr,Zr,Xr;return this.negative!==0&&Rr.negative===0?(Xr=this.neg().divmod(Rr,Pr),Pr!=="mod"&&(Yr=Xr.div.neg()),Pr!=="div"&&(Zr=Xr.mod.neg(),Dr&&Zr.negative!==0&&Zr.iadd(Rr)),{div:Yr,mod:Zr}):this.negative===0&&Rr.negative!==0?(Xr=this.divmod(Rr.neg(),Pr),Pr!=="mod"&&(Yr=Xr.div.neg()),{div:Yr,mod:Xr.mod}):(this.negative&Rr.negative)!==0?(Xr=this.neg().divmod(Rr.neg(),Pr),Pr!=="div"&&(Zr=Xr.mod.neg(),Dr&&Zr.negative!==0&&Zr.isub(Rr)),{div:Xr.div,mod:Zr}):Rr.length>this.length||this.cmp(Rr)<0?{div:new a(0),mod:this}:Rr.length===1?Pr==="div"?{div:this.divn(Rr.words[0]),mod:null}:Pr==="mod"?{div:null,mod:new a(this.modrn(Rr.words[0]))}:{div:this.divn(Rr.words[0]),mod:new a(this.modrn(Rr.words[0]))}:this._wordDiv(Rr,Pr)},a.prototype.div=function(Rr){return this.divmod(Rr,"div",!1).div},a.prototype.mod=function(Rr){return this.divmod(Rr,"mod",!1).mod},a.prototype.umod=function(Rr){return this.divmod(Rr,"mod",!0).mod},a.prototype.divRound=function(Rr){var Pr=this.divmod(Rr);if(Pr.mod.isZero())return Pr.div;var Dr=Pr.div.negative!==0?Pr.mod.isub(Rr):Pr.mod,Yr=Rr.ushrn(1),Zr=Rr.andln(1),Xr=Dr.cmp(Yr);return Xr<0||Zr===1&&Xr===0?Pr.div:Pr.div.negative!==0?Pr.div.isubn(1):Pr.div.iaddn(1)},a.prototype.modrn=function(Rr){var Pr=Rr<0;Pr&&(Rr=-Rr),n(Rr<=67108863);for(var Dr=(1<<26)%Rr,Yr=0,Zr=this.length-1;Zr>=0;Zr--)Yr=(Dr*Yr+(this.words[Zr]|0))%Rr;return Pr?-Yr:Yr},a.prototype.modn=function(Rr){return this.modrn(Rr)},a.prototype.idivn=function(Rr){var Pr=Rr<0;Pr&&(Rr=-Rr),n(Rr<=67108863);for(var Dr=0,Yr=this.length-1;Yr>=0;Yr--){var Zr=(this.words[Yr]|0)+Dr*67108864;this.words[Yr]=Zr/Rr|0,Dr=Zr%Rr}return this._strip(),Pr?this.ineg():this},a.prototype.divn=function(Rr){return this.clone().idivn(Rr)},a.prototype.egcd=function(Rr){n(Rr.negative===0),n(!Rr.isZero());var Pr=this,Dr=Rr.clone();Pr.negative!==0?Pr=Pr.umod(Rr):Pr=Pr.clone();for(var Yr=new a(1),Zr=new a(0),Xr=new a(0),nn=new a(1),Gr=0;Pr.isEven()&&Dr.isEven();)Pr.iushrn(1),Dr.iushrn(1),++Gr;for(var Nr=Dr.clone(),Jr=Pr.clone();!Pr.isZero();){for(var fn=0,An=1;(Pr.words[0]&An)===0&&fn<26;++fn,An<<=1);if(fn>0)for(Pr.iushrn(fn);fn-- >0;)(Yr.isOdd()||Zr.isOdd())&&(Yr.iadd(Nr),Zr.isub(Jr)),Yr.iushrn(1),Zr.iushrn(1);for(var wn=0,yn=1;(Dr.words[0]&yn)===0&&wn<26;++wn,yn<<=1);if(wn>0)for(Dr.iushrn(wn);wn-- >0;)(Xr.isOdd()||nn.isOdd())&&(Xr.iadd(Nr),nn.isub(Jr)),Xr.iushrn(1),nn.iushrn(1);Pr.cmp(Dr)>=0?(Pr.isub(Dr),Yr.isub(Xr),Zr.isub(nn)):(Dr.isub(Pr),Xr.isub(Yr),nn.isub(Zr))}return{a:Xr,b:nn,gcd:Dr.iushln(Gr)}},a.prototype._invmp=function(Rr){n(Rr.negative===0),n(!Rr.isZero());var Pr=this,Dr=Rr.clone();Pr.negative!==0?Pr=Pr.umod(Rr):Pr=Pr.clone();for(var Yr=new a(1),Zr=new a(0),Xr=Dr.clone();Pr.cmpn(1)>0&&Dr.cmpn(1)>0;){for(var nn=0,Gr=1;(Pr.words[0]&Gr)===0&&nn<26;++nn,Gr<<=1);if(nn>0)for(Pr.iushrn(nn);nn-- >0;)Yr.isOdd()&&Yr.iadd(Xr),Yr.iushrn(1);for(var Nr=0,Jr=1;(Dr.words[0]&Jr)===0&&Nr<26;++Nr,Jr<<=1);if(Nr>0)for(Dr.iushrn(Nr);Nr-- >0;)Zr.isOdd()&&Zr.iadd(Xr),Zr.iushrn(1);Pr.cmp(Dr)>=0?(Pr.isub(Dr),Yr.isub(Zr)):(Dr.isub(Pr),Zr.isub(Yr))}var fn;return Pr.cmpn(1)===0?fn=Yr:fn=Zr,fn.cmpn(0)<0&&fn.iadd(Rr),fn},a.prototype.gcd=function(Rr){if(this.isZero())return Rr.abs();if(Rr.isZero())return this.abs();var Pr=this.clone(),Dr=Rr.clone();Pr.negative=0,Dr.negative=0;for(var Yr=0;Pr.isEven()&&Dr.isEven();Yr++)Pr.iushrn(1),Dr.iushrn(1);do{for(;Pr.isEven();)Pr.iushrn(1);for(;Dr.isEven();)Dr.iushrn(1);var Zr=Pr.cmp(Dr);if(Zr<0){var Xr=Pr;Pr=Dr,Dr=Xr}else if(Zr===0||Dr.cmpn(1)===0)break;Pr.isub(Dr)}while(!0);return Dr.iushln(Yr)},a.prototype.invm=function(Rr){return this.egcd(Rr).a.umod(Rr)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(Rr){return this.words[0]&Rr},a.prototype.bincn=function(Rr){n(typeof Rr=="number");var Pr=Rr%26,Dr=(Rr-Pr)/26,Yr=1<<Pr;if(this.length<=Dr)return this._expand(Dr+1),this.words[Dr]|=Yr,this;for(var Zr=Yr,Xr=Dr;Zr!==0&&Xr<this.length;Xr++){var nn=this.words[Xr]|0;nn+=Zr,Zr=nn>>>26,nn&=67108863,this.words[Xr]=nn}return Zr!==0&&(this.words[Xr]=Zr,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(Rr){var Pr=Rr<0;if(this.negative!==0&&!Pr)return-1;if(this.negative===0&&Pr)return 1;this._strip();var Dr;if(this.length>1)Dr=1;else{Pr&&(Rr=-Rr),n(Rr<=67108863,"Number is too big");var Yr=this.words[0]|0;Dr=Yr===Rr?0:Yr<Rr?-1:1}return this.negative!==0?-Dr|0:Dr},a.prototype.cmp=function(Rr){if(this.negative!==0&&Rr.negative===0)return-1;if(this.negative===0&&Rr.negative!==0)return 1;var Pr=this.ucmp(Rr);return this.negative!==0?-Pr|0:Pr},a.prototype.ucmp=function(Rr){if(this.length>Rr.length)return 1;if(this.length<Rr.length)return-1;for(var Pr=0,Dr=this.length-1;Dr>=0;Dr--){var Yr=this.words[Dr]|0,Zr=Rr.words[Dr]|0;if(Yr!==Zr){Yr<Zr?Pr=-1:Yr>Zr&&(Pr=1);break}}return Pr},a.prototype.gtn=function(Rr){return this.cmpn(Rr)===1},a.prototype.gt=function(Rr){return this.cmp(Rr)===1},a.prototype.gten=function(Rr){return this.cmpn(Rr)>=0},a.prototype.gte=function(Rr){return this.cmp(Rr)>=0},a.prototype.ltn=function(Rr){return this.cmpn(Rr)===-1},a.prototype.lt=function(Rr){return this.cmp(Rr)===-1},a.prototype.lten=function(Rr){return this.cmpn(Rr)<=0},a.prototype.lte=function(Rr){return this.cmp(Rr)<=0},a.prototype.eqn=function(Rr){return this.cmpn(Rr)===0},a.prototype.eq=function(Rr){return this.cmp(Rr)===0},a.red=function(Rr){return new sn(Rr)},a.prototype.toRed=function(Rr){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),Rr.convertTo(this)._forceRed(Rr)},a.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(Rr){return this.red=Rr,this},a.prototype.forceRed=function(Rr){return n(!this.red,"Already a number in reduction context"),this._forceRed(Rr)},a.prototype.redAdd=function(Rr){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,Rr)},a.prototype.redIAdd=function(Rr){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Rr)},a.prototype.redSub=function(Rr){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,Rr)},a.prototype.redISub=function(Rr){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,Rr)},a.prototype.redShl=function(Rr){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,Rr)},a.prototype.redMul=function(Rr){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,Rr),this.red.mul(this,Rr)},a.prototype.redIMul=function(Rr){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,Rr),this.red.imul(this,Rr)},a.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(Rr){return n(this.red&&!Rr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Rr)};var Vr={k256:null,p224:null,p192:null,p25519:null};function Kr(Ur,Rr){this.name=Ur,this.p=new a(Rr,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Kr.prototype._tmp=function(){var Rr=new a(null);return Rr.words=new Array(Math.ceil(this.n/13)),Rr},Kr.prototype.ireduce=function(Rr){var Pr=Rr,Dr;do this.split(Pr,this.tmp),Pr=this.imulK(Pr),Pr=Pr.iadd(this.tmp),Dr=Pr.bitLength();while(Dr>this.n);var Yr=Dr<this.n?-1:Pr.ucmp(this.p);return Yr===0?(Pr.words[0]=0,Pr.length=1):Yr>0?Pr.isub(this.p):Pr.strip!==void 0?Pr.strip():Pr._strip(),Pr},Kr.prototype.split=function(Rr,Pr){Rr.iushrn(this.n,0,Pr)},Kr.prototype.imulK=function(Rr){return Rr.imul(this.k)};function jr(){Kr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(jr,Kr),jr.prototype.split=function(Rr,Pr){for(var Dr=4194303,Yr=Math.min(Rr.length,9),Zr=0;Zr<Yr;Zr++)Pr.words[Zr]=Rr.words[Zr];if(Pr.length=Yr,Rr.length<=9){Rr.words[0]=0,Rr.length=1;return}var Xr=Rr.words[9];for(Pr.words[Pr.length++]=Xr&Dr,Zr=10;Zr<Rr.length;Zr++){var nn=Rr.words[Zr]|0;Rr.words[Zr-10]=(nn&Dr)<<4|Xr>>>22,Xr=nn}Xr>>>=22,Rr.words[Zr-10]=Xr,Xr===0&&Rr.length>10?Rr.length-=10:Rr.length-=9},jr.prototype.imulK=function(Rr){Rr.words[Rr.length]=0,Rr.words[Rr.length+1]=0,Rr.length+=2;for(var Pr=0,Dr=0;Dr<Rr.length;Dr++){var Yr=Rr.words[Dr]|0;Pr+=Yr*977,Rr.words[Dr]=Pr&67108863,Pr=Yr*64+(Pr/67108864|0)}return Rr.words[Rr.length-1]===0&&(Rr.length--,Rr.words[Rr.length-1]===0&&Rr.length--),Rr};function qr(){Kr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(qr,Kr);function tn(){Kr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(tn,Kr);function en(){Kr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(en,Kr),en.prototype.imulK=function(Rr){for(var Pr=0,Dr=0;Dr<Rr.length;Dr++){var Yr=(Rr.words[Dr]|0)*19+Pr,Zr=Yr&67108863;Yr>>>=26,Rr.words[Dr]=Zr,Pr=Yr}return Pr!==0&&(Rr.words[Rr.length++]=Pr),Rr},a._prime=function(Rr){if(Vr[Rr])return Vr[Rr];var Pr;if(Rr==="k256")Pr=new jr;else if(Rr==="p224")Pr=new qr;else if(Rr==="p192")Pr=new tn;else if(Rr==="p25519")Pr=new en;else throw new Error("Unknown prime "+Rr);return Vr[Rr]=Pr,Pr};function sn(Ur){if(typeof Ur=="string"){var Rr=a._prime(Ur);this.m=Rr.p,this.prime=Rr}else n(Ur.gtn(1),"modulus must be greater than 1"),this.m=Ur,this.prime=null}sn.prototype._verify1=function(Rr){n(Rr.negative===0,"red works only with positives"),n(Rr.red,"red works only with red numbers")},sn.prototype._verify2=function(Rr,Pr){n((Rr.negative|Pr.negative)===0,"red works only with positives"),n(Rr.red&&Rr.red===Pr.red,"red works only with red numbers")},sn.prototype.imod=function(Rr){return this.prime?this.prime.ireduce(Rr)._forceRed(this):(_r(Rr,Rr.umod(this.m)._forceRed(this)),Rr)},sn.prototype.neg=function(Rr){return Rr.isZero()?Rr.clone():this.m.sub(Rr)._forceRed(this)},sn.prototype.add=function(Rr,Pr){this._verify2(Rr,Pr);var Dr=Rr.add(Pr);return Dr.cmp(this.m)>=0&&Dr.isub(this.m),Dr._forceRed(this)},sn.prototype.iadd=function(Rr,Pr){this._verify2(Rr,Pr);var Dr=Rr.iadd(Pr);return Dr.cmp(this.m)>=0&&Dr.isub(this.m),Dr},sn.prototype.sub=function(Rr,Pr){this._verify2(Rr,Pr);var Dr=Rr.sub(Pr);return Dr.cmpn(0)<0&&Dr.iadd(this.m),Dr._forceRed(this)},sn.prototype.isub=function(Rr,Pr){this._verify2(Rr,Pr);var Dr=Rr.isub(Pr);return Dr.cmpn(0)<0&&Dr.iadd(this.m),Dr},sn.prototype.shl=function(Rr,Pr){return this._verify1(Rr),this.imod(Rr.ushln(Pr))},sn.prototype.imul=function(Rr,Pr){return this._verify2(Rr,Pr),this.imod(Rr.imul(Pr))},sn.prototype.mul=function(Rr,Pr){return this._verify2(Rr,Pr),this.imod(Rr.mul(Pr))},sn.prototype.isqr=function(Rr){return this.imul(Rr,Rr.clone())},sn.prototype.sqr=function(Rr){return this.mul(Rr,Rr)},sn.prototype.sqrt=function(Rr){if(Rr.isZero())return Rr.clone();var Pr=this.m.andln(3);if(n(Pr%2===1),Pr===3){var Dr=this.m.add(new a(1)).iushrn(2);return this.pow(Rr,Dr)}for(var Yr=this.m.subn(1),Zr=0;!Yr.isZero()&&Yr.andln(1)===0;)Zr++,Yr.iushrn(1);n(!Yr.isZero());var Xr=new a(1).toRed(this),nn=Xr.redNeg(),Gr=this.m.subn(1).iushrn(1),Nr=this.m.bitLength();for(Nr=new a(2*Nr*Nr).toRed(this);this.pow(Nr,Gr).cmp(nn)!==0;)Nr.redIAdd(nn);for(var Jr=this.pow(Nr,Yr),fn=this.pow(Rr,Yr.addn(1).iushrn(1)),An=this.pow(Rr,Yr),wn=Zr;An.cmp(Xr)!==0;){for(var yn=An,mn=0;yn.cmp(Xr)!==0;mn++)yn=yn.redSqr();n(mn<wn);var _n=this.pow(Jr,new a(1).iushln(wn-mn-1));fn=fn.redMul(_n),Jr=_n.redSqr(),An=An.redMul(Jr),wn=mn}return fn},sn.prototype.invm=function(Rr){var Pr=Rr._invmp(this.m);return Pr.negative!==0?(Pr.negative=0,this.imod(Pr).redNeg()):this.imod(Pr)},sn.prototype.pow=function(Rr,Pr){if(Pr.isZero())return new a(1).toRed(this);if(Pr.cmpn(1)===0)return Rr.clone();var Dr=4,Yr=new Array(1<<Dr);Yr[0]=new a(1).toRed(this),Yr[1]=Rr;for(var Zr=2;Zr<Yr.length;Zr++)Yr[Zr]=this.mul(Yr[Zr-1],Rr);var Xr=Yr[0],nn=0,Gr=0,Nr=Pr.bitLength()%26;for(Nr===0&&(Nr=26),Zr=Pr.length-1;Zr>=0;Zr--){for(var Jr=Pr.words[Zr],fn=Nr-1;fn>=0;fn--){var An=Jr>>fn&1;if(Xr!==Yr[0]&&(Xr=this.sqr(Xr)),An===0&&nn===0){Gr=0;continue}nn<<=1,nn|=An,Gr++,!(Gr!==Dr&&(Zr!==0||fn!==0))&&(Xr=this.mul(Xr,Yr[nn]),Gr=0,nn=0)}Nr=26}return Xr},sn.prototype.convertTo=function(Rr){var Pr=Rr.umod(this.m);return Pr===Rr?Pr.clone():Pr},sn.prototype.convertFrom=function(Rr){var Pr=Rr.clone();return Pr.red=null,Pr},a.mont=function(Rr){return new cn(Rr)};function cn(Ur){sn.call(this,Ur),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(cn,sn),cn.prototype.convertTo=function(Rr){return this.imod(Rr.ushln(this.shift))},cn.prototype.convertFrom=function(Rr){var Pr=this.imod(Rr.mul(this.rinv));return Pr.red=null,Pr},cn.prototype.imul=function(Rr,Pr){if(Rr.isZero()||Pr.isZero())return Rr.words[0]=0,Rr.length=1,Rr;var Dr=Rr.imul(Pr),Yr=Dr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Zr=Dr.isub(Yr).iushrn(this.shift),Xr=Zr;return Zr.cmp(this.m)>=0?Xr=Zr.isub(this.m):Zr.cmpn(0)<0&&(Xr=Zr.iadd(this.m)),Xr._forceRed(this)},cn.prototype.mul=function(Rr,Pr){if(Rr.isZero()||Pr.isZero())return new a(0)._forceRed(this);var Dr=Rr.mul(Pr),Yr=Dr.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Zr=Dr.isub(Yr).iushrn(this.shift),Xr=Zr;return Zr.cmp(this.m)>=0?Xr=Zr.isub(this.m):Zr.cmpn(0)<0&&(Xr=Zr.iadd(this.m)),Xr._forceRed(this)},cn.prototype.invm=function(Rr){var Pr=this.imod(Rr._invmp(this.m).mul(this.r2));return Pr._forceRed(this)}})(t,commonjsGlobal)})(bn);var BN=bn.exports,safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=bufferPolyfill,n=r.Buffer;function o(c,u){for(var gr in c)u[gr]=c[gr]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a);function a(c,u,gr){return n(c,u,gr)}a.prototype=Object.create(n.prototype),o(n,a),a.from=function(c,u,gr){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,u,gr)},a.alloc=function(c,u,gr){if(typeof c!="number")throw new TypeError("Argument must be a number");var br=n(c);return u!==void 0?typeof gr=="string"?br.fill(u,gr):br.fill(u):br.fill(0),br},a.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},a.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}})(safeBuffer$1,safeBuffer$1.exports);var _Buffer$1=safeBuffer$1.exports.Buffer;function base$3(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=n}var c=t.length,u=t.charAt(0),gr=Math.log(c)/Math.log(256),br=Math.log(256)/Math.log(c);function _r(Tr){if((Array.isArray(Tr)||Tr instanceof Uint8Array)&&(Tr=_Buffer$1.from(Tr)),!_Buffer$1.isBuffer(Tr))throw new TypeError("Expected Buffer");if(Tr.length===0)return"";for(var Or=0,Ir=0,xr=0,Lr=Tr.length;xr!==Lr&&Tr[xr]===0;)xr++,Or++;for(var Fr=(Lr-xr)*br+1>>>0,Mr=new Uint8Array(Fr);xr!==Lr;){for(var Hr=Tr[xr],Vr=0,Kr=Fr-1;(Hr!==0||Vr<Ir)&&Kr!==-1;Kr--,Vr++)Hr+=256*Mr[Kr]>>>0,Mr[Kr]=Hr%c>>>0,Hr=Hr/c>>>0;if(Hr!==0)throw new Error("Non-zero carry");Ir=Vr,xr++}for(var jr=Fr-Ir;jr!==Fr&&Mr[jr]===0;)jr++;for(var qr=u.repeat(Or);jr<Fr;++jr)qr+=t.charAt(Mr[jr]);return qr}function Ar(Tr){if(typeof Tr!="string")throw new TypeError("Expected String");if(Tr.length===0)return _Buffer$1.alloc(0);for(var Or=0,Ir=0,xr=0;Tr[Or]===u;)Ir++,Or++;for(var Lr=(Tr.length-Or)*gr+1>>>0,Fr=new Uint8Array(Lr);Tr[Or];){var Mr=e[Tr.charCodeAt(Or)];if(Mr===255)return;for(var Hr=0,Vr=Lr-1;(Mr!==0||Hr<xr)&&Vr!==-1;Vr--,Hr++)Mr+=c*Fr[Vr]>>>0,Fr[Vr]=Mr%256>>>0,Mr=Mr/256>>>0;if(Mr!==0)throw new Error("Non-zero carry");xr=Hr,Or++}for(var Kr=Lr-xr;Kr!==Lr&&Fr[Kr]===0;)Kr++;var jr=_Buffer$1.allocUnsafe(Ir+(Lr-Kr));jr.fill(0,0,Ir);for(var qr=Ir;Kr!==Lr;)jr[qr++]=Fr[Kr++];return jr}function vr(Tr){var Or=Ar(Tr);if(Or)return Or;throw new Error("Non-base"+c+" character")}return{encode:_r,decodeUnsafe:Ar,decode:vr}}var src$3=base$3,basex$3=src$3,ALPHABET$3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$3=basex$3(ALPHABET$3);const Chi$1=(t,e,r)=>t&e^~t&r,Maj$1=(t,e,r)=>t&e^t&r^e&r,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);class SHA256$1 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:e,B:r,C:n,D:o,E:a,F:c,G:u,H:gr}=this;return[e,r,n,o,a,c,u,gr]}set(e,r,n,o,a,c,u,gr){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=gr|0}process(e,r){for(let Ar=0;Ar<16;Ar++,r+=4)SHA256_W$1[Ar]=e.getUint32(r,!1);for(let Ar=16;Ar<64;Ar++){const vr=SHA256_W$1[Ar-15],Tr=SHA256_W$1[Ar-2],Or=rotr$1(vr,7)^rotr$1(vr,18)^vr>>>3,Ir=rotr$1(Tr,17)^rotr$1(Tr,19)^Tr>>>10;SHA256_W$1[Ar]=Ir+SHA256_W$1[Ar-7]+Or+SHA256_W$1[Ar-16]|0}let{A:n,B:o,C:a,D:c,E:u,F:gr,G:br,H:_r}=this;for(let Ar=0;Ar<64;Ar++){const vr=rotr$1(u,6)^rotr$1(u,11)^rotr$1(u,25),Tr=_r+vr+Chi$1(u,gr,br)+SHA256_K$1[Ar]+SHA256_W$1[Ar]|0,Ir=(rotr$1(n,2)^rotr$1(n,13)^rotr$1(n,22))+Maj$1(n,o,a)|0;_r=br,br=gr,gr=u,u=c+Tr|0,c=a,a=o,o=n,n=Tr+Ir|0}n=n+this.A|0,o=o+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,gr=gr+this.F|0,br=br+this.G|0,_r=_r+this.H|0,this.set(n,o,a,c,u,gr,br,_r)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$2=wrapConstructor$1(()=>new SHA256$1);var lib$1={};function inRange$1(t,e,r){return e<=t&&t<=r}function ToDictionary(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(t){for(var e=String(t),r=e.length,n=0,o=[];n<r;){var a=e.charCodeAt(n);if(a<55296||a>57343)o.push(a);else if(56320<=a&&a<=57343)o.push(65533);else if(55296<=a&&a<=56319)if(n===r-1)o.push(65533);else{var c=t.charCodeAt(n+1);if(56320<=c&&c<=57343){var u=a&1023,gr=c&1023;o.push(65536+(u<<10)+gr),n+=1}else o.push(65533)}n+=1}return o}function codePointsToString(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var end_of_stream=-1;function Stream(t){this.tokens=[].slice.call(t)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var finished=-1;function decoderError(t,e){if(t)throw TypeError("Decoder error");return e||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(t,e){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=ToDictionary(r),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(r.stream);for(var o=new Stream(n),a=[],c;!o.endOfStream()&&(c=this._decoder.handler(o,o.read()),c!==finished);)c!==null&&(Array.isArray(c)?a.push.apply(a,c):a.push(c));if(!this._streaming){do{if(c=this._decoder.handler(o,o.read()),c===finished)break;c!==null&&(Array.isArray(c)?a.push.apply(a,c):a.push(c))}while(!o.endOfStream());this._decoder=null}return a.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(a[0]===65279?(this._BOMseen=!0,a.shift()):this._BOMseen=!0),codePointsToString(a)}};function TextEncoder$1(t,e){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(t,e);if(t=t!==void 0?String(t).toLowerCase():DEFAULT_ENCODING,t!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(e,r){e=e?String(e):"",r=ToDictionary(r),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(r.stream);for(var n=[],o=new Stream(stringToCodePoints(e)),a;!o.endOfStream()&&(a=this._encoder.handler(o,o.read()),a!==finished);)Array.isArray(a)?n.push.apply(n,a):n.push(a);if(!this._streaming){for(;a=this._encoder.handler(o,o.read()),a!==finished;)Array.isArray(a)?n.push.apply(n,a):n.push(a);this._encoder=null}return new Uint8Array(n)}};function UTF8Decoder(t){var e=t.fatal,r=0,n=0,o=0,a=128,c=191;this.handler=function(u,gr){if(gr===end_of_stream&&o!==0)return o=0,decoderError(e);if(gr===end_of_stream)return finished;if(o===0){if(inRange$1(gr,0,127))return gr;if(inRange$1(gr,194,223))o=1,r=gr-192;else if(inRange$1(gr,224,239))gr===224&&(a=160),gr===237&&(c=159),o=2,r=gr-224;else if(inRange$1(gr,240,244))gr===240&&(a=144),gr===244&&(c=143),o=3,r=gr-240;else return decoderError(e);return r=r<<6*o,null}if(!inRange$1(gr,a,c))return r=o=n=0,a=128,c=191,u.prepend(gr),decoderError(e);if(a=128,c=191,n+=1,r+=gr-128<<6*(o-n),n!==o)return null;var br=r;return r=o=n=0,br}}function UTF8Encoder(t){t.fatal,this.handler=function(e,r){if(r===end_of_stream)return finished;if(inRange$1(r,0,127))return r;var n,o;inRange$1(r,128,2047)?(n=1,o=192):inRange$1(r,2048,65535)?(n=2,o=224):inRange$1(r,65536,1114111)&&(n=3,o=240);for(var a=[(r>>6*n)+o];n>0;){var c=r>>6*(n-1);a.push(128|c&63),n-=1}return a}}var encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1},Symbol.toStringTag,{value:"Module"})),require$$2$2=getAugmentedNamespace(encoding$1),__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__decorate$2=commonjsGlobal&&commonjsGlobal.__decorate||function(t,e,r,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(a=(o<3?c(a):o>3?c(e,r,a):c(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&__createBinding$3(e,t,r);return __setModuleDefault$3(e,t),e},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lib$1,"__esModule",{value:!0});var deserializeUnchecked_1=lib$1.deserializeUnchecked=deserialize_1=lib$1.deserialize=serialize_1=lib$1.serialize=lib$1.BinaryReader=lib$1.BinaryWriter=lib$1.BorshError=lib$1.baseDecode=lib$1.baseEncode=void 0;const bn_js_1$1=__importDefault$5(bn.exports),bs58_1$1=__importDefault$5(bs58$3),encoding=__importStar$3(require$$2$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(t){return typeof t=="string"&&(t=dist$3.Buffer.from(t,"utf8")),bs58_1$1.default.encode(dist$3.Buffer.from(t))}lib$1.baseEncode=baseEncode;function baseDecode(t){return dist$3.Buffer.from(bs58_1$1.default.decode(t))}lib$1.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$1.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=dist$3.Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=dist$3.Buffer.concat([this.buf,dist$3.Buffer.alloc(INITIAL_LENGTH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(dist$3.Buffer.from(new bn_js_1$1.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(dist$3.Buffer.from(new bn_js_1$1.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(dist$3.Buffer.from(new bn_js_1$1.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(dist$3.Buffer.from(new bn_js_1$1.default(e).toArray("le",64)))}writeBuffer(e){this.buf=dist$3.Buffer.concat([dist$3.Buffer.from(this.buf.subarray(0,this.length)),e,dist$3.Buffer.alloc(INITIAL_LENGTH)]),this.length+=e.length}writeString(e){this.maybeResize();const r=dist$3.Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(dist$3.Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}lib$1.BinaryWriter=BinaryWriter;function handlingRangeError(t,e,r){const n=r.value;r.value=function(...o){try{return n.apply(this,o)}catch(a){if(a instanceof RangeError){const c=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw a}}}class BinaryReader{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new bn_js_1$1.default(e,"le")}readU128(){const e=this.readBuffer(16);return new bn_js_1$1.default(e,"le")}readU256(){const e=this.readBuffer(32);return new bn_js_1$1.default(e,"le")}readU512(){const e=this.readBuffer(64);return new bn_js_1$1.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new BorshError(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return textDecoder.decode(r)}catch(n){throw new BorshError(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let o=0;o<r;++o)n.push(e());return n}}__decorate$2([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readArray",null);lib$1.BinaryReader=BinaryReader;function capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}function serializeField(t,e,r,n,o){try{if(typeof n=="string")o[`write${capitalizeFirstLetter(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new BorshError(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);o.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new BorshError(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let a=0;a<n[1];a++)serializeField(t,null,r[a],n[0],o)}else o.writeArray(r,a=>{serializeField(t,e,a,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?o.writeU8(0):(o.writeU8(1),serializeField(t,e,r,n.type,o));break}case"map":{o.writeU32(r.size),r.forEach((a,c)=>{serializeField(t,e,c,n.key,o),serializeField(t,e,a,n.value,o)});break}default:throw new BorshError(`FieldType ${n} unrecognized`)}else serializeStruct(t,r,o)}catch(a){throw a instanceof BorshError&&a.addToFieldPath(e),a}}function serializeStruct(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,a])=>{serializeField(t,o,e[o],a,r)});else if(n.kind==="enum"){const o=e[n.field];for(let a=0;a<n.values.length;++a){const[c,u]=n.values[a];if(c===o){r.writeU8(a),serializeField(t,c,e[c],u,r);break}}}else throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function serialize(t,e,r=BinaryWriter){const n=new r;return serializeStruct(t,e,n),n.toArray()}var serialize_1=lib$1.serialize=serialize;function deserializeField(t,e,r,n){try{if(typeof r=="string")return n[`read${capitalizeFirstLetter(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const o=[];for(let a=0;a<r[1];a++)o.push(deserializeField(t,null,r[0],n));return o}else return n.readArray(()=>deserializeField(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?deserializeField(t,e,r.type,n):void 0;if(r.kind==="map"){let o=new Map;const a=n.readU32();for(let c=0;c<a;c++){const u=deserializeField(t,e,r.key,n),gr=deserializeField(t,e,r.value,n);o.set(u,gr)}return o}return deserializeStruct(t,r,n)}catch(o){throw o instanceof BorshError&&o.addToFieldPath(e),o}}function deserializeStruct(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new BorshError(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const o={};for(const[a,c]of t.get(e).fields)o[a]=deserializeField(t,a,c,r);return new e(o)}if(n.kind==="enum"){const o=r.readU8();if(o>=n.values.length)throw new BorshError(`Enum index: ${o} is out of range`);const[a,c]=n.values[o],u=deserializeField(t,a,c,r);return new e({[a]:u})}throw new BorshError(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function deserialize(t,e,r,n=BinaryReader){const o=new n(r),a=deserializeStruct(t,e,o);if(o.offset<r.length)throw new BorshError(`Unexpected ${r.length-o.offset} bytes after deserialized data`);return a}var deserialize_1=lib$1.deserialize=deserialize;function deserializeUnchecked(t,e,r,n=BinaryReader){const o=new n(r);return deserializeStruct(t,e,o)}deserializeUnchecked_1=lib$1.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});var s16=Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64$1=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$2=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$2=Layout$4.u8=offset$1=Layout$4.offset=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$2=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$3=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64$1=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=bufferPolyfill;function checkUint8Array(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(t){return checkUint8Array(t),buffer_1.Buffer.from(t.buffer,t.byteOffset,t.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout$3{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}Layout$4.Layout=Layout$3;function nameWithProperty$2(t,e){return e.property?t+"["+e.property+"]":t}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;class ExternalLayout$2 extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$4.ExternalLayout=ExternalLayout$2;class GreedyCount$1 extends ExternalLayout$2{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){checkUint8Array(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}Layout$4.GreedyCount=GreedyCount$1;class OffsetLayout$1 extends ExternalLayout$2{constructor(e,r=0,n){if(!(e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$1}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}}Layout$4.OffsetLayout=OffsetLayout$1;class UInt$2 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readUIntLE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeUIntLE(e,n,this.span),this.span}}Layout$4.UInt=UInt$2;class UIntBE$1 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readUIntBE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeUIntBE(e,n,this.span),this.span}}Layout$4.UIntBE=UIntBE$1;class Int$1 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readIntLE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeIntLE(e,n,this.span),this.span}}Layout$4.Int=Int$1;class IntBE$1 extends Layout$3{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return uint8ArrayToBuffer(e).readIntBE(r,this.span)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeIntBE(e,n,this.span),this.span}}Layout$4.IntBE=IntBE$1;const V2E32$1=Math.pow(2,32);function divmodInt64$1(t){const e=Math.floor(t/V2E32$1),r=t-e*V2E32$1;return{hi32:e,lo32:r}}function roundedInt64$1(t,e){return t*V2E32$1+e}class NearUInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readUInt32LE(r),a=n.readUInt32LE(r+4);return roundedInt64$1(a,o)}encode(e,r,n=0){const o=divmodInt64$1(e),a=uint8ArrayToBuffer(r);return a.writeUInt32LE(o.lo32,n),a.writeUInt32LE(o.hi32,n+4),8}}Layout$4.NearUInt64=NearUInt64$1;class NearUInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readUInt32BE(r),a=n.readUInt32BE(r+4);return roundedInt64$1(o,a)}encode(e,r,n=0){const o=divmodInt64$1(e),a=uint8ArrayToBuffer(r);return a.writeUInt32BE(o.hi32,n),a.writeUInt32BE(o.lo32,n+4),8}}Layout$4.NearUInt64BE=NearUInt64BE$1;class NearInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readUInt32LE(r),a=n.readInt32LE(r+4);return roundedInt64$1(a,o)}encode(e,r,n=0){const o=divmodInt64$1(e),a=uint8ArrayToBuffer(r);return a.writeUInt32LE(o.lo32,n),a.writeInt32LE(o.hi32,n+4),8}}Layout$4.NearInt64=NearInt64$1;class NearInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){const n=uint8ArrayToBuffer(e),o=n.readInt32BE(r),a=n.readUInt32BE(r+4);return roundedInt64$1(o,a)}encode(e,r,n=0){const o=divmodInt64$1(e),a=uint8ArrayToBuffer(r);return a.writeInt32BE(o.hi32,n),a.writeUInt32BE(o.lo32,n+4),8}}Layout$4.NearInt64BE=NearInt64BE$1;class Float$1 extends Layout$3{constructor(e){super(4,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readFloatLE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeFloatLE(e,n),4}}Layout$4.Float=Float$1;class FloatBE$1 extends Layout$3{constructor(e){super(4,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readFloatBE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeFloatBE(e,n),4}}Layout$4.FloatBE=FloatBE$1;class Double$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readDoubleLE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeDoubleLE(e,n),8}}Layout$4.Double=Double$1;class DoubleBE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,r=0){return uint8ArrayToBuffer(e).readDoubleBE(r)}encode(e,r,n=0){return uint8ArrayToBuffer(r).writeDoubleBE(e,n),8}}Layout$4.DoubleBE=DoubleBE$1;class Sequence$1 extends Layout$3{constructor(e,r,n){if(!(e instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ExternalLayout$2&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(r instanceof ExternalLayout$2)&&0<e.span&&(o=r*e.span),super(o,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof ExternalLayout$2&&(o=o.decode(e,r)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let a=0;for(;a<o;)n+=this.elementLayout.getSpan(e,r+n),++a}return n}decode(e,r=0){const n=[];let o=0,a=this.count;for(a instanceof ExternalLayout$2&&(a=a.decode(e,r));o<a;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),o+=1;return n}encode(e,r,n=0){const o=this.elementLayout,a=e.reduce((c,u)=>c+o.encode(u,r,n+c),0);return this.count instanceof ExternalLayout$2&&this.count.encode(e.length,r,n),a}}Layout$4.Sequence=Sequence$1;class Structure$2 extends Layout$3{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((a,c)=>a&&c instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((a,c)=>a+c.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,a)=>{const c=a.getSpan(e,r);return r+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){checkUint8Array(e);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const o=n;let a=0,c=0;for(const u of this.fields){let gr=u.span;if(c=0<gr?gr:0,u.property!==void 0){const br=e[u.property];br!==void 0&&(c=u.encode(br,r,n),0>gr&&(gr=u.getSpan(r,n)))}a=n,n+=gr}return a+c-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}Layout$4.Structure=Structure$2;class UnionDiscriminator$1{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}}Layout$4.UnionDiscriminator=UnionDiscriminator$1;class UnionLayoutDiscriminator$1 extends UnionDiscriminator$1{constructor(e,r){if(!(e instanceof ExternalLayout$2&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;class Union$1 extends Layout$3{constructor(e,r,n){let o;if(e instanceof UInt$2||e instanceof UIntBE$1)o=new UnionLayoutDiscriminator$1(new OffsetLayout$1(e));else if(e instanceof ExternalLayout$2&&e.isCount())o=new UnionLayoutDiscriminator$1(e);else if(e instanceof UnionDiscriminator$1)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let a=-1;r&&(a=r.span,0<=a&&(e instanceof UInt$2||e instanceof UIntBE$1)&&(a+=o.layout.span)),super(a,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof UInt$2||e instanceof UIntBE$1,this.defaultLayout=r,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const o=this.discriminator,a=o.decode(e,r),c=this.registry[a];if(c===void 0){const u=this.defaultLayout;let gr=0;this.usesPrefixDiscriminator&&(gr=o.layout.span),n=this.makeDestinationObject(),n[o.property]=a,n[u.property]=u.decode(e,r+gr)}else n=c.decode(e,r);return n}encode(e,r,n=0){const o=this.getSourceVariant(e);if(o===void 0){const a=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=a.layout.span),a.encode(e[a.property],r,n),u+c.encode(e[c.property],r,n+u)}return o.encode(e,r,n)}addVariant(e,r,n){const o=new VariantLayout$1(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}}Layout$4.Union=Union$1;class VariantLayout$1 extends Layout$3{constructor(e,r,n,o){if(!(e instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Layout$3))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=n?n.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,r+n)),n+o}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let a=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),a+=this.layout.getSpan(r,n+o),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Layout$4.VariantLayout=VariantLayout$1;function fixBitwiseResult$1(t){return 0>t&&(t+=4294967296),t}class BitStructure$1 extends Layout$3{constructor(e,r,n){if(!(e instanceof UInt$2||e instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let o=0;this._packedSetValue=function(a){return o=fixBitwiseResult$1(a),this},this._packedGetValue=function(){return o}}decode(e,r=0){const n=this.makeDestinationObject(),o=this.word.decode(e,r);this._packedSetValue(o);for(const a of this.fields)a.property!==void 0&&(n[a.property]=a.decode(e));return n}encode(e,r,n=0){const o=this.word.decode(r,n);this._packedSetValue(o);for(const a of this.fields)if(a.property!==void 0){const c=e[a.property];c!==void 0&&a.encode(c)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new BitField$1(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new Boolean$2(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}Layout$4.BitStructure=BitStructure$1;class BitField$1{constructor(e,r,n){if(!(e instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const o=8*e.span,a=e.fields.reduce((c,u)=>c+u.bits,0);if(r+a>o)throw new Error("bits too long for span remainder ("+(o-a)+" of "+o+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=a,this.container.msb&&(this.start=o-a-r),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return fixBitwiseResult$1(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==fixBitwiseResult$1(e&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=fixBitwiseResult$1(e<<this.start);this.container._packedSetValue(fixBitwiseResult$1(r&~this.wordMask)|n)}}Layout$4.BitField=BitField$1;class Boolean$2 extends BitField$1{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}}Layout$4.Boolean=Boolean$2;class Blob$4 extends Layout$3{constructor(e,r){if(!(e instanceof ExternalLayout$2&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout$2||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),uint8ArrayToBuffer(e).slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof ExternalLayout$2&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>r.length)throw new RangeError("encoding overruns Uint8Array");const a=uint8ArrayToBuffer(e);return uint8ArrayToBuffer(r).write(a.toString("hex"),n,o,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(o,r,n),o}}Layout$4.Blob=Blob$4;class CString$1 extends Layout$3{constructor(e){super(-1,e)}getSpan(e,r=0){checkUint8Array(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return uint8ArrayToBuffer(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),a=o.length;if(n+a>r.length)throw new RangeError("encoding overruns Buffer");const c=uint8ArrayToBuffer(r);return o.copy(c,n),c[n+a]=0,a+1}}Layout$4.CString=CString$1;class UTF8$1 extends Layout$3{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return checkUint8Array(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),a=o.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(n+a>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(uint8ArrayToBuffer(r),n),a}}Layout$4.UTF8=UTF8$1;class Constant$1 extends Layout$3{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}}Layout$4.Constant=Constant$1;Layout$4.greedy=(t,e)=>new GreedyCount$1(t,e);var offset$1=Layout$4.offset=(t,e,r)=>new OffsetLayout$1(t,e,r),u8$2=Layout$4.u8=t=>new UInt$2(1,t),u16=Layout$4.u16=t=>new UInt$2(2,t);Layout$4.u24=t=>new UInt$2(3,t);var u32$2=Layout$4.u32=t=>new UInt$2(4,t);Layout$4.u40=t=>new UInt$2(5,t);Layout$4.u48=t=>new UInt$2(6,t);var nu64$1=Layout$4.nu64=t=>new NearUInt64$1(t);Layout$4.u16be=t=>new UIntBE$1(2,t);Layout$4.u24be=t=>new UIntBE$1(3,t);Layout$4.u32be=t=>new UIntBE$1(4,t);Layout$4.u40be=t=>new UIntBE$1(5,t);Layout$4.u48be=t=>new UIntBE$1(6,t);Layout$4.nu64be=t=>new NearUInt64BE$1(t);Layout$4.s8=t=>new Int$1(1,t);s16=Layout$4.s16=t=>new Int$1(2,t);Layout$4.s24=t=>new Int$1(3,t);Layout$4.s32=t=>new Int$1(4,t);Layout$4.s40=t=>new Int$1(5,t);Layout$4.s48=t=>new Int$1(6,t);var ns64$1=Layout$4.ns64=t=>new NearInt64$1(t);Layout$4.s16be=t=>new IntBE$1(2,t);Layout$4.s24be=t=>new IntBE$1(3,t);Layout$4.s32be=t=>new IntBE$1(4,t);Layout$4.s40be=t=>new IntBE$1(5,t);Layout$4.s48be=t=>new IntBE$1(6,t);Layout$4.ns64be=t=>new NearInt64BE$1(t);Layout$4.f32=t=>new Float$1(t);Layout$4.f32be=t=>new FloatBE$1(t);Layout$4.f64=t=>new Double$1(t);Layout$4.f64be=t=>new DoubleBE$1(t);var struct$3=Layout$4.struct=(t,e,r)=>new Structure$2(t,e,r);Layout$4.bits=(t,e,r)=>new BitStructure$1(t,e,r);var seq=Layout$4.seq=(t,e,r)=>new Sequence$1(t,e,r);Layout$4.union=(t,e,r)=>new Union$1(t,e,r);Layout$4.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator$1(t,e);var blob$2=Layout$4.blob=(t,e)=>new Blob$4(t,e);Layout$4.cstr=t=>new CString$1(t);Layout$4.utf8=(t,e)=>new UTF8$1(t,e);Layout$4.constant=(t,e)=>new Constant$1(t,e);var browser$6={};Object.defineProperty(browser$6,"__esModule",{value:!0});function toBigIntLE(t){{const e=dist$3.Buffer.from(t);e.reverse();const r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var toBigIntLE_1=browser$6.toBigIntLE=toBigIntLE;function toBigIntBE(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}browser$6.toBigIntBE=toBigIntBE;function toBufferLE(t,e){{const r=t.toString(16),n=dist$3.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var toBufferLE_1=browser$6.toBufferLE=toBufferLE;function toBufferBE(t,e){{const r=t.toString(16);return dist$3.Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}}browser$6.toBufferBE=toBufferBE;class StructError$2 extends TypeError{constructor(e,r){let n;const{message:o,...a}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var gr;return(gr=n)!=null?gr:n=[e,...r()]}}}function isIterable$2(t){return isObject$6(t)&&typeof t[Symbol.iterator]=="function"}function isObject$6(t){return typeof t=="object"&&t!=null}function print$2(t){return typeof t=="string"?JSON.stringify(t):""+t}function shiftIterator$2(t){const{done:e,value:r}=t.next();return e?void 0:r}function toFailure$2(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:a}=e,{type:c}=r,{refinement:u,message:gr="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+print$2(n)+"`"}=t;return{value:n,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...t,message:gr}}function*toFailures$2(t,e,r,n){isIterable$2(t)||(t=[t]);for(const o of t){const a=toFailure$2(o,e,r,n);a&&(yield a)}}function*run$3(t,e,r={}){const{path:n=[],branch:o=[t],coerce:a=!1,mask:c=!1}=r,u={path:n,branch:o};if(a&&(t=e.coercer(t,u),c&&e.type!=="type"&&isObject$6(e.schema)&&isObject$6(t)&&!Array.isArray(t)))for(const br in t)e.schema[br]===void 0&&delete t[br];let gr=!0;for(const br of e.validator(t,u))gr=!1,yield[br,void 0];for(let[br,_r,Ar]of e.entries(t,u)){const vr=run$3(_r,Ar,{path:br===void 0?n:[...n,br],branch:br===void 0?o:[...o,_r],coerce:a,mask:c});for(const Tr of vr)Tr[0]?(gr=!1,yield[Tr[0],void 0]):a&&(_r=Tr[1],br===void 0?t=_r:t instanceof Map?t.set(br,_r):t instanceof Set?t.add(_r):isObject$6(t)&&(t[br]=_r))}if(gr)for(const br of e.refiner(t,u))gr=!1,yield[br,void 0];gr&&(yield[void 0,t])}class Struct$6{constructor(e){const{type:r,schema:n,validator:o,refiner:a,coercer:c=gr=>gr,entries:u=function*(){}}=e;this.type=r,this.schema=n,this.entries=u,this.coercer=c,o?this.validator=(gr,br)=>{const _r=o(gr,br);return toFailures$2(_r,br,this,gr)}:this.validator=()=>[],a?this.refiner=(gr,br)=>{const _r=a(gr,br);return toFailures$2(_r,br,this,gr)}:this.refiner=()=>[]}assert(e){return assert$b(e,this)}create(e){return create$2(e,this)}is(e){return is$2(e,this)}mask(e){return mask$2(e,this)}validate(e,r={}){return validate$3(e,this,r)}}function assert$b(t,e){const r=validate$3(t,e);if(r[0])throw r[0]}function create$2(t,e){const r=validate$3(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function mask$2(t,e){const r=validate$3(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function is$2(t,e){return!validate$3(t,e)[0]}function validate$3(t,e,r={}){const n=run$3(t,e,r),o=shiftIterator$2(n);if(o[0])return[new StructError$2(o[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$7(t,e){return new Struct$6({type:t,schema:null,validator:e})}function any$2(){return define$7("any",()=>!0)}function array$3(t){return new Struct$6({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print$2(e)}})}function boolean$2(){return define$7("boolean",t=>typeof t=="boolean")}function instance$1(t){return define$7("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+print$2(e))}function literal$2(t){const e=print$2(t),r=typeof t;return new Struct$6({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+print$2(n)}})}function never$1(){return define$7("never",()=>!1)}function nullable$2(t){return new Struct$6({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function number$3(){return define$7("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+print$2(t))}function optional$2(t){return new Struct$6({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function record$1(t,e){return new Struct$6({type:"record",schema:null,*entries(r){if(isObject$6(r))for(const n in r){const o=r[n];yield[n,n,t],yield[n,o,e]}},validator(r){return isObject$6(r)||"Expected an object, but received: "+print$2(r)}})}function string$3(){return define$7("string",t=>typeof t=="string"||"Expected a string, but received: "+print$2(t))}function tuple$2(t){const e=never$1();return new Struct$6({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let o=0;o<n;o++)yield[o,r[o],t[o]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+print$2(r)}})}function type$2(t){const e=Object.keys(t);return new Struct$6({type:"type",schema:t,*entries(r){if(isObject$6(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return isObject$6(r)||"Expected an object, but received: "+print$2(r)}})}function union$3(t){const e=t.map(r=>r.type).join(" | ");return new Struct$6({type:"union",schema:null,validator(r,n){const o=[];for(const a of t){const[...c]=run$3(r,a,n),[u]=c;if(u[0])for(const[gr]of c)gr&&o.push(gr);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print$2(r),...o]}})}function unknown$2(){return define$7("unknown",()=>!0)}function coerce$2(t,e,r){return new Struct$6({...t,coercer:(n,o)=>is$2(n,e)?t.coercer(r(n,o),o):t.coercer(n,o)})}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$2(t){return typeof t=="string"&&REGEX.test(t)}var byteToHex=[];for(var i$2=0;i$2<256;++i$2)byteToHex.push((i$2+256).toString(16).substr(1));function stringify$3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase();if(!validate$2(r))throw TypeError("Stringified UUID is invalid");return r}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(t,e,r){var n=e&&r||0,o=e||new Array(16);t=t||{};var a=t.node||_nodeId,c=t.clockseq!==void 0?t.clockseq:_clockseq;if(a==null||c==null){var u=t.random||(t.rng||rng)();a==null&&(a=_nodeId=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=_clockseq=(u[6]<<8|u[7])&16383)}var gr=t.msecs!==void 0?t.msecs:Date.now(),br=t.nsecs!==void 0?t.nsecs:_lastNSecs+1,_r=gr-_lastMSecs+(br-_lastNSecs)/1e4;if(_r<0&&t.clockseq===void 0&&(c=c+1&16383),(_r<0||gr>_lastMSecs)&&t.nsecs===void 0&&(br=0),br>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=gr,_lastNSecs=br,_clockseq=c,gr+=122192928e5;var Ar=((gr&268435455)*1e4+br)%4294967296;o[n++]=Ar>>>24&255,o[n++]=Ar>>>16&255,o[n++]=Ar>>>8&255,o[n++]=Ar&255;var vr=gr/4294967296*1e4&268435455;o[n++]=vr>>>8&255,o[n++]=vr&255,o[n++]=vr>>>24&15|16,o[n++]=vr>>>16&255,o[n++]=c>>>8|128,o[n++]=c&255;for(var Tr=0;Tr<6;++Tr)o[n+Tr]=a[Tr];return e||stringify$3(o)}function parse$1(t){if(!validate$2(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function stringToBytes(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(t,e,r){function n(o,a,c,u){if(typeof o=="string"&&(o=stringToBytes(o)),typeof a=="string"&&(a=parse$1(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var gr=new Uint8Array(16+o.length);if(gr.set(a),gr.set(o,a.length),gr=r(gr),gr[6]=gr[6]&15|e,gr[8]=gr[8]&63|128,c){u=u||0;for(var br=0;br<16;++br)c[u+br]=gr[br];return c}return stringify$3(gr)}try{n.name=t}catch{}return n.DNS=DNS,n.URL=URL$1,n}function md5(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(t),t.length*8))}function md5ToHexEncodedArray(t){for(var e=[],r=t.length*32,n="0123456789abcdef",o=0;o<r;o+=8){var a=t[o>>5]>>>o%32&255,c=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(c)}return e}function getOutputLength(t){return(t+64>>>9<<4)+14+1}function wordsToMd5(t,e){t[e>>5]|=128<<e%32,t[getOutputLength(e)-1]=e;for(var r=1732584193,n=-271733879,o=-1732584194,a=271733878,c=0;c<t.length;c+=16){var u=r,gr=n,br=o,_r=a;r=md5ff(r,n,o,a,t[c],7,-680876936),a=md5ff(a,r,n,o,t[c+1],12,-389564586),o=md5ff(o,a,r,n,t[c+2],17,606105819),n=md5ff(n,o,a,r,t[c+3],22,-1044525330),r=md5ff(r,n,o,a,t[c+4],7,-176418897),a=md5ff(a,r,n,o,t[c+5],12,1200080426),o=md5ff(o,a,r,n,t[c+6],17,-1473231341),n=md5ff(n,o,a,r,t[c+7],22,-45705983),r=md5ff(r,n,o,a,t[c+8],7,1770035416),a=md5ff(a,r,n,o,t[c+9],12,-1958414417),o=md5ff(o,a,r,n,t[c+10],17,-42063),n=md5ff(n,o,a,r,t[c+11],22,-1990404162),r=md5ff(r,n,o,a,t[c+12],7,1804603682),a=md5ff(a,r,n,o,t[c+13],12,-40341101),o=md5ff(o,a,r,n,t[c+14],17,-1502002290),n=md5ff(n,o,a,r,t[c+15],22,1236535329),r=md5gg(r,n,o,a,t[c+1],5,-165796510),a=md5gg(a,r,n,o,t[c+6],9,-1069501632),o=md5gg(o,a,r,n,t[c+11],14,643717713),n=md5gg(n,o,a,r,t[c],20,-373897302),r=md5gg(r,n,o,a,t[c+5],5,-701558691),a=md5gg(a,r,n,o,t[c+10],9,38016083),o=md5gg(o,a,r,n,t[c+15],14,-660478335),n=md5gg(n,o,a,r,t[c+4],20,-405537848),r=md5gg(r,n,o,a,t[c+9],5,568446438),a=md5gg(a,r,n,o,t[c+14],9,-1019803690),o=md5gg(o,a,r,n,t[c+3],14,-187363961),n=md5gg(n,o,a,r,t[c+8],20,1163531501),r=md5gg(r,n,o,a,t[c+13],5,-1444681467),a=md5gg(a,r,n,o,t[c+2],9,-51403784),o=md5gg(o,a,r,n,t[c+7],14,1735328473),n=md5gg(n,o,a,r,t[c+12],20,-1926607734),r=md5hh(r,n,o,a,t[c+5],4,-378558),a=md5hh(a,r,n,o,t[c+8],11,-2022574463),o=md5hh(o,a,r,n,t[c+11],16,1839030562),n=md5hh(n,o,a,r,t[c+14],23,-35309556),r=md5hh(r,n,o,a,t[c+1],4,-1530992060),a=md5hh(a,r,n,o,t[c+4],11,1272893353),o=md5hh(o,a,r,n,t[c+7],16,-155497632),n=md5hh(n,o,a,r,t[c+10],23,-1094730640),r=md5hh(r,n,o,a,t[c+13],4,681279174),a=md5hh(a,r,n,o,t[c],11,-358537222),o=md5hh(o,a,r,n,t[c+3],16,-722521979),n=md5hh(n,o,a,r,t[c+6],23,76029189),r=md5hh(r,n,o,a,t[c+9],4,-640364487),a=md5hh(a,r,n,o,t[c+12],11,-421815835),o=md5hh(o,a,r,n,t[c+15],16,530742520),n=md5hh(n,o,a,r,t[c+2],23,-995338651),r=md5ii(r,n,o,a,t[c],6,-198630844),a=md5ii(a,r,n,o,t[c+7],10,1126891415),o=md5ii(o,a,r,n,t[c+14],15,-1416354905),n=md5ii(n,o,a,r,t[c+5],21,-57434055),r=md5ii(r,n,o,a,t[c+12],6,1700485571),a=md5ii(a,r,n,o,t[c+3],10,-1894986606),o=md5ii(o,a,r,n,t[c+10],15,-1051523),n=md5ii(n,o,a,r,t[c+1],21,-2054922799),r=md5ii(r,n,o,a,t[c+8],6,1873313359),a=md5ii(a,r,n,o,t[c+15],10,-30611744),o=md5ii(o,a,r,n,t[c+6],15,-1560198380),n=md5ii(n,o,a,r,t[c+13],21,1309151649),r=md5ii(r,n,o,a,t[c+4],6,-145523070),a=md5ii(a,r,n,o,t[c+11],10,-1120210379),o=md5ii(o,a,r,n,t[c+2],15,718787259),n=md5ii(n,o,a,r,t[c+9],21,-343485551),r=safeAdd(r,u),n=safeAdd(n,gr),o=safeAdd(o,br),a=safeAdd(a,_r)}return[r,n,o,a]}function bytesToWords(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(getOutputLength(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function safeAdd(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function bitRotateLeft(t,e){return t<<e|t>>>32-e}function md5cmn(t,e,r,n,o,a){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,t),safeAdd(n,a)),o),r)}function md5ff(t,e,r,n,o,a,c){return md5cmn(e&r|~e&n,t,e,o,a,c)}function md5gg(t,e,r,n,o,a,c){return md5cmn(e&n|r&~n,t,e,o,a,c)}function md5hh(t,e,r,n,o,a,c){return md5cmn(e^r^n,t,e,o,a,c)}function md5ii(t,e,r,n,o,a,c){return md5cmn(r^(e|~n),t,e,o,a,c)}var v3=v35("v3",48,md5),v3$1=v3;function v4(t,e,r){t=t||{};var n=t.random||(t.rng||rng)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return stringify$3(n)}function f(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function ROTL(t,e){return t<<e|t>>>32-e}function sha1(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var o=0;o<n.length;++o)t.push(n.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,c=Math.ceil(a/16),u=new Array(c),gr=0;gr<c;++gr){for(var br=new Uint32Array(16),_r=0;_r<16;++_r)br[_r]=t[gr*64+_r*4]<<24|t[gr*64+_r*4+1]<<16|t[gr*64+_r*4+2]<<8|t[gr*64+_r*4+3];u[gr]=br}u[c-1][14]=(t.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(t.length-1)*8&4294967295;for(var Ar=0;Ar<c;++Ar){for(var vr=new Uint32Array(80),Tr=0;Tr<16;++Tr)vr[Tr]=u[Ar][Tr];for(var Or=16;Or<80;++Or)vr[Or]=ROTL(vr[Or-3]^vr[Or-8]^vr[Or-14]^vr[Or-16],1);for(var Ir=r[0],xr=r[1],Lr=r[2],Fr=r[3],Mr=r[4],Hr=0;Hr<80;++Hr){var Vr=Math.floor(Hr/20),Kr=ROTL(Ir,5)+f(Vr,xr,Lr,Fr)+Mr+e[Vr]+vr[Hr]>>>0;Mr=Fr,Fr=Lr,Lr=ROTL(xr,30)>>>0,xr=Ir,Ir=Kr}r[0]=r[0]+Ir>>>0,r[1]=r[1]+xr>>>0,r[2]=r[2]+Lr>>>0,r[3]=r[3]+Fr>>>0,r[4]=r[4]+Mr>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var v5=v35("v5",80,sha1),v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version$4(t){if(!validate$2(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version:version$4,validate:validate$2,stringify:stringify$3,parse:parse$1},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(esmBrowser);const uuid$1=require$$0$3.v4,generateRequest$1=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const a={method:t};if(o===2&&(a.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");a.params=e}if(typeof r>"u"){const c=typeof n.generator=="function"?n.generator:function(){return uuid$1()};a.id=c(a,n)}else o===2&&r===null?n.notificationIdNull&&(a.id=null):a.id=r;return a};var generateRequest_1=generateRequest$1;const uuid=require$$0$3.v4,generateRequest=generateRequest_1,ClientBrowser=function(t,e){if(!(this instanceof ClientBrowser))return new ClientBrowser(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var browser$5=ClientBrowser;ClientBrowser.prototype.request=function(t,e,r,n){const o=this;let a=null;const c=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&t&&typeof t=="object"&&typeof e=="function")n=e,a=t;else{typeof r=="function"&&(n=r,r=void 0);const br=typeof n=="function";try{a=generateRequest(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(_r){if(br)return n(_r);throw _r}if(!br)return a}let gr;try{gr=JSON.stringify(a,this.options.replacer)}catch(br){return n(br)}return this.callServer(gr,function(br,_r){o._parseResponse(br,_r,n)}),a};ClientBrowser.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return r(o)}if(r.length===3)if(Array.isArray(n)){const o=function(c){return typeof c.error<"u"},a=function(c){return!o(c)};return r(null,n.filter(o),n.filter(a))}else return r(null,n.error,n.result);r(null,n)};var client={},interopRequireDefault={exports:{}};(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(interopRequireDefault);var regeneratorRuntime$1={exports:{}},_typeof$5={exports:{}};(function(t){function e(r){return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(_typeof$5);(function(t){var e=_typeof$5.exports.default;function r(){t.exports=r=function(){return o},t.exports.__esModule=!0,t.exports.default=t.exports;var n,o={},a=Object.prototype,c=a.hasOwnProperty,u=Object.defineProperty||function(Xr,nn,Gr){Xr[nn]=Gr.value},gr=typeof Symbol=="function"?Symbol:{},br=gr.iterator||"@@iterator",_r=gr.asyncIterator||"@@asyncIterator",Ar=gr.toStringTag||"@@toStringTag";function vr(Xr,nn,Gr){return Object.defineProperty(Xr,nn,{value:Gr,enumerable:!0,configurable:!0,writable:!0}),Xr[nn]}try{vr({},"")}catch{vr=function(Gr,Nr,Jr){return Gr[Nr]=Jr}}function Tr(Xr,nn,Gr,Nr){var Jr=nn&&nn.prototype instanceof Hr?nn:Hr,fn=Object.create(Jr.prototype),An=new Yr(Nr||[]);return u(fn,"_invoke",{value:Ur(Xr,Gr,An)}),fn}function Or(Xr,nn,Gr){try{return{type:"normal",arg:Xr.call(nn,Gr)}}catch(Nr){return{type:"throw",arg:Nr}}}o.wrap=Tr;var Ir="suspendedStart",xr="suspendedYield",Lr="executing",Fr="completed",Mr={};function Hr(){}function Vr(){}function Kr(){}var jr={};vr(jr,br,function(){return this});var qr=Object.getPrototypeOf,tn=qr&&qr(qr(Zr([])));tn&&tn!==a&&c.call(tn,br)&&(jr=tn);var en=Kr.prototype=Hr.prototype=Object.create(jr);function sn(Xr){["next","throw","return"].forEach(function(nn){vr(Xr,nn,function(Gr){return this._invoke(nn,Gr)})})}function cn(Xr,nn){function Gr(Jr,fn,An,wn){var yn=Or(Xr[Jr],Xr,fn);if(yn.type!=="throw"){var mn=yn.arg,_n=mn.value;return _n&&e(_n)=="object"&&c.call(_n,"__await")?nn.resolve(_n.__await).then(function(In){Gr("next",In,An,wn)},function(In){Gr("throw",In,An,wn)}):nn.resolve(_n).then(function(In){mn.value=In,An(mn)},function(In){return Gr("throw",In,An,wn)})}wn(yn.arg)}var Nr;u(this,"_invoke",{value:function(fn,An){function wn(){return new nn(function(yn,mn){Gr(fn,An,yn,mn)})}return Nr=Nr?Nr.then(wn,wn):wn()}})}function Ur(Xr,nn,Gr){var Nr=Ir;return function(Jr,fn){if(Nr===Lr)throw new Error("Generator is already running");if(Nr===Fr){if(Jr==="throw")throw fn;return{value:n,done:!0}}for(Gr.method=Jr,Gr.arg=fn;;){var An=Gr.delegate;if(An){var wn=Rr(An,Gr);if(wn){if(wn===Mr)continue;return wn}}if(Gr.method==="next")Gr.sent=Gr._sent=Gr.arg;else if(Gr.method==="throw"){if(Nr===Ir)throw Nr=Fr,Gr.arg;Gr.dispatchException(Gr.arg)}else Gr.method==="return"&&Gr.abrupt("return",Gr.arg);Nr=Lr;var yn=Or(Xr,nn,Gr);if(yn.type==="normal"){if(Nr=Gr.done?Fr:xr,yn.arg===Mr)continue;return{value:yn.arg,done:Gr.done}}yn.type==="throw"&&(Nr=Fr,Gr.method="throw",Gr.arg=yn.arg)}}}function Rr(Xr,nn){var Gr=nn.method,Nr=Xr.iterator[Gr];if(Nr===n)return nn.delegate=null,Gr==="throw"&&Xr.iterator.return&&(nn.method="return",nn.arg=n,Rr(Xr,nn),nn.method==="throw")||Gr!=="return"&&(nn.method="throw",nn.arg=new TypeError("The iterator does not provide a '"+Gr+"' method")),Mr;var Jr=Or(Nr,Xr.iterator,nn.arg);if(Jr.type==="throw")return nn.method="throw",nn.arg=Jr.arg,nn.delegate=null,Mr;var fn=Jr.arg;return fn?fn.done?(nn[Xr.resultName]=fn.value,nn.next=Xr.nextLoc,nn.method!=="return"&&(nn.method="next",nn.arg=n),nn.delegate=null,Mr):fn:(nn.method="throw",nn.arg=new TypeError("iterator result is not an object"),nn.delegate=null,Mr)}function Pr(Xr){var nn={tryLoc:Xr[0]};1 in Xr&&(nn.catchLoc=Xr[1]),2 in Xr&&(nn.finallyLoc=Xr[2],nn.afterLoc=Xr[3]),this.tryEntries.push(nn)}function Dr(Xr){var nn=Xr.completion||{};nn.type="normal",delete nn.arg,Xr.completion=nn}function Yr(Xr){this.tryEntries=[{tryLoc:"root"}],Xr.forEach(Pr,this),this.reset(!0)}function Zr(Xr){if(Xr||Xr===""){var nn=Xr[br];if(nn)return nn.call(Xr);if(typeof Xr.next=="function")return Xr;if(!isNaN(Xr.length)){var Gr=-1,Nr=function Jr(){for(;++Gr<Xr.length;)if(c.call(Xr,Gr))return Jr.value=Xr[Gr],Jr.done=!1,Jr;return Jr.value=n,Jr.done=!0,Jr};return Nr.next=Nr}}throw new TypeError(e(Xr)+" is not iterable")}return Vr.prototype=Kr,u(en,"constructor",{value:Kr,configurable:!0}),u(Kr,"constructor",{value:Vr,configurable:!0}),Vr.displayName=vr(Kr,Ar,"GeneratorFunction"),o.isGeneratorFunction=function(Xr){var nn=typeof Xr=="function"&&Xr.constructor;return!!nn&&(nn===Vr||(nn.displayName||nn.name)==="GeneratorFunction")},o.mark=function(Xr){return Object.setPrototypeOf?Object.setPrototypeOf(Xr,Kr):(Xr.__proto__=Kr,vr(Xr,Ar,"GeneratorFunction")),Xr.prototype=Object.create(en),Xr},o.awrap=function(Xr){return{__await:Xr}},sn(cn.prototype),vr(cn.prototype,_r,function(){return this}),o.AsyncIterator=cn,o.async=function(Xr,nn,Gr,Nr,Jr){Jr===void 0&&(Jr=Promise);var fn=new cn(Tr(Xr,nn,Gr,Nr),Jr);return o.isGeneratorFunction(nn)?fn:fn.next().then(function(An){return An.done?An.value:fn.next()})},sn(en),vr(en,Ar,"Generator"),vr(en,br,function(){return this}),vr(en,"toString",function(){return"[object Generator]"}),o.keys=function(Xr){var nn=Object(Xr),Gr=[];for(var Nr in nn)Gr.push(Nr);return Gr.reverse(),function Jr(){for(;Gr.length;){var fn=Gr.pop();if(fn in nn)return Jr.value=fn,Jr.done=!1,Jr}return Jr.done=!0,Jr}},o.values=Zr,Yr.prototype={constructor:Yr,reset:function(nn){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Dr),!nn)for(var Gr in this)Gr.charAt(0)==="t"&&c.call(this,Gr)&&!isNaN(+Gr.slice(1))&&(this[Gr]=n)},stop:function(){this.done=!0;var nn=this.tryEntries[0].completion;if(nn.type==="throw")throw nn.arg;return this.rval},dispatchException:function(nn){if(this.done)throw nn;var Gr=this;function Nr(mn,_n){return An.type="throw",An.arg=nn,Gr.next=mn,_n&&(Gr.method="next",Gr.arg=n),!!_n}for(var Jr=this.tryEntries.length-1;Jr>=0;--Jr){var fn=this.tryEntries[Jr],An=fn.completion;if(fn.tryLoc==="root")return Nr("end");if(fn.tryLoc<=this.prev){var wn=c.call(fn,"catchLoc"),yn=c.call(fn,"finallyLoc");if(wn&&yn){if(this.prev<fn.catchLoc)return Nr(fn.catchLoc,!0);if(this.prev<fn.finallyLoc)return Nr(fn.finallyLoc)}else if(wn){if(this.prev<fn.catchLoc)return Nr(fn.catchLoc,!0)}else{if(!yn)throw new Error("try statement without catch or finally");if(this.prev<fn.finallyLoc)return Nr(fn.finallyLoc)}}}},abrupt:function(nn,Gr){for(var Nr=this.tryEntries.length-1;Nr>=0;--Nr){var Jr=this.tryEntries[Nr];if(Jr.tryLoc<=this.prev&&c.call(Jr,"finallyLoc")&&this.prev<Jr.finallyLoc){var fn=Jr;break}}fn&&(nn==="break"||nn==="continue")&&fn.tryLoc<=Gr&&Gr<=fn.finallyLoc&&(fn=null);var An=fn?fn.completion:{};return An.type=nn,An.arg=Gr,fn?(this.method="next",this.next=fn.finallyLoc,Mr):this.complete(An)},complete:function(nn,Gr){if(nn.type==="throw")throw nn.arg;return nn.type==="break"||nn.type==="continue"?this.next=nn.arg:nn.type==="return"?(this.rval=this.arg=nn.arg,this.method="return",this.next="end"):nn.type==="normal"&&Gr&&(this.next=Gr),Mr},finish:function(nn){for(var Gr=this.tryEntries.length-1;Gr>=0;--Gr){var Nr=this.tryEntries[Gr];if(Nr.finallyLoc===nn)return this.complete(Nr.completion,Nr.afterLoc),Dr(Nr),Mr}},catch:function(nn){for(var Gr=this.tryEntries.length-1;Gr>=0;--Gr){var Nr=this.tryEntries[Gr];if(Nr.tryLoc===nn){var Jr=Nr.completion;if(Jr.type==="throw"){var fn=Jr.arg;Dr(Nr)}return fn}}throw new Error("illegal catch attempt")},delegateYield:function(nn,Gr,Nr){return this.delegate={iterator:Zr(nn),resultName:Gr,nextLoc:Nr},this.method==="next"&&(this.arg=n),Mr}},o}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(regeneratorRuntime$1);var runtime=regeneratorRuntime$1.exports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}var asyncToGenerator={exports:{}};(function(t){function e(n,o,a,c,u,gr,br){try{var _r=n[gr](br),Ar=_r.value}catch(vr){a(vr);return}_r.done?o(Ar):Promise.resolve(Ar).then(c,u)}function r(n){return function(){var o=this,a=arguments;return new Promise(function(c,u){var gr=n.apply(o,a);function br(Ar){e(gr,c,u,br,_r,"next",Ar)}function _r(Ar){e(gr,c,u,br,_r,"throw",Ar)}br(void 0)})}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(asyncToGenerator);var classCallCheck={exports:{}};(function(t){function e(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(classCallCheck);var createClass={exports:{}},toPropertyKey={exports:{}},toPrimitive$1={exports:{}};(function(t){var e=_typeof$5.exports.default;function r(n,o){if(e(n)!=="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var c=a.call(n,o||"default");if(e(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(toPrimitive$1);(function(t){var e=_typeof$5.exports.default,r=toPrimitive$1.exports;function n(o){var a=r(o,"string");return e(a)==="symbol"?a:String(a)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(toPropertyKey);(function(t){var e=toPropertyKey.exports;function r(o,a){for(var c=0;c<a.length;c++){var u=a[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,e(u.key),u)}}function n(o,a,c){return a&&r(o.prototype,a),c&&r(o,c),Object.defineProperty(o,"prototype",{writable:!1}),o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(createClass);var inherits$3={exports:{}},setPrototypeOf={exports:{}};(function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(setPrototypeOf);(function(t){var e=setPrototypeOf.exports;function r(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&e(n,o)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(inherits$3);var possibleConstructorReturn={exports:{}},assertThisInitialized={exports:{}};(function(t){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(assertThisInitialized);(function(t){var e=_typeof$5.exports.default,r=assertThisInitialized.exports;function n(o,a){if(a&&(e(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(o)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(possibleConstructorReturn);var getPrototypeOf$2={exports:{}};(function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(getPrototypeOf$2);var eventemitter3$1={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(gr,br,_r){this.fn=gr,this.context=br,this.once=_r||!1}function a(gr,br,_r,Ar,vr){if(typeof _r!="function")throw new TypeError("The listener must be a function");var Tr=new o(_r,Ar||gr,vr),Or=r?r+br:br;return gr._events[Or]?gr._events[Or].fn?gr._events[Or]=[gr._events[Or],Tr]:gr._events[Or].push(Tr):(gr._events[Or]=Tr,gr._eventsCount++),gr}function c(gr,br){--gr._eventsCount===0?gr._events=new n:delete gr._events[br]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var br=[],_r,Ar;if(this._eventsCount===0)return br;for(Ar in _r=this._events)e.call(_r,Ar)&&br.push(r?Ar.slice(1):Ar);return Object.getOwnPropertySymbols?br.concat(Object.getOwnPropertySymbols(_r)):br},u.prototype.listeners=function(br){var _r=r?r+br:br,Ar=this._events[_r];if(!Ar)return[];if(Ar.fn)return[Ar.fn];for(var vr=0,Tr=Ar.length,Or=new Array(Tr);vr<Tr;vr++)Or[vr]=Ar[vr].fn;return Or},u.prototype.listenerCount=function(br){var _r=r?r+br:br,Ar=this._events[_r];return Ar?Ar.fn?1:Ar.length:0},u.prototype.emit=function(br,_r,Ar,vr,Tr,Or){var Ir=r?r+br:br;if(!this._events[Ir])return!1;var xr=this._events[Ir],Lr=arguments.length,Fr,Mr;if(xr.fn){switch(xr.once&&this.removeListener(br,xr.fn,void 0,!0),Lr){case 1:return xr.fn.call(xr.context),!0;case 2:return xr.fn.call(xr.context,_r),!0;case 3:return xr.fn.call(xr.context,_r,Ar),!0;case 4:return xr.fn.call(xr.context,_r,Ar,vr),!0;case 5:return xr.fn.call(xr.context,_r,Ar,vr,Tr),!0;case 6:return xr.fn.call(xr.context,_r,Ar,vr,Tr,Or),!0}for(Mr=1,Fr=new Array(Lr-1);Mr<Lr;Mr++)Fr[Mr-1]=arguments[Mr];xr.fn.apply(xr.context,Fr)}else{var Hr=xr.length,Vr;for(Mr=0;Mr<Hr;Mr++)switch(xr[Mr].once&&this.removeListener(br,xr[Mr].fn,void 0,!0),Lr){case 1:xr[Mr].fn.call(xr[Mr].context);break;case 2:xr[Mr].fn.call(xr[Mr].context,_r);break;case 3:xr[Mr].fn.call(xr[Mr].context,_r,Ar);break;case 4:xr[Mr].fn.call(xr[Mr].context,_r,Ar,vr);break;default:if(!Fr)for(Vr=1,Fr=new Array(Lr-1);Vr<Lr;Vr++)Fr[Vr-1]=arguments[Vr];xr[Mr].fn.apply(xr[Mr].context,Fr)}}return!0},u.prototype.on=function(br,_r,Ar){return a(this,br,_r,Ar,!1)},u.prototype.once=function(br,_r,Ar){return a(this,br,_r,Ar,!0)},u.prototype.removeListener=function(br,_r,Ar,vr){var Tr=r?r+br:br;if(!this._events[Tr])return this;if(!_r)return c(this,Tr),this;var Or=this._events[Tr];if(Or.fn)Or.fn===_r&&(!vr||Or.once)&&(!Ar||Or.context===Ar)&&c(this,Tr);else{for(var Ir=0,xr=[],Lr=Or.length;Ir<Lr;Ir++)(Or[Ir].fn!==_r||vr&&!Or[Ir].once||Ar&&Or[Ir].context!==Ar)&&xr.push(Or[Ir]);xr.length?this._events[Tr]=xr.length===1?xr[0]:xr:c(this,Tr)}return this},u.prototype.removeAllListeners=function(br){var _r;return br?(_r=r?r+br:br,this._events[_r]&&c(this,_r)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(eventemitter3$1);var EventEmitter=eventemitter3$1.exports;(function(t){var e=interopRequireDefault.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=e(regenerator),n=e(asyncToGenerator.exports),o=e(_typeof$5.exports),a=e(classCallCheck.exports),c=e(createClass.exports),u=e(inherits$3.exports),gr=e(possibleConstructorReturn.exports),br=e(getPrototypeOf$2.exports),_r=eventemitter3$1.exports;function Ar(Ir){var xr=vr();return function(){var Fr=(0,br.default)(Ir),Mr;if(xr){var Hr=(0,br.default)(this).constructor;Mr=Reflect.construct(Fr,arguments,Hr)}else Mr=Fr.apply(this,arguments);return(0,gr.default)(this,Mr)}}function vr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Tr=function(Ir,xr){var Lr={};for(var Fr in Ir)Object.prototype.hasOwnProperty.call(Ir,Fr)&&xr.indexOf(Fr)<0&&(Lr[Fr]=Ir[Fr]);if(Ir!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Mr=0,Fr=Object.getOwnPropertySymbols(Ir);Mr<Fr.length;Mr++)xr.indexOf(Fr[Mr])<0&&Object.prototype.propertyIsEnumerable.call(Ir,Fr[Mr])&&(Lr[Fr[Mr]]=Ir[Fr[Mr]]);return Lr},Or=function(Ir){(0,u.default)(Lr,Ir);var xr=Ar(Lr);function Lr(Fr){var Mr,Hr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",Vr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Kr=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,Lr);var jr=Vr.autoconnect,qr=jr===void 0?!0:jr,tn=Vr.reconnect,en=tn===void 0?!0:tn,sn=Vr.reconnect_interval,cn=sn===void 0?1e3:sn,Ur=Vr.max_reconnects,Rr=Ur===void 0?5:Ur,Pr=Tr(Vr,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return Mr=xr.call(this),Mr.webSocketFactory=Fr,Mr.queue={},Mr.rpc_id=0,Mr.address=Hr,Mr.autoconnect=qr,Mr.ready=!1,Mr.reconnect=en,Mr.reconnect_timer_id=void 0,Mr.reconnect_interval=cn,Mr.max_reconnects=Rr,Mr.rest_options=Pr,Mr.current_reconnects=0,Mr.generate_request_id=Kr||function(){return++Mr.rpc_id},Mr.autoconnect&&Mr._connect(Mr.address,Object.assign({autoconnect:Mr.autoconnect,reconnect:Mr.reconnect,reconnect_interval:Mr.reconnect_interval,max_reconnects:Mr.max_reconnects},Mr.rest_options)),Mr}return(0,c.default)(Lr,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(Mr,Hr,Vr,Kr){var jr=this;return!Kr&&(0,o.default)(Vr)==="object"&&(Kr=Vr,Vr=null),new Promise(function(qr,tn){if(!jr.ready)return tn(new Error("socket not ready"));var en=jr.generate_request_id(Mr,Hr),sn={jsonrpc:"2.0",method:Mr,params:Hr||null,id:en};jr.socket.send(JSON.stringify(sn),Kr,function(cn){if(cn)return tn(cn);jr.queue[en]={promise:[qr,tn]},Vr&&(jr.queue[en].timeout=setTimeout(function(){delete jr.queue[en],tn(new Error("reply timeout"))},Vr))})})}},{key:"login",value:function(){var Fr=(0,n.default)(r.default.mark(function Hr(Vr){var Kr;return r.default.wrap(function(qr){for(;;)switch(qr.prev=qr.next){case 0:return qr.next=2,this.call("rpc.login",Vr);case 2:if(Kr=qr.sent,Kr){qr.next=5;break}throw new Error("authentication failed");case 5:return qr.abrupt("return",Kr);case 6:case"end":return qr.stop()}},Hr,this)}));function Mr(Hr){return Fr.apply(this,arguments)}return Mr}()},{key:"listMethods",value:function(){var Fr=(0,n.default)(r.default.mark(function Hr(){return r.default.wrap(function(Kr){for(;;)switch(Kr.prev=Kr.next){case 0:return Kr.next=2,this.call("__listMethods");case 2:return Kr.abrupt("return",Kr.sent);case 3:case"end":return Kr.stop()}},Hr,this)}));function Mr(){return Fr.apply(this,arguments)}return Mr}()},{key:"notify",value:function(Mr,Hr){var Vr=this;return new Promise(function(Kr,jr){if(!Vr.ready)return jr(new Error("socket not ready"));var qr={jsonrpc:"2.0",method:Mr,params:Hr||null};Vr.socket.send(JSON.stringify(qr),function(tn){if(tn)return jr(tn);Kr()})})}},{key:"subscribe",value:function(){var Fr=(0,n.default)(r.default.mark(function Hr(Vr){var Kr;return r.default.wrap(function(qr){for(;;)switch(qr.prev=qr.next){case 0:return typeof Vr=="string"&&(Vr=[Vr]),qr.next=3,this.call("rpc.on",Vr);case 3:if(Kr=qr.sent,!(typeof Vr=="string"&&Kr[Vr]!=="ok")){qr.next=6;break}throw new Error("Failed subscribing to an event '"+Vr+"' with: "+Kr[Vr]);case 6:return qr.abrupt("return",Kr);case 7:case"end":return qr.stop()}},Hr,this)}));function Mr(Hr){return Fr.apply(this,arguments)}return Mr}()},{key:"unsubscribe",value:function(){var Fr=(0,n.default)(r.default.mark(function Hr(Vr){var Kr;return r.default.wrap(function(qr){for(;;)switch(qr.prev=qr.next){case 0:return typeof Vr=="string"&&(Vr=[Vr]),qr.next=3,this.call("rpc.off",Vr);case 3:if(Kr=qr.sent,!(typeof Vr=="string"&&Kr[Vr]!=="ok")){qr.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Kr);case 6:return qr.abrupt("return",Kr);case 7:case"end":return qr.stop()}},Hr,this)}));function Mr(Hr){return Fr.apply(this,arguments)}return Mr}()},{key:"close",value:function(Mr,Hr){this.socket.close(Mr||1e3,Hr)}},{key:"_connect",value:function(Mr,Hr){var Vr=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(Mr,Hr),this.socket.addEventListener("open",function(){Vr.ready=!0,Vr.emit("open"),Vr.current_reconnects=0}),this.socket.addEventListener("message",function(Kr){var jr=Kr.data;jr instanceof ArrayBuffer&&(jr=dist$3.Buffer.from(jr).toString());try{jr=JSON.parse(jr)}catch{return}if(jr.notification&&Vr.listeners(jr.notification).length){if(!Object.keys(jr.params).length)return Vr.emit(jr.notification);var qr=[jr.notification];if(jr.params.constructor===Object)qr.push(jr.params);else for(var tn=0;tn<jr.params.length;tn++)qr.push(jr.params[tn]);return Promise.resolve().then(function(){Vr.emit.apply(Vr,qr)})}if(!Vr.queue[jr.id])return jr.method&&jr.params?Promise.resolve().then(function(){Vr.emit(jr.method,jr.params)}):void 0;"error"in jr=="result"in jr&&Vr.queue[jr.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),Vr.queue[jr.id].timeout&&clearTimeout(Vr.queue[jr.id].timeout),jr.error?Vr.queue[jr.id].promise[1](jr.error):Vr.queue[jr.id].promise[0](jr.result),delete Vr.queue[jr.id]}),this.socket.addEventListener("error",function(Kr){return Vr.emit("error",Kr)}),this.socket.addEventListener("close",function(Kr){var jr=Kr.code,qr=Kr.reason;Vr.ready&&setTimeout(function(){return Vr.emit("close",jr,qr)},0),Vr.ready=!1,Vr.socket=void 0,jr!==1e3&&(Vr.current_reconnects++,Vr.reconnect&&(Vr.max_reconnects>Vr.current_reconnects||Vr.max_reconnects===0)&&(Vr.reconnect_timer_id=setTimeout(function(){return Vr._connect(Mr,Hr)},Vr.reconnect_interval)))})}}]),Lr}(_r.EventEmitter);t.default=Or})(client);var RpcWebSocketCommonClient=getDefaultExportFromCjs$2(client),websocket_browser={};(function(t){var e=interopRequireDefault.exports;Object.defineProperty(t,"__esModule",{value:!0}),t.default=Ar;var r=e(classCallCheck.exports),n=e(createClass.exports),o=e(inherits$3.exports),a=e(possibleConstructorReturn.exports),c=e(getPrototypeOf$2.exports),u=eventemitter3$1.exports;function gr(vr){var Tr=br();return function(){var Ir=(0,c.default)(vr),xr;if(Tr){var Lr=(0,c.default)(this).constructor;xr=Reflect.construct(Ir,arguments,Lr)}else xr=Ir.apply(this,arguments);return(0,a.default)(this,xr)}}function br(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _r=function(vr){(0,o.default)(Or,vr);var Tr=gr(Or);function Or(Ir,xr,Lr){var Fr;return(0,r.default)(this,Or),Fr=Tr.call(this),Fr.socket=new window.WebSocket(Ir,Lr),Fr.socket.onopen=function(){return Fr.emit("open")},Fr.socket.onmessage=function(Mr){return Fr.emit("message",Mr.data)},Fr.socket.onerror=function(Mr){return Fr.emit("error",Mr)},Fr.socket.onclose=function(Mr){Fr.emit("close",Mr.code,Mr.reason)},Fr}return(0,n.default)(Or,[{key:"send",value:function(xr,Lr,Fr){var Mr=Fr||Lr;try{this.socket.send(xr),Mr()}catch(Hr){Mr(Hr)}}},{key:"close",value:function(xr,Lr){this.socket.close(xr,Lr)}},{key:"addEventListener",value:function(xr,Lr,Fr){this.socket.addEventListener(xr,Lr,Fr)}}]),Or}(u.EventEmitter);function Ar(vr,Tr){return new _r(vr,Tr)}})(websocket_browser);var createRpc=getDefaultExportFromCjs$2(websocket_browser);const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$6=BigInt(0),_1n$9=BigInt(1),_2n$6=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let t=0,e=_1n$9,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],SHA3_PI.push(2*(5*n+r)),SHA3_ROTL.push((t+1)*(t+2)/2%64);let o=_0n$6;for(let a=0;a<7;a++)e=(e<<_1n$9^(e>>_7n)*_0x71n)%_256n,e&_2n$6&&(o^=_1n$9<<(_1n$9<<BigInt(a))-_1n$9);_SHA3_IOTA.push(o)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split$1(_SHA3_IOTA,!0),rotlH=(t,e,r)=>r>32?rotlBH$1(t,e,r):rotlSH$1(t,e,r),rotlL=(t,e,r)=>r>32?rotlBL$1(t,e,r):rotlSL$1(t,e,r);function keccakP(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let c=0;c<10;c++)r[c]=t[c]^t[c+10]^t[c+20]^t[c+30]^t[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,gr=(c+2)%10,br=r[gr],_r=r[gr+1],Ar=rotlH(br,_r,1)^r[u],vr=rotlL(br,_r,1)^r[u+1];for(let Tr=0;Tr<50;Tr+=10)t[c+Tr]^=Ar,t[c+Tr+1]^=vr}let o=t[2],a=t[3];for(let c=0;c<24;c++){const u=SHA3_ROTL[c],gr=rotlH(o,a,u),br=rotlL(o,a,u),_r=SHA3_PI[c];o=t[_r],a=t[_r+1],t[_r]=gr,t[_r+1]=br}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)r[u]=t[c+u];for(let u=0;u<10;u++)t[c+u]^=~r[(u+2)%10]&r[(u+4)%10]}t[0]^=SHA3_IOTA_H[n],t[1]^=SHA3_IOTA_L[n]}r.fill(0)}class Keccak extends Hash$1{constructor(e,r,n,o=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$4(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$3(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){exists$1(this);const{blockLen:r,state:n}=this;e=toBytes$1(e);const o=e.length;for(let a=0;a<o;){const c=Math.min(r-this.pos,o-a);for(let u=0;u<c;u++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:o}=this;e[n]^=r,(r&128)!==0&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){exists$1(this,!1),bytes$2(e),this.finish();const r=this.state,{blockLen:n}=this;for(let o=0,a=e.length;o<a;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,a-o);e.set(r.subarray(this.posOut,this.posOut+c),o),this.posOut+=c,o+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return number$4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(output$1(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:o,rounds:a,enableXOF:c}=this;return e||(e=new Keccak(r,n,o,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=o,e.enableXOF=c,e.destroyed=this.destroyed,e}}const gen=(t,e,r)=>wrapConstructor$1(()=>new Keccak(e,t,r)),keccak_256=gen(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts$1(t){const e=validateBasic$1(t);validateObject$1(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=e;if(r){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b2n$1,hexToBytes:h2b$1}=ut$2,DER$1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=DER$1;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:b2n$1(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=DER$1,r=typeof t=="string"?h2b$1(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:o,l:a}=DER$1._parseInt(r.subarray(2)),{d:c,l:u}=DER$1._parseInt(a);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s:c}},hexFromSig(t){const e=br=>Number.parseInt(br[0],16)&8?"00"+br:br,r=br=>{const _r=br.toString(16);return _r.length&1?`0${_r}`:_r},n=e(r(t.s)),o=e(r(t.r)),a=n.length/2,c=o.length/2,u=r(a),gr=r(c);return`30${r(c+a+4)}02${gr}${o}02${u}${n}`}},_0n$5=BigInt(0),_1n$8=BigInt(1);BigInt(2);const _3n$2=BigInt(3);BigInt(4);function weierstrassPoints$1(t){const e=validatePointOpts$1(t),{Fp:r}=e,n=e.toBytes||((Or,Ir,xr)=>{const Lr=Ir.toAffine();return concatBytes$2(Uint8Array.from([4]),r.toBytes(Lr.x),r.toBytes(Lr.y))}),o=e.fromBytes||(Or=>{const Ir=Or.subarray(1),xr=r.fromBytes(Ir.subarray(0,r.BYTES)),Lr=r.fromBytes(Ir.subarray(r.BYTES,2*r.BYTES));return{x:xr,y:Lr}});function a(Or){const{a:Ir,b:xr}=e,Lr=r.sqr(Or),Fr=r.mul(Lr,Or);return r.add(r.add(Fr,r.mul(Or,Ir)),xr)}if(!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function c(Or){return typeof Or=="bigint"&&_0n$5<Or&&Or<e.n}function u(Or){if(!c(Or))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function gr(Or){const{allowedPrivateKeyLengths:Ir,nByteLength:xr,wrapPrivateKey:Lr,n:Fr}=e;if(Ir&&typeof Or!="bigint"){if(Or instanceof Uint8Array&&(Or=bytesToHex$1(Or)),typeof Or!="string"||!Ir.includes(Or.length))throw new Error("Invalid key");Or=Or.padStart(xr*2,"0")}let Mr;try{Mr=typeof Or=="bigint"?Or:bytesToNumberBE$1(ensureBytes$1("private key",Or,xr))}catch{throw new Error(`private key must be ${xr} bytes, hex or bigint, not ${typeof Or}`)}return Lr&&(Mr=mod$1(Mr,Fr)),u(Mr),Mr}const br=new Map;function _r(Or){if(!(Or instanceof Ar))throw new Error("ProjectivePoint expected")}class Ar{constructor(Ir,xr,Lr){if(this.px=Ir,this.py=xr,this.pz=Lr,Ir==null||!r.isValid(Ir))throw new Error("x required");if(xr==null||!r.isValid(xr))throw new Error("y required");if(Lr==null||!r.isValid(Lr))throw new Error("z required")}static fromAffine(Ir){const{x:xr,y:Lr}=Ir||{};if(!Ir||!r.isValid(xr)||!r.isValid(Lr))throw new Error("invalid affine point");if(Ir instanceof Ar)throw new Error("projective point not allowed");const Fr=Mr=>r.eql(Mr,r.ZERO);return Fr(xr)&&Fr(Lr)?Ar.ZERO:new Ar(xr,Lr,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ir){const xr=r.invertBatch(Ir.map(Lr=>Lr.pz));return Ir.map((Lr,Fr)=>Lr.toAffine(xr[Fr])).map(Ar.fromAffine)}static fromHex(Ir){const xr=Ar.fromAffine(o(ensureBytes$1("pointHex",Ir)));return xr.assertValidity(),xr}static fromPrivateKey(Ir){return Ar.BASE.multiply(gr(Ir))}_setWindowSize(Ir){this._WINDOW_SIZE=Ir,br.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Ir,y:xr}=this.toAffine();if(!r.isValid(Ir)||!r.isValid(xr))throw new Error("bad point: x or y not FE");const Lr=r.sqr(xr),Fr=a(Ir);if(!r.eql(Lr,Fr))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Ir}=this.toAffine();if(r.isOdd)return!r.isOdd(Ir);throw new Error("Field doesn't support isOdd")}equals(Ir){_r(Ir);const{px:xr,py:Lr,pz:Fr}=this,{px:Mr,py:Hr,pz:Vr}=Ir,Kr=r.eql(r.mul(xr,Vr),r.mul(Mr,Fr)),jr=r.eql(r.mul(Lr,Vr),r.mul(Hr,Fr));return Kr&&jr}negate(){return new Ar(this.px,r.neg(this.py),this.pz)}double(){const{a:Ir,b:xr}=e,Lr=r.mul(xr,_3n$2),{px:Fr,py:Mr,pz:Hr}=this;let Vr=r.ZERO,Kr=r.ZERO,jr=r.ZERO,qr=r.mul(Fr,Fr),tn=r.mul(Mr,Mr),en=r.mul(Hr,Hr),sn=r.mul(Fr,Mr);return sn=r.add(sn,sn),jr=r.mul(Fr,Hr),jr=r.add(jr,jr),Vr=r.mul(Ir,jr),Kr=r.mul(Lr,en),Kr=r.add(Vr,Kr),Vr=r.sub(tn,Kr),Kr=r.add(tn,Kr),Kr=r.mul(Vr,Kr),Vr=r.mul(sn,Vr),jr=r.mul(Lr,jr),en=r.mul(Ir,en),sn=r.sub(qr,en),sn=r.mul(Ir,sn),sn=r.add(sn,jr),jr=r.add(qr,qr),qr=r.add(jr,qr),qr=r.add(qr,en),qr=r.mul(qr,sn),Kr=r.add(Kr,qr),en=r.mul(Mr,Hr),en=r.add(en,en),qr=r.mul(en,sn),Vr=r.sub(Vr,qr),jr=r.mul(en,tn),jr=r.add(jr,jr),jr=r.add(jr,jr),new Ar(Vr,Kr,jr)}add(Ir){_r(Ir);const{px:xr,py:Lr,pz:Fr}=this,{px:Mr,py:Hr,pz:Vr}=Ir;let Kr=r.ZERO,jr=r.ZERO,qr=r.ZERO;const tn=e.a,en=r.mul(e.b,_3n$2);let sn=r.mul(xr,Mr),cn=r.mul(Lr,Hr),Ur=r.mul(Fr,Vr),Rr=r.add(xr,Lr),Pr=r.add(Mr,Hr);Rr=r.mul(Rr,Pr),Pr=r.add(sn,cn),Rr=r.sub(Rr,Pr),Pr=r.add(xr,Fr);let Dr=r.add(Mr,Vr);return Pr=r.mul(Pr,Dr),Dr=r.add(sn,Ur),Pr=r.sub(Pr,Dr),Dr=r.add(Lr,Fr),Kr=r.add(Hr,Vr),Dr=r.mul(Dr,Kr),Kr=r.add(cn,Ur),Dr=r.sub(Dr,Kr),qr=r.mul(tn,Pr),Kr=r.mul(en,Ur),qr=r.add(Kr,qr),Kr=r.sub(cn,qr),qr=r.add(cn,qr),jr=r.mul(Kr,qr),cn=r.add(sn,sn),cn=r.add(cn,sn),Ur=r.mul(tn,Ur),Pr=r.mul(en,Pr),cn=r.add(cn,Ur),Ur=r.sub(sn,Ur),Ur=r.mul(tn,Ur),Pr=r.add(Pr,Ur),sn=r.mul(cn,Pr),jr=r.add(jr,sn),sn=r.mul(Dr,Pr),Kr=r.mul(Rr,Kr),Kr=r.sub(Kr,sn),sn=r.mul(Rr,cn),qr=r.mul(Dr,qr),qr=r.add(qr,sn),new Ar(Kr,jr,qr)}subtract(Ir){return this.add(Ir.negate())}is0(){return this.equals(Ar.ZERO)}wNAF(Ir){return Tr.wNAFCached(this,br,Ir,xr=>{const Lr=r.invertBatch(xr.map(Fr=>Fr.pz));return xr.map((Fr,Mr)=>Fr.toAffine(Lr[Mr])).map(Ar.fromAffine)})}multiplyUnsafe(Ir){const xr=Ar.ZERO;if(Ir===_0n$5)return xr;if(u(Ir),Ir===_1n$8)return this;const{endo:Lr}=e;if(!Lr)return Tr.unsafeLadder(this,Ir);let{k1neg:Fr,k1:Mr,k2neg:Hr,k2:Vr}=Lr.splitScalar(Ir),Kr=xr,jr=xr,qr=this;for(;Mr>_0n$5||Vr>_0n$5;)Mr&_1n$8&&(Kr=Kr.add(qr)),Vr&_1n$8&&(jr=jr.add(qr)),qr=qr.double(),Mr>>=_1n$8,Vr>>=_1n$8;return Fr&&(Kr=Kr.negate()),Hr&&(jr=jr.negate()),jr=new Ar(r.mul(jr.px,Lr.beta),jr.py,jr.pz),Kr.add(jr)}multiply(Ir){u(Ir);let xr=Ir,Lr,Fr;const{endo:Mr}=e;if(Mr){const{k1neg:Hr,k1:Vr,k2neg:Kr,k2:jr}=Mr.splitScalar(xr);let{p:qr,f:tn}=this.wNAF(Vr),{p:en,f:sn}=this.wNAF(jr);qr=Tr.constTimeNegate(Hr,qr),en=Tr.constTimeNegate(Kr,en),en=new Ar(r.mul(en.px,Mr.beta),en.py,en.pz),Lr=qr.add(en),Fr=tn.add(sn)}else{const{p:Hr,f:Vr}=this.wNAF(xr);Lr=Hr,Fr=Vr}return Ar.normalizeZ([Lr,Fr])[0]}multiplyAndAddUnsafe(Ir,xr,Lr){const Fr=Ar.BASE,Mr=(Vr,Kr)=>Kr===_0n$5||Kr===_1n$8||!Vr.equals(Fr)?Vr.multiplyUnsafe(Kr):Vr.multiply(Kr),Hr=Mr(this,xr).add(Mr(Ir,Lr));return Hr.is0()?void 0:Hr}toAffine(Ir){const{px:xr,py:Lr,pz:Fr}=this,Mr=this.is0();Ir==null&&(Ir=Mr?r.ONE:r.inv(Fr));const Hr=r.mul(xr,Ir),Vr=r.mul(Lr,Ir),Kr=r.mul(Fr,Ir);if(Mr)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Kr,r.ONE))throw new Error("invZ was invalid");return{x:Hr,y:Vr}}isTorsionFree(){const{h:Ir,isTorsionFree:xr}=e;if(Ir===_1n$8)return!0;if(xr)return xr(Ar,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ir,clearCofactor:xr}=e;return Ir===_1n$8?this:xr?xr(Ar,this):this.multiplyUnsafe(e.h)}toRawBytes(Ir=!0){return this.assertValidity(),n(Ar,this,Ir)}toHex(Ir=!0){return bytesToHex$1(this.toRawBytes(Ir))}}Ar.BASE=new Ar(e.Gx,e.Gy,r.ONE),Ar.ZERO=new Ar(r.ZERO,r.ONE,r.ZERO);const vr=e.nBitLength,Tr=wNAF$1(Ar,e.endo?Math.ceil(vr/2):vr);return{CURVE:e,ProjectivePoint:Ar,normPrivateKeyToScalar:gr,weierstrassEquation:a,isWithinCurveOrder:c}}function validateOpts$2(t){const e=validateBasic$1(t);return validateObject$1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function weierstrass$1(t){const e=validateOpts$2(t),{Fp:r,n}=e,o=r.BYTES+1,a=2*r.BYTES+1;function c(Pr){return _0n$5<Pr&&Pr<r.ORDER}function u(Pr){return mod$1(Pr,n)}function gr(Pr){return invert$1(Pr,n)}const{ProjectivePoint:br,normPrivateKeyToScalar:_r,weierstrassEquation:Ar,isWithinCurveOrder:vr}=weierstrassPoints$1({...e,toBytes(Pr,Dr,Yr){const Zr=Dr.toAffine(),Xr=r.toBytes(Zr.x),nn=concatBytes$2;return Yr?nn(Uint8Array.from([Dr.hasEvenY()?2:3]),Xr):nn(Uint8Array.from([4]),Xr,r.toBytes(Zr.y))},fromBytes(Pr){const Dr=Pr.length,Yr=Pr[0],Zr=Pr.subarray(1);if(Dr===o&&(Yr===2||Yr===3)){const Xr=bytesToNumberBE$1(Zr);if(!c(Xr))throw new Error("Point is not on curve");const nn=Ar(Xr);let Gr=r.sqrt(nn);const Nr=(Gr&_1n$8)===_1n$8;return(Yr&1)===1!==Nr&&(Gr=r.neg(Gr)),{x:Xr,y:Gr}}else if(Dr===a&&Yr===4){const Xr=r.fromBytes(Zr.subarray(0,r.BYTES)),nn=r.fromBytes(Zr.subarray(r.BYTES,2*r.BYTES));return{x:Xr,y:nn}}else throw new Error(`Point of length ${Dr} was invalid. Expected ${o} compressed bytes or ${a} uncompressed bytes`)}}),Tr=Pr=>bytesToHex$1(numberToBytesBE$1(Pr,e.nByteLength));function Or(Pr){const Dr=n>>_1n$8;return Pr>Dr}function Ir(Pr){return Or(Pr)?u(-Pr):Pr}const xr=(Pr,Dr,Yr)=>bytesToNumberBE$1(Pr.slice(Dr,Yr));class Lr{constructor(Dr,Yr,Zr){this.r=Dr,this.s=Yr,this.recovery=Zr,this.assertValidity()}static fromCompact(Dr){const Yr=e.nByteLength;return Dr=ensureBytes$1("compactSignature",Dr,Yr*2),new Lr(xr(Dr,0,Yr),xr(Dr,Yr,2*Yr))}static fromDER(Dr){const{r:Yr,s:Zr}=DER$1.toSig(ensureBytes$1("DER",Dr));return new Lr(Yr,Zr)}assertValidity(){if(!vr(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!vr(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(Dr){return new Lr(this.r,this.s,Dr)}recoverPublicKey(Dr){const{r:Yr,s:Zr,recovery:Xr}=this,nn=jr(ensureBytes$1("msgHash",Dr));if(Xr==null||![0,1,2,3].includes(Xr))throw new Error("recovery id invalid");const Gr=Xr===2||Xr===3?Yr+e.n:Yr;if(Gr>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Nr=(Xr&1)===0?"02":"03",Jr=br.fromHex(Nr+Tr(Gr)),fn=gr(Gr),An=u(-nn*fn),wn=u(Zr*fn),yn=br.BASE.multiplyAndAddUnsafe(Jr,An,wn);if(!yn)throw new Error("point at infinify");return yn.assertValidity(),yn}hasHighS(){return Or(this.s)}normalizeS(){return this.hasHighS()?new Lr(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$1(this.toDERHex())}toDERHex(){return DER$1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$1(this.toCompactHex())}toCompactHex(){return Tr(this.r)+Tr(this.s)}}const Fr={isValidPrivateKey(Pr){try{return _r(Pr),!0}catch{return!1}},normPrivateKeyToScalar:_r,randomPrivateKey:()=>{const Pr=getMinHashLength$1(e.n);return mapHashToField$1(e.randomBytes(Pr),e.n)},precompute(Pr=8,Dr=br.BASE){return Dr._setWindowSize(Pr),Dr.multiply(BigInt(3)),Dr}};function Mr(Pr,Dr=!0){return br.fromPrivateKey(Pr).toRawBytes(Dr)}function Hr(Pr){const Dr=Pr instanceof Uint8Array,Yr=typeof Pr=="string",Zr=(Dr||Yr)&&Pr.length;return Dr?Zr===o||Zr===a:Yr?Zr===2*o||Zr===2*a:Pr instanceof br}function Vr(Pr,Dr,Yr=!0){if(Hr(Pr))throw new Error("first arg must be private key");if(!Hr(Dr))throw new Error("second arg must be public key");return br.fromHex(Dr).multiply(_r(Pr)).toRawBytes(Yr)}const Kr=e.bits2int||function(Pr){const Dr=bytesToNumberBE$1(Pr),Yr=Pr.length*8-e.nBitLength;return Yr>0?Dr>>BigInt(Yr):Dr},jr=e.bits2int_modN||function(Pr){return u(Kr(Pr))},qr=bitMask$1(e.nBitLength);function tn(Pr){if(typeof Pr!="bigint")throw new Error("bigint expected");if(!(_0n$5<=Pr&&Pr<qr))throw new Error(`bigint expected < 2^${e.nBitLength}`);return numberToBytesBE$1(Pr,e.nByteLength)}function en(Pr,Dr,Yr=sn){if(["recovered","canonical"].some(_n=>_n in Yr))throw new Error("sign() legacy options not supported");const{hash:Zr,randomBytes:Xr}=e;let{lowS:nn,prehash:Gr,extraEntropy:Nr}=Yr;nn==null&&(nn=!0),Pr=ensureBytes$1("msgHash",Pr),Gr&&(Pr=ensureBytes$1("prehashed msgHash",Zr(Pr)));const Jr=jr(Pr),fn=_r(Dr),An=[tn(fn),tn(Jr)];if(Nr!=null){const _n=Nr===!0?Xr(r.BYTES):Nr;An.push(ensureBytes$1("extraEntropy",_n))}const wn=concatBytes$2(...An),yn=Jr;function mn(_n){const In=Kr(_n);if(!vr(In))return;const Nn=gr(In),ln=br.BASE.multiply(In).toAffine(),hn=u(ln.x);if(hn===_0n$5)return;const gn=u(Nn*u(yn+hn*fn));if(gn===_0n$5)return;let Rn=(ln.x===hn?0:2)|Number(ln.y&_1n$8),Cn=gn;return nn&&Or(gn)&&(Cn=Ir(gn),Rn^=1),new Lr(hn,Cn,Rn)}return{seed:wn,k2sig:mn}}const sn={lowS:e.lowS,prehash:!1},cn={lowS:e.lowS,prehash:!1};function Ur(Pr,Dr,Yr=sn){const{seed:Zr,k2sig:Xr}=en(Pr,Dr,Yr),nn=e;return createHmacDrbg$1(nn.hash.outputLen,nn.nByteLength,nn.hmac)(Zr,Xr)}br.BASE._setWindowSize(8);function Rr(Pr,Dr,Yr,Zr=cn){var ln;const Xr=Pr;if(Dr=ensureBytes$1("msgHash",Dr),Yr=ensureBytes$1("publicKey",Yr),"strict"in Zr)throw new Error("options.strict was renamed to lowS");const{lowS:nn,prehash:Gr}=Zr;let Nr,Jr;try{if(typeof Xr=="string"||Xr instanceof Uint8Array)try{Nr=Lr.fromDER(Xr)}catch(hn){if(!(hn instanceof DER$1.Err))throw hn;Nr=Lr.fromCompact(Xr)}else if(typeof Xr=="object"&&typeof Xr.r=="bigint"&&typeof Xr.s=="bigint"){const{r:hn,s:gn}=Xr;Nr=new Lr(hn,gn)}else throw new Error("PARSE");Jr=br.fromHex(Yr)}catch(hn){if(hn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(nn&&Nr.hasHighS())return!1;Gr&&(Dr=e.hash(Dr));const{r:fn,s:An}=Nr,wn=jr(Dr),yn=gr(An),mn=u(wn*yn),_n=u(fn*yn),In=(ln=br.BASE.multiplyAndAddUnsafe(Jr,mn,_n))==null?void 0:ln.toAffine();return In?u(In.x)===fn:!1}return{CURVE:e,getPublicKey:Mr,getSharedSecret:Vr,sign:Ur,verify:Rr,ProjectivePoint:br,Signature:Lr,utils:Fr}}class HMAC$1 extends Hash$1{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,hash$1(e);const n=toBytes$1(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(n.length>o?e.create().update(n).digest():n);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return exists$1(this),this.iHash.update(e),this}digestInto(e){exists$1(this),bytes$2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:o,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$1=(t,e,r)=>new HMAC$1(t,e).update(r).digest();hmac$1.create=(t,e)=>new HMAC$1(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$1(t){return{hash:t,hmac:(e,...r)=>hmac$1(t,e,concatBytes$3(...r)),randomBytes:randomBytes$1}}function createCurve$1(t,e){const r=n=>weierstrass$1({...t,...getHash$1(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$7=BigInt(1),_2n$5=BigInt(2),divNearest$1=(t,e)=>(t+e/_2n$5)/e;function sqrtMod$1(t){const e=secp256k1P$1,r=BigInt(3),n=BigInt(6),o=BigInt(11),a=BigInt(22),c=BigInt(23),u=BigInt(44),gr=BigInt(88),br=t*t*t%e,_r=br*br*t%e,Ar=pow2$1(_r,r,e)*_r%e,vr=pow2$1(Ar,r,e)*_r%e,Tr=pow2$1(vr,_2n$5,e)*br%e,Or=pow2$1(Tr,o,e)*Tr%e,Ir=pow2$1(Or,a,e)*Or%e,xr=pow2$1(Ir,u,e)*Ir%e,Lr=pow2$1(xr,gr,e)*xr%e,Fr=pow2$1(Lr,u,e)*Ir%e,Mr=pow2$1(Fr,r,e)*_r%e,Hr=pow2$1(Mr,c,e)*Or%e,Vr=pow2$1(Hr,n,e)*br%e,Kr=pow2$1(Vr,_2n$5,e);if(!Fp$2.eql(Fp$2.sqr(Kr),t))throw new Error("Cannot find square root");return Kr}const Fp$2=Field$1(secp256k1P$1,void 0,void 0,{sqrt:sqrtMod$1}),secp256k1$1=createCurve$1({a:BigInt(0),b:BigInt(7),Fp:Fp$2,n:secp256k1N$1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=secp256k1N$1,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-_1n$7*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,c=BigInt("0x100000000000000000000000000000000"),u=divNearest$1(a*t,e),gr=divNearest$1(-n*t,e);let br=mod$1(t-u*r-gr*o,e),_r=mod$1(-u*n-gr*a,e);const Ar=br>c,vr=_r>c;if(Ar&&(br=e-br),vr&&(_r=e-_r),br>c||_r>c)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:Ar,k1:br,k2neg:vr,k2:_r}}}},sha256$2);BigInt(0);secp256k1$1.ProjectivePoint;const generatePrivateKey$1=ed25519$1.utils.randomPrivateKey,generateKeypair$2=()=>{const t=ed25519$1.utils.randomPrivateKey(),e=getPublicKey$2(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},getPublicKey$2=ed25519$1.getPublicKey;function isOnCurve$3(t){try{return ed25519$1.ExtendedPoint.fromHex(t),!0}catch{return!1}}const sign$3=(t,e)=>ed25519$1.sign(t,e.slice(0,32)),verify$3=ed25519$1.verify,toBuffer$3=t=>bufferPolyfill.Buffer.isBuffer(t)?t:t instanceof Uint8Array?bufferPolyfill.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bufferPolyfill.Buffer.from(t);class Struct$5{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$3,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$3,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$3,this,e)}}class Enum$1 extends Struct$5{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const SOLANA_SCHEMA$3=new Map;var _class$2;let _Symbol$toStringTag$4;const MAX_SEED_LENGTH$3=32,PUBLIC_KEY_LENGTH$3=32;function isPublicKeyData$3(t){return t._bn!==void 0}let uniquePublicKeyCounter$3=1;_Symbol$toStringTag$4=Symbol.toStringTag;class PublicKey$3 extends Struct$5{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$3(e))this._bn=e._bn;else{if(typeof e=="string"){const r=bs58$3.decode(e);if(r.length!=PUBLIC_KEY_LENGTH$3)throw new Error("Invalid public key input");this._bn=new BN(r)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$3)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$3(uniquePublicKeyCounter$3);return uniquePublicKeyCounter$3+=1,new PublicKey$3(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$3)return e;const r=bufferPolyfill.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[_Symbol$toStringTag$4](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(r),n.toBuffer()]),a=sha256$2(o);return new PublicKey$3(a)}static createProgramAddressSync(e,r){let n=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$3)throw new TypeError("Max seed length exceeded");n=bufferPolyfill.Buffer.concat([n,toBuffer$3(a)])}),n=bufferPolyfill.Buffer.concat([n,r.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$2(n);if(isOnCurve$3(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$3(o)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,o;for(;n!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([n]));o=this.createProgramAddressSync(a,r)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new PublicKey$3(e);return isOnCurve$3(r.toBytes())}}_class$2=PublicKey$3;PublicKey$3.default=new _class$2("11111111111111111111111111111111");SOLANA_SCHEMA$3.set(PublicKey$3,{kind:"struct",fields:[["_bn","u256"]]});class Account$1{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=toBuffer$3(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=toBuffer$3(generatePrivateKey$1()),this._publicKey=toBuffer$3(getPublicKey$2(this._secretKey))}get publicKey(){return new PublicKey$3(this._publicKey)}get secretKey(){return bufferPolyfill.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID$1=new PublicKey$3("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE$3=1280-40-8,VERSION_PREFIX_MASK$3=127,SIGNATURE_LENGTH_IN_BYTES$4=64;class TransactionExpiredBlockheightExceededError$1 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError$1.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError$1 extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError$1.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError$1 extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError$1.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys$3{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((a,c)=>{n.set(a.toBase58(),c)});const o=a=>{const c=n.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$8=(t="publicKey")=>blob$2(32,t),signature$1=(t="signature")=>blob$2(64,t),rustString$3=(t="string")=>{const e=struct$3([u32$2("length"),u32$2("lengthPadding"),blob$2(offset$1(u32$2(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(a,c)=>r(a,c).chars.toString(),o.encode=(a,c,u)=>{const gr={chars:bufferPolyfill.Buffer.from(a,"utf8")};return n(gr,c,u)},o.alloc=a=>u32$2().span+u32$2().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$3=(t="authorized")=>struct$3([publicKey$8("staker"),publicKey$8("withdrawer")],t),lockup$3=(t="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$8("custodian")],t),voteInit$3=(t="voteInit")=>struct$3([publicKey$8("nodePubkey"),publicKey$8("authorizedVoter"),publicKey$8("authorizedWithdrawer"),u8$2("commission")],t),voteAuthorizeWithSeedArgs$3=(t="voteAuthorizeWithSeedArgs")=>struct$3([u32$2("voteAuthorizationType"),publicKey$8("currentAuthorityDerivedKeyOwnerPubkey"),rustString$3("currentAuthorityDerivedKeySeed"),publicKey$8("newAuthorized")],t);function getAlloc$3(t,e){const r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*r(o.elementLayout)}else if("fields"in o)return getAlloc$3({layout:o},e[o.property]);return 0};let n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function decodeLength$3(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function encodeLength$3(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function assert$a(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys$4{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,o=c=>{const u=c.toBase58();let gr=n.get(u);return gr===void 0&&(gr={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,gr)),gr},a=o(r);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const gr=o(u.pubkey);gr.isSigner||=u.isSigner,gr.isWritable||=u.isWritable}}return new CompiledKeys$4(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$a(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,gr])=>gr.isSigner&&gr.isWritable),n=e.filter(([,gr])=>gr.isSigner&&!gr.isWritable),o=e.filter(([,gr])=>!gr.isSigner&&gr.isWritable),a=e.filter(([,gr])=>!gr.isSigner&&!gr.isWritable),c={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:a.length};{assert$a(r.length>0,"Expected at least one writable signer key");const[gr]=r[0];assert$a(gr===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...r.map(([gr])=>new PublicKey$3(gr)),...n.map(([gr])=>new PublicKey$3(gr)),...o.map(([gr])=>new PublicKey$3(gr)),...a.map(([gr])=>new PublicKey$3(gr))];return[c,u]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(r.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:a}]}drainKeysFoundInLookupTable(e,r){const n=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(r(c)){const u=new PublicKey$3(a),gr=e.findIndex(br=>br.equals(u));gr>=0&&(assert$a(gr<256,"Max lookup table index exceeded"),n.push(gr),o.push(u),this.keyMetaMap.delete(a))}return[n,o]}}class Message$3{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new PublicKey$3(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys$3(this.staticAccountKeys)}static compile(e){const r=CompiledKeys$4.compile(e.instructions,e.payerKey),[n,o]=r.getMessageComponents(),c=new MessageAccountKeys$3(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message$3({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,a=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<a}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength$3(r,e);const n=this.instructions.map(Ar=>{const{accounts:vr,programIdIndex:Tr}=Ar,Or=Array.from(bs58$3.decode(Ar.data));let Ir=[];encodeLength$3(Ir,vr.length);let xr=[];return encodeLength$3(xr,Or.length),{programIdIndex:Tr,keyIndicesCount:bufferPolyfill.Buffer.from(Ir),keyIndices:vr,dataLength:bufferPolyfill.Buffer.from(xr),data:Or}});let o=[];encodeLength$3(o,n.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE$3);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;n.forEach(Ar=>{c+=struct$3([u8$2("programIdIndex"),blob$2(Ar.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),Ar.keyIndices.length,"keyIndices"),blob$2(Ar.dataLength.length,"dataLength"),seq(u8$2("userdatum"),Ar.data.length,"data")]).encode(Ar,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(r.length,"keyCount"),seq(publicKey$8("key"),e,"keys"),publicKey$8("recentBlockhash")]),gr={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(r),keys:this.accountKeys.map(Ar=>toBuffer$3(Ar.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let br=bufferPolyfill.Buffer.alloc(2048);const _r=u.encode(gr,br);return a.copy(br,_r),br.slice(0,_r+a.length)}static from(e){let r=[...e];const n=r.shift();if(n!==(n&VERSION_PREFIX_MASK$3))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=r.shift(),a=r.shift(),c=decodeLength$3(r);let u=[];for(let vr=0;vr<c;vr++){const Tr=r.slice(0,PUBLIC_KEY_LENGTH$3);r=r.slice(PUBLIC_KEY_LENGTH$3),u.push(new PublicKey$3(bufferPolyfill.Buffer.from(Tr)))}const gr=r.slice(0,PUBLIC_KEY_LENGTH$3);r=r.slice(PUBLIC_KEY_LENGTH$3);const br=decodeLength$3(r);let _r=[];for(let vr=0;vr<br;vr++){const Tr=r.shift(),Or=decodeLength$3(r),Ir=r.slice(0,Or);r=r.slice(Or);const xr=decodeLength$3(r),Lr=r.slice(0,xr),Fr=bs58$3.encode(bufferPolyfill.Buffer.from(Lr));r=r.slice(xr),_r.push({programIdIndex:Tr,accounts:Ir,data:Fr})}const Ar={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(gr)),accountKeys:u,instructions:_r};return new Message$3(Ar)}}class MessageV0$2{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys$3(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const o=e-n,a=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<a}else if(e>=this.header.numRequiredSignatures){const o=e-r,c=n-r-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=r-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const o=e.find(a=>a.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const a of n.writableIndexes)if(a<o.state.addresses.length)r.writable.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`);for(const a of n.readonlyIndexes)if(a<o.state.addresses.length)r.readonly.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=CompiledKeys$4.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const _r of a){const Ar=r.extractTableLookup(_r);if(Ar!==void 0){const[vr,{writable:Tr,readonly:Or}]=Ar;n.push(vr),o.writable.push(...Tr),o.readonly.push(...Or)}}const[c,u]=r.getMessageComponents(),br=new MessageAccountKeys$3(u,o).compileInstructions(e.instructions);return new MessageV0$2({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:br,addressTableLookups:n})}serialize(){const e=Array();encodeLength$3(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();encodeLength$3(n,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),a=Array();encodeLength$3(a,this.addressTableLookups.length);const c=struct$3([u8$2("prefix"),struct$3([u8$2("numRequiredSignatures"),u8$2("numReadonlySignedAccounts"),u8$2("numReadonlyUnsignedAccounts")],"header"),blob$2(e.length,"staticAccountKeysLength"),seq(publicKey$8(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$8("recentBlockhash"),blob$2(n.length,"instructionsLength"),blob$2(r.length,"serializedInstructions"),blob$2(a.length,"addressTableLookupsLength"),blob$2(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(PACKET_DATA_SIZE$3),gr=1<<7,br=c.encode({prefix:gr,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(_r=>_r.toBytes()),recentBlockhash:bs58$3.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:o},u);return u.slice(0,br)}serializeInstructions(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE$3);for(const n of this.compiledInstructions){const o=Array();encodeLength$3(o,n.accountKeyIndexes.length);const a=Array();encodeLength$3(a,n.data.length),e+=struct$3([u8$2("programIdIndex"),blob$2(o.length,"encodedAccountKeyIndexesLength"),seq(u8$2(),n.accountKeyIndexes.length,"accountKeyIndexes"),blob$2(a.length,"encodedDataLength"),blob$2(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE$3);for(const n of this.addressTableLookups){const o=Array();encodeLength$3(o,n.writableIndexes.length);const a=Array();encodeLength$3(a,n.readonlyIndexes.length),e+=struct$3([publicKey$8("accountKey"),blob$2(o.length,"encodedWritableIndexesLength"),seq(u8$2(),n.writableIndexes.length,"writableIndexes"),blob$2(a.length,"encodedReadonlyIndexesLength"),seq(u8$2(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=r.shift(),o=n&VERSION_PREFIX_MASK$3;assert$a(n!==o,"Expected versioned message but received legacy message");const a=o;assert$a(a===0,`Expected versioned message with version 0 but found version ${a}`);const c={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},u=[],gr=decodeLength$3(r);for(let Or=0;Or<gr;Or++)u.push(new PublicKey$3(r.splice(0,PUBLIC_KEY_LENGTH$3)));const br=bs58$3.encode(r.splice(0,PUBLIC_KEY_LENGTH$3)),_r=decodeLength$3(r),Ar=[];for(let Or=0;Or<_r;Or++){const Ir=r.shift(),xr=decodeLength$3(r),Lr=r.splice(0,xr),Fr=decodeLength$3(r),Mr=new Uint8Array(r.splice(0,Fr));Ar.push({programIdIndex:Ir,accountKeyIndexes:Lr,data:Mr})}const vr=decodeLength$3(r),Tr=[];for(let Or=0;Or<vr;Or++){const Ir=new PublicKey$3(r.splice(0,PUBLIC_KEY_LENGTH$3)),xr=decodeLength$3(r),Lr=r.splice(0,xr),Fr=decodeLength$3(r),Mr=r.splice(0,Fr);Tr.push({accountKey:Ir,writableIndexes:Lr,readonlyIndexes:Mr})}return new MessageV0$2({header:c,staticAccountKeys:u,recentBlockhash:br,compiledInstructions:Ar,addressTableLookups:Tr})}}const VersionedMessage$1={deserializeMessageVersion(t){const e=t[0],r=e&VERSION_PREFIX_MASK$3;return r===e?"legacy":r},deserialize:t=>{const e=VersionedMessage$1.deserializeMessageVersion(t);if(e==="legacy")return Message$3.from(t);if(e===0)return MessageV0$2.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus$1=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const DEFAULT_SIGNATURE$3=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$4).fill(0);class TransactionInstruction$3{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$3{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new TransactionInstruction$3(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Ir=0;Ir<r.length;Ir++)if(r[Ir].programId===void 0)throw new Error(`Transaction instruction index ${Ir} has undefined program id`);const o=[],a=[];r.forEach(Ir=>{Ir.keys.forEach(Lr=>{a.push({...Lr})});const xr=Ir.programId.toString();o.includes(xr)||o.push(xr)}),o.forEach(Ir=>{a.push({pubkey:new PublicKey$3(Ir),isSigner:!1,isWritable:!1})});const c=[];a.forEach(Ir=>{const xr=Ir.pubkey.toString(),Lr=c.findIndex(Fr=>Fr.pubkey.toString()===xr);Lr>-1?(c[Lr].isWritable=c[Lr].isWritable||Ir.isWritable,c[Lr].isSigner=c[Lr].isSigner||Ir.isSigner):c.push(Ir)}),c.sort(function(Ir,xr){if(Ir.isSigner!==xr.isSigner)return Ir.isSigner?-1:1;if(Ir.isWritable!==xr.isWritable)return Ir.isWritable?-1:1;const Lr={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return Ir.pubkey.toBase58().localeCompare(xr.pubkey.toBase58(),"en",Lr)});const u=c.findIndex(Ir=>Ir.pubkey.equals(n));if(u>-1){const[Ir]=c.splice(u,1);Ir.isSigner=!0,Ir.isWritable=!0,c.unshift(Ir)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const Ir of this.signatures){const xr=c.findIndex(Lr=>Lr.pubkey.equals(Ir.publicKey));if(xr>-1)c[xr].isSigner||(c[xr].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Ir.publicKey.toString()}`)}let gr=0,br=0,_r=0;const Ar=[],vr=[];c.forEach(({pubkey:Ir,isSigner:xr,isWritable:Lr})=>{xr?(Ar.push(Ir.toString()),gr+=1,Lr||(br+=1)):(vr.push(Ir.toString()),Lr||(_r+=1))});const Tr=Ar.concat(vr),Or=r.map(Ir=>{const{data:xr,programId:Lr}=Ir;return{programIdIndex:Tr.indexOf(Lr.toString()),accounts:Ir.keys.map(Fr=>Tr.indexOf(Fr.pubkey.toString())),data:bs58$3.encode(xr)}});return Or.forEach(Ir=>{assert$a(Ir.programIdIndex>=0),Ir.accounts.forEach(xr=>assert$a(xr>=0))}),new Message$3({header:{numRequiredSignatures:gr,numReadonlySignedAccounts:br,numReadonlyUnsignedAccounts:_r},accountKeys:Tr,recentBlockhash:e,instructions:Or})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((o,a)=>r[a].equals(o.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const o=n.toString();return r.has(o)?!1:(r.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const a of e){const c=a.publicKey.toString();r.has(c)||(r.add(c),n.push(a))}this.signatures=n.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const a of e){const c=a.publicKey.toString();r.has(c)||(r.add(c),n.push(a))}const o=this._compile();this._partialSign(o,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(o=>{const a=sign$3(n,o.secretKey);this._addSignature(o.publicKey,toBuffer$3(a))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){assert$a(r.length===64);const n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=bufferPolyfill.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(const{signature:n,publicKey:o}of this.signatures)if(n===null){if(r)return!1}else if(!verify$3(n,e,o.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,r))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:r}=this,n=[];encodeLength$3(n,r.length);const o=n.length+r.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$a(r.length<256),bufferPolyfill.Buffer.from(n).copy(a,0),r.forEach(({signature:c},u)=>{c!==null&&(assert$a(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,n.length+u*64))}),e.copy(a,n.length+r.length*64),assert$a(a.length<=PACKET_DATA_SIZE$3,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE$3}`),a}get keys(){return assert$a(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$a(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$a(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength$3(r);let o=[];for(let a=0;a<n;a++){const c=r.slice(0,SIGNATURE_LENGTH_IN_BYTES$4);r=r.slice(SIGNATURE_LENGTH_IN_BYTES$4),o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction$3.populate(Message$3.from(r),o)}static populate(e,r=[]){const n=new Transaction$3;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE$3)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};n.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:n.signatures.some(gr=>gr.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});n.instructions.push(new TransactionInstruction$3({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}}class TransactionMessage$1{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:o,recentBlockhash:a}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:gr}=n,br=c-u;assert$a(br>0,"Message header is invalid");const _r=e.staticAccountKeys.length-c-gr;assert$a(_r>=0,"Message header is invalid");const Ar=e.getAccountKeys(r),vr=Ar.get(0);if(vr===void 0)throw new Error("Failed to decompile message because no account keys were found");const Tr=[];for(const Or of o){const Ir=[];for(const Lr of Or.accountKeyIndexes){const Fr=Ar.get(Lr);if(Fr===void 0)throw new Error(`Failed to find key for account key index ${Lr}`);const Mr=Lr<c;let Hr;Mr?Hr=Lr<br:Lr<Ar.staticAccountKeys.length?Hr=Lr-c<_r:Hr=Lr-Ar.staticAccountKeys.length<Ar.accountKeysFromLookups.writable.length,Ir.push({pubkey:Fr,isSigner:Lr<n.numRequiredSignatures,isWritable:Hr})}const xr=Ar.get(Or.programIdIndex);if(xr===void 0)throw new Error(`Failed to find program id for program id index ${Or.programIdIndex}`);Tr.push(new TransactionInstruction$3({programId:xr,data:toBuffer$3(Or.data),keys:Ir}))}return new TransactionMessage$1({payerKey:vr,instructions:Tr,recentBlockhash:a})}compileToLegacyMessage(){return Message$3.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0$2.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction$1{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)assert$a(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let o=0;o<e.header.numRequiredSignatures;o++)n.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES$4));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();encodeLength$3(r,this.signatures.length);const n=struct$3([blob$2(r.length,"encodedSignaturesLength"),seq(signature$1(),this.signatures.length,"signatures"),blob$2(e.length,"serializedMessage")]),o=new Uint8Array(2048),a=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,a)}static deserialize(e){let r=[...e];const n=[],o=decodeLength$3(r);for(let c=0;c<o;c++)n.push(new Uint8Array(r.splice(0,SIGNATURE_LENGTH_IN_BYTES$4)));const a=VersionedMessage$1.deserialize(new Uint8Array(r));return new VersionedTransaction$1(a,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const a=n.findIndex(c=>c.equals(o.publicKey));assert$a(a>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[a]=sign$3(r,o.secretKey)}}addSignature(e,r){assert$a(r.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));assert$a(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=r}}const NUM_TICKS_PER_SECOND$1=160,DEFAULT_TICKS_PER_SLOT$1=64,NUM_SLOTS_PER_SECOND$1=NUM_TICKS_PER_SECOND$1/DEFAULT_TICKS_PER_SLOT$1,MS_PER_SLOT$1=1e3/NUM_SLOTS_PER_SECOND$1,SYSVAR_CLOCK_PUBKEY$1=new PublicKey$3("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY$1=new PublicKey$3("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY$1=new PublicKey$3("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3=new PublicKey$3("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY$3=new PublicKey$3("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY$1=new PublicKey$3("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY$1=new PublicKey$3("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY$1=new PublicKey$3("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY$1=new PublicKey$3("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$4(t,e,r,n){const o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},a=await t.sendTransaction(e,r,o);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,gr=u.keys[0].pubkey;c=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:gr,nonceValue:e.nonceInfo.nonce,signature:a},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await t.confirmTransaction(a,n&&n.commitment)).value;if(c.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(c)})`);return a}function sleep$1(t){return new Promise(e=>setTimeout(e,t))}function encodeData$3(t,e){const r=t.layout.span>=0?t.layout.span:getAlloc$3(t,e),n=bufferPolyfill.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}function decodeData$1$1(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const FeeCalculatorLayout$3=nu64$1("lamportsPerSignature"),NonceAccountLayout$3=struct$3([u32$2("version"),u32$2("state"),publicKey$8("authorizedPubkey"),publicKey$8("nonce"),struct$3([FeeCalculatorLayout$3],"feeCalculator")]),NONCE_ACCOUNT_LENGTH$3=NonceAccountLayout$3.span;class NonceAccount$1{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=NonceAccountLayout$3.decode(toBuffer$3(e),0);return new NonceAccount$1({authorizedPubkey:new PublicKey$3(r.authorizedPubkey),nonce:new PublicKey$3(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const encodeDecode$4=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},bigInt$4=t=>e=>{const r=blob$2(t,e),{encode:n,decode:o}=encodeDecode$4(r),a=r;return a.decode=(c,u)=>{const gr=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(gr))},a.encode=(c,u,gr)=>{const br=toBufferLE_1(c,t);return n(br,u,gr)},a},u64$8=bigInt$4(8);class SystemInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS$3))if(c.index==n){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:o}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new PublicKey$3(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:o}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new PublicKey$3(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:o,programId:a}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$3(r),seed:n,space:o,programId:new PublicKey$3(a)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey$3(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:o}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$3(r),seed:n,programId:new PublicKey$3(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:o,space:a,programId:c}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey$3(r),seed:n,lamports:o,space:a,programId:new PublicKey$3(c)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey$3(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$3.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey$3(r)}}static checkProgramId(e){if(!e.equals(SystemProgram$3.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const SYSTEM_INSTRUCTION_LAYOUTS$3=Object.freeze({Create:{index:0,layout:struct$3([u32$2("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$8("programId")])},Assign:{index:1,layout:struct$3([u32$2("instruction"),publicKey$8("programId")])},Transfer:{index:2,layout:struct$3([u32$2("instruction"),u64$8("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$2("instruction"),publicKey$8("base"),rustString$3("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$8("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$2("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$2("instruction"),publicKey$8("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$2("instruction"),publicKey$8("authorized")])},Allocate:{index:8,layout:struct$3([u32$2("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$2("instruction"),publicKey$8("base"),rustString$3("seed"),ns64$1("space"),publicKey$8("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$2("instruction"),publicKey$8("base"),rustString$3("seed"),publicKey$8("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$2("instruction"),u64$8("lamports"),rustString$3("seed"),publicKey$8("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$2("instruction")])}});class SystemProgram$3{constructor(){}static createAccount(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$3.Create,n=encodeData$3(r,{lamports:e.lamports,space:e.space,programId:toBuffer$3(e.programId.toBuffer())});return new TransactionInstruction$3({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$3.TransferWithSeed;r=encodeData$3(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$3(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$3.Transfer;r=encodeData$3(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction$3({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$3.AssignWithSeed;r=encodeData$3(o,{base:toBuffer$3(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$3(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$3.Assign;r=encodeData$3(o,{programId:toBuffer$3(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$3({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$3.CreateWithSeed,n=encodeData$3(r,{base:toBuffer$3(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$3(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction$3({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){const r=new Transaction$3;"basePubkey"in e&&"seed"in e?r.add(SystemProgram$3.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$3,programId:this.programId})):r.add(SystemProgram$3.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$3,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$3.InitializeNonceAccount,n=encodeData$3(r,{authorized:toBuffer$3(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction$3(o)}static nonceAdvance(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$3.AdvanceNonceAccount,n=encodeData$3(r),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction$3(o)}static nonceWithdraw(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$3.WithdrawNonceAccount,n=encodeData$3(r,{lamports:e.lamports});return new TransactionInstruction$3({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$3.AuthorizeNonceAccount,n=encodeData$3(r,{authorized:toBuffer$3(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction$3({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$3.AllocateWithSeed;r=encodeData$3(o,{base:toBuffer$3(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$3(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$3.Allocate;r=encodeData$3(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$3({keys:n,programId:this.programId,data:r})}}SystemProgram$3.programId=new PublicKey$3("11111111111111111111111111111111");const CHUNK_SIZE$1=PACKET_DATA_SIZE$3-300;class Loader$1{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader$1.chunkSize)+1+1)}static async load(e,r,n,o,a){{const Ar=await e.getMinimumBalanceForRentExemption(a.length),vr=await e.getAccountInfo(n.publicKey,"confirmed");let Tr=null;if(vr!==null){if(vr.executable)return console.error("Program load failed, account is already executable"),!1;vr.data.length!==a.length&&(Tr=Tr||new Transaction$3,Tr.add(SystemProgram$3.allocate({accountPubkey:n.publicKey,space:a.length}))),vr.owner.equals(o)||(Tr=Tr||new Transaction$3,Tr.add(SystemProgram$3.assign({accountPubkey:n.publicKey,programId:o}))),vr.lamports<Ar&&(Tr=Tr||new Transaction$3,Tr.add(SystemProgram$3.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:Ar-vr.lamports})))}else Tr=new Transaction$3().add(SystemProgram$3.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:Ar>0?Ar:1,space:a.length,programId:o}));Tr!==null&&await sendAndConfirmTransaction$4(e,Tr,[r,n],{commitment:"confirmed"})}const c=struct$3([u32$2("instruction"),u32$2("offset"),u32$2("bytesLength"),u32$2("bytesLengthPadding"),seq(u8$2("byte"),offset$1(u32$2(),-8),"bytes")]),u=Loader$1.chunkSize;let gr=0,br=a,_r=[];for(;br.length>0;){const Ar=br.slice(0,u),vr=bufferPolyfill.Buffer.alloc(u+16);c.encode({instruction:0,offset:gr,bytes:Ar,bytesLength:0,bytesLengthPadding:0},vr);const Tr=new Transaction$3().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:vr});_r.push(sendAndConfirmTransaction$4(e,Tr,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep$1(1e3/4),gr+=u,br=br.slice(u)}await Promise.all(_r);{const Ar=struct$3([u32$2("instruction")]),vr=bufferPolyfill.Buffer.alloc(Ar.span);Ar.encode({instruction:1},vr);const Tr=new Transaction$3().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1}],programId:o,data:vr}),Or="processed",Ir=await e.sendTransaction(Tr,[r,n],{preflightCommitment:Or}),{context:xr,value:Lr}=await e.confirmTransaction({signature:Ir,lastValidBlockHeight:Tr.lastValidBlockHeight,blockhash:Tr.recentBlockhash},Or);if(Lr.err)throw new Error(`Transaction ${Ir} failed (${JSON.stringify(Lr)})`);for(;;){try{if(await e.getSlot({commitment:Or})>xr.slot)break}catch{}await new Promise(Fr=>setTimeout(Fr,Math.round(MS_PER_SLOT$1/2)))}}return!0}}Loader$1.chunkSize=CHUNK_SIZE$1;const BPF_LOADER_PROGRAM_ID$1=new PublicKey$3("BPFLoader2111111111111111111111111111111111");class BpfLoader$1{static getMinNumSignatures(e){return Loader$1.getMinNumSignatures(e)}static load(e,r,n,o,a){return Loader$1.load(e,r,n,a,o)}}function getDefaultExportFromCjs$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var objToString$1=Object.prototype.toString,objKeys$1=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function stringify$2(t,e){var r,n,o,a,c,u,gr;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return stringify$2(t.toJSON(),e);if(gr=objToString$1.call(t),gr==="[object Array]"){for(o="[",n=t.length-1,r=0;r<n;r++)o+=stringify$2(t[r],!0)+",";return n>-1&&(o+=stringify$2(t[r],!0)),o+"]"}else if(gr==="[object Object]"){for(a=objKeys$1(t).sort(),n=a.length,o="",r=0;r<n;)c=a[r],u=stringify$2(t[c],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),r++;return"{"+o+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var fastStableStringify$2=function(t){var e=stringify$2(t,!1);if(e!==void 0)return""+e},fastStableStringify$1$1=getDefaultExportFromCjs$1(fastStableStringify$2);const MINIMUM_SLOT_PER_EPOCH$1=32;function trailingZeros$1(t){let e=0;for(;t>1;)t/=2,e++;return e}function nextPowerOfTwo$1(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class EpochSchedule$1{constructor(e,r,n,o,a){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=a}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=trailingZeros$1(nextPowerOfTwo$1(e+MINIMUM_SLOT_PER_EPOCH$1+1))-trailingZeros$1(MINIMUM_SLOT_PER_EPOCH$1)-1,n=this.getSlotsInEpoch(r),o=e-(n-MINIMUM_SLOT_PER_EPOCH$1);return[r,o]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),o=this.firstNormalEpoch+n,a=r%this.slotsPerEpoch;return[o,a]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH$1:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros$1(MINIMUM_SLOT_PER_EPOCH$1)):this.slotsPerEpoch}}class SendTransactionError$1 extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}}const SolanaJSONRPCErrorCode$1={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError$1 extends Error{constructor({code:e,message:r,data:n},o){super(o!=null?`${o}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var fetchImpl$1=globalThis.fetch;class RpcWebSocketClient$1 extends RpcWebSocketCommonClient{constructor(e,r,n){const o=a=>{const c=createRpc(a,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(o,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function decodeData$2(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const LOOKUP_TABLE_META_SIZE$1=56;class AddressLookupTableAccount$1{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=decodeData$2(LookupTableMetaLayout$1,e),n=e.length-LOOKUP_TABLE_META_SIZE$1;assert$a(n>=0,"lookup table is invalid"),assert$a(n%32===0,"lookup table is invalid");const o=n/32,{addresses:a}=struct$3([seq(publicKey$8(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE$1));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new PublicKey$3(r.authority[0]):void 0,addresses:a.map(c=>new PublicKey$3(c))}}}const LookupTableMetaLayout$1={index:1,layout:struct$3([u32$2("typeIndex"),u64$8("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$8(),offset$1(u8$2(),-1),"authority")])},URL_RE$1=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl$1(t){const e=t.match(URL_RE$1);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,o,a]=e,c=t.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),gr=u==null?"":`:${u+1}`;return`${c}//${n}${gr}${a}`}const PublicKeyFromString$3=coerce$2(instance$1(PublicKey$3),string$3(),t=>new PublicKey$3(t)),RawAccountDataResult$3=tuple$2([string$3(),literal$2("base64")]),BufferFromRawAccountData$3=coerce$2(instance$1(bufferPolyfill.Buffer),RawAccountDataResult$3,t=>bufferPolyfill.Buffer.from(t[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS$1=30*1e3;function assertEndpointUrl$1(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function extractCommitmentFromConfig$1(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...o}=t;e=n,r=o}return{commitment:e,config:r}}function createRpcResult$4(t){return union$3([type$2({jsonrpc:literal$2("2.0"),id:string$3(),result:t}),type$2({jsonrpc:literal$2("2.0"),id:string$3(),error:type$2({code:unknown$2(),message:string$3(),data:optional$2(any$2())})})])}const UnknownRpcResult$4=createRpcResult$4(unknown$2());function jsonRpcResult$4(t){return coerce$2(createRpcResult$4(t),UnknownRpcResult$4,e=>"error"in e?e:{...e,result:create$2(e.result,t)})}function jsonRpcResultAndContext$4(t){return jsonRpcResult$4(type$2({context:type$2({slot:number$3()}),value:t}))}function notificationResultAndContext$3(t){return type$2({context:type$2({slot:number$3()}),value:t})}function versionedMessageFromResponse$1(t,e){return t===0?new MessageV0$2({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new PublicKey$3(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:bs58$3.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Message$3(e)}const GetInflationGovernorResult$3=type$2({foundation:number$3(),foundationTerm:number$3(),initial:number$3(),taper:number$3(),terminal:number$3()}),GetInflationRewardResult$1=jsonRpcResult$4(array$3(nullable$2(type$2({epoch:number$3(),effectiveSlot:number$3(),amount:number$3(),postBalance:number$3(),commission:optional$2(nullable$2(number$3()))})))),GetRecentPrioritizationFeesResult$3=array$3(type$2({slot:number$3(),prioritizationFee:number$3()})),GetInflationRateResult$3=type$2({total:number$3(),validator:number$3(),foundation:number$3(),epoch:number$3()}),GetEpochInfoResult$3=type$2({epoch:number$3(),slotIndex:number$3(),slotsInEpoch:number$3(),absoluteSlot:number$3(),blockHeight:optional$2(number$3()),transactionCount:optional$2(number$3())}),GetEpochScheduleResult$3=type$2({slotsPerEpoch:number$3(),leaderScheduleSlotOffset:number$3(),warmup:boolean$2(),firstNormalEpoch:number$3(),firstNormalSlot:number$3()}),GetLeaderScheduleResult$3=record$1(string$3(),array$3(number$3())),TransactionErrorResult$3=nullable$2(union$3([type$2({}),string$3()])),SignatureStatusResult$3=type$2({err:TransactionErrorResult$3}),SignatureReceivedResult$3=literal$2("receivedSignature"),VersionResult$1=type$2({"solana-core":string$3(),"feature-set":optional$2(number$3())}),SimulatedTransactionResponseStruct$2=jsonRpcResultAndContext$4(type$2({err:nullable$2(union$3([type$2({}),string$3()])),logs:nullable$2(array$3(string$3())),accounts:optional$2(nullable$2(array$3(nullable$2(type$2({executable:boolean$2(),owner:string$3(),lamports:number$3(),data:array$3(string$3()),rentEpoch:optional$2(number$3())}))))),unitsConsumed:optional$2(number$3()),returnData:optional$2(nullable$2(type$2({programId:string$3(),data:tuple$2([string$3(),literal$2("base64")])})))})),BlockProductionResponseStruct$1=jsonRpcResultAndContext$4(type$2({byIdentity:record$1(string$3(),array$3(number$3())),range:type$2({firstSlot:number$3(),lastSlot:number$3()})}));function createRpcClient$1(t,e,r,n,o,a){const c=r||fetchImpl$1;let u;a!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let gr;return n&&(gr=async(_r,Ar)=>{const vr=await new Promise((Tr,Or)=>{try{n(_r,Ar,(Ir,xr)=>Tr([Ir,xr]))}catch(Ir){Or(Ir)}});return await c(...vr)}),new browser$5(async(_r,Ar)=>{const vr={method:"POST",body:_r,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS$1)};try{let Tr=5,Or,Ir=500;for(;gr?Or=await gr(t,vr):Or=await c(t,vr),!(Or.status!==429||o===!0||(Tr-=1,Tr===0));)console.log(`Server responded with ${Or.status} ${Or.statusText}.  Retrying after ${Ir}ms delay...`),await sleep$1(Ir),Ir*=2;const xr=await Or.text();Or.ok?Ar(null,xr):Ar(new Error(`${Or.status} ${Or.statusText}: ${xr}`))}catch(Tr){Tr instanceof Error&&Ar(Tr)}},{})}function createRpcRequest$1(t){return(e,r)=>new Promise((n,o)=>{t.request(e,r,(a,c)=>{if(a){o(a);return}n(c)})})}function createRpcBatchRequest$1(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const o=e.map(a=>t.request(a.methodName,a.args));t.request(o,(a,c)=>{if(a){n(a);return}r(c)})})}const GetInflationGovernorRpcResult$1=jsonRpcResult$4(GetInflationGovernorResult$3),GetInflationRateRpcResult$1=jsonRpcResult$4(GetInflationRateResult$3),GetRecentPrioritizationFeesRpcResult$1=jsonRpcResult$4(GetRecentPrioritizationFeesResult$3),GetEpochInfoRpcResult$1=jsonRpcResult$4(GetEpochInfoResult$3),GetEpochScheduleRpcResult$1=jsonRpcResult$4(GetEpochScheduleResult$3),GetLeaderScheduleRpcResult$1=jsonRpcResult$4(GetLeaderScheduleResult$3),SlotRpcResult$1=jsonRpcResult$4(number$3()),GetSupplyRpcResult$1=jsonRpcResultAndContext$4(type$2({total:number$3(),circulating:number$3(),nonCirculating:number$3(),nonCirculatingAccounts:array$3(PublicKeyFromString$3)})),TokenAmountResult$3=type$2({amount:string$3(),uiAmount:nullable$2(number$3()),decimals:number$3(),uiAmountString:optional$2(string$3())}),GetTokenLargestAccountsResult$1=jsonRpcResultAndContext$4(array$3(type$2({address:PublicKeyFromString$3,amount:string$3(),uiAmount:nullable$2(number$3()),decimals:number$3(),uiAmountString:optional$2(string$3())}))),GetTokenAccountsByOwner$1=jsonRpcResultAndContext$4(array$3(type$2({pubkey:PublicKeyFromString$3,account:type$2({executable:boolean$2(),owner:PublicKeyFromString$3,lamports:number$3(),data:BufferFromRawAccountData$3,rentEpoch:number$3()})}))),ParsedAccountDataResult$3=type$2({program:string$3(),parsed:unknown$2(),space:number$3()}),GetParsedTokenAccountsByOwner$1=jsonRpcResultAndContext$4(array$3(type$2({pubkey:PublicKeyFromString$3,account:type$2({executable:boolean$2(),owner:PublicKeyFromString$3,lamports:number$3(),data:ParsedAccountDataResult$3,rentEpoch:number$3()})}))),GetLargestAccountsRpcResult$1=jsonRpcResultAndContext$4(array$3(type$2({lamports:number$3(),address:PublicKeyFromString$3}))),AccountInfoResult$3=type$2({executable:boolean$2(),owner:PublicKeyFromString$3,lamports:number$3(),data:BufferFromRawAccountData$3,rentEpoch:number$3()}),KeyedAccountInfoResult$1=type$2({pubkey:PublicKeyFromString$3,account:AccountInfoResult$3}),ParsedOrRawAccountData$3=coerce$2(union$3([instance$1(bufferPolyfill.Buffer),ParsedAccountDataResult$3]),union$3([RawAccountDataResult$3,ParsedAccountDataResult$3]),t=>Array.isArray(t)?create$2(t,BufferFromRawAccountData$3):t),ParsedAccountInfoResult$3=type$2({executable:boolean$2(),owner:PublicKeyFromString$3,lamports:number$3(),data:ParsedOrRawAccountData$3,rentEpoch:number$3()}),KeyedParsedAccountInfoResult$1=type$2({pubkey:PublicKeyFromString$3,account:ParsedAccountInfoResult$3}),StakeActivationResult$1=type$2({state:union$3([literal$2("active"),literal$2("inactive"),literal$2("activating"),literal$2("deactivating")]),active:number$3(),inactive:number$3()}),GetConfirmedSignaturesForAddress2RpcResult$1=jsonRpcResult$4(array$3(type$2({signature:string$3(),slot:number$3(),err:TransactionErrorResult$3,memo:nullable$2(string$3()),blockTime:optional$2(nullable$2(number$3()))}))),GetSignaturesForAddressRpcResult$1=jsonRpcResult$4(array$3(type$2({signature:string$3(),slot:number$3(),err:TransactionErrorResult$3,memo:nullable$2(string$3()),blockTime:optional$2(nullable$2(number$3()))}))),AccountNotificationResult$1=type$2({subscription:number$3(),result:notificationResultAndContext$3(AccountInfoResult$3)}),ProgramAccountInfoResult$3=type$2({pubkey:PublicKeyFromString$3,account:AccountInfoResult$3}),ProgramAccountNotificationResult$1=type$2({subscription:number$3(),result:notificationResultAndContext$3(ProgramAccountInfoResult$3)}),SlotInfoResult$3=type$2({parent:number$3(),slot:number$3(),root:number$3()}),SlotNotificationResult$1=type$2({subscription:number$3(),result:SlotInfoResult$3}),SlotUpdateResult$3=union$3([type$2({type:union$3([literal$2("firstShredReceived"),literal$2("completed"),literal$2("optimisticConfirmation"),literal$2("root")]),slot:number$3(),timestamp:number$3()}),type$2({type:literal$2("createdBank"),parent:number$3(),slot:number$3(),timestamp:number$3()}),type$2({type:literal$2("frozen"),slot:number$3(),timestamp:number$3(),stats:type$2({numTransactionEntries:number$3(),numSuccessfulTransactions:number$3(),numFailedTransactions:number$3(),maxTransactionsPerEntry:number$3()})}),type$2({type:literal$2("dead"),slot:number$3(),timestamp:number$3(),err:string$3()})]),SlotUpdateNotificationResult$1=type$2({subscription:number$3(),result:SlotUpdateResult$3}),SignatureNotificationResult$1=type$2({subscription:number$3(),result:notificationResultAndContext$3(union$3([SignatureStatusResult$3,SignatureReceivedResult$3]))}),RootNotificationResult$1=type$2({subscription:number$3(),result:number$3()}),ContactInfoResult$1=type$2({pubkey:string$3(),gossip:nullable$2(string$3()),tpu:nullable$2(string$3()),rpc:nullable$2(string$3()),version:nullable$2(string$3())}),VoteAccountInfoResult$3=type$2({votePubkey:string$3(),nodePubkey:string$3(),activatedStake:number$3(),epochVoteAccount:boolean$2(),epochCredits:array$3(tuple$2([number$3(),number$3(),number$3()])),commission:number$3(),lastVote:number$3(),rootSlot:nullable$2(number$3())}),GetVoteAccounts$1=jsonRpcResult$4(type$2({current:array$3(VoteAccountInfoResult$3),delinquent:array$3(VoteAccountInfoResult$3)})),ConfirmationStatus$3=union$3([literal$2("processed"),literal$2("confirmed"),literal$2("finalized")]),SignatureStatusResponse$3=type$2({slot:number$3(),confirmations:nullable$2(number$3()),err:TransactionErrorResult$3,confirmationStatus:optional$2(ConfirmationStatus$3)}),GetSignatureStatusesRpcResult$1=jsonRpcResultAndContext$4(array$3(nullable$2(SignatureStatusResponse$3))),GetMinimumBalanceForRentExemptionRpcResult$1=jsonRpcResult$4(number$3()),AddressTableLookupStruct$3=type$2({accountKey:PublicKeyFromString$3,writableIndexes:array$3(number$3()),readonlyIndexes:array$3(number$3())}),ConfirmedTransactionResult$3=type$2({signatures:array$3(string$3()),message:type$2({accountKeys:array$3(string$3()),header:type$2({numRequiredSignatures:number$3(),numReadonlySignedAccounts:number$3(),numReadonlyUnsignedAccounts:number$3()}),instructions:array$3(type$2({accounts:array$3(number$3()),data:string$3(),programIdIndex:number$3()})),recentBlockhash:string$3(),addressTableLookups:optional$2(array$3(AddressTableLookupStruct$3))})}),AnnotatedAccountKey$3=type$2({pubkey:PublicKeyFromString$3,signer:boolean$2(),writable:boolean$2(),source:optional$2(union$3([literal$2("transaction"),literal$2("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$3=type$2({accountKeys:array$3(AnnotatedAccountKey$3),signatures:array$3(string$3())}),ParsedInstructionResult$3=type$2({parsed:unknown$2(),program:string$3(),programId:PublicKeyFromString$3}),RawInstructionResult$3=type$2({accounts:array$3(PublicKeyFromString$3),data:string$3(),programId:PublicKeyFromString$3}),InstructionResult$3=union$3([RawInstructionResult$3,ParsedInstructionResult$3]),UnknownInstructionResult$3=union$3([type$2({parsed:unknown$2(),program:string$3(),programId:string$3()}),type$2({accounts:array$3(string$3()),data:string$3(),programId:string$3()})]),ParsedOrRawInstruction$3=coerce$2(InstructionResult$3,UnknownInstructionResult$3,t=>"accounts"in t?create$2(t,RawInstructionResult$3):create$2(t,ParsedInstructionResult$3)),ParsedConfirmedTransactionResult$3=type$2({signatures:array$3(string$3()),message:type$2({accountKeys:array$3(AnnotatedAccountKey$3),instructions:array$3(ParsedOrRawInstruction$3),recentBlockhash:string$3(),addressTableLookups:optional$2(nullable$2(array$3(AddressTableLookupStruct$3)))})}),TokenBalanceResult$3=type$2({accountIndex:number$3(),mint:string$3(),owner:optional$2(string$3()),uiTokenAmount:TokenAmountResult$3}),LoadedAddressesResult$3=type$2({writable:array$3(PublicKeyFromString$3),readonly:array$3(PublicKeyFromString$3)}),ConfirmedTransactionMetaResult$3=type$2({err:TransactionErrorResult$3,fee:number$3(),innerInstructions:optional$2(nullable$2(array$3(type$2({index:number$3(),instructions:array$3(type$2({accounts:array$3(number$3()),data:string$3(),programIdIndex:number$3()}))})))),preBalances:array$3(number$3()),postBalances:array$3(number$3()),logMessages:optional$2(nullable$2(array$3(string$3()))),preTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult$3))),postTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult$3))),loadedAddresses:optional$2(LoadedAddressesResult$3),computeUnitsConsumed:optional$2(number$3())}),ParsedConfirmedTransactionMetaResult$3=type$2({err:TransactionErrorResult$3,fee:number$3(),innerInstructions:optional$2(nullable$2(array$3(type$2({index:number$3(),instructions:array$3(ParsedOrRawInstruction$3)})))),preBalances:array$3(number$3()),postBalances:array$3(number$3()),logMessages:optional$2(nullable$2(array$3(string$3()))),preTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult$3))),postTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult$3))),loadedAddresses:optional$2(LoadedAddressesResult$3),computeUnitsConsumed:optional$2(number$3())}),TransactionVersionStruct$3=union$3([literal$2(0),literal$2("legacy")]),RewardsResult$3=type$2({pubkey:string$3(),lamports:number$3(),postBalance:nullable$2(number$3()),rewardType:nullable$2(string$3()),commission:optional$2(nullable$2(number$3()))}),GetBlockRpcResult$1=jsonRpcResult$4(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionResult$3,meta:nullable$2(ConfirmedTransactionMetaResult$3),version:optional$2(TransactionVersionStruct$3)})),rewards:optional$2(array$3(RewardsResult$3)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetNoneModeBlockRpcResult$1=jsonRpcResult$4(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),rewards:optional$2(array$3(RewardsResult$3)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetAccountsModeBlockRpcResult$1=jsonRpcResult$4(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionAccountsModeResult$3,meta:nullable$2(ConfirmedTransactionMetaResult$3),version:optional$2(TransactionVersionStruct$3)})),rewards:optional$2(array$3(RewardsResult$3)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetParsedBlockRpcResult$1=jsonRpcResult$4(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ParsedConfirmedTransactionResult$3,meta:nullable$2(ParsedConfirmedTransactionMetaResult$3),version:optional$2(TransactionVersionStruct$3)})),rewards:optional$2(array$3(RewardsResult$3)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetParsedAccountsModeBlockRpcResult$1=jsonRpcResult$4(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionAccountsModeResult$3,meta:nullable$2(ParsedConfirmedTransactionMetaResult$3),version:optional$2(TransactionVersionStruct$3)})),rewards:optional$2(array$3(RewardsResult$3)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetParsedNoneModeBlockRpcResult$1=jsonRpcResult$4(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),rewards:optional$2(array$3(RewardsResult$3)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetConfirmedBlockRpcResult$1=jsonRpcResult$4(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionResult$3,meta:nullable$2(ConfirmedTransactionMetaResult$3)})),rewards:optional$2(array$3(RewardsResult$3)),blockTime:nullable$2(number$3())}))),GetBlockSignaturesRpcResult$1=jsonRpcResult$4(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),signatures:array$3(string$3()),blockTime:nullable$2(number$3())}))),GetTransactionRpcResult$1=jsonRpcResult$4(nullable$2(type$2({slot:number$3(),meta:ConfirmedTransactionMetaResult$3,blockTime:optional$2(nullable$2(number$3())),transaction:ConfirmedTransactionResult$3,version:optional$2(TransactionVersionStruct$3)}))),GetParsedTransactionRpcResult$1=jsonRpcResult$4(nullable$2(type$2({slot:number$3(),transaction:ParsedConfirmedTransactionResult$3,meta:nullable$2(ParsedConfirmedTransactionMetaResult$3),blockTime:optional$2(nullable$2(number$3())),version:optional$2(TransactionVersionStruct$3)}))),GetRecentBlockhashAndContextRpcResult$1=jsonRpcResultAndContext$4(type$2({blockhash:string$3(),feeCalculator:type$2({lamportsPerSignature:number$3()})})),GetLatestBlockhashRpcResult$1=jsonRpcResultAndContext$4(type$2({blockhash:string$3(),lastValidBlockHeight:number$3()})),IsBlockhashValidRpcResult$1=jsonRpcResultAndContext$4(boolean$2()),PerfSampleResult$3=type$2({slot:number$3(),numTransactions:number$3(),numSlots:number$3(),samplePeriodSecs:number$3()}),GetRecentPerformanceSamplesRpcResult$1=jsonRpcResult$4(array$3(PerfSampleResult$3)),GetFeeCalculatorRpcResult$1=jsonRpcResultAndContext$4(nullable$2(type$2({feeCalculator:type$2({lamportsPerSignature:number$3()})}))),RequestAirdropRpcResult$1=jsonRpcResult$4(string$3()),SendTransactionRpcResult$1=jsonRpcResult$4(string$3()),LogsResult$3=type$2({err:TransactionErrorResult$3,logs:array$3(string$3()),signature:string$3()}),LogsNotificationResult$1=type$2({result:notificationResultAndContext$3(LogsResult$3),subscription:number$3()}),COMMON_HTTP_HEADERS$1={"solana-client":"js/0.0.0-development"};class Connection$1{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const br={};return async _r=>{const{commitment:Ar,config:vr}=extractCommitmentFromConfig$1(_r),Tr=this._buildArgs([],Ar,void 0,vr),Or=fastStableStringify$1$1(Tr);return br[Or]=br[Or]??(async()=>{try{const Ir=await this._rpcRequest("getBlockHeight",Tr),xr=create$2(Ir,jsonRpcResult$4(number$3()));if("error"in xr)throw new SolanaJSONRPCError$1(xr.error,"failed to get block height information");return xr.result}finally{delete br[Or]}})(),await br[Or]}})();let n,o,a,c,u,gr;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,o=r.httpHeaders,a=r.fetch,c=r.fetchMiddleware,u=r.disableRetryOnRateLimit,gr=r.httpAgent),this._rpcEndpoint=assertEndpointUrl$1(e),this._rpcWsEndpoint=n||makeWebsocketUrl$1(e),this._rpcClient=createRpcClient$1(e,o,a,c,u,gr),this._rpcRequest=createRpcRequest$1(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest$1(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient$1(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=this._buildArgs([e.toBase58()],n,void 0,o),c=await this._rpcRequest("getBalance",a),u=create$2(c,jsonRpcResultAndContext$4(number$3()));if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=create$2(r,jsonRpcResult$4(nullable$2(number$3())));if("error"in n)throw new SolanaJSONRPCError$1(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=create$2(e,jsonRpcResult$4(number$3()));if("error"in r)throw new SolanaJSONRPCError$1(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=create$2(e,SlotRpcResult$1);if("error"in r)throw new SolanaJSONRPCError$1(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),o=create$2(n,GetSupplyRpcResult$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,"failed to get supply");return o.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenSupply",n),a=create$2(o,jsonRpcResultAndContext$4(TokenAmountResult$3));if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get token supply");return a.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenAccountBalance",n),a=create$2(o,jsonRpcResultAndContext$4(TokenAmountResult$3));if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get token account balance");return a.result}async getTokenAccountsByOwner(e,r,n){const{commitment:o,config:a}=extractCommitmentFromConfig$1(n);let c=[e.toBase58()];"mint"in r?c.push({mint:r.mint.toBase58()}):c.push({programId:r.programId.toBase58()});const u=this._buildArgs(c,o,"base64",a),gr=await this._rpcRequest("getTokenAccountsByOwner",u),br=create$2(gr,GetTokenAccountsByOwner$1);if("error"in br)throw new SolanaJSONRPCError$1(br.error,`failed to get token accounts owned by account ${e.toBase58()}`);return br.result}async getParsedTokenAccountsByOwner(e,r,n){let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,n,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=create$2(c,GetParsedTokenAccountsByOwner$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],o=await this._rpcRequest("getLargestAccounts",n),a=create$2(o,GetLargestAccountsRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get largest accounts");return a.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenLargestAccounts",n),a=create$2(o,GetTokenLargestAccountsResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get token largest accounts");return a.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=this._buildArgs([e.toBase58()],n,"base64",o),c=await this._rpcRequest("getAccountInfo",a),u=create$2(c,jsonRpcResultAndContext$4(nullable$2(AccountInfoResult$3)));if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=this._buildArgs([e.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",a),u=create$2(c,jsonRpcResultAndContext$4(nullable$2(ParsedAccountInfoResult$3)));if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=e.map(br=>br.toBase58()),c=this._buildArgs([a],n,"jsonParsed",o),u=await this._rpcRequest("getMultipleAccounts",c),gr=create$2(u,jsonRpcResultAndContext$4(array$3(nullable$2(ParsedAccountInfoResult$3))));if("error"in gr)throw new SolanaJSONRPCError$1(gr.error,`failed to get info for accounts ${a}`);return gr.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=e.map(br=>br.toBase58()),c=this._buildArgs([a],n,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),gr=create$2(u,jsonRpcResultAndContext$4(array$3(nullable$2(AccountInfoResult$3))));if("error"in gr)throw new SolanaJSONRPCError$1(gr.error,`failed to get info for accounts ${a}`);return gr.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:o,config:a}=extractCommitmentFromConfig$1(r),c=this._buildArgs([e.toBase58()],o,void 0,{...a,epoch:n??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getStakeActivation",c),gr=create$2(u,jsonRpcResult$4(StakeActivationResult$1));if("error"in gr)throw new SolanaJSONRPCError$1(gr.error,`failed to get Stake Activation ${e.toBase58()}`);return gr.result}async getProgramAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),{encoding:a,...c}=o||{},u=this._buildArgs([e.toBase58()],n,a||"base64",c),gr=await this._rpcRequest("getProgramAccounts",u),br=array$3(KeyedAccountInfoResult$1),_r=c.withContext===!0?create$2(gr,jsonRpcResultAndContext$4(br)):create$2(gr,jsonRpcResult$4(br));if("error"in _r)throw new SolanaJSONRPCError$1(_r.error,`failed to get accounts owned by program ${e.toBase58()}`);return _r.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=this._buildArgs([e.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",a),u=create$2(c,jsonRpcResult$4(array$3(KeyedParsedAccountInfoResult$1)));if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,r){var a;let n;if(typeof e=="string")n=e;else{const c=e;if((a=c.abortSignal)!=null&&a.aborted)return Promise.reject(c.abortSignal.reason);n=c.signature}let o;try{o=bs58$3.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return assert$a(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,o,a=!1;const c=new Promise((gr,br)=>{try{n=this.onSignature(r,(Ar,vr)=>{n=void 0;const Tr={context:vr,value:Ar};gr({__type:TransactionStatus$1.PROCESSED,response:Tr})},e);const _r=new Promise(Ar=>{n==null?Ar():o=this._onSubscriptionStateChange(n,vr=>{vr==="subscribed"&&Ar()})});(async()=>{if(await _r,a)return;const Ar=await this.getSignatureStatus(r);if(a||Ar==null)return;const{context:vr,value:Tr}=Ar;if(Tr!=null)if(Tr!=null&&Tr.err)br(Tr.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(Tr.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(Tr.confirmationStatus==="processed"||Tr.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}a=!0,gr({__type:TransactionStatus$1.PROCESSED,response:{context:vr,value:Tr}})}})()}catch(_r){br(_r)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:o}}){let a=!1;const c=new Promise(Ar=>{const vr=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let Tr=await vr();if(!a){for(;Tr<=n;)if(await sleep$1(1e3),a||(Tr=await vr(),a))return;Ar({__type:TransactionStatus$1.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:gr}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),br=this.getCancellationPromise(r);let _r;try{const Ar=await Promise.race([br,gr,c]);if(Ar.__type===TransactionStatus$1.PROCESSED)_r=Ar.response;else throw new TransactionExpiredBlockheightExceededError$1(o)}finally{a=!0,u()}return _r}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:o,nonceValue:a,signature:c}}){let u=!1;const gr=new Promise(Tr=>{let Or=a,Ir=null;const xr=async()=>{try{const{context:Lr,value:Fr}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:n});return Ir=Lr.slot,Fr==null?void 0:Fr.nonce}catch{return Or}};(async()=>{if(Or=await xr(),!u)for(;;){if(a!==Or){Tr({__type:TransactionStatus$1.NONCE_INVALID,slotInWhichNonceDidAdvance:Ir});return}if(await sleep$1(2e3),u||(Or=await xr(),u))return}})()}),{abortConfirmation:br,confirmationPromise:_r}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),Ar=this.getCancellationPromise(r);let vr;try{const Tr=await Promise.race([Ar,_r,gr]);if(Tr.__type===TransactionStatus$1.PROCESSED)vr=Tr.response;else{let Or;for(;;){const Ir=await this.getSignatureStatus(c);if(Ir==null)break;if(Ir.context.slot<(Tr.slotInWhichNonceDidAdvance??n)){await sleep$1(400);continue}Or=Ir;break}if(Or!=null&&Or.value){const Ir=e||"finalized",{confirmationStatus:xr}=Or.value;switch(Ir){case"processed":case"recent":if(xr!=="processed"&&xr!=="confirmed"&&xr!=="finalized")throw new TransactionExpiredNonceInvalidError$1(c);break;case"confirmed":case"single":case"singleGossip":if(xr!=="confirmed"&&xr!=="finalized")throw new TransactionExpiredNonceInvalidError$1(c);break;case"finalized":case"max":case"root":if(xr!=="finalized")throw new TransactionExpiredNonceInvalidError$1(c);break;default:(Lr=>{})(Ir)}vr={context:Or.context,value:{err:Or.value.err}}}else throw new TransactionExpiredNonceInvalidError$1(c)}}finally{u=!0,br()}return vr}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const o=new Promise(gr=>{let br=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{br=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>gr({__type:TransactionStatus$1.TIMED_OUT,timeoutMs:br}),br)}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let u;try{const gr=await Promise.race([c,o]);if(gr.__type===TransactionStatus$1.PROCESSED)u=gr.response;else throw new TransactionExpiredTimeoutError$1(r,gr.timeoutMs/1e3)}finally{clearTimeout(n),a()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=create$2(e,jsonRpcResult$4(array$3(ContactInfoResult$1)));if("error"in r)throw new SolanaJSONRPCError$1(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),o=create$2(n,GetVoteAccounts$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:r,config:n}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getSlot",o),c=create$2(a,jsonRpcResult$4(number$3()));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:r,config:n}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getSlotLeader",o),c=create$2(a,jsonRpcResult$4(string$3()));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,r){const n=[e,r],o=await this._rpcRequest("getSlotLeaders",n),a=create$2(o,jsonRpcResult$4(array$3(PublicKeyFromString$3)));if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get slot leaders");return a.result}async getSignatureStatus(e,r){const{context:n,value:o}=await this.getSignatureStatuses([e],r);assert$a(o.length===1);const a=o[0];return{context:n,value:a}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const o=await this._rpcRequest("getSignatureStatuses",n),a=create$2(o,GetSignatureStatusesRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get signature status");return a.result}async getTransactionCount(e){const{commitment:r,config:n}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getTransactionCount",o),c=create$2(a,jsonRpcResult$4(number$3()));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),o=create$2(n,GetInflationGovernorRpcResult$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,"failed to get inflation");return o.result}async getInflationReward(e,r,n){const{commitment:o,config:a}=extractCommitmentFromConfig$1(n),c=this._buildArgs([e.map(br=>br.toBase58())],o,void 0,{...a,epoch:r??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getInflationReward",c),gr=create$2(u,GetInflationRewardResult$1);if("error"in gr)throw new SolanaJSONRPCError$1(gr.error,"failed to get inflation reward");return gr.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=create$2(e,GetInflationRateRpcResult$1);if("error"in r)throw new SolanaJSONRPCError$1(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getEpochInfo",o),c=create$2(a,GetEpochInfoRpcResult$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=create$2(e,GetEpochScheduleRpcResult$1);if("error"in r)throw new SolanaJSONRPCError$1(r.error,"failed to get epoch schedule");const n=r.result;return new EpochSchedule$1(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=create$2(e,GetLeaderScheduleRpcResult$1);if("error"in r)throw new SolanaJSONRPCError$1(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),o=await this._rpcRequest("getMinimumBalanceForRentExemption",n),a=create$2(o,GetMinimumBalanceForRentExemptionRpcResult$1);return"error"in a?(console.warn("Unable to fetch minimum balance for rent exemption"),0):a.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),o=create$2(n,GetRecentBlockhashAndContextRpcResult$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=create$2(r,GetRecentPerformanceSamplesRpcResult$1);if("error"in n)throw new SolanaJSONRPCError$1(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),o=await this._rpcRequest("getFeeCalculatorForBlockhash",n),a=create$2(o,GetFeeCalculatorRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get fee calculator");const{context:c,value:u}=a.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,r){const n=toBuffer$3(e.serialize()).toString("base64"),o=this._buildArgs([n],r),a=await this._rpcRequest("getFeeForMessage",o),c=create$2(a,jsonRpcResultAndContext$4(nullable$2(number$3())));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){var c;const r=(c=e==null?void 0:e.lockedWritableAccounts)==null?void 0:c.map(u=>u.toBase58()),n=r!=null&&r.length?[r]:[],o=await this._rpcRequest("getRecentPrioritizationFees",n),a=create$2(o,GetRecentPrioritizationFeesRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get recent prioritization fees");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getLatestBlockhash",o),c=create$2(a,GetLatestBlockhashRpcResult$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=this._buildArgs([e],n,void 0,o),c=await this._rpcRequest("isBlockhashValid",a),u=create$2(c,IsBlockhashValidRpcResult$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=create$2(e,jsonRpcResult$4(VersionResult$1));if("error"in r)throw new SolanaJSONRPCError$1(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=create$2(e,jsonRpcResult$4(string$3()));if("error"in r)throw new SolanaJSONRPCError$1(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=this._buildArgsAtLeastConfirmed([e],n,void 0,o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$2(c,GetAccountsModeBlockRpcResult$1);if("error"in u)throw u.error;return u.result}case"none":{const u=create$2(c,GetNoneModeBlockRpcResult$1);if("error"in u)throw u.error;return u.result}default:{const u=create$2(c,GetBlockRpcResult$1);if("error"in u)throw u.error;const{result:gr}=u;return gr?{...gr,transactions:gr.transactions.map(({transaction:br,meta:_r,version:Ar})=>({meta:_r,transaction:{...br,message:versionedMessageFromResponse$1(Ar,br.message)},version:Ar}))}:null}}}catch(u){throw new SolanaJSONRPCError$1(u,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$2(c,GetParsedAccountsModeBlockRpcResult$1);if("error"in u)throw u.error;return u.result}case"none":{const u=create$2(c,GetParsedNoneModeBlockRpcResult$1);if("error"in u)throw u.error;return u.result}default:{const u=create$2(c,GetParsedBlockRpcResult$1);if("error"in u)throw u.error;return u.result}}}catch(u){throw new SolanaJSONRPCError$1(u,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:u,...gr}=e;n=u,r=gr}const o=this._buildArgs([],n,"base64",r),a=await this._rpcRequest("getBlockProduction",o),c=create$2(a,BlockProductionResponseStruct$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get block production information");return c.result}async getTransaction(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=this._buildArgsAtLeastConfirmed([e],n,void 0,o),c=await this._rpcRequest("getTransaction",a),u=create$2(c,GetTransactionRpcResult$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,"failed to get transaction");const gr=u.result;return gr&&{...gr,transaction:{...gr.transaction,message:versionedMessageFromResponse$1(gr.version,gr.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),c=await this._rpcRequest("getTransaction",a),u=create$2(c,GetParsedTransactionRpcResult$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=e.map(gr=>{const br=this._buildArgsAtLeastConfirmed([gr],n,"jsonParsed",o);return{methodName:"getTransaction",args:br}});return(await this._rpcBatchRequest(a)).map(gr=>{const br=create$2(gr,GetParsedTransactionRpcResult$1);if("error"in br)throw new SolanaJSONRPCError$1(br.error,"failed to get transactions");return br.result})}async getTransactions(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig$1(r),a=e.map(gr=>{const br=this._buildArgsAtLeastConfirmed([gr],n,void 0,o);return{methodName:"getTransaction",args:br}});return(await this._rpcBatchRequest(a)).map(gr=>{const br=create$2(gr,GetTransactionRpcResult$1);if("error"in br)throw new SolanaJSONRPCError$1(br.error,"failed to get transactions");const _r=br.result;return _r&&{..._r,transaction:{..._r.transaction,message:versionedMessageFromResponse$1(_r.version,_r.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedBlock",n),a=create$2(o,GetConfirmedBlockRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:gr,meta:br})=>{const _r=new Message$3(gr.message);return{meta:br,transaction:{...gr,message:_r}}})};return{...u,transactions:u.transactions.map(({transaction:gr,meta:br})=>({meta:br,transaction:Transaction$3.populate(gr.message,gr.signatures)}))}}async getBlocks(e,r,n){const o=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),a=await this._rpcRequest("getBlocks",o),c=create$2(a,jsonRpcResult$4(array$3(number$3())));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",n),a=create$2(o,GetBlockSignaturesRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get block");const c=a.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",n),a=create$2(o,GetBlockSignaturesRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedTransaction",n),a=create$2(o,GetTransactionRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get transaction");const c=a.result;if(!c)return c;const u=new Message$3(c.transaction.message),gr=c.transaction.signatures;return{...c,transaction:Transaction$3.populate(u,gr)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",n),a=create$2(o,GetParsedTransactionRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get confirmed transaction");return a.result}async getParsedConfirmedTransactions(e,r){const n=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(n)).map(c=>{const u=create$2(c,GetParsedTransactionRpcResult$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,r,n){let o={},a=await this.getFirstAvailableBlock();for(;!("until"in o)&&(r--,!(r<=0||r<a));)try{const gr=await this.getConfirmedBlockSignatures(r,"finalized");gr.signatures.length>0&&(o.until=gr.signatures[gr.signatures.length-1].toString())}catch(gr){if(gr instanceof Error&&gr.message.includes("skipped"))continue;throw gr}let c=await this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>c));)try{const gr=await this.getConfirmedBlockSignatures(n);gr.signatures.length>0&&(o.before=gr.signatures[gr.signatures.length-1].toString())}catch(gr){if(gr instanceof Error&&gr.message.includes("skipped"))continue;throw gr}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(gr=>gr.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),a=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=create$2(a,GetConfirmedSignaturesForAddress2RpcResult$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,r,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),a=await this._rpcRequest("getSignaturesForAddress",o),c=create$2(a,GetSignaturesForAddressRpcResult$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,r){const{context:n,value:o}=await this.getAccountInfoAndContext(e,r);let a=null;return o!==null&&(a=new AddressLookupTableAccount$1({key:e,state:AddressLookupTableAccount$1.deserialize(o.data)})),{context:n,value:a}}async getNonceAndContext(e,r){const{context:n,value:o}=await this.getAccountInfoAndContext(e,r);let a=null;return o!==null&&(a=NonceAccount$1.fromAccountData(o.data)),{context:n,value:a}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),o=create$2(n,RequestAirdropRpcResult$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep$1(100);const n=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS$1;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let o=0;o<50;o++){const a=await this.getLatestBlockhash("finalized");if(n!==a.blockhash)return this._blockhashInfo={latestBlockhash:a,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},a;await sleep$1(MS_PER_SLOT$1/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],r,"base64",n),a=await this._rpcRequest("getStakeMinimumDelegation",o),c=create$2(a,jsonRpcResultAndContext$4(number$3()));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,r,n){if("message"in e){const Ir=e.serialize(),xr=bufferPolyfill.Buffer.from(Ir).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const Lr=r||{};Lr.encoding="base64","commitment"in Lr||(Lr.commitment=this.commitment);const Fr=[xr,Lr],Mr=await this._rpcRequest("simulateTransaction",Fr),Hr=create$2(Mr,SimulatedTransactionResponseStruct$2);if("error"in Hr)throw new Error("failed to simulate transaction: "+Hr.error.message);return Hr.result}let o;if(e instanceof Transaction$3){let Or=e;o=new Transaction$3,o.feePayer=Or.feePayer,o.instructions=e.instructions,o.nonceInfo=Or.nonceInfo,o.signatures=Or.signatures}else o=Transaction$3.populate(e),o._message=o._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const a=r;if(o.nonceInfo&&a)o.sign(...a);else{let Or=this._disableBlockhashCaching;for(;;){const Ir=await this._blockhashWithExpiryBlockHeight(Or);if(o.lastValidBlockHeight=Ir.lastValidBlockHeight,o.recentBlockhash=Ir.blockhash,!a)break;if(o.sign(...a),!o.signature)throw new Error("!signature");const xr=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(xr)&&!this._blockhashInfo.transactionSignatures.includes(xr)){this._blockhashInfo.simulatedSignatures.push(xr);break}else Or=!0}}const c=o._compile(),u=c.serialize(),br=o._serialize(u).toString("base64"),_r={encoding:"base64",commitment:this.commitment};if(n){const Or=(Array.isArray(n)?n:c.nonProgramIds()).map(Ir=>Ir.toBase58());_r.accounts={encoding:"base64",addresses:Or}}a&&(_r.sigVerify=!0);const Ar=[br,_r],vr=await this._rpcRequest("simulateTransaction",Ar),Tr=create$2(vr,SimulatedTransactionResponseStruct$2);if("error"in Tr){let Or;if("data"in Tr.error&&(Or=Tr.error.data.logs,Or&&Array.isArray(Or))){const Ir=`
    `,xr=Ir+Or.join(Ir);console.error(Tr.error.message,xr)}throw new SendTransactionError$1("failed to simulate transaction: "+Tr.error.message,Or)}return Tr.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const o=r;if(e.nonceInfo)e.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const gr=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(gr))c=!0;else{this._blockhashInfo.transactionSignatures.push(gr);break}}}const a=e.serialize();return await this.sendRawTransaction(a,n)}async sendRawTransaction(e,r){const n=toBuffer$3(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},o=r&&r.skipPreflight,a=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),o&&(n.skipPreflight=o),a&&(n.preflightCommitment=a);const c=[e,n],u=await this._rpcRequest("sendTransaction",c),gr=create$2(u,SendTransactionRpcResult$1);if("error"in gr){let br;throw"data"in gr.error&&(br=gr.error.data.logs),new SendTransactionError$1("failed to send transaction: "+gr.error.message,br)}return gr.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var o;const n=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(c=>{try{c(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:a,method:c}=o;try{this._setSubscription(n,{...o,state:"subscribing"});const u=await this._rpcWebSocket.call(c,a);this._setSubscription(n,{...o,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,a,u.message),!r())return;this._setSubscription(n,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:a,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(a))this._subscriptionsAutoDisposedByRpc.delete(a);else{this._setSubscription(n,{...o,state:"unsubscribing"}),this._setSubscription(n,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[a])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!r())return;this._setSubscription(n,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(o=>{try{o(...r)}catch(a){console.error(a)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=create$2(e,AccountNotificationResult$1);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,o=fastStableStringify$1$1([e.method,r],!0),a=this._subscriptionsByHash[o];return a===void 0?this._subscriptionsByHash[o]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:a.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const c=this._subscriptionsByHash[o];assert$a(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=create$2(e,ProgramAccountNotificationResult$1);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,o){const a=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=create$2(e,LogsNotificationResult$1);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=create$2(e,SlotNotificationResult$1);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=create$2(e,SlotUpdateNotificationResult$1);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,o){const a=r||this._commitment;if(a||n||o){let c={};n&&(c.encoding=n),a&&(c.commitment=a),o&&(c=Object.assign(c,o)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,r,n,o){const a=r||this._commitment;if(a&&!["confirmed","finalized"].includes(a))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,o)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=create$2(e,SignatureNotificationResult$1);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const o=this._buildArgs([e],n||this._commitment||"finalized"),a=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){r(c.result,u);try{this.removeSignatureListener(a)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}onSignatureWithOptions(e,r,n){const{commitment:o,...a}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},c=this._buildArgs([e],o,void 0,a),u=this._makeSubscription({callback:(gr,br)=>{r(gr,br);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=create$2(e,RootNotificationResult$1);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair$2{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair$2()}static generate(){return new Keypair$2(generateKeypair$2())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const o=e.slice(0,32),a=getPublicKey$2(o);for(let c=0;c<32;c++)if(n[c]!==a[c])throw new Error("provided secretKey is invalid")}return new Keypair$2({publicKey:n,secretKey:e})}static fromSeed(e){const r=getPublicKey$2(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Keypair$2({publicKey:r,secretKey:n})}get publicKey(){return new PublicKey$3(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1=Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$2("instruction"),u64$8("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$2("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$2("instruction"),u64$8(),seq(publicKey$8(),offset$1(u32$2(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$2("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$2("instruction")])}});class AddressLookupTableInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1))if(c.index==n){o=a;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=decodeData$1$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=decodeData$1$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new PublicKey$3(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram$1.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class AddressLookupTableProgram$1{constructor(){}static createLookupTable(e){const[r,n]=PublicKey$3.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),o=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.CreateLookupTable,a=encodeData$3(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$3.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction$3({programId:this.programId,keys:c,data:a}),r]}static freezeLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.FreezeLookupTable,n=encodeData$3(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$3({programId:this.programId,keys:o,data:n})}static extendLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.ExtendLookupTable,n=encodeData$3(r,{addresses:e.addresses.map(a=>a.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$3.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction$3({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.DeactivateLookupTable,n=encodeData$3(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$3({programId:this.programId,keys:o,data:n})}static closeLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.CloseLookupTable,n=encodeData$3(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction$3({programId:this.programId,keys:o,data:n})}}AddressLookupTableProgram$1.programId=new PublicKey$3("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u8$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1))if(c.index==n){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=decodeData$1$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=decodeData$1$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=decodeData$1$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=decodeData$1$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram$1.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1=Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$2("units"),u32$2("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$2("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$2("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$8("microLamports")])}});class ComputeBudgetProgram$1{constructor(){}static requestUnits(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.RequestUnits,n=encodeData$3(r,e);return new TransactionInstruction$3({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.RequestHeapFrame,n=encodeData$3(r,e);return new TransactionInstruction$3({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.SetComputeUnitLimit,n=encodeData$3(r,e);return new TransactionInstruction$3({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.SetComputeUnitPrice,n=encodeData$3(r,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction$3({keys:[],programId:this.programId,data:n})}}ComputeBudgetProgram$1.programId=new PublicKey$3("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1$1=64,PUBLIC_KEY_BYTES$1$1=32,SIGNATURE_BYTES$1=64,ED25519_INSTRUCTION_LAYOUT$1=struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program$1{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:o,instructionIndex:a}=e;assert$a(r.length===PUBLIC_KEY_BYTES$1$1,`Public Key must be ${PUBLIC_KEY_BYTES$1$1} bytes but received ${r.length} bytes`),assert$a(o.length===SIGNATURE_BYTES$1,`Signature must be ${SIGNATURE_BYTES$1} bytes but received ${o.length} bytes`);const c=ED25519_INSTRUCTION_LAYOUT$1.span,u=c+r.length,gr=u+o.length,br=1,_r=bufferPolyfill.Buffer.alloc(gr+n.length),Ar=a??65535;return ED25519_INSTRUCTION_LAYOUT$1.encode({numSignatures:br,padding:0,signatureOffset:u,signatureInstructionIndex:Ar,publicKeyOffset:c,publicKeyInstructionIndex:Ar,messageDataOffset:gr,messageDataSize:n.length,messageInstructionIndex:Ar},_r),_r.fill(r,c),_r.fill(o,u),_r.fill(n,gr),new TransactionInstruction$3({keys:[],programId:Ed25519Program$1.programId,data:_r})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:o}=e;assert$a(r.length===PRIVATE_KEY_BYTES$1$1,`Private key must be ${PRIVATE_KEY_BYTES$1$1} bytes but received ${r.length} bytes`);try{const a=Keypair$2.fromSecretKey(r),c=a.publicKey.toBytes(),u=sign$3(n,a.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:n,signature:u,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Ed25519Program$1.programId=new PublicKey$3("Ed25519SigVerify111111111111111111111111111");const ecdsaSign$1=(t,e)=>{const r=secp256k1$1.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};secp256k1$1.utils.isValidPrivateKey;const publicKeyCreate$1=secp256k1$1.getPublicKey,PRIVATE_KEY_BYTES$2=32,ETHEREUM_ADDRESS_BYTES$1=20,PUBLIC_KEY_BYTES$2=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE$1=11,SECP256K1_INSTRUCTION_LAYOUT$1=struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);class Secp256k1Program$1{constructor(){}static publicKeyToEthAddress(e){assert$a(e.length===PUBLIC_KEY_BYTES$2,`Public key must be ${PUBLIC_KEY_BYTES$2} bytes but received ${e.length} bytes`);try{return bufferPolyfill.Buffer.from(keccak_256(toBuffer$3(e))).slice(-ETHEREUM_ADDRESS_BYTES$1)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:o,recoveryId:a,instructionIndex:c}=e;return Secp256k1Program$1.createInstructionWithEthAddress({ethAddress:Secp256k1Program$1.publicKeyToEthAddress(r),message:n,signature:o,recoveryId:a,instructionIndex:c})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:o,recoveryId:a,instructionIndex:c=0}=e;let u;typeof r=="string"?r.startsWith("0x")?u=bufferPolyfill.Buffer.from(r.substr(2),"hex"):u=bufferPolyfill.Buffer.from(r,"hex"):u=r,assert$a(u.length===ETHEREUM_ADDRESS_BYTES$1,`Address must be ${ETHEREUM_ADDRESS_BYTES$1} bytes but received ${u.length} bytes`);const gr=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE$1,br=gr,_r=gr+u.length,Ar=_r+o.length+1,vr=1,Tr=bufferPolyfill.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT$1.span+n.length);return SECP256K1_INSTRUCTION_LAYOUT$1.encode({numSignatures:vr,signatureOffset:_r,signatureInstructionIndex:c,ethAddressOffset:br,ethAddressInstructionIndex:c,messageDataOffset:Ar,messageDataSize:n.length,messageInstructionIndex:c,signature:toBuffer$3(o),ethAddress:toBuffer$3(u),recoveryId:a},Tr),Tr.fill(toBuffer$3(n),SECP256K1_INSTRUCTION_LAYOUT$1.span),new TransactionInstruction$3({keys:[],programId:Secp256k1Program$1.programId,data:Tr})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:o}=e;assert$a(r.length===PRIVATE_KEY_BYTES$2,`Private key must be ${PRIVATE_KEY_BYTES$2} bytes but received ${r.length} bytes`);try{const a=toBuffer$3(r),c=publicKeyCreate$1(a,!1).slice(1),u=bufferPolyfill.Buffer.from(keccak_256(toBuffer$3(n))),[gr,br]=ecdsaSign$1(u,a);return this.createInstructionWithPublicKey({publicKey:c,message:n,signature:gr,recoveryId:br,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Secp256k1Program$1.programId=new PublicKey$3("KeccakSecp256k11111111111111111111111111111");var _class2$2;const STAKE_CONFIG_ID$1=new PublicKey$3("StakeConfig11111111111111111111111111111111");class Authorized$1{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class Lockup$3{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}_class2$2=Lockup$3;Lockup$3.default=new _class2$2(0,0,PublicKey$3.default);class StakeInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(STAKE_INSTRUCTION_LAYOUTS$1))if(c.index==n){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized$1(new PublicKey$3(r.staker),new PublicKey$3(r.withdrawer)),lockup:new Lockup$3(n.unixTimestamp,n.epoch,new PublicKey$3(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$3(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:o,authorityOwner:a}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.AuthorizeWithSeed,e.data),c={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new PublicKey$3(a),newAuthorizedPubkey:new PublicKey$3(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram$1.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const STAKE_INSTRUCTION_LAYOUTS$1=Object.freeze({Initialize:{index:0,layout:struct$3([u32$2("instruction"),authorized$3(),lockup$3()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$8("newAuthorized"),u32$2("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$2("instruction")])},Split:{index:3,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$2("instruction")])},Merge:{index:7,layout:struct$3([u32$2("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$2("instruction"),publicKey$8("newAuthorized"),u32$2("stakeAuthorizationType"),rustString$3("authoritySeed"),publicKey$8("authorityOwner")])}}),StakeAuthorizationLayout$1=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram$1{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:o}=e,a=o||Lockup$3.default,c=STAKE_INSTRUCTION_LAYOUTS$1.Initialize,u=encodeData$3(c,{authorized:{staker:toBuffer$3(n.staker.toBuffer()),withdrawer:toBuffer$3(n.withdrawer.toBuffer())},lockup:{unixTimestamp:a.unixTimestamp,epoch:a.epoch,custodian:toBuffer$3(a.custodian.toBuffer())}}),gr={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new TransactionInstruction$3(gr)}static createAccountWithSeed(e){const r=new Transaction$3;r.add(SystemProgram$3.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:o,lockup:a}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:a}))}static createAccount(e){const r=new Transaction$3;r.add(SystemProgram$3.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:o,lockup:a}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:a}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS$1.Delegate,c=encodeData$3(a);return new Transaction$3().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID$1,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS$1.Authorize,gr=encodeData$3(u,{newAuthorized:toBuffer$3(o.toBuffer()),stakeAuthorizationType:a.index}),br=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return c&&br.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$3().add({keys:br,programId:this.programId,data:gr})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:o,authorityOwner:a,newAuthorizedPubkey:c,stakeAuthorizationType:u,custodianPubkey:gr}=e,br=STAKE_INSTRUCTION_LAYOUTS$1.AuthorizeWithSeed,_r=encodeData$3(br,{newAuthorized:toBuffer$3(c.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:o,authorityOwner:toBuffer$3(a.toBuffer())}),Ar=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1}];return gr&&Ar.push({pubkey:gr,isSigner:!1,isWritable:!1}),new Transaction$3().add({keys:Ar,programId:this.programId,data:_r})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:a}=e,c=STAKE_INSTRUCTION_LAYOUTS$1.Split,u=encodeData$3(c,{lamports:a});return new TransactionInstruction$3({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){const r=new Transaction$3;return r.add(SystemProgram$3.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,basePubkey:a,seed:c,lamports:u}=e,gr=new Transaction$3;return gr.add(SystemProgram$3.allocate({accountPubkey:o,basePubkey:a,seed:c,space:this.space,programId:this.programId})),gr.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:u}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS$1.Merge,c=encodeData$3(a);return new Transaction$3().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:o,lamports:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS$1.Withdraw,gr=encodeData$3(u,{lamports:a}),br=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return c&&br.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$3().add({keys:br,programId:this.programId,data:gr})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,o=STAKE_INSTRUCTION_LAYOUTS$1.Deactivate,a=encodeData$3(o);return new Transaction$3().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}}StakeProgram$1.programId=new PublicKey$3("Stake11111111111111111111111111111111111111");StakeProgram$1.space=200;class VoteInit$1{constructor(e,r,n,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=o}}class VoteInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(VOTE_INSTRUCTION_LAYOUTS$1))if(c.index==n){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=decodeData$1$1(VOTE_INSTRUCTION_LAYOUTS$1.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit$1(new PublicKey$3(r.nodePubkey),new PublicKey$3(r.authorizedVoter),new PublicKey$3(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=decodeData$1$1(VOTE_INSTRUCTION_LAYOUTS$1.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$3(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:o,voteAuthorizationType:a}}=decodeData$1$1(VOTE_INSTRUCTION_LAYOUTS$1.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey$3(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new PublicKey$3(o),voteAuthorizationType:{index:a},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1$1(VOTE_INSTRUCTION_LAYOUTS$1.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram$1.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const VOTE_INSTRUCTION_LAYOUTS$1=Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$2("instruction"),voteInit$3()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$8("newAuthorized"),u32$2("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$2("instruction"),voteAuthorizeWithSeedArgs$3()])}}),VoteAuthorizationLayout$1=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram$1{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:o}=e,a=VOTE_INSTRUCTION_LAYOUTS$1.InitializeAccount,c=encodeData$3(a,{voteInit:{nodePubkey:toBuffer$3(o.nodePubkey.toBuffer()),authorizedVoter:toBuffer$3(o.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer$3(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),u={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new TransactionInstruction$3(u)}static createAccount(e){const r=new Transaction$3;return r.add(SystemProgram$3.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:a}=e,c=VOTE_INSTRUCTION_LAYOUTS$1.Authorize,u=encodeData$3(c,{newAuthorized:toBuffer$3(o.toBuffer()),voteAuthorizationType:a.index}),gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Transaction$3().add({keys:gr,programId:this.programId,data:u})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:a,voteAuthorizationType:c,votePubkey:u}=e,gr=VOTE_INSTRUCTION_LAYOUTS$1.AuthorizeWithSeed,br=encodeData$3(gr,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer$3(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:toBuffer$3(a.toBuffer()),voteAuthorizationType:c.index}}),_r=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$3().add({keys:_r,programId:this.programId,data:br})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:a}=e,c=VOTE_INSTRUCTION_LAYOUTS$1.Withdraw,u=encodeData$3(c,{lamports:o}),gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Transaction$3().add({keys:gr,programId:this.programId,data:u})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram$1.withdraw(e)}}VoteProgram$1.programId=new PublicKey$3("Vote111111111111111111111111111111111111111");VoteProgram$1.space=3731;const VALIDATOR_INFO_KEY$1=new PublicKey$3("Va1idator1nfo111111111111111111111111111111"),InfoString$1=type$2({name:string$3(),website:optional$2(string$3()),details:optional$2(string$3()),keybaseUsername:optional$2(string$3())});class ValidatorInfo$1{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(decodeLength$3(r)!==2)return null;const o=[];for(let a=0;a<2;a++){const c=new PublicKey$3(r.slice(0,PUBLIC_KEY_LENGTH$3));r=r.slice(PUBLIC_KEY_LENGTH$3);const u=r.slice(0,1)[0]===1;r=r.slice(1),o.push({publicKey:c,isSigner:u})}if(o[0].publicKey.equals(VALIDATOR_INFO_KEY$1)&&o[1].isSigner){const a=rustString$3().decode(bufferPolyfill.Buffer.from(r)),c=JSON.parse(a);return assert$b(c,InfoString$1),new ValidatorInfo$1(o[1].publicKey,c)}return null}}const VOTE_PROGRAM_ID$1=new PublicKey$3("Vote111111111111111111111111111111111111111"),VoteAccountLayout$1=struct$3([publicKey$8("nodePubkey"),publicKey$8("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$2("confirmationCount")]),offset$1(u32$2(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$8("authorizedVoter")]),offset$1(u32$2(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$8("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$2(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount$1{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=VoteAccountLayout$1.decode(toBuffer$3(e),4);let o=n.rootSlot;return n.rootSlotValid||(o=null),new VoteAccount$1({nodePubkey:new PublicKey$3(n.nodePubkey),authorizedWithdrawer:new PublicKey$3(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:o,authorizedVoters:n.authorizedVoters.map(parseAuthorizedVoter$1),priorVoters:getPriorVoters$1(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function parseAuthorizedVoter$1({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey$3(t)}}function parsePriorVoters$1({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new PublicKey$3(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function getPriorVoters$1({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(parsePriorVoters$1),...t.slice(0,e).map(parsePriorVoters$1)]}const endpoint$1={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl$1(t,e){const r=e===!1?"http":"https";if(!t)return endpoint$1[r].devnet;const n=endpoint$1[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function sendAndConfirmRawTransaction$2(t,e,r,n){let o,a;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(o=r,a=n):a=r;const c=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},u=await t.sendRawTransaction(e,c),gr=a&&a.commitment,_r=(await(o?t.confirmTransaction(o,gr):t.confirmTransaction(u,gr))).value;if(_r.err)throw new Error(`Raw transaction ${u} failed (${JSON.stringify(_r)})`);return u}const LAMPORTS_PER_SOL$1=1e9;var index_browser_esm$2=Object.freeze(Object.defineProperty({__proto__:null,Account:Account$1,AddressLookupTableAccount:AddressLookupTableAccount$1,AddressLookupTableInstruction:AddressLookupTableInstruction$1,AddressLookupTableProgram:AddressLookupTableProgram$1,Authorized:Authorized$1,BLOCKHASH_CACHE_TIMEOUT_MS:BLOCKHASH_CACHE_TIMEOUT_MS$1,BPF_LOADER_DEPRECATED_PROGRAM_ID:BPF_LOADER_DEPRECATED_PROGRAM_ID$1,BPF_LOADER_PROGRAM_ID:BPF_LOADER_PROGRAM_ID$1,BpfLoader:BpfLoader$1,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1,ComputeBudgetInstruction:ComputeBudgetInstruction$1,ComputeBudgetProgram:ComputeBudgetProgram$1,Connection:Connection$1,Ed25519Program:Ed25519Program$1,Enum:Enum$1,EpochSchedule:EpochSchedule$1,FeeCalculatorLayout:FeeCalculatorLayout$3,Keypair:Keypair$2,LAMPORTS_PER_SOL:LAMPORTS_PER_SOL$1,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1,Loader:Loader$1,Lockup:Lockup$3,MAX_SEED_LENGTH:MAX_SEED_LENGTH$3,Message:Message$3,MessageAccountKeys:MessageAccountKeys$3,MessageV0:MessageV0$2,NONCE_ACCOUNT_LENGTH:NONCE_ACCOUNT_LENGTH$3,NonceAccount:NonceAccount$1,PACKET_DATA_SIZE:PACKET_DATA_SIZE$3,PUBLIC_KEY_LENGTH:PUBLIC_KEY_LENGTH$3,PublicKey:PublicKey$3,SIGNATURE_LENGTH_IN_BYTES:SIGNATURE_LENGTH_IN_BYTES$4,SOLANA_SCHEMA:SOLANA_SCHEMA$3,STAKE_CONFIG_ID:STAKE_CONFIG_ID$1,STAKE_INSTRUCTION_LAYOUTS:STAKE_INSTRUCTION_LAYOUTS$1,SYSTEM_INSTRUCTION_LAYOUTS:SYSTEM_INSTRUCTION_LAYOUTS$3,SYSVAR_CLOCK_PUBKEY:SYSVAR_CLOCK_PUBKEY$1,SYSVAR_EPOCH_SCHEDULE_PUBKEY:SYSVAR_EPOCH_SCHEDULE_PUBKEY$1,SYSVAR_INSTRUCTIONS_PUBKEY:SYSVAR_INSTRUCTIONS_PUBKEY$1,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3,SYSVAR_RENT_PUBKEY:SYSVAR_RENT_PUBKEY$3,SYSVAR_REWARDS_PUBKEY:SYSVAR_REWARDS_PUBKEY$1,SYSVAR_SLOT_HASHES_PUBKEY:SYSVAR_SLOT_HASHES_PUBKEY$1,SYSVAR_SLOT_HISTORY_PUBKEY:SYSVAR_SLOT_HISTORY_PUBKEY$1,SYSVAR_STAKE_HISTORY_PUBKEY:SYSVAR_STAKE_HISTORY_PUBKEY$1,Secp256k1Program:Secp256k1Program$1,SendTransactionError:SendTransactionError$1,SolanaJSONRPCError:SolanaJSONRPCError$1,SolanaJSONRPCErrorCode:SolanaJSONRPCErrorCode$1,StakeAuthorizationLayout:StakeAuthorizationLayout$1,StakeInstruction:StakeInstruction$1,StakeProgram:StakeProgram$1,Struct:Struct$5,SystemInstruction:SystemInstruction$1,SystemProgram:SystemProgram$3,Transaction:Transaction$3,TransactionExpiredBlockheightExceededError:TransactionExpiredBlockheightExceededError$1,TransactionExpiredNonceInvalidError:TransactionExpiredNonceInvalidError$1,TransactionExpiredTimeoutError:TransactionExpiredTimeoutError$1,TransactionInstruction:TransactionInstruction$3,TransactionMessage:TransactionMessage$1,TransactionStatus:TransactionStatus$1,VALIDATOR_INFO_KEY:VALIDATOR_INFO_KEY$1,VERSION_PREFIX_MASK:VERSION_PREFIX_MASK$3,VOTE_PROGRAM_ID:VOTE_PROGRAM_ID$1,ValidatorInfo:ValidatorInfo$1,VersionedMessage:VersionedMessage$1,VersionedTransaction:VersionedTransaction$1,VoteAccount:VoteAccount$1,VoteAuthorizationLayout:VoteAuthorizationLayout$1,VoteInit:VoteInit$1,VoteInstruction:VoteInstruction$1,VoteProgram:VoteProgram$1,clusterApiUrl:clusterApiUrl$1,sendAndConfirmRawTransaction:sendAndConfirmRawTransaction$2,sendAndConfirmTransaction:sendAndConfirmTransaction$4},Symbol.toStringTag,{value:"Module"}));class WalletError extends Error{constructor(e,r){super(e),this.error=r}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}var WalletReadyState;(function(t){t.Installed="Installed",t.NotDetected="NotDetected",t.Loadable="Loadable",t.Unsupported="Unsupported"})(WalletReadyState||(WalletReadyState={}));class BaseWalletAdapter extends EventEmitter{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,r,n={}){const o=this.publicKey;if(!o)throw new WalletNotConnectedError;return e.feePayer=e.feePayer||o,e.recentBlockhash=e.recentBlockhash||(await r.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function scopePollingDetectionStrategy(t){if(typeof window>"u"||typeof document>"u")return;const e=[];function r(){if(t())for(const a of e)a()}const n=setInterval(r,1e3);e.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",r,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",r))),document.readyState!=="complete"&&(window.addEventListener("load",r,{once:!0}),e.push(()=>window.removeEventListener("load",r))),r()}function isIosAndRedirectable(){if(!navigator)return!1;const t=navigator.userAgent.toLowerCase(),e=t.includes("iphone")||t.includes("ipad"),r=t.includes("safari");return e&&r}function isVersionedTransaction$3(t){return"version"in t}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(e,r,n={}){let o=!0;try{if(isVersionedTransaction$3(e)){if(!this.supportedTransactionVersions)throw new WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new WalletSendTransactionError(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const a=e.serialize();return await r.sendRawTransaction(a,n)}catch(a){throw a instanceof WalletSignTransactionError?(o=!1,a):new WalletSendTransactionError(a==null?void 0:a.message,a)}}else try{const{signers:a,...c}=n;e=await this.prepareTransaction(e,r,c),a!=null&&a.length&&e.partialSign(...a),e=await this.signTransaction(e);const u=e.serialize();return await r.sendRawTransaction(u,c)}catch(a){throw a instanceof WalletSignTransactionError?(o=!1,a):new WalletSendTransactionError(a==null?void 0:a.message,a)}}catch(a){throw o&&this.emit("error",a),a}}async signAllTransactions(e){for(const n of e)if(isVersionedTransaction$3(n)){if(!this.supportedTransactionVersions)throw new WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new WalletSignTransactionError(`Signing transaction version ${n.version} isn't supported by this wallet`)}const r=[];for(const n of e)r.push(await this.signTransaction(n));return r}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}var _a$1;const isClient$1=typeof window<"u",isFunction$4=t=>typeof t=="function",isString$2=t=>typeof t=="string",noop$4=()=>{},isIOS=isClient$1&&((_a$1=window==null?void 0:window.navigator)==null?void 0:_a$1.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(t){return typeof t=="function"?t():unref(t)}function createFilterWrapper$1(t,e){function r(...n){return new Promise((o,a)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(o).catch(a)})}return r}const bypassFilter$1=t=>t();function pausableFilter$1(t=bypassFilter$1){const e=ref(!0);function r(){e.value=!1}function n(){e.value=!0}const o=(...a)=>{e.value&&t(...a)};return{isActive:readonly(e),pause:r,resume:n,eventFilter:o}}function identity(t){return t}function tryOnScopeDispose$1(t){return getCurrentScope()?(onScopeDispose(t),!0):!1}function resolveRef(t){return typeof t=="function"?computed$1(t):ref(t)}function tryOnMounted$1(t,e=!0){getCurrentInstance()?onMounted(t):e?t():nextTick(t)}function useTimeoutFn(t,e,r={}){const{immediate:n=!0}=r,o=ref(!1);let a=null;function c(){a&&(clearTimeout(a),a=null)}function u(){o.value=!1,c()}function gr(...br){c(),o.value=!0,a=setTimeout(()=>{o.value=!1,a=null,t(...br)},resolveUnref(e))}return n&&(o.value=!0,isClient$1&&gr()),tryOnScopeDispose$1(u),{isPending:readonly(o),start:gr,stop:u}}var __getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__objRest$5=(t,e)=>{var r={};for(var n in t)__hasOwnProp$6.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&__getOwnPropSymbols$6)for(var n of __getOwnPropSymbols$6(t))e.indexOf(n)<0&&__propIsEnum$6.call(t,n)&&(r[n]=t[n]);return r};function watchWithFilter$1(t,e,r={}){const n=r,{eventFilter:o=bypassFilter$1}=n,a=__objRest$5(n,["eventFilter"]);return watch(t,createFilterWrapper$1(o,e),a)}var __defProp$2=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(t,e,r)=>e in t?__defProp$2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__spreadValues$2=(t,e)=>{for(var r in e||(e={}))__hasOwnProp$2.call(e,r)&&__defNormalProp$2(t,r,e[r]);if(__getOwnPropSymbols$2)for(var r of __getOwnPropSymbols$2(e))__propIsEnum$2.call(e,r)&&__defNormalProp$2(t,r,e[r]);return t},__spreadProps$2=(t,e)=>__defProps$2(t,__getOwnPropDescs$2(e)),__objRest$1=(t,e)=>{var r={};for(var n in t)__hasOwnProp$2.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&__getOwnPropSymbols$2)for(var n of __getOwnPropSymbols$2(t))e.indexOf(n)<0&&__propIsEnum$2.call(t,n)&&(r[n]=t[n]);return r};function watchPausable$1(t,e,r={}){const n=r,{eventFilter:o}=n,a=__objRest$1(n,["eventFilter"]),{eventFilter:c,pause:u,resume:gr,isActive:br}=pausableFilter$1(o);return{stop:watchWithFilter$1(t,e,__spreadProps$2(__spreadValues$2({},a),{eventFilter:c})),pause:u,resume:gr,isActive:br}}function unrefElement$1(t){var e;const r=resolveUnref(t);return(e=r==null?void 0:r.$el)!=null?e:r}const defaultWindow$1=isClient$1?window:void 0;isClient$1&&window.document;const defaultNavigator=isClient$1?window.navigator:void 0;isClient$1&&window.location;function useEventListener$1(...t){let e,r,n,o;if(isString$2(t[0])||Array.isArray(t[0])?([r,n,o]=t,e=defaultWindow$1):[e,r,n,o]=t,!e)return noop$4;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],c=()=>{a.forEach(_r=>_r()),a.length=0},u=(_r,Ar,vr,Tr)=>(_r.addEventListener(Ar,vr,Tr),()=>_r.removeEventListener(Ar,vr,Tr)),gr=watch(()=>[unrefElement$1(e),resolveUnref(o)],([_r,Ar])=>{c(),_r&&a.push(...r.flatMap(vr=>n.map(Tr=>u(_r,vr,Tr,Ar))))},{immediate:!0,flush:"post"}),br=()=>{gr(),c()};return tryOnScopeDispose$1(br),br}let _iOSWorkaround=!1;function onClickOutside(t,e,r={}){const{window:n=defaultWindow$1,ignore:o=[],capture:a=!0,detectIframe:c=!1}=r;if(!n)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(n.document.body.children).forEach(vr=>vr.addEventListener("click",noop$4)));let u=!0;const gr=vr=>o.some(Tr=>{if(typeof Tr=="string")return Array.from(n.document.querySelectorAll(Tr)).some(Or=>Or===vr.target||vr.composedPath().includes(Or));{const Or=unrefElement$1(Tr);return Or&&(vr.target===Or||vr.composedPath().includes(Or))}}),_r=[useEventListener$1(n,"click",vr=>{const Tr=unrefElement$1(t);if(!(!Tr||Tr===vr.target||vr.composedPath().includes(Tr))){if(vr.detail===0&&(u=!gr(vr)),!u){u=!0;return}e(vr)}},{passive:!0,capture:a}),useEventListener$1(n,"pointerdown",vr=>{const Tr=unrefElement$1(t);Tr&&(u=!vr.composedPath().includes(Tr)&&!gr(vr))},{passive:!0}),c&&useEventListener$1(n,"blur",vr=>{var Tr;const Or=unrefElement$1(t);((Tr=n.document.activeElement)==null?void 0:Tr.tagName)==="IFRAME"&&!(Or!=null&&Or.contains(n.document.activeElement))&&e(vr)})].filter(Boolean);return()=>_r.forEach(vr=>vr())}const createKeyPredicate=t=>typeof t=="function"?t:typeof t=="string"?e=>e.key===t:Array.isArray(t)?e=>t.includes(e.key):()=>!0;function onKeyStroke(...t){let e,r,n={};t.length===3?(e=t[0],r=t[1],n=t[2]):t.length===2?typeof t[1]=="object"?(e=!0,r=t[0],n=t[1]):(e=t[0],r=t[1]):(e=!0,r=t[0]);const{target:o=defaultWindow$1,eventName:a="keydown",passive:c=!1}=n,u=createKeyPredicate(e);return useEventListener$1(o,a,br=>{u(br)&&r(br)},c)}function useSupported(t,e=!1){const r=ref(),n=()=>r.value=Boolean(t());return n(),tryOnMounted$1(n,e),r}function useClipboard(t={}){const{navigator:e=defaultNavigator,read:r=!1,source:n,copiedDuring:o=1500,legacy:a=!1}=t,c=["copy","cut"],u=useSupported(()=>e&&"clipboard"in e),gr=computed$1(()=>u.value||a),br=ref(""),_r=ref(!1),Ar=useTimeoutFn(()=>_r.value=!1,o);function vr(){u.value?e.clipboard.readText().then(xr=>{br.value=xr}):br.value=Ir()}if(gr.value&&r)for(const xr of c)useEventListener$1(xr,vr);async function Tr(xr=resolveUnref(n)){gr.value&&xr!=null&&(u.value?await e.clipboard.writeText(xr):Or(xr),br.value=xr,_r.value=!0,Ar.start())}function Or(xr){const Lr=document.createElement("textarea");Lr.value=xr??"",Lr.style.position="absolute",Lr.style.opacity="0",document.body.appendChild(Lr),Lr.select(),document.execCommand("copy"),Lr.remove()}function Ir(){var xr,Lr,Fr;return(Fr=(Lr=(xr=document==null?void 0:document.getSelection)==null?void 0:xr.call(document))==null?void 0:Lr.toString())!=null?Fr:""}return{isSupported:gr,text:br,copied:_r,copy:Tr}}const _global$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:{},globalKey$1="__vueuse_ssr_handlers__";_global$2[globalKey$1]=_global$2[globalKey$1]||{};const handlers$1=_global$2[globalKey$1];function getSSRHandler$1(t,e){return handlers$1[t]||e}function guessSerializerType$1(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var __defProp$k=Object.defineProperty,__getOwnPropSymbols$m=Object.getOwnPropertySymbols,__hasOwnProp$m=Object.prototype.hasOwnProperty,__propIsEnum$m=Object.prototype.propertyIsEnumerable,__defNormalProp$k=(t,e,r)=>e in t?__defProp$k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__spreadValues$k=(t,e)=>{for(var r in e||(e={}))__hasOwnProp$m.call(e,r)&&__defNormalProp$k(t,r,e[r]);if(__getOwnPropSymbols$m)for(var r of __getOwnPropSymbols$m(e))__propIsEnum$m.call(e,r)&&__defNormalProp$k(t,r,e[r]);return t};const StorageSerializers$1={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},customStorageEventName$1="vueuse-storage";function useStorage$1(t,e,r,n={}){var o;const{flush:a="pre",deep:c=!0,listenToStorageChanges:u=!0,writeDefaults:gr=!0,mergeDefaults:br=!1,shallow:_r,window:Ar=defaultWindow$1,eventFilter:vr,onError:Tr=qr=>{console.error(qr)}}=n,Or=(_r?shallowRef:ref)(e);if(!r)try{r=getSSRHandler$1("getDefaultStorage",()=>{var qr;return(qr=defaultWindow$1)==null?void 0:qr.localStorage})()}catch(qr){Tr(qr)}if(!r)return Or;const Ir=resolveUnref(e),xr=guessSerializerType$1(Ir),Lr=(o=n.serializer)!=null?o:StorageSerializers$1[xr],{pause:Fr,resume:Mr}=watchPausable$1(Or,()=>Hr(Or.value),{flush:a,deep:c,eventFilter:vr});return Ar&&u&&(useEventListener$1(Ar,"storage",jr),useEventListener$1(Ar,customStorageEventName$1,Kr)),jr(),Or;function Hr(qr){try{if(qr==null)r.removeItem(t);else{const tn=Lr.write(qr),en=r.getItem(t);en!==tn&&(r.setItem(t,tn),Ar&&Ar.dispatchEvent(new CustomEvent(customStorageEventName$1,{detail:{key:t,oldValue:en,newValue:tn,storageArea:r}})))}}catch(tn){Tr(tn)}}function Vr(qr){const tn=qr?qr.newValue:r.getItem(t);if(tn==null)return gr&&Ir!==null&&r.setItem(t,Lr.write(Ir)),Ir;if(!qr&&br){const en=Lr.read(tn);return isFunction$4(br)?br(en,Ir):xr==="object"&&!Array.isArray(en)?__spreadValues$k(__spreadValues$k({},Ir),en):en}else return typeof tn!="string"?tn:Lr.read(tn)}function Kr(qr){jr(qr.detail)}function jr(qr){if(!(qr&&qr.storageArea!==r)){if(qr&&qr.key==null){Or.value=Ir;return}if(!(qr&&qr.key!==t)){Fr();try{Or.value=Vr(qr)}catch(tn){Tr(tn)}finally{qr?nextTick(Mr):Mr()}}}}}function useLocalStorage$1(t,e,r={}){const{window:n=defaultWindow$1}=r;return useStorage$1(t,e,n==null?void 0:n.localStorage,r)}var SwipeDirection;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));function checkOverflowScroll(t){const e=window.getComputedStyle(t);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&t.clientHeight<t.scrollHeight||e.overflowY==="auto"&&t.clientWidth<t.scrollWidth)return!0;{const r=t.parentNode;return!r||r.tagName==="BODY"?!1:checkOverflowScroll(r)}}function preventDefault(t){const e=t||window.event,r=e.target;return checkOverflowScroll(r)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}function useScrollLock(t,e=!1){const r=ref(e);let n=null,o;watch(resolveRef(t),u=>{if(u){const gr=u;o=gr.style.overflow,r.value&&(gr.style.overflow="hidden")}},{immediate:!0});const a=()=>{const u=resolveUnref(t);!u||r.value||(isIOS&&(n=useEventListener$1(u,"touchmove",gr=>{preventDefault(gr)},{passive:!1})),u.style.overflow="hidden",r.value=!0)},c=()=>{const u=resolveUnref(t);!u||!r.value||(isIOS&&(n==null||n()),u.style.overflow=o,r.value=!1)};return tryOnScopeDispose$1(c),computed$1({get(){return r.value},set(u){u?a():c()}})}var __defProp$1=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(t,e,r)=>e in t?__defProp$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__spreadValues=(t,e)=>{for(var r in e||(e={}))__hasOwnProp.call(e,r)&&__defNormalProp$1(t,r,e[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(e))__propIsEnum.call(e,r)&&__defNormalProp$1(t,r,e[r]);return t};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);var __defProp=Object.defineProperty,__defNormalProp=(t,e,r)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,__publicField=(t,e,r)=>(__defNormalProp(t,typeof e!="symbol"?e+"":e,r),r);class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}class WalletNotInitializedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}const SolanaMobileWalletAdapterErrorCode={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND"};class SolanaMobileWalletAdapterError extends Error{constructor(...e){const[r,n,o]=e;super(n),this.code=r,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class SolanaMobileWalletAdapterProtocolError extends Error{constructor(...e){const[r,n,o,a]=e;super(o),this.code=n,this.data=a,this.jsonRpcMessageId=r,this.name="SolanaMobileWalletAdapterProtocolError"}}function __awaiter$2$1(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})}function createHelloReq(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){const r=yield crypto.subtle.exportKey("raw",t),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,r),o=new Uint8Array(r.byteLength+n.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(n),r.byteLength),o})}const SEQUENCE_NUMBER_BYTES=4;function createSequenceNumberVector(t){if(t>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(SEQUENCE_NUMBER_BYTES);return new DataView(e).setUint32(0,t,!1),new Uint8Array(e)}function generateAssociationKeypair(){return __awaiter$2$1(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function generateECDHKeypair(){return __awaiter$2$1(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}const INITIALIZATION_VECTOR_BYTES=12;function encryptJsonRpcMessage(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){const r=JSON.stringify(t),n=createSequenceNumberVector(t.id),o=new Uint8Array(INITIALIZATION_VECTOR_BYTES);crypto.getRandomValues(o);const a=yield crypto.subtle.encrypt(getAlgorithmParams(n,o),e,new TextEncoder().encode(r)),c=new Uint8Array(n.byteLength+o.byteLength+a.byteLength);return c.set(new Uint8Array(n),0),c.set(new Uint8Array(o),n.byteLength),c.set(new Uint8Array(a),n.byteLength+o.byteLength),c})}function decryptJsonRpcMessage(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){const r=t.slice(0,SEQUENCE_NUMBER_BYTES),n=t.slice(SEQUENCE_NUMBER_BYTES,SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),o=t.slice(SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),a=yield crypto.subtle.decrypt(getAlgorithmParams(r,n),e,o),c=getUtf8Decoder().decode(a),u=JSON.parse(c);if(Object.hasOwnProperty.call(u,"error"))throw new SolanaMobileWalletAdapterProtocolError(u.id,u.error.code,u.error.message);return u})}function getAlgorithmParams(t,e){return{additionalData:t,iv:e,name:"AES-GCM",tagLength:128}}let _utf8Decoder;function getUtf8Decoder(){return _utf8Decoder===void 0&&(_utf8Decoder=new TextDecoder("utf-8")),_utf8Decoder}function parseHelloRsp(t,e,r){return __awaiter$2$1(this,void 0,void 0,function*(){const[n,o]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",t,{name:"ECDH",namedCurve:"P-256"},!1,[])]),a=yield crypto.subtle.deriveBits({name:"ECDH",public:o},r,256),c=yield crypto.subtle.importKey("raw",a,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},c,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function getRandomAssociationPort(){return assertAssociationPort(49152+Math.floor(Math.random()*(65535-49152+1)))}function assertAssociationPort(t){if(t<49152||t>65535)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${t} given.`,{port:t});return t}function arrayBufferToBase64String(t){let e="";const r=new Uint8Array(t),n=r.byteLength;for(let o=0;o<n;o++)e+=String.fromCharCode(r[o]);return window.btoa(e)}function getStringWithURLUnsafeCharactersReplaced(t){return t.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const INTENT_NAME="solana-wallet";function getPathParts(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function getIntentURL(t,e){let r=null;if(e){try{r=new URL(e)}catch{}if((r==null?void 0:r.protocol)!=="https:")throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}r||(r=new URL(`${INTENT_NAME}:/`));const n=t.startsWith("/")?t:[...getPathParts(r.pathname),...getPathParts(t)].join("/");return new URL(n,r)}function getAssociateAndroidIntentURL(t,e,r){return __awaiter$2$1(this,void 0,void 0,function*(){const n=assertAssociationPort(e),o=yield crypto.subtle.exportKey("raw",t),a=arrayBufferToBase64String(o),c=getIntentURL("v1/associate/local",r);return c.searchParams.set("association",getStringWithURLUnsafeCharactersReplaced(a)),c.searchParams.set("port",`${n}`),c})}const Browser={Firefox:0,Other:1};function assertUnreachable(t){return t}function getBrowser(){return navigator.userAgent.indexOf("Firefox/")!==-1?Browser.Firefox:Browser.Other}function getDetectionPromise(){return new Promise((t,e)=>{function r(){clearTimeout(o),window.removeEventListener("blur",n)}function n(){r(),t()}window.addEventListener("blur",n);const o=setTimeout(()=>{r(),e()},2e3)})}let _frame=null;function launchUrlThroughHiddenFrame(t){_frame==null&&(_frame=document.createElement("iframe"),_frame.style.display="none",document.body.appendChild(_frame)),_frame.contentWindow.location.href=t.toString()}function startSession(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){const r=getRandomAssociationPort(),n=yield getAssociateAndroidIntentURL(t,r,e);if(n.protocol==="https:")window.location.assign(n);else try{const o=getBrowser();switch(o){case Browser.Firefox:launchUrlThroughHiddenFrame(n);break;case Browser.Other:{const a=getDetectionPromise();window.location.assign(n),yield a;break}default:}}catch{throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return r})}const WEBSOCKET_CONNECTION_CONFIG={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},WEBSOCKET_PROTOCOL="com.solana.mobilewalletadapter.v1";function assertSecureContext(){if(typeof window>"u"||window.isSecureContext!==!0)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function assertSecureEndpointSpecificURI(t){let e;try{e=new URL(t)}catch{throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function getSequenceNumberFromByteArray(t){return new DataView(t).getUint32(0,!1)}function transact$1(t,e){return __awaiter$2$1(this,void 0,void 0,function*(){assertSecureContext();const r=yield generateAssociationKeypair(),n=yield startSession(r.publicKey,e==null?void 0:e.baseUri),o=`ws://localhost:${n}/solana-wallet`;let a;const c=(()=>{const _r=[...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs];return()=>_r.length>1?_r.shift():_r[0]})();let u=1,gr=0,br={__type:"disconnected"};return new Promise((_r,Ar)=>{let vr;const Tr={},Or=()=>__awaiter$2$1(this,void 0,void 0,function*(){if(br.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${br.__type}\`.`);return}const{associationKeypair:Vr}=br;vr.removeEventListener("open",Or);const Kr=yield generateECDHKeypair();vr.send(yield createHelloReq(Kr.publicKey,Vr.privateKey)),br={__type:"hello_req_sent",associationPublicKey:Vr.publicKey,ecdhPrivateKey:Kr.privateKey}}),Ir=Vr=>{Vr.wasClean?br={__type:"disconnected"}:Ar(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${Vr.code}: ${Vr.reason}).`,{closeEvent:Vr})),Fr()},xr=Vr=>__awaiter$2$1(this,void 0,void 0,function*(){Fr(),Date.now()-a>=WEBSOCKET_CONNECTION_CONFIG.timeoutMs?Ar(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${n}.`)):(yield new Promise(Kr=>{const jr=c();Mr=window.setTimeout(Kr,jr)}),Hr())}),Lr=Vr=>__awaiter$2$1(this,void 0,void 0,function*(){const Kr=yield Vr.data.arrayBuffer();switch(br.__type){case"connected":try{const jr=Kr.slice(0,SEQUENCE_NUMBER_BYTES),qr=getSequenceNumberFromByteArray(jr);if(qr!==gr+1)throw new Error("Encrypted message has invalid sequence number");gr=qr;const tn=yield decryptJsonRpcMessage(Kr,br.sharedSecret),en=Tr[tn.id];delete Tr[tn.id],en.resolve(tn.result)}catch(jr){if(jr instanceof SolanaMobileWalletAdapterProtocolError){const qr=Tr[jr.jsonRpcMessageId];delete Tr[jr.jsonRpcMessageId],qr.reject(jr)}else throw jr}break;case"hello_req_sent":{const jr=yield parseHelloRsp(Kr,br.associationPublicKey,br.ecdhPrivateKey);br={__type:"connected",sharedSecret:jr};const qr=new Proxy({},{get(tn,en){if(tn[en]==null){const sn=en.toString().replace(/[A-Z]/g,cn=>`_${cn.toLowerCase()}`).toLowerCase();tn[en]=function(cn){return __awaiter$2$1(this,void 0,void 0,function*(){const Ur=u++;return vr.send(yield encryptJsonRpcMessage({id:Ur,jsonrpc:"2.0",method:sn,params:cn??{}},jr)),new Promise((Rr,Pr)=>{Tr[Ur]={resolve(Dr){switch(en){case"authorize":case"reauthorize":{const{wallet_uri_base:Yr}=Dr;if(Yr!=null)try{assertSecureEndpointSpecificURI(Yr)}catch(Zr){Pr(Zr);return}break}}Rr(Dr)},reject:Pr}})})}}return tn[en]},defineProperty(){return!1},deleteProperty(){return!1}});try{_r(yield t(qr))}catch(tn){Ar(tn)}finally{Fr(),vr.close()}break}}});let Fr,Mr;const Hr=()=>{Fr&&Fr(),br={__type:"connecting",associationKeypair:r},a===void 0&&(a=Date.now()),vr=new WebSocket(o,[WEBSOCKET_PROTOCOL]),vr.addEventListener("open",Or),vr.addEventListener("close",Ir),vr.addEventListener("error",xr),vr.addEventListener("message",Lr),Fr=()=>{window.clearTimeout(Mr),vr.removeEventListener("open",Or),vr.removeEventListener("close",Ir),vr.removeEventListener("error",xr),vr.removeEventListener("message",Lr)}};Hr()})})}function base$1(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=n}var c=t.length,u=t.charAt(0),gr=Math.log(c)/Math.log(256),br=Math.log(256)/Math.log(c);function _r(Tr){if(Tr instanceof Uint8Array||(ArrayBuffer.isView(Tr)?Tr=new Uint8Array(Tr.buffer,Tr.byteOffset,Tr.byteLength):Array.isArray(Tr)&&(Tr=Uint8Array.from(Tr))),!(Tr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Tr.length===0)return"";for(var Or=0,Ir=0,xr=0,Lr=Tr.length;xr!==Lr&&Tr[xr]===0;)xr++,Or++;for(var Fr=(Lr-xr)*br+1>>>0,Mr=new Uint8Array(Fr);xr!==Lr;){for(var Hr=Tr[xr],Vr=0,Kr=Fr-1;(Hr!==0||Vr<Ir)&&Kr!==-1;Kr--,Vr++)Hr+=256*Mr[Kr]>>>0,Mr[Kr]=Hr%c>>>0,Hr=Hr/c>>>0;if(Hr!==0)throw new Error("Non-zero carry");Ir=Vr,xr++}for(var jr=Fr-Ir;jr!==Fr&&Mr[jr]===0;)jr++;for(var qr=u.repeat(Or);jr<Fr;++jr)qr+=t.charAt(Mr[jr]);return qr}function Ar(Tr){if(typeof Tr!="string")throw new TypeError("Expected String");if(Tr.length===0)return new Uint8Array;for(var Or=0,Ir=0,xr=0;Tr[Or]===u;)Ir++,Or++;for(var Lr=(Tr.length-Or)*gr+1>>>0,Fr=new Uint8Array(Lr);Tr[Or];){var Mr=e[Tr.charCodeAt(Or)];if(Mr===255)return;for(var Hr=0,Vr=Lr-1;(Mr!==0||Hr<xr)&&Vr!==-1;Vr--,Hr++)Mr+=c*Fr[Vr]>>>0,Fr[Vr]=Mr%256>>>0,Mr=Mr/256>>>0;if(Mr!==0)throw new Error("Non-zero carry");xr=Hr,Or++}for(var Kr=Lr-xr;Kr!==Lr&&Fr[Kr]===0;)Kr++;for(var jr=new Uint8Array(Ir+(Lr-Kr)),qr=Ir;Kr!==Lr;)jr[qr++]=Fr[Kr++];return jr}function vr(Tr){var Or=Ar(Tr);if(Or)return Or;throw new Error("Non-base"+c+" character")}return{encode:_r,decodeUnsafe:Ar,decode:vr}}var src$1$1=base$1;const basex$1=src$1$1,ALPHABET$1$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58$1=basex$1(ALPHABET$1$1);function __rest(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}function __awaiter$1$1(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})}function fromUint8Array(t){return window.btoa(String.fromCharCode.call(null,...t))}function toUint8Array$1(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function getPayloadFromTransaction(t){const e="version"in t?t.serialize():t.serialize({requireAllSignatures:!1,verifySignatures:!1});return fromUint8Array(e)}function getTransactionFromWireMessage(t){const r=t[0]*SIGNATURE_LENGTH_IN_BYTES$4+1;return VersionedMessage$1.deserializeMessageVersion(t.slice(r,t.length))==="legacy"?Transaction$3.from(t):VersionedTransaction$1.deserialize(t)}function transact(t,e){return __awaiter$1$1(this,void 0,void 0,function*(){return yield transact$1(n=>{const o=new Proxy({},{get(a,c){if(a[c]==null)switch(c){case"signAndSendTransactions":a[c]=function(u){var{minContextSlot:gr,transactions:br}=u,_r=__rest(u,["minContextSlot","transactions"]);return __awaiter$1$1(this,void 0,void 0,function*(){const Ar=br.map(getPayloadFromTransaction),{signatures:vr}=yield n.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},_r),gr!=null?{options:{min_context_slot:gr}}:null),{payloads:Ar}));return vr.map(toUint8Array$1).map(bs58$1.encode)})};break;case"signMessages":a[c]=function(u){var{payloads:gr}=u,br=__rest(u,["payloads"]);return __awaiter$1$1(this,void 0,void 0,function*(){const _r=gr.map(fromUint8Array),{signed_payloads:Ar}=yield n.signMessages(Object.assign(Object.assign({},br),{payloads:_r}));return Ar.map(toUint8Array$1)})};break;case"signTransactions":a[c]=function(u){var{transactions:gr}=u,br=__rest(u,["transactions"]);return __awaiter$1$1(this,void 0,void 0,function*(){const _r=gr.map(getPayloadFromTransaction),{signed_payloads:Ar}=yield n.signTransactions(Object.assign(Object.assign({},br),{payloads:_r}));return Ar.map(toUint8Array$1).map(getTransactionFromWireMessage)})};break;default:{a[c]=n[c];break}}return a[c]},defineProperty(){return!1},deleteProperty(){return!1}});return t(o)},e)})}function __awaiter$z(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})}function toUint8Array(t){return new Uint8Array(window.atob(t).split("").map(e=>e.charCodeAt(0)))}function getIsSupported(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const SolanaMobileWalletAdapterWalletName="Mobile Wallet Adapter",SIGNATURE_LENGTH_IN_BYTES$3=64;function getPublicKeyFromAddress(t){const e=toUint8Array(t);return new PublicKey$3(e)}function isVersionedTransaction$1(t){return"version"in t}class SolanaMobileWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(e){super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=SolanaMobileWalletAdapterWalletName,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=getIsSupported()?WalletReadyState.Loadable:WalletReadyState.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._cluster=e.cluster,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==WalletReadyState.Unsupported&&this._authorizationResultCache.get().then(r=>{r&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=getPublicKeyFromAddress(this._selectedAddress)}catch(e){throw new WalletPublicKeyError(e instanceof Error&&(e==null?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==WalletReadyState.Installed&&this.emit("readyStateChange",this._readyState=WalletReadyState.Installed)}runWithGuard(e){return __awaiter$z(this,void 0,void 0,function*(){try{return yield e()}catch(r){throw this.emit("error",r),r}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return __awaiter$z(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return __awaiter$z(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){if(this._readyState!==WalletReadyState.Installed&&this._readyState!==WalletReadyState.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}connect(){return __awaiter$z(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){if(this._readyState!==WalletReadyState.Installed&&this._readyState!==WalletReadyState.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();if(e){this.handleAuthorizationResult(e);return}yield this.transact(r=>__awaiter$z(this,void 0,void 0,function*(){const n=yield r.authorize({cluster:this._cluster,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}))}catch(e){throw new WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}handleAuthorizationResult(e){var r;return __awaiter$z(this,void 0,void 0,function*(){const n=this._authorizationResult==null||((r=this._authorizationResult)===null||r===void 0?void 0:r.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some((o,a)=>o.address!==e.accounts[a].address);if(this._authorizationResult=e,this.declareWalletAsInstalled(),n){const o=yield this._addressSelector.select(e.accounts.map(({address:a})=>a));o!==this._selectedAddress&&(this._selectedAddress=o,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(e,r){return __awaiter$z(this,void 0,void 0,function*(){try{const n=yield e.reauthorize({auth_token:r});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new WalletDisconnectedError(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}})}disconnect(){return __awaiter$z(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(e){var r;return __awaiter$z(this,void 0,void 0,function*(){const n=(r=this._authorizationResult)===null||r===void 0?void 0:r.wallet_uri_base,o=n?{baseUri:n}:void 0,a=this._connectionGeneration;try{return yield transact(e,o)}catch(c){throw this._connectionGeneration!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),c}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new WalletNotConnectedError;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return __awaiter$z(this,void 0,void 0,function*(){const{authToken:r}=this.assertIsAuthorized();try{return yield this.transact(n=>__awaiter$z(this,void 0,void 0,function*(){return yield this.performReauthorization(n,r),yield n.signTransactions({transactions:e})}))}catch(n){throw new WalletSignTransactionError(n==null?void 0:n.message,n)}})}sendTransaction(e,r,n){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){const{authToken:o}=this.assertIsAuthorized(),a=n==null?void 0:n.minContextSlot;try{return yield this.transact(c=>__awaiter$z(this,void 0,void 0,function*(){function u(){let Ar;switch(r.commitment){case"confirmed":case"finalized":case"processed":Ar=r.commitment;break;default:Ar="finalized"}let vr;switch(n==null?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":vr=n.preflightCommitment;break;case void 0:vr=Ar;default:vr="finalized"}return(vr==="finalized"?2:vr==="confirmed"?1:0)<(Ar==="finalized"?2:Ar==="confirmed"?1:0)?vr:Ar}const[gr,br,_r]=yield Promise.all([c.getCapabilities(),this.performReauthorization(c,o),isVersionedTransaction$1(e)?null:(()=>__awaiter$z(this,void 0,void 0,function*(){var Ar;if(e.feePayer||(e.feePayer=(Ar=this.publicKey)!==null&&Ar!==void 0?Ar:void 0),e.recentBlockhash==null){const{blockhash:vr}=yield r.getLatestBlockhash({commitment:u()});e.recentBlockhash=vr}}))()]);if(gr.supports_sign_and_send_transactions)return(yield c.signAndSendTransactions({minContextSlot:a,transactions:[e]}))[0];{const[Ar]=yield c.signTransactions({transactions:[e]});if(isVersionedTransaction$1(Ar))return yield r.sendTransaction(Ar);{const vr=Ar.serialize();return yield r.sendRawTransaction(vr,Object.assign(Object.assign({},n),{preflightCommitment:u()}))}}}))}catch(c){throw new WalletSendTransactionError(c==null?void 0:c.message,c)}}))})}signTransaction(e){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){const[r]=yield this.performSignTransactions([e]);return r}))})}signAllTransactions(e){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){return yield this.performSignTransactions(e)}))})}signMessage(e){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){const{authToken:r,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact(o=>__awaiter$z(this,void 0,void 0,function*(){yield this.performReauthorization(o,r);const[a]=yield o.signMessages({addresses:[n],payloads:[e]});return a.slice(-SIGNATURE_LENGTH_IN_BYTES$3)}))}catch(o){throw new WalletSignMessageError(o==null?void 0:o.message,o)}}))})}}function createDefaultAddressSelector(){return{select(t){return __awaiter$z(this,void 0,void 0,function*(){return t[0]})}}}const CACHE_KEY="SolanaMobileWalletAdapterDefaultAuthorizationCache";function createDefaultAuthorizationResultCache(){let t;try{t=window.localStorage}catch{}return{clear(){return __awaiter$z(this,void 0,void 0,function*(){if(!!t)try{t.removeItem(CACHE_KEY)}catch{}})},get(){return __awaiter$z(this,void 0,void 0,function*(){if(!!t)try{return JSON.parse(t.getItem(CACHE_KEY))||void 0}catch{}})},set(e){return __awaiter$z(this,void 0,void 0,function*(){if(!!t)try{t.setItem(CACHE_KEY,JSON.stringify(e))}catch{}})}}}function defaultWalletNotFoundHandler(t){return __awaiter$z(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(t.url)})}function createDefaultWalletNotFoundHandler(){return defaultWalletNotFoundHandler}function useAdapterListeners(t,e,r,n,o,a){watch(t,(c,u)=>{const gr=c==null?void 0:c.adapter,br=u==null?void 0:u.adapter;!gr||!br||gr.name!==br.name&&br.name!==SolanaMobileWalletAdapterWalletName&&br.disconnect()}),watchEffect(c=>{var u;const gr=(u=t.value)==null?void 0:u.adapter;if(!gr)return;const br=()=>{o()},_r=()=>{e.value||r.value||n(!0)},Ar=vr=>a(vr,gr);gr.on("connect",br),gr.on("disconnect",_r),gr.on("error",Ar),c(()=>{gr.off("connect",br),gr.off("disconnect",_r),gr.off("error",Ar)})})}function useAutoConnect(t,e,r,n,o,a,c){const u=ref(t),gr=ref(!1);return watch(e,()=>{gr.value=!1}),watchEffect(()=>{gr.value||!u.value||!e.value||!a.value||o.value||n.value||(async()=>{if(!!e.value){n.value=!0,gr.value=!0;try{r.value?await e.value.adapter.autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED():await e.value.adapter.connect()}catch{c()}finally{n.value=!1}}})()}),u}function useEnvironment(t){const e=getUserAgent(),r=getUriForAppIdentity(),n=computed$1(()=>getEnvironment(t.value,e)),o=computed$1(()=>n.value===1);return{userAgent:e,uriForAppIdentity:r,environment:n,isMobile:o}}let _userAgent;function getUserAgent(){var t,e;return _userAgent===void 0&&(_userAgent=(e=(t=globalThis.navigator)==null?void 0:t.userAgent)!=null?e:null),_userAgent}function getUriForAppIdentity(){const t=globalThis.location;return t==null?null:`${t.protocol}//${t.host}`}function getEnvironment(t,e){return t.some(o=>o.name!==SolanaMobileWalletAdapterWalletName&&o.readyState===WalletReadyState.Installed)?0:e&&isOsThatSupportsMwa(e)&&!isWebView(e)?1:0}function isOsThatSupportsMwa(t){return/android/i.test(t)}function isWebView(t){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(t)}function useErrorHandler(t,e){return(r,n)=>t.value?r:e?(e(r,n),r):(console.error(r,n),r instanceof WalletNotReadyError&&typeof window<"u"&&n&&window.open(n.url,"_blank"),r)}function useMobileWalletAdapters(t,e,r,n){const o=computed$1(()=>{if(!e.value)return null;const a=t.value.find(c=>c.name===SolanaMobileWalletAdapterWalletName);return a||new SolanaMobileWalletAdapter({addressSelector:createDefaultAddressSelector(),appIdentity:{uri:r||void 0},authorizationResultCache:createDefaultAuthorizationResultCache(),cluster:n.value,onWalletNotFound:createDefaultWalletNotFoundHandler()})});return computed$1(()=>o.value==null||t.value.indexOf(o.value)!==-1?t.value:[o.value,...t.value])}function useReadyStateListeners(t){watchEffect(e=>{function r(n){const o=t.value,a=o.findIndex(({adapter:c})=>c===this);a!==-1&&(t.value=[...o.slice(0,a),{adapter:this,readyState:n},...o.slice(a+1)])}t.value.forEach(({adapter:n})=>n.on("readyStateChange",r,n)),e(()=>t.value.forEach(({adapter:n})=>n.off("readyStateChange",r,n)))})}function useSelectWalletName(t,e){const r=useLocalStorage$1(t,e.value?SolanaMobileWalletAdapterWalletName:null),n=computed$1(()=>r.value===SolanaMobileWalletAdapterWalletName),o=computed$1(()=>n.value&&e.value);return{name:r,isUsingMwaAdapter:n,isUsingMwaAdapterOnMobile:o,select:u=>{r.value!==u&&(r.value=u)},deselect:(u=!0)=>{(u||n.value)&&(r.value=null)}}}function getCommitment(t){switch(t){case"processed":case"confirmed":case"finalized":case void 0:return t;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const SOLANA_MAINNET_CHAIN="solana:mainnet",SOLANA_DEVNET_CHAIN="solana:devnet",SOLANA_TESTNET_CHAIN="solana:testnet",SOLANA_LOCALNET_CHAIN="solana:localnet",MAINNET_ENDPOINT="https://api.mainnet-beta.solana.com";function getChainForEndpoint(t){return t.includes(MAINNET_ENDPOINT)?SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(t)?SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(t)?SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(t)||/\b127\.0\.0\.1\b/.test(t)?SOLANA_LOCALNET_CHAIN:SOLANA_MAINNET_CHAIN}function arraysEqual(t,e){if(t===e)return!0;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}var safeBuffer={exports:{}},buffer$1={},base64Js$1={};base64Js$1.byteLength=byteLength$1;base64Js$1.toByteArray=toByteArray$1;base64Js$1.fromByteArray=fromByteArray$1;var lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len$1=code$1.length;i$1<len$1;++i$1)lookup$1[i$1]=code$1[i$1],revLookup$1[code$1.charCodeAt(i$1)]=i$1;revLookup$1["-".charCodeAt(0)]=62;revLookup$1["_".charCodeAt(0)]=63;function getLens$1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength$1(t){var e=getLens$1(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength$1(t,e,r){return(e+r)*3/4-r}function toByteArray$1(t){var e,r=getLens$1(t),n=r[0],o=r[1],a=new Arr$1(_byteLength$1(t,n,o)),c=0,u=o>0?n-4:n,gr;for(gr=0;gr<u;gr+=4)e=revLookup$1[t.charCodeAt(gr)]<<18|revLookup$1[t.charCodeAt(gr+1)]<<12|revLookup$1[t.charCodeAt(gr+2)]<<6|revLookup$1[t.charCodeAt(gr+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=e&255;return o===2&&(e=revLookup$1[t.charCodeAt(gr)]<<2|revLookup$1[t.charCodeAt(gr+1)]>>4,a[c++]=e&255),o===1&&(e=revLookup$1[t.charCodeAt(gr)]<<10|revLookup$1[t.charCodeAt(gr+1)]<<4|revLookup$1[t.charCodeAt(gr+2)]>>2,a[c++]=e>>8&255,a[c++]=e&255),a}function tripletToBase64$1(t){return lookup$1[t>>18&63]+lookup$1[t>>12&63]+lookup$1[t>>6&63]+lookup$1[t&63]}function encodeChunk$1(t,e,r){for(var n,o=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),o.push(tripletToBase64$1(n));return o.join("")}function fromByteArray$1(t){for(var e,r=t.length,n=r%3,o=[],a=16383,c=0,u=r-n;c<u;c+=a)o.push(encodeChunk$1(t,c,c+a>u?u:c+a));return n===1?(e=t[r-1],o.push(lookup$1[e>>2]+lookup$1[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup$1[e>>10]+lookup$1[e>>4&63]+lookup$1[e<<2&63]+"=")),o.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(t,e,r,n,o){var a,c,u=o*8-n-1,gr=(1<<u)-1,br=gr>>1,_r=-7,Ar=r?o-1:0,vr=r?-1:1,Tr=t[e+Ar];for(Ar+=vr,a=Tr&(1<<-_r)-1,Tr>>=-_r,_r+=u;_r>0;a=a*256+t[e+Ar],Ar+=vr,_r-=8);for(c=a&(1<<-_r)-1,a>>=-_r,_r+=n;_r>0;c=c*256+t[e+Ar],Ar+=vr,_r-=8);if(a===0)a=1-br;else{if(a===gr)return c?NaN:(Tr?-1:1)*(1/0);c=c+Math.pow(2,n),a=a-br}return(Tr?-1:1)*c*Math.pow(2,a-n)};ieee754$1.write=function(t,e,r,n,o,a){var c,u,gr,br=a*8-o-1,_r=(1<<br)-1,Ar=_r>>1,vr=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tr=n?0:a-1,Or=n?1:-1,Ir=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=_r):(c=Math.floor(Math.log(e)/Math.LN2),e*(gr=Math.pow(2,-c))<1&&(c--,gr*=2),c+Ar>=1?e+=vr/gr:e+=vr*Math.pow(2,1-Ar),e*gr>=2&&(c++,gr/=2),c+Ar>=_r?(u=0,c=_r):c+Ar>=1?(u=(e*gr-1)*Math.pow(2,o),c=c+Ar):(u=e*Math.pow(2,Ar-1)*Math.pow(2,o),c=0));o>=8;t[r+Tr]=u&255,Tr+=Or,u/=256,o-=8);for(c=c<<o|u,br+=o;br>0;t[r+Tr]=c&255,Tr+=Or,c/=256,br-=8);t[r+Tr-Or]|=Ir*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js$1,r=ieee754$1,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=Fr,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const kr=new Uint8Array(1),Sr={foo:function(){return 42}};return Object.setPrototypeOf(Sr,Uint8Array.prototype),Object.setPrototypeOf(kr,Sr),kr.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(kr){if(kr>o)throw new RangeError('The value "'+kr+'" is invalid for option "size"');const Sr=new Uint8Array(kr);return Object.setPrototypeOf(Sr,u.prototype),Sr}function u(kr,Sr,wr){if(typeof kr=="number"){if(typeof Sr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ar(kr)}return gr(kr,Sr,wr)}u.poolSize=8192;function gr(kr,Sr,wr){if(typeof kr=="string")return vr(kr,Sr);if(ArrayBuffer.isView(kr))return Or(kr);if(kr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof kr);if(jn(kr,ArrayBuffer)||kr&&jn(kr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(jn(kr,SharedArrayBuffer)||kr&&jn(kr.buffer,SharedArrayBuffer)))return Ir(kr,Sr,wr);if(typeof kr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Br=kr.valueOf&&kr.valueOf();if(Br!=null&&Br!==kr)return u.from(Br,Sr,wr);const Wr=xr(kr);if(Wr)return Wr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof kr[Symbol.toPrimitive]=="function")return u.from(kr[Symbol.toPrimitive]("string"),Sr,wr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof kr)}u.from=function(kr,Sr,wr){return gr(kr,Sr,wr)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function br(kr){if(typeof kr!="number")throw new TypeError('"size" argument must be of type number');if(kr<0)throw new RangeError('The value "'+kr+'" is invalid for option "size"')}function _r(kr,Sr,wr){return br(kr),kr<=0?c(kr):Sr!==void 0?typeof wr=="string"?c(kr).fill(Sr,wr):c(kr).fill(Sr):c(kr)}u.alloc=function(kr,Sr,wr){return _r(kr,Sr,wr)};function Ar(kr){return br(kr),c(kr<0?0:Lr(kr)|0)}u.allocUnsafe=function(kr){return Ar(kr)},u.allocUnsafeSlow=function(kr){return Ar(kr)};function vr(kr,Sr){if((typeof Sr!="string"||Sr==="")&&(Sr="utf8"),!u.isEncoding(Sr))throw new TypeError("Unknown encoding: "+Sr);const wr=Mr(kr,Sr)|0;let Br=c(wr);const Wr=Br.write(kr,Sr);return Wr!==wr&&(Br=Br.slice(0,Wr)),Br}function Tr(kr){const Sr=kr.length<0?0:Lr(kr.length)|0,wr=c(Sr);for(let Br=0;Br<Sr;Br+=1)wr[Br]=kr[Br]&255;return wr}function Or(kr){if(jn(kr,Uint8Array)){const Sr=new Uint8Array(kr);return Ir(Sr.buffer,Sr.byteOffset,Sr.byteLength)}return Tr(kr)}function Ir(kr,Sr,wr){if(Sr<0||kr.byteLength<Sr)throw new RangeError('"offset" is outside of buffer bounds');if(kr.byteLength<Sr+(wr||0))throw new RangeError('"length" is outside of buffer bounds');let Br;return Sr===void 0&&wr===void 0?Br=new Uint8Array(kr):wr===void 0?Br=new Uint8Array(kr,Sr):Br=new Uint8Array(kr,Sr,wr),Object.setPrototypeOf(Br,u.prototype),Br}function xr(kr){if(u.isBuffer(kr)){const Sr=Lr(kr.length)|0,wr=c(Sr);return wr.length===0||kr.copy(wr,0,0,Sr),wr}if(kr.length!==void 0)return typeof kr.length!="number"||Hn(kr.length)?c(0):Tr(kr);if(kr.type==="Buffer"&&Array.isArray(kr.data))return Tr(kr.data)}function Lr(kr){if(kr>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return kr|0}function Fr(kr){return+kr!=kr&&(kr=0),u.alloc(+kr)}u.isBuffer=function(Sr){return Sr!=null&&Sr._isBuffer===!0&&Sr!==u.prototype},u.compare=function(Sr,wr){if(jn(Sr,Uint8Array)&&(Sr=u.from(Sr,Sr.offset,Sr.byteLength)),jn(wr,Uint8Array)&&(wr=u.from(wr,wr.offset,wr.byteLength)),!u.isBuffer(Sr)||!u.isBuffer(wr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Sr===wr)return 0;let Br=Sr.length,Wr=wr.length;for(let Qr=0,an=Math.min(Br,Wr);Qr<an;++Qr)if(Sr[Qr]!==wr[Qr]){Br=Sr[Qr],Wr=wr[Qr];break}return Br<Wr?-1:Wr<Br?1:0},u.isEncoding=function(Sr){switch(String(Sr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(Sr,wr){if(!Array.isArray(Sr))throw new TypeError('"list" argument must be an Array of Buffers');if(Sr.length===0)return u.alloc(0);let Br;if(wr===void 0)for(wr=0,Br=0;Br<Sr.length;++Br)wr+=Sr[Br].length;const Wr=u.allocUnsafe(wr);let Qr=0;for(Br=0;Br<Sr.length;++Br){let an=Sr[Br];if(jn(an,Uint8Array))Qr+an.length>Wr.length?(u.isBuffer(an)||(an=u.from(an)),an.copy(Wr,Qr)):Uint8Array.prototype.set.call(Wr,an,Qr);else if(u.isBuffer(an))an.copy(Wr,Qr);else throw new TypeError('"list" argument must be an Array of Buffers');Qr+=an.length}return Wr};function Mr(kr,Sr){if(u.isBuffer(kr))return kr.length;if(ArrayBuffer.isView(kr)||jn(kr,ArrayBuffer))return kr.byteLength;if(typeof kr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof kr);const wr=kr.length,Br=arguments.length>2&&arguments[2]===!0;if(!Br&&wr===0)return 0;let Wr=!1;for(;;)switch(Sr){case"ascii":case"latin1":case"binary":return wr;case"utf8":case"utf-8":return kn(kr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wr*2;case"hex":return wr>>>1;case"base64":return Bn(kr).length;default:if(Wr)return Br?-1:kn(kr).length;Sr=(""+Sr).toLowerCase(),Wr=!0}}u.byteLength=Mr;function Hr(kr,Sr,wr){let Br=!1;if((Sr===void 0||Sr<0)&&(Sr=0),Sr>this.length||((wr===void 0||wr>this.length)&&(wr=this.length),wr<=0)||(wr>>>=0,Sr>>>=0,wr<=Sr))return"";for(kr||(kr="utf8");;)switch(kr){case"hex":return Xr(this,Sr,wr);case"utf8":case"utf-8":return Rr(this,Sr,wr);case"ascii":return Yr(this,Sr,wr);case"latin1":case"binary":return Zr(this,Sr,wr);case"base64":return Ur(this,Sr,wr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nn(this,Sr,wr);default:if(Br)throw new TypeError("Unknown encoding: "+kr);kr=(kr+"").toLowerCase(),Br=!0}}u.prototype._isBuffer=!0;function Vr(kr,Sr,wr){const Br=kr[Sr];kr[Sr]=kr[wr],kr[wr]=Br}u.prototype.swap16=function(){const Sr=this.length;if(Sr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let wr=0;wr<Sr;wr+=2)Vr(this,wr,wr+1);return this},u.prototype.swap32=function(){const Sr=this.length;if(Sr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let wr=0;wr<Sr;wr+=4)Vr(this,wr,wr+3),Vr(this,wr+1,wr+2);return this},u.prototype.swap64=function(){const Sr=this.length;if(Sr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let wr=0;wr<Sr;wr+=8)Vr(this,wr,wr+7),Vr(this,wr+1,wr+6),Vr(this,wr+2,wr+5),Vr(this,wr+3,wr+4);return this},u.prototype.toString=function(){const Sr=this.length;return Sr===0?"":arguments.length===0?Rr(this,0,Sr):Hr.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(Sr){if(!u.isBuffer(Sr))throw new TypeError("Argument must be a Buffer");return this===Sr?!0:u.compare(this,Sr)===0},u.prototype.inspect=function(){let Sr="";const wr=t.INSPECT_MAX_BYTES;return Sr=this.toString("hex",0,wr).replace(/(.{2})/g,"$1 ").trim(),this.length>wr&&(Sr+=" ... "),"<Buffer "+Sr+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(Sr,wr,Br,Wr,Qr){if(jn(Sr,Uint8Array)&&(Sr=u.from(Sr,Sr.offset,Sr.byteLength)),!u.isBuffer(Sr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Sr);if(wr===void 0&&(wr=0),Br===void 0&&(Br=Sr?Sr.length:0),Wr===void 0&&(Wr=0),Qr===void 0&&(Qr=this.length),wr<0||Br>Sr.length||Wr<0||Qr>this.length)throw new RangeError("out of range index");if(Wr>=Qr&&wr>=Br)return 0;if(Wr>=Qr)return-1;if(wr>=Br)return 1;if(wr>>>=0,Br>>>=0,Wr>>>=0,Qr>>>=0,this===Sr)return 0;let an=Qr-Wr,Pn=Br-wr;const Fn=Math.min(an,Pn),Dn=this.slice(Wr,Qr),Gn=Sr.slice(wr,Br);for(let Kn=0;Kn<Fn;++Kn)if(Dn[Kn]!==Gn[Kn]){an=Dn[Kn],Pn=Gn[Kn];break}return an<Pn?-1:Pn<an?1:0};function Kr(kr,Sr,wr,Br,Wr){if(kr.length===0)return-1;if(typeof wr=="string"?(Br=wr,wr=0):wr>2147483647?wr=2147483647:wr<-2147483648&&(wr=-2147483648),wr=+wr,Hn(wr)&&(wr=Wr?0:kr.length-1),wr<0&&(wr=kr.length+wr),wr>=kr.length){if(Wr)return-1;wr=kr.length-1}else if(wr<0)if(Wr)wr=0;else return-1;if(typeof Sr=="string"&&(Sr=u.from(Sr,Br)),u.isBuffer(Sr))return Sr.length===0?-1:jr(kr,Sr,wr,Br,Wr);if(typeof Sr=="number")return Sr=Sr&255,typeof Uint8Array.prototype.indexOf=="function"?Wr?Uint8Array.prototype.indexOf.call(kr,Sr,wr):Uint8Array.prototype.lastIndexOf.call(kr,Sr,wr):jr(kr,[Sr],wr,Br,Wr);throw new TypeError("val must be string, number or Buffer")}function jr(kr,Sr,wr,Br,Wr){let Qr=1,an=kr.length,Pn=Sr.length;if(Br!==void 0&&(Br=String(Br).toLowerCase(),Br==="ucs2"||Br==="ucs-2"||Br==="utf16le"||Br==="utf-16le")){if(kr.length<2||Sr.length<2)return-1;Qr=2,an/=2,Pn/=2,wr/=2}function Fn(Gn,Kn){return Qr===1?Gn[Kn]:Gn.readUInt16BE(Kn*Qr)}let Dn;if(Wr){let Gn=-1;for(Dn=wr;Dn<an;Dn++)if(Fn(kr,Dn)===Fn(Sr,Gn===-1?0:Dn-Gn)){if(Gn===-1&&(Gn=Dn),Dn-Gn+1===Pn)return Gn*Qr}else Gn!==-1&&(Dn-=Dn-Gn),Gn=-1}else for(wr+Pn>an&&(wr=an-Pn),Dn=wr;Dn>=0;Dn--){let Gn=!0;for(let Kn=0;Kn<Pn;Kn++)if(Fn(kr,Dn+Kn)!==Fn(Sr,Kn)){Gn=!1;break}if(Gn)return Dn}return-1}u.prototype.includes=function(Sr,wr,Br){return this.indexOf(Sr,wr,Br)!==-1},u.prototype.indexOf=function(Sr,wr,Br){return Kr(this,Sr,wr,Br,!0)},u.prototype.lastIndexOf=function(Sr,wr,Br){return Kr(this,Sr,wr,Br,!1)};function qr(kr,Sr,wr,Br){wr=Number(wr)||0;const Wr=kr.length-wr;Br?(Br=Number(Br),Br>Wr&&(Br=Wr)):Br=Wr;const Qr=Sr.length;Br>Qr/2&&(Br=Qr/2);let an;for(an=0;an<Br;++an){const Pn=parseInt(Sr.substr(an*2,2),16);if(Hn(Pn))return an;kr[wr+an]=Pn}return an}function tn(kr,Sr,wr,Br){return Tn(kn(Sr,kr.length-wr),kr,wr,Br)}function en(kr,Sr,wr,Br){return Tn(Un(Sr),kr,wr,Br)}function sn(kr,Sr,wr,Br){return Tn(Bn(Sr),kr,wr,Br)}function cn(kr,Sr,wr,Br){return Tn(Sn(Sr,kr.length-wr),kr,wr,Br)}u.prototype.write=function(Sr,wr,Br,Wr){if(wr===void 0)Wr="utf8",Br=this.length,wr=0;else if(Br===void 0&&typeof wr=="string")Wr=wr,Br=this.length,wr=0;else if(isFinite(wr))wr=wr>>>0,isFinite(Br)?(Br=Br>>>0,Wr===void 0&&(Wr="utf8")):(Wr=Br,Br=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Qr=this.length-wr;if((Br===void 0||Br>Qr)&&(Br=Qr),Sr.length>0&&(Br<0||wr<0)||wr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Wr||(Wr="utf8");let an=!1;for(;;)switch(Wr){case"hex":return qr(this,Sr,wr,Br);case"utf8":case"utf-8":return tn(this,Sr,wr,Br);case"ascii":case"latin1":case"binary":return en(this,Sr,wr,Br);case"base64":return sn(this,Sr,wr,Br);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cn(this,Sr,wr,Br);default:if(an)throw new TypeError("Unknown encoding: "+Wr);Wr=(""+Wr).toLowerCase(),an=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ur(kr,Sr,wr){return Sr===0&&wr===kr.length?e.fromByteArray(kr):e.fromByteArray(kr.slice(Sr,wr))}function Rr(kr,Sr,wr){wr=Math.min(kr.length,wr);const Br=[];let Wr=Sr;for(;Wr<wr;){const Qr=kr[Wr];let an=null,Pn=Qr>239?4:Qr>223?3:Qr>191?2:1;if(Wr+Pn<=wr){let Fn,Dn,Gn,Kn;switch(Pn){case 1:Qr<128&&(an=Qr);break;case 2:Fn=kr[Wr+1],(Fn&192)===128&&(Kn=(Qr&31)<<6|Fn&63,Kn>127&&(an=Kn));break;case 3:Fn=kr[Wr+1],Dn=kr[Wr+2],(Fn&192)===128&&(Dn&192)===128&&(Kn=(Qr&15)<<12|(Fn&63)<<6|Dn&63,Kn>2047&&(Kn<55296||Kn>57343)&&(an=Kn));break;case 4:Fn=kr[Wr+1],Dn=kr[Wr+2],Gn=kr[Wr+3],(Fn&192)===128&&(Dn&192)===128&&(Gn&192)===128&&(Kn=(Qr&15)<<18|(Fn&63)<<12|(Dn&63)<<6|Gn&63,Kn>65535&&Kn<1114112&&(an=Kn))}}an===null?(an=65533,Pn=1):an>65535&&(an-=65536,Br.push(an>>>10&1023|55296),an=56320|an&1023),Br.push(an),Wr+=Pn}return Dr(Br)}const Pr=4096;function Dr(kr){const Sr=kr.length;if(Sr<=Pr)return String.fromCharCode.apply(String,kr);let wr="",Br=0;for(;Br<Sr;)wr+=String.fromCharCode.apply(String,kr.slice(Br,Br+=Pr));return wr}function Yr(kr,Sr,wr){let Br="";wr=Math.min(kr.length,wr);for(let Wr=Sr;Wr<wr;++Wr)Br+=String.fromCharCode(kr[Wr]&127);return Br}function Zr(kr,Sr,wr){let Br="";wr=Math.min(kr.length,wr);for(let Wr=Sr;Wr<wr;++Wr)Br+=String.fromCharCode(kr[Wr]);return Br}function Xr(kr,Sr,wr){const Br=kr.length;(!Sr||Sr<0)&&(Sr=0),(!wr||wr<0||wr>Br)&&(wr=Br);let Wr="";for(let Qr=Sr;Qr<wr;++Qr)Wr+=Wn[kr[Qr]];return Wr}function nn(kr,Sr,wr){const Br=kr.slice(Sr,wr);let Wr="";for(let Qr=0;Qr<Br.length-1;Qr+=2)Wr+=String.fromCharCode(Br[Qr]+Br[Qr+1]*256);return Wr}u.prototype.slice=function(Sr,wr){const Br=this.length;Sr=~~Sr,wr=wr===void 0?Br:~~wr,Sr<0?(Sr+=Br,Sr<0&&(Sr=0)):Sr>Br&&(Sr=Br),wr<0?(wr+=Br,wr<0&&(wr=0)):wr>Br&&(wr=Br),wr<Sr&&(wr=Sr);const Wr=this.subarray(Sr,wr);return Object.setPrototypeOf(Wr,u.prototype),Wr};function Gr(kr,Sr,wr){if(kr%1!==0||kr<0)throw new RangeError("offset is not uint");if(kr+Sr>wr)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=this[Sr],Qr=1,an=0;for(;++an<wr&&(Qr*=256);)Wr+=this[Sr+an]*Qr;return Wr},u.prototype.readUintBE=u.prototype.readUIntBE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=this[Sr+--wr],Qr=1;for(;wr>0&&(Qr*=256);)Wr+=this[Sr+--wr]*Qr;return Wr},u.prototype.readUint8=u.prototype.readUInt8=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,1,this.length),this[Sr]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,2,this.length),this[Sr]|this[Sr+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,2,this.length),this[Sr]<<8|this[Sr+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),(this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16)+this[Sr+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),this[Sr]*16777216+(this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3])},u.prototype.readBigUInt64LE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=wr+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24,Qr=this[++Sr]+this[++Sr]*2**8+this[++Sr]*2**16+Br*2**24;return BigInt(Wr)+(BigInt(Qr)<<BigInt(32))}),u.prototype.readBigUInt64BE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=wr*2**24+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr],Qr=this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Br;return(BigInt(Wr)<<BigInt(32))+BigInt(Qr)}),u.prototype.readIntLE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=this[Sr],Qr=1,an=0;for(;++an<wr&&(Qr*=256);)Wr+=this[Sr+an]*Qr;return Qr*=128,Wr>=Qr&&(Wr-=Math.pow(2,8*wr)),Wr},u.prototype.readIntBE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=wr,Qr=1,an=this[Sr+--Wr];for(;Wr>0&&(Qr*=256);)an+=this[Sr+--Wr]*Qr;return Qr*=128,an>=Qr&&(an-=Math.pow(2,8*wr)),an},u.prototype.readInt8=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,1,this.length),this[Sr]&128?(255-this[Sr]+1)*-1:this[Sr]},u.prototype.readInt16LE=function(Sr,wr){Sr=Sr>>>0,wr||Gr(Sr,2,this.length);const Br=this[Sr]|this[Sr+1]<<8;return Br&32768?Br|4294901760:Br},u.prototype.readInt16BE=function(Sr,wr){Sr=Sr>>>0,wr||Gr(Sr,2,this.length);const Br=this[Sr+1]|this[Sr]<<8;return Br&32768?Br|4294901760:Br},u.prototype.readInt32LE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16|this[Sr+3]<<24},u.prototype.readInt32BE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),this[Sr]<<24|this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3]},u.prototype.readBigInt64LE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=this[Sr+4]+this[Sr+5]*2**8+this[Sr+6]*2**16+(Br<<24);return(BigInt(Wr)<<BigInt(32))+BigInt(wr+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24)}),u.prototype.readBigInt64BE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=(wr<<24)+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr];return(BigInt(Wr)<<BigInt(32))+BigInt(this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Br)}),u.prototype.readFloatLE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),r.read(this,Sr,!0,23,4)},u.prototype.readFloatBE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),r.read(this,Sr,!1,23,4)},u.prototype.readDoubleLE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,8,this.length),r.read(this,Sr,!0,52,8)},u.prototype.readDoubleBE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,8,this.length),r.read(this,Sr,!1,52,8)};function Nr(kr,Sr,wr,Br,Wr,Qr){if(!u.isBuffer(kr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Sr>Wr||Sr<Qr)throw new RangeError('"value" argument is out of bounds');if(wr+Br>kr.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,Br=Br>>>0,!Wr){const Pn=Math.pow(2,8*Br)-1;Nr(this,Sr,wr,Br,Pn,0)}let Qr=1,an=0;for(this[wr]=Sr&255;++an<Br&&(Qr*=256);)this[wr+an]=Sr/Qr&255;return wr+Br},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,Br=Br>>>0,!Wr){const Pn=Math.pow(2,8*Br)-1;Nr(this,Sr,wr,Br,Pn,0)}let Qr=Br-1,an=1;for(this[wr+Qr]=Sr&255;--Qr>=0&&(an*=256);)this[wr+Qr]=Sr/an&255;return wr+Br},u.prototype.writeUint8=u.prototype.writeUInt8=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,1,255,0),this[wr]=Sr&255,wr+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,65535,0),this[wr]=Sr&255,this[wr+1]=Sr>>>8,wr+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,65535,0),this[wr]=Sr>>>8,this[wr+1]=Sr&255,wr+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,4294967295,0),this[wr+3]=Sr>>>24,this[wr+2]=Sr>>>16,this[wr+1]=Sr>>>8,this[wr]=Sr&255,wr+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,4294967295,0),this[wr]=Sr>>>24,this[wr+1]=Sr>>>16,this[wr+2]=Sr>>>8,this[wr+3]=Sr&255,wr+4};function Jr(kr,Sr,wr,Br,Wr){ln(Sr,Br,Wr,kr,wr,7);let Qr=Number(Sr&BigInt(4294967295));kr[wr++]=Qr,Qr=Qr>>8,kr[wr++]=Qr,Qr=Qr>>8,kr[wr++]=Qr,Qr=Qr>>8,kr[wr++]=Qr;let an=Number(Sr>>BigInt(32)&BigInt(4294967295));return kr[wr++]=an,an=an>>8,kr[wr++]=an,an=an>>8,kr[wr++]=an,an=an>>8,kr[wr++]=an,wr}function fn(kr,Sr,wr,Br,Wr){ln(Sr,Br,Wr,kr,wr,7);let Qr=Number(Sr&BigInt(4294967295));kr[wr+7]=Qr,Qr=Qr>>8,kr[wr+6]=Qr,Qr=Qr>>8,kr[wr+5]=Qr,Qr=Qr>>8,kr[wr+4]=Qr;let an=Number(Sr>>BigInt(32)&BigInt(4294967295));return kr[wr+3]=an,an=an>>8,kr[wr+2]=an,an=an>>8,kr[wr+1]=an,an=an>>8,kr[wr]=an,wr+8}u.prototype.writeBigUInt64LE=Vn(function(Sr,wr=0){return Jr(this,Sr,wr,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Vn(function(Sr,wr=0){return fn(this,Sr,wr,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,!Wr){const Fn=Math.pow(2,8*Br-1);Nr(this,Sr,wr,Br,Fn-1,-Fn)}let Qr=0,an=1,Pn=0;for(this[wr]=Sr&255;++Qr<Br&&(an*=256);)Sr<0&&Pn===0&&this[wr+Qr-1]!==0&&(Pn=1),this[wr+Qr]=(Sr/an>>0)-Pn&255;return wr+Br},u.prototype.writeIntBE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,!Wr){const Fn=Math.pow(2,8*Br-1);Nr(this,Sr,wr,Br,Fn-1,-Fn)}let Qr=Br-1,an=1,Pn=0;for(this[wr+Qr]=Sr&255;--Qr>=0&&(an*=256);)Sr<0&&Pn===0&&this[wr+Qr+1]!==0&&(Pn=1),this[wr+Qr]=(Sr/an>>0)-Pn&255;return wr+Br},u.prototype.writeInt8=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,1,127,-128),Sr<0&&(Sr=255+Sr+1),this[wr]=Sr&255,wr+1},u.prototype.writeInt16LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,32767,-32768),this[wr]=Sr&255,this[wr+1]=Sr>>>8,wr+2},u.prototype.writeInt16BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,32767,-32768),this[wr]=Sr>>>8,this[wr+1]=Sr&255,wr+2},u.prototype.writeInt32LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,2147483647,-2147483648),this[wr]=Sr&255,this[wr+1]=Sr>>>8,this[wr+2]=Sr>>>16,this[wr+3]=Sr>>>24,wr+4},u.prototype.writeInt32BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,2147483647,-2147483648),Sr<0&&(Sr=4294967295+Sr+1),this[wr]=Sr>>>24,this[wr+1]=Sr>>>16,this[wr+2]=Sr>>>8,this[wr+3]=Sr&255,wr+4},u.prototype.writeBigInt64LE=Vn(function(Sr,wr=0){return Jr(this,Sr,wr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Vn(function(Sr,wr=0){return fn(this,Sr,wr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function An(kr,Sr,wr,Br,Wr,Qr){if(wr+Br>kr.length)throw new RangeError("Index out of range");if(wr<0)throw new RangeError("Index out of range")}function wn(kr,Sr,wr,Br,Wr){return Sr=+Sr,wr=wr>>>0,Wr||An(kr,Sr,wr,4),r.write(kr,Sr,wr,Br,23,4),wr+4}u.prototype.writeFloatLE=function(Sr,wr,Br){return wn(this,Sr,wr,!0,Br)},u.prototype.writeFloatBE=function(Sr,wr,Br){return wn(this,Sr,wr,!1,Br)};function yn(kr,Sr,wr,Br,Wr){return Sr=+Sr,wr=wr>>>0,Wr||An(kr,Sr,wr,8),r.write(kr,Sr,wr,Br,52,8),wr+8}u.prototype.writeDoubleLE=function(Sr,wr,Br){return yn(this,Sr,wr,!0,Br)},u.prototype.writeDoubleBE=function(Sr,wr,Br){return yn(this,Sr,wr,!1,Br)},u.prototype.copy=function(Sr,wr,Br,Wr){if(!u.isBuffer(Sr))throw new TypeError("argument should be a Buffer");if(Br||(Br=0),!Wr&&Wr!==0&&(Wr=this.length),wr>=Sr.length&&(wr=Sr.length),wr||(wr=0),Wr>0&&Wr<Br&&(Wr=Br),Wr===Br||Sr.length===0||this.length===0)return 0;if(wr<0)throw new RangeError("targetStart out of bounds");if(Br<0||Br>=this.length)throw new RangeError("Index out of range");if(Wr<0)throw new RangeError("sourceEnd out of bounds");Wr>this.length&&(Wr=this.length),Sr.length-wr<Wr-Br&&(Wr=Sr.length-wr+Br);const Qr=Wr-Br;return this===Sr&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(wr,Br,Wr):Uint8Array.prototype.set.call(Sr,this.subarray(Br,Wr),wr),Qr},u.prototype.fill=function(Sr,wr,Br,Wr){if(typeof Sr=="string"){if(typeof wr=="string"?(Wr=wr,wr=0,Br=this.length):typeof Br=="string"&&(Wr=Br,Br=this.length),Wr!==void 0&&typeof Wr!="string")throw new TypeError("encoding must be a string");if(typeof Wr=="string"&&!u.isEncoding(Wr))throw new TypeError("Unknown encoding: "+Wr);if(Sr.length===1){const an=Sr.charCodeAt(0);(Wr==="utf8"&&an<128||Wr==="latin1")&&(Sr=an)}}else typeof Sr=="number"?Sr=Sr&255:typeof Sr=="boolean"&&(Sr=Number(Sr));if(wr<0||this.length<wr||this.length<Br)throw new RangeError("Out of range index");if(Br<=wr)return this;wr=wr>>>0,Br=Br===void 0?this.length:Br>>>0,Sr||(Sr=0);let Qr;if(typeof Sr=="number")for(Qr=wr;Qr<Br;++Qr)this[Qr]=Sr;else{const an=u.isBuffer(Sr)?Sr:u.from(Sr,Wr),Pn=an.length;if(Pn===0)throw new TypeError('The value "'+Sr+'" is invalid for argument "value"');for(Qr=0;Qr<Br-wr;++Qr)this[Qr+wr]=an[Qr%Pn]}return this};const mn={};function _n(kr,Sr,wr){mn[kr]=class extends wr{constructor(){super(),Object.defineProperty(this,"message",{value:Sr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${kr}]`,this.stack,delete this.name}get code(){return kr}set code(Wr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Wr,writable:!0})}toString(){return`${this.name} [${kr}]: ${this.message}`}}}_n("ERR_BUFFER_OUT_OF_BOUNDS",function(kr){return kr?`${kr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_n("ERR_INVALID_ARG_TYPE",function(kr,Sr){return`The "${kr}" argument must be of type number. Received type ${typeof Sr}`},TypeError),_n("ERR_OUT_OF_RANGE",function(kr,Sr,wr){let Br=`The value of "${kr}" is out of range.`,Wr=wr;return Number.isInteger(wr)&&Math.abs(wr)>2**32?Wr=In(String(wr)):typeof wr=="bigint"&&(Wr=String(wr),(wr>BigInt(2)**BigInt(32)||wr<-(BigInt(2)**BigInt(32)))&&(Wr=In(Wr)),Wr+="n"),Br+=` It must be ${Sr}. Received ${Wr}`,Br},RangeError);function In(kr){let Sr="",wr=kr.length;const Br=kr[0]==="-"?1:0;for(;wr>=Br+4;wr-=3)Sr=`_${kr.slice(wr-3,wr)}${Sr}`;return`${kr.slice(0,wr)}${Sr}`}function Nn(kr,Sr,wr){hn(Sr,"offset"),(kr[Sr]===void 0||kr[Sr+wr]===void 0)&&gn(Sr,kr.length-(wr+1))}function ln(kr,Sr,wr,Br,Wr,Qr){if(kr>wr||kr<Sr){const an=typeof Sr=="bigint"?"n":"";let Pn;throw Qr>3?Sr===0||Sr===BigInt(0)?Pn=`>= 0${an} and < 2${an} ** ${(Qr+1)*8}${an}`:Pn=`>= -(2${an} ** ${(Qr+1)*8-1}${an}) and < 2 ** ${(Qr+1)*8-1}${an}`:Pn=`>= ${Sr}${an} and <= ${wr}${an}`,new mn.ERR_OUT_OF_RANGE("value",Pn,kr)}Nn(Br,Wr,Qr)}function hn(kr,Sr){if(typeof kr!="number")throw new mn.ERR_INVALID_ARG_TYPE(Sr,"number",kr)}function gn(kr,Sr,wr){throw Math.floor(kr)!==kr?(hn(kr,wr),new mn.ERR_OUT_OF_RANGE(wr||"offset","an integer",kr)):Sr<0?new mn.ERR_BUFFER_OUT_OF_BOUNDS:new mn.ERR_OUT_OF_RANGE(wr||"offset",`>= ${wr?1:0} and <= ${Sr}`,kr)}const Rn=/[^+/0-9A-Za-z-_]/g;function Cn(kr){if(kr=kr.split("=")[0],kr=kr.trim().replace(Rn,""),kr.length<2)return"";for(;kr.length%4!==0;)kr=kr+"=";return kr}function kn(kr,Sr){Sr=Sr||1/0;let wr;const Br=kr.length;let Wr=null;const Qr=[];for(let an=0;an<Br;++an){if(wr=kr.charCodeAt(an),wr>55295&&wr<57344){if(!Wr){if(wr>56319){(Sr-=3)>-1&&Qr.push(239,191,189);continue}else if(an+1===Br){(Sr-=3)>-1&&Qr.push(239,191,189);continue}Wr=wr;continue}if(wr<56320){(Sr-=3)>-1&&Qr.push(239,191,189),Wr=wr;continue}wr=(Wr-55296<<10|wr-56320)+65536}else Wr&&(Sr-=3)>-1&&Qr.push(239,191,189);if(Wr=null,wr<128){if((Sr-=1)<0)break;Qr.push(wr)}else if(wr<2048){if((Sr-=2)<0)break;Qr.push(wr>>6|192,wr&63|128)}else if(wr<65536){if((Sr-=3)<0)break;Qr.push(wr>>12|224,wr>>6&63|128,wr&63|128)}else if(wr<1114112){if((Sr-=4)<0)break;Qr.push(wr>>18|240,wr>>12&63|128,wr>>6&63|128,wr&63|128)}else throw new Error("Invalid code point")}return Qr}function Un(kr){const Sr=[];for(let wr=0;wr<kr.length;++wr)Sr.push(kr.charCodeAt(wr)&255);return Sr}function Sn(kr,Sr){let wr,Br,Wr;const Qr=[];for(let an=0;an<kr.length&&!((Sr-=2)<0);++an)wr=kr.charCodeAt(an),Br=wr>>8,Wr=wr%256,Qr.push(Wr),Qr.push(Br);return Qr}function Bn(kr){return e.toByteArray(Cn(kr))}function Tn(kr,Sr,wr,Br){let Wr;for(Wr=0;Wr<Br&&!(Wr+wr>=Sr.length||Wr>=kr.length);++Wr)Sr[Wr+wr]=kr[Wr];return Wr}function jn(kr,Sr){return kr instanceof Sr||kr!=null&&kr.constructor!=null&&kr.constructor.name!=null&&kr.constructor.name===Sr.name}function Hn(kr){return kr!==kr}const Wn=function(){const kr="0123456789abcdef",Sr=new Array(256);for(let wr=0;wr<16;++wr){const Br=wr*16;for(let Wr=0;Wr<16;++Wr)Sr[Br+Wr]=kr[wr]+kr[Wr]}return Sr}();function Vn(kr){return typeof BigInt>"u"?Yn:kr}function Yn(){throw new Error("BigInt not supported")}})(buffer$1);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=buffer$1,n=r.Buffer;function o(c,u){for(var gr in c)u[gr]=c[gr]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a);function a(c,u,gr){return n(c,u,gr)}a.prototype=Object.create(n.prototype),o(n,a),a.from=function(c,u,gr){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,u,gr)},a.alloc=function(c,u,gr){if(typeof c!="number")throw new TypeError("Argument must be a number");var br=n(c);return u!==void 0?typeof gr=="string"?br.fill(u,gr):br.fill(u):br.fill(0),br},a.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},a.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}})(safeBuffer,safeBuffer.exports);var _Buffer=safeBuffer.exports.Buffer;function base$2(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=n}var c=t.length,u=t.charAt(0),gr=Math.log(c)/Math.log(256),br=Math.log(256)/Math.log(c);function _r(Tr){if((Array.isArray(Tr)||Tr instanceof Uint8Array)&&(Tr=_Buffer.from(Tr)),!_Buffer.isBuffer(Tr))throw new TypeError("Expected Buffer");if(Tr.length===0)return"";for(var Or=0,Ir=0,xr=0,Lr=Tr.length;xr!==Lr&&Tr[xr]===0;)xr++,Or++;for(var Fr=(Lr-xr)*br+1>>>0,Mr=new Uint8Array(Fr);xr!==Lr;){for(var Hr=Tr[xr],Vr=0,Kr=Fr-1;(Hr!==0||Vr<Ir)&&Kr!==-1;Kr--,Vr++)Hr+=256*Mr[Kr]>>>0,Mr[Kr]=Hr%c>>>0,Hr=Hr/c>>>0;if(Hr!==0)throw new Error("Non-zero carry");Ir=Vr,xr++}for(var jr=Fr-Ir;jr!==Fr&&Mr[jr]===0;)jr++;for(var qr=u.repeat(Or);jr<Fr;++jr)qr+=t.charAt(Mr[jr]);return qr}function Ar(Tr){if(typeof Tr!="string")throw new TypeError("Expected String");if(Tr.length===0)return _Buffer.alloc(0);for(var Or=0,Ir=0,xr=0;Tr[Or]===u;)Ir++,Or++;for(var Lr=(Tr.length-Or)*gr+1>>>0,Fr=new Uint8Array(Lr);Tr[Or];){var Mr=e[Tr.charCodeAt(Or)];if(Mr===255)return;for(var Hr=0,Vr=Lr-1;(Mr!==0||Hr<xr)&&Vr!==-1;Vr--,Hr++)Mr+=c*Fr[Vr]>>>0,Fr[Vr]=Mr%256>>>0,Mr=Mr/256>>>0;if(Mr!==0)throw new Error("Non-zero carry");xr=Hr,Or++}for(var Kr=Lr-xr;Kr!==Lr&&Fr[Kr]===0;)Kr++;var jr=_Buffer.allocUnsafe(Ir+(Lr-Kr));jr.fill(0,0,Ir);for(var qr=Ir;Kr!==Lr;)jr[qr++]=Fr[Kr++];return jr}function vr(Tr){var Or=Ar(Tr);if(Or)return Or;throw new Error("Non-base"+c+" character")}return{encode:_r,decodeUnsafe:Ar,decode:vr}}var src$2=base$2,basex$2=src$2,ALPHABET$2="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$2=basex$2(ALPHABET$2);function isVersionedTransaction$2(t){return"version"in t}var __classPrivateFieldSet$1=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},__classPrivateFieldGet$1=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},_StandardWalletAdapter_instances,_StandardWalletAdapter_account,_StandardWalletAdapter_publicKey,_StandardWalletAdapter_connecting,_StandardWalletAdapter_off,_StandardWalletAdapter_wallet,_StandardWalletAdapter_supportedTransactionVersions,_StandardWalletAdapter_readyState,_StandardWalletAdapter_connected,_StandardWalletAdapter_disconnected,_StandardWalletAdapter_changed,_StandardWalletAdapter_signTransaction,_StandardWalletAdapter_signAllTransactions,_StandardWalletAdapter_signMessage;function isWalletAdapterCompatibleWallet(t){return"standard:connect"in t.features&&"standard:events"in t.features&&("solana:signAndSendTransaction"in t.features||"solana:signTransaction"in t.features)}class StandardWalletAdapter extends BaseWalletAdapter{constructor({wallet:e}){super(),_StandardWalletAdapter_instances.add(this),_StandardWalletAdapter_account.set(this,void 0),_StandardWalletAdapter_publicKey.set(this,void 0),_StandardWalletAdapter_connecting.set(this,void 0),_StandardWalletAdapter_off.set(this,void 0),_StandardWalletAdapter_wallet.set(this,void 0),_StandardWalletAdapter_supportedTransactionVersions.set(this,void 0),_StandardWalletAdapter_readyState.set(this,typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.Installed),_StandardWalletAdapter_changed.set(this,n=>{if(!__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f")||!__classPrivateFieldGet$1(this,_StandardWalletAdapter_publicKey,"f")||!("accounts"in n))return;const o=__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts[0];if(!o){__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this),this.emit("error",new WalletDisconnectedError),this.emit("disconnect");return}if(o===__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f"))return;let a;try{a=new PublicKey$3(o.publicKey)}catch(c){__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this),this.emit("error",new WalletPublicKeyError(c==null?void 0:c.message)),this.emit("disconnect");return}__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,o,a),this.emit("connect",a)}),__classPrivateFieldSet$1(this,_StandardWalletAdapter_wallet,e,"f");const r="solana:signAndSendTransaction"in e.features?e.features["solana:signAndSendTransaction"].supportedTransactionVersions:e.features["solana:signTransaction"].supportedTransactionVersions;__classPrivateFieldSet$1(this,_StandardWalletAdapter_supportedTransactionVersions,arraysEqual(r,["legacy"])?null:new Set(r),"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_account,null,"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_publicKey,null,"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_connecting,!1,"f")}get supportedTransactionVersions(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_supportedTransactionVersions,"f")}get name(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").name}get icon(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").icon}get url(){return"https://github.com/wallet-standard"}get publicKey(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_publicKey,"f")}get connecting(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_connecting,"f")}get readyState(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_readyState,"f")}get wallet(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f")}get standard(){return!0}async connect(){try{if(this.connected||this.connecting)return;if(__classPrivateFieldGet$1(this,_StandardWalletAdapter_readyState,"f")!==WalletReadyState.Installed)throw new WalletNotReadyError;if(__classPrivateFieldSet$1(this,_StandardWalletAdapter_connecting,!0,"f"),!__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts.length)try{await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["standard:connect"].connect()}catch(n){throw new WalletConnectionError(n==null?void 0:n.message,n)}if(!__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts.length)throw new WalletAccountError;const e=__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts[0];let r;try{r=new PublicKey$3(e.publicKey)}catch(n){throw new WalletPublicKeyError(n==null?void 0:n.message,n)}__classPrivateFieldSet$1(this,_StandardWalletAdapter_off,__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["standard:events"].on("change",__classPrivateFieldGet$1(this,_StandardWalletAdapter_changed,"f")),"f"),__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,e,r),this.emit("connect",r)}catch(e){throw this.emit("error",e),e}finally{__classPrivateFieldSet$1(this,_StandardWalletAdapter_connecting,!1,"f")}}async disconnect(){if("standard:disconnect"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features)try{await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["standard:disconnect"].disconnect()}catch(e){this.emit("error",new WalletDisconnectionError(e==null?void 0:e.message,e))}__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this),this.emit("disconnect")}async sendTransaction(e,r,n={}){try{const o=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!o)throw new WalletNotConnectedError;let a;if("solana:signAndSendTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features)if(o.features.includes("solana:signAndSendTransaction"))a="solana:signAndSendTransaction";else if("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features&&o.features.includes("solana:signTransaction"))a="solana:signTransaction";else throw new WalletAccountError;else if("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features){if(!o.features.includes("solana:signTransaction"))throw new WalletAccountError;a="solana:signTransaction"}else throw new WalletConfigError;const c=getChainForEndpoint(r.rpcEndpoint);if(!o.chains.includes(c))throw new WalletSendTransactionError;try{const{signers:u,...gr}=n;let br;if(isVersionedTransaction$2(e)?(u!=null&&u.length&&e.sign(u),br=e.serialize()):(e=await this.prepareTransaction(e,r,gr),u!=null&&u.length&&e.partialSign(...u),br=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),a==="solana:signAndSendTransaction"){const[_r]=await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signAndSendTransaction"].signAndSendTransaction({account:o,chain:c,transaction:br,options:{preflightCommitment:getCommitment(gr.preflightCommitment||r.commitment),skipPreflight:gr.skipPreflight,maxRetries:gr.maxRetries,minContextSlot:gr.minContextSlot}});return bs58$2.encode(_r.signature)}else{const[_r]=await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signTransaction"].signTransaction({account:o,chain:c,transaction:br,options:{preflightCommitment:getCommitment(gr.preflightCommitment||r.commitment),minContextSlot:gr.minContextSlot}});return await r.sendRawTransaction(_r.signedTransaction,{...gr,preflightCommitment:getCommitment(gr.preflightCommitment||r.commitment)})}}catch(u){throw u instanceof WalletError?u:new WalletSendTransactionError(u==null?void 0:u.message,u)}}catch(o){throw this.emit("error",o),o}}}_StandardWalletAdapter_account=new WeakMap,_StandardWalletAdapter_publicKey=new WeakMap,_StandardWalletAdapter_connecting=new WeakMap,_StandardWalletAdapter_off=new WeakMap,_StandardWalletAdapter_wallet=new WeakMap,_StandardWalletAdapter_supportedTransactionVersions=new WeakMap,_StandardWalletAdapter_readyState=new WeakMap,_StandardWalletAdapter_changed=new WeakMap,_StandardWalletAdapter_instances=new WeakSet,_StandardWalletAdapter_connected=function(e,r){__classPrivateFieldSet$1(this,_StandardWalletAdapter_account,e,"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_publicKey,r,"f"),e!=null&&e.features.includes("solana:signTransaction")?(this.signTransaction=__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signTransaction),this.signAllTransactions=__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signAllTransactions)):(delete this.signTransaction,delete this.signAllTransactions),e!=null&&e.features.includes("solana:signMessage")?this.signMessage=__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signMessage):delete this.signMessage},_StandardWalletAdapter_disconnected=function(){const e=__classPrivateFieldGet$1(this,_StandardWalletAdapter_off,"f");e&&(__classPrivateFieldSet$1(this,_StandardWalletAdapter_off,void 0,"f"),e()),__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,null,null)},_StandardWalletAdapter_signTransaction=async function(e){try{const r=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!r)throw new WalletNotConnectedError;if(!("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!r.features.includes("solana:signTransaction"))throw new WalletAccountError;try{const o=(await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signTransaction"].signTransaction({account:r,transaction:isVersionedTransaction$2(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return isVersionedTransaction$2(e)?VersionedTransaction$1.deserialize(o):Transaction$3.from(o)}catch(n){throw n instanceof WalletError?n:new WalletSignTransactionError(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},_StandardWalletAdapter_signAllTransactions=async function(e){try{const r=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!r)throw new WalletNotConnectedError;if(!("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!r.features.includes("solana:signTransaction"))throw new WalletSignTransactionError;try{const n=await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signTransaction"].signTransaction(...e.map(o=>({account:r,transaction:isVersionedTransaction$2(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((o,a)=>{const c=n[a].signedTransaction;return isVersionedTransaction$2(o)?VersionedTransaction$1.deserialize(c):Transaction$3.from(c)})}catch(n){throw new WalletSignTransactionError(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}},_StandardWalletAdapter_signMessage=async function(e){try{const r=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!r)throw new WalletNotConnectedError;if(!("solana:signMessage"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!r.features.includes("solana:signMessage"))throw new WalletSignMessageError;try{return(await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signMessage"].signMessage({account:r,message:e}))[0].signature}catch(n){throw new WalletSignMessageError(n==null?void 0:n.message,n)}}catch(r){throw this.emit("error",r),r}};var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},_AppReadyEvent_detail;let wallets;const registered=new Set,listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register,get:get$2,on}),typeof window>"u"))return wallets;const t=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new AppReadyEvent(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return wallets}function register(...t){var e;return t=t.filter(r=>!registered.has(r)),t.length?(t.forEach(r=>registered.add(r)),(e=listeners.register)==null||e.forEach(r=>guard(()=>r(...t))),function(){var n;t.forEach(o=>registered.delete(o)),(n=listeners.unregister)==null||n.forEach(o=>guard(()=>o(...t)))}):()=>{}}function get$2(){return[...registered]}function on(t,e){var r;return(r=listeners[t])!=null&&r.push(e)||(listeners[t]=[e]),function(){var o;listeners[t]=(o=listeners[t])==null?void 0:o.filter(a=>e!==a)}}function guard(t){try{t()}catch(e){console.error(e)}}class AppReadyEvent extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet(this,_AppReadyEvent_detail,e,"f")}get detail(){return __classPrivateFieldGet(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;function DEPRECATED_getWallets(){if(wallets||(wallets=getWallets(),typeof window>"u"))return wallets;const t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),wallets;const{register:e}=wallets,r=(...n)=>n.forEach(o=>guard(()=>o({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch{return console.error("window.navigator.wallets could not be set"),wallets}return r(...t),wallets}function useStandardWalletAdapters(t){const e=new Set,{get:r,on:n}=DEPRECATED_getWallets(),o=shallowRef(wrapWalletsInAdapters(r()));return watchEffect(a=>{const c=[n("register",(...u)=>o.value=[...o.value,...wrapWalletsInAdapters(u)]),n("unregister",(...u)=>o.value=o.value.filter(gr=>u.some(br=>br===gr.wallet)))];a(()=>c.forEach(u=>u()))}),computed$1(()=>[...o.value,...t.value.filter(({name:a})=>o.value.some(c=>c.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)])}function wrapWalletsInAdapters(t){return t.filter(isWalletAdapterCompatibleWallet).map(e=>new StandardWalletAdapter({wallet:e}))}function useTransactionMethods(t,e){const r=async(c,u,gr)=>{var br;const _r=(br=t.value)==null?void 0:br.adapter;if(!_r)throw e(new WalletNotSelectedError);if(!_r.connected)throw e(new WalletNotConnectedError,_r);return await _r.sendTransaction(c,u,gr)},n=computed$1(()=>{var c;const u=(c=t.value)==null?void 0:c.adapter;if(!!(u&&"signTransaction"in u))return async gr=>{if(!u.connected)throw e(new WalletNotConnectedError);return await u.signTransaction(gr)}}),o=computed$1(()=>{var c;const u=(c=t.value)==null?void 0:c.adapter;if(!!(u&&"signAllTransactions"in u))return async gr=>{if(!u.connected)throw e(new WalletNotConnectedError);return await u.signAllTransactions(gr)}}),a=computed$1(()=>{var c;const u=(c=t.value)==null?void 0:c.adapter;if(!!(u&&"signMessage"in u))return async gr=>{if(!u.connected)throw e(new WalletNotConnectedError);return await u.signMessage(gr)}});return{sendTransaction:r,signTransaction:n,signAllTransactions:o,signMessage:a}}function useUnloadingWindow(t){const e=ref(!1);return typeof window>"u"||watchEffect(r=>{if(t.value)return;const n=()=>e.value=!0;window.addEventListener("beforeunload",n),r(()=>window.removeEventListener("beforeunload",n))}),e}function useWalletState(t,e){const r=shallowRef(null),n=ref(null),o=ref(!1),a=ref(WalletReadyState.Unsupported),c=computed$1(()=>a.value===WalletReadyState.Installed||a.value===WalletReadyState.Loadable),u=()=>{var gr,br,_r,Ar,vr,Tr;n.value=(br=(gr=r.value)==null?void 0:gr.adapter.publicKey)!=null?br:null,o.value=(Ar=(_r=r.value)==null?void 0:_r.adapter.connected)!=null?Ar:!1,a.value=(Tr=(vr=r.value)==null?void 0:vr.readyState)!=null?Tr:WalletReadyState.Unsupported};return watchEffect(()=>{var gr;r.value=e.value&&(gr=t.value.find(({adapter:br})=>br.name===e.value))!=null?gr:null,u()}),{wallet:r,publicKey:n,connected:o,readyState:a,ready:c,refreshWalletState:u}}function useWrapAdaptersInWallets(t){const e=shallowRef([]);return watchEffect(()=>{e.value=t.value.map(r=>({adapter:r,readyState:r.readyState}))}),e}const createWalletStore=({wallets:t=[],autoConnect:e=!1,cluster:r="mainnet-beta",onError:n,localStorageKey:o="walletName"})=>{const a=ref(r),c=ref(!1),u=ref(!1),gr=shallowRef(t),br=useStandardWalletAdapters(gr),{isMobile:_r,uriForAppIdentity:Ar}=useEnvironment(br),vr=useMobileWalletAdapters(br,_r,Ar,a),Tr=useWrapAdaptersInWallets(vr),{name:Or,isUsingMwaAdapterOnMobile:Ir,select:xr,deselect:Lr}=useSelectWalletName(o,_r),{wallet:Fr,publicKey:Mr,connected:Hr,readyState:Vr,ready:Kr,refreshWalletState:jr}=useWalletState(Tr,Or),qr=useUnloadingWindow(Ir),tn=useErrorHandler(qr,n);useReadyStateListeners(Tr),useAdapterListeners(Fr,qr,Ir,Lr,jr,tn);const en=useAutoConnect(e,Fr,Ir,c,Hr,Kr,Lr),{sendTransaction:sn,signTransaction:cn,signAllTransactions:Ur,signMessage:Rr}=useTransactionMethods(Fr,tn);return{wallets:Tr,autoConnect:en,cluster:a,wallet:Fr,publicKey:Mr,readyState:Vr,ready:Kr,connected:Hr,connecting:c,disconnecting:u,select:xr,connect:async()=>{if(Hr.value||c.value||u.value)return;if(!Fr.value)throw tn(new WalletNotSelectedError);const Yr=Fr.value.adapter;if(!Kr.value)throw tn(new WalletNotReadyError,Yr);try{c.value=!0,await Yr.connect()}catch(Zr){throw Lr(),Zr}finally{c.value=!1}},disconnect:async()=>{if(!(u.value||!Fr.value))try{u.value=!0,await Fr.value.adapter.disconnect()}finally{u.value=!1}},sendTransaction:sn,signTransaction:cn,signAllTransactions:Ur,signMessage:Rr}};let walletStore=null;const useWallet=()=>{if(walletStore)return walletStore;throw new WalletNotInitializedError("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},initWallet=t=>{walletStore=createWalletStore(t)},_sfc_main$4=defineComponent({props:{wallet:Object},setup(t){return toRefs(t)}}),_export_sfc=(t,e)=>{const r=t.__vccOpts||t;for(const[n,o]of e)r[n]=o;return r},_hoisted_1$4={class:"swv-button-icon"},_hoisted_2$4=["src","alt"];function _sfc_render$4(t,e,r,n,o,a){return openBlock(),createElementBlock("i",_hoisted_1$4,[t.wallet?(openBlock(),createElementBlock("img",{key:0,src:t.wallet.adapter.icon,alt:`${t.wallet.adapter.name} icon`},null,8,_hoisted_2$4)):createCommentVNode("",!0)])}const WalletIcon=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),_sfc_main$3=defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:r}=toRefs(t),{wallet:n,connect:o,connecting:a,connected:c}=useWallet(),u=computed$1(()=>a.value?"Connecting ...":c.value?"Connected":n.value?"Connect":"Connect Wallet"),br={wallet:n,disabled:r,connecting:a,connected:c,content:u,onClick:_r=>{e("click",_r),!_r.defaultPrevented&&o().catch(()=>{})}};return{scope:br,...br}}}),_hoisted_1$3=["disabled"],_hoisted_2$3=["textContent"];function _sfc_render$3(t,e,r,n,o,a){const c=resolveComponent("wallet-icon");return renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(t.scope)),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",disabled:t.disabled||!t.wallet||t.connecting||t.connected,onClick:e[0]||(e[0]=(...u)=>t.onClick&&t.onClick(...u))},[t.wallet?(openBlock(),createBlock(c,{key:0,wallet:t.wallet},null,8,["wallet"])):createCommentVNode("",!0),createBaseVNode("p",{textContent:toDisplayString(t.content)},null,8,_hoisted_2$3)],8,_hoisted_1$3)])}const WalletConnectButton=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]);defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(t,{emit:e}){const{disabled:r}=toRefs(t),{wallet:n,disconnect:o,disconnecting:a}=useWallet(),c=computed$1(()=>a.value?"Disconnecting ...":n.value?"Disconnect":"Disconnect Wallet"),gr={wallet:n,disconnecting:a,disabled:r,content:c,handleClick:br=>{e("click",br),!br.defaultPrevented&&o().catch(()=>{})}};return{scope:gr,...gr}}});const _sfc_main$1=defineComponent({components:{WalletIcon},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t,{slots:e}){const{featured:r,container:n,logo:o,dark:a}=toRefs(t),c=ref(null),u=ref(!1),gr=()=>u.value=!0,br=()=>u.value=!1,_r=computed$1(()=>!!e.logo||!!o.value),{wallets:Ar,select:vr}=useWallet(),Tr=computed$1(()=>{const Hr=[],Vr=[],Kr=[];return Ar.value.forEach(jr=>{jr.readyState===WalletReadyState.NotDetected?Vr.push(jr):jr.readyState===WalletReadyState.Loadable?Kr.push(jr):jr.readyState===WalletReadyState.Installed&&Hr.push(jr)}),[...Hr,...Kr,...Vr]}),Or=ref(!1),Ir=computed$1(()=>Tr.value.slice(0,r.value)),xr=computed$1(()=>Tr.value.slice(r.value)),Lr=computed$1(()=>Or.value?Ar.value:Ir.value);onClickOutside(c,br),onKeyStroke("Escape",br),onKeyStroke("Tab",Hr=>{var Vr,Kr;const jr=(Kr=(Vr=c.value)==null?void 0:Vr.querySelectorAll("button"))!=null?Kr:[],qr=jr==null?void 0:jr[0],tn=jr==null?void 0:jr[jr.length-1];Hr.shiftKey&&document.activeElement===qr&&tn?(tn.focus(),Hr.preventDefault()):!Hr.shiftKey&&document.activeElement===tn&&qr&&(qr.focus(),Hr.preventDefault())}),watch(u,Hr=>{!Hr||nextTick(()=>{var Vr,Kr,jr;return(jr=(Kr=(Vr=c.value)==null?void 0:Vr.querySelectorAll("button"))==null?void 0:Kr[0])==null?void 0:jr.focus()})});const Fr=useScrollLock(document.body);watch(u,Hr=>Fr.value=Hr);const Mr={dark:a,logo:o,hasLogo:_r,featured:r,container:n,modalPanel:c,modalOpened:u,openModal:gr,closeModal:br,expandedWallets:Or,walletsToDisplay:Lr,featuredWallets:Ir,hiddenWallets:xr,selectWallet:vr};return{scope:Mr,...Mr}}}),_hoisted_1$1=createBaseVNode("div",{class:"swv-modal-overlay"},null,-1),_hoisted_2$1={class:"swv-modal-container",ref:"modalPanel"},_hoisted_3$1={key:0,class:"swv-modal-logo-wrapper"},_hoisted_4$1=["src"],_hoisted_5$1=createBaseVNode("h1",{class:"swv-modal-title",id:"swv-modal-title"},"Connect Wallet",-1),_hoisted_6=createBaseVNode("svg",{width:"14",height:"14"},[createBaseVNode("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),_hoisted_7=[_hoisted_6],_hoisted_8={class:"swv-modal-list"},_hoisted_9=["onClick"],_hoisted_10={class:"swv-button"},_hoisted_11=["textContent"],_hoisted_12={key:0,class:"swv-wallet-status"},_hoisted_13=["aria-expanded"],_hoisted_14=createBaseVNode("i",{class:"swv-button-icon"},[createBaseVNode("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function _sfc_render$1(t,e,r,n,o,a){const c=resolveComponent("wallet-icon");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(t.dark?"swv-dark":"")},[renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(t.scope)))],2),t.modalOpened?(openBlock(),createBlock(Teleport,{key:0,to:t.container},[createBaseVNode("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:normalizeClass(["swv-modal",t.dark?"swv-dark":""]),role:"dialog"},[renderSlot(t.$slots,"overlay",normalizeProps(guardReactiveProps(t.scope)),()=>[_hoisted_1$1]),createBaseVNode("div",_hoisted_2$1,[renderSlot(t.$slots,"modal",normalizeProps(guardReactiveProps(t.scope)),()=>[createBaseVNode("div",{class:normalizeClass(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!t.hasLogo}])},[t.hasLogo?(openBlock(),createElementBlock("div",_hoisted_3$1,[renderSlot(t.$slots,"logo",normalizeProps(guardReactiveProps(t.scope)),()=>[createBaseVNode("img",{alt:"logo",class:"swv-modal-logo",src:t.logo},null,8,_hoisted_4$1)])])):createCommentVNode("",!0),_hoisted_5$1,createBaseVNode("button",{onClick:e[0]||(e[0]=withModifiers((...u)=>t.closeModal&&t.closeModal(...u),["prevent"])),class:"swv-modal-button-close"},_hoisted_7),createBaseVNode("ul",_hoisted_8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.walletsToDisplay,u=>(openBlock(),createElementBlock("li",{key:u.adapter.name,onClick:gr=>{t.selectWallet(u.adapter.name),t.closeModal()}},[createBaseVNode("button",_hoisted_10,[createVNode(c,{wallet:u},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(u.adapter.name)},null,8,_hoisted_11),u.readyState==="Installed"?(openBlock(),createElementBlock("div",_hoisted_12," Detected ")):createCommentVNode("",!0)])],8,_hoisted_9))),128))]),t.hiddenWallets.length>0?(openBlock(),createElementBlock("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":t.expandedWallets,class:normalizeClass(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":t.expandedWallets}]),onClick:e[1]||(e[1]=u=>t.expandedWallets=!t.expandedWallets)},[createTextVNode(toDisplayString(t.expandedWallets?"Less":"More")+" options ",1),_hoisted_14],10,_hoisted_13)):createCommentVNode("",!0)],2)])],512)],2)],8,["to"])):createCommentVNode("",!0)],64)}const WalletModalProvider=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main$2=defineComponent({components:{WalletConnectButton,WalletIcon,WalletModalProvider},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(t){const{featured:e,container:r,logo:n,dark:o}=toRefs(t),{publicKey:a,wallet:c,disconnect:u}=useWallet(),gr=ref(),br=ref(!1),_r=()=>{br.value=!0},Ar=()=>{br.value=!1};onClickOutside(gr,Ar);const vr=computed$1(()=>{var Mr;return(Mr=a.value)==null?void 0:Mr.toBase58()}),Tr=computed$1(()=>!c.value||!vr.value?null:vr.value.slice(0,4)+".."+vr.value.slice(-4)),{copy:Or,copied:Ir,isSupported:xr}=useClipboard(),Fr={featured:e,container:r,logo:n,dark:o,wallet:c,publicKey:a,publicKeyTrimmed:Tr,publicKeyBase58:vr,canCopy:xr,addressCopied:Ir,dropdownPanel:gr,dropdownOpened:br,openDropdown:_r,closeDropdown:Ar,copyAddress:()=>vr.value&&Or(vr.value),disconnect:u};return{scope:Fr,...Fr}}}),_hoisted_1=["onClick"],_hoisted_2={key:2,class:"swv-dropdown"},_hoisted_3=["aria-expanded","title"],_hoisted_4=["textContent"],_hoisted_5=["onClick"];function _sfc_render(t,e,r,n,o,a){const c=resolveComponent("wallet-connect-button"),u=resolveComponent("wallet-icon"),gr=resolveComponent("wallet-modal-provider");return openBlock(),createBlock(gr,{featured:t.featured,container:t.container,logo:t.logo,dark:t.dark},{default:withCtx(br=>[renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps({...br,...t.scope})),()=>[t.wallet?t.publicKeyBase58?(openBlock(),createElementBlock("div",_hoisted_2,[renderSlot(t.$slots,"dropdown-button",normalizeProps(guardReactiveProps({...br,...t.scope})),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",style:normalizeStyle({pointerEvents:t.dropdownOpened?"none":"auto"}),"aria-expanded":t.dropdownOpened,title:t.publicKeyBase58,onClick:e[0]||(e[0]=(..._r)=>t.openDropdown&&t.openDropdown(..._r))},[createVNode(u,{wallet:t.wallet},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(t.publicKeyTrimmed)},null,8,_hoisted_4)],12,_hoisted_3)]),renderSlot(t.$slots,"dropdown",normalizeProps(guardReactiveProps({...br,...t.scope})),()=>[createBaseVNode("ul",{"aria-label":"dropdown-list",class:normalizeClass(["swv-dropdown-list",{"swv-dropdown-list-active":t.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[renderSlot(t.$slots,"dropdown-list",normalizeProps(guardReactiveProps({...br,...t.scope})),()=>[t.canCopy?(openBlock(),createElementBlock("li",{key:0,onClick:e[1]||(e[1]=(..._r)=>t.copyAddress&&t.copyAddress(..._r)),class:"swv-dropdown-list-item",role:"menuitem"},toDisplayString(t.addressCopied?"Copied":"Copy address"),1)):createCommentVNode("",!0),createBaseVNode("li",{onClick:_r=>{br.openModal(),t.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,_hoisted_5),createBaseVNode("li",{onClick:e[2]||(e[2]=_r=>{t.disconnect(),t.closeDropdown()}),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")])],2)])])):(openBlock(),createBlock(c,{key:1})):(openBlock(),createElementBlock("button",{key:0,class:"swv-button swv-button-trigger",onClick:br.openModal}," Select Wallet ",8,_hoisted_1))])]),overlay:withCtx(br=>[renderSlot(t.$slots,"modal-overlay",normalizeProps(guardReactiveProps({...br,...t.scope})))]),modal:withCtx(br=>[renderSlot(t.$slots,"modal",normalizeProps(guardReactiveProps({...br,...t.scope})))]),_:3},8,["featured","container","logo","dark"])}const WalletMultiButton=_export_sfc(_sfc_main$2,[["render",_sfc_render]]);function useAnchorWallet(){const t=useWallet();return computed$1(()=>{if(!t)return;const{signTransaction:e,signAllTransactions:r,publicKey:n}=t;if(!(!n.value||!e.value||!r.value))return{publicKey:n.value,signTransaction:e.value,signAllTransactions:r.value}})}const index={install:(t,e={})=>{initWallet(e),t.config.globalProperties.$wallet=useWallet()}};function bind$3(t,e){return function(){return t.apply(e,arguments)}}const{toString:toString$3}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf=(t=>e=>{const r=toString$3.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray:isArray$4}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer$1(t){return t!==null&&!isUndefined$1(t)&&t.constructor!==null&&!isUndefined$1(t.constructor)&&isFunction$3(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView$1(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString$1=typeOfTest("string"),isFunction$3=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$5=t=>t!==null&&typeof t=="object",isBoolean$1=t=>t===!0||t===!1,isPlainObject$1=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf$1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},isDate$2=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$5(t)&&isFunction$3(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction$3(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction$3(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$2(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,o;if(typeof t!="object"&&(t=[t]),isArray$4(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),c=a.length;let u;for(n=0;n<c;n++)u=a[n],e.call(null,t[u],u,t)}}function findKey(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,o;for(;n-- >0;)if(o=r[n],e===o.toLowerCase())return o;return null}const _global$1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:dist$3.global)(),isContextDefined=t=>!isUndefined$1(t)&&t!==_global$1;function merge$1(){const{caseless:t}=isContextDefined(this)&&this||{},e={},r=(n,o)=>{const a=t&&findKey(e,o)||o;isPlainObject$1(e[a])&&isPlainObject$1(n)?e[a]=merge$1(e[a],n):isPlainObject$1(n)?e[a]=merge$1({},n):isArray$4(n)?e[a]=n.slice():e[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&forEach$2(arguments[n],r);return e}const extend=(t,e,r,{allOwnKeys:n}={})=>(forEach$2(e,(o,a)=>{r&&isFunction$3(o)?t[a]=bind$3(o,r):t[a]=o},{allOwnKeys:n}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits$2=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject=(t,e,r,n)=>{let o,a,c;const u={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)c=o[a],(!n||n(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=r!==!1&&getPrototypeOf$1(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},endsWith$2=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},toArray=t=>{if(!t)return null;if(isArray$4(t))return t;let e=t.length;if(!isNumber$1(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},isTypedArray$1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},matchAll=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),hasOwnProperty$4=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),isRegExp$3=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};forEach$2(r,(o,a)=>{let c;(c=e(o,a,t))!==!1&&(n[a]=c||o)}),Object.defineProperties(t,n)},freezeMethods=t=>{reduceDescriptors(t,(e,r)=>{if(isFunction$3(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(!!isFunction$3(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet=(t,e)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return isArray$4(t)?n(t):n(String(t).split(e)),r},noop$3=()=>{},toFiniteNumber=(t,e)=>(t=+t,Number.isFinite(t)?t:e),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET$1={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(t=16,e=ALPHABET$1.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function isSpecCompliantForm(t){return!!(t&&isFunction$3(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const toJSONObject=t=>{const e=new Array(10),r=(n,o)=>{if(isObject$5(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[o]=n;const a=isArray$4(n)?[]:{};return forEach$2(n,(c,u)=>{const gr=r(c,o+1);!isUndefined$1(gr)&&(a[u]=gr)}),e[o]=void 0,a}}return n};return r(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=t=>t&&(isObject$5(t)||isFunction$3(t))&&isFunction$3(t.then)&&isFunction$3(t.catch);var utils$4={isArray:isArray$4,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView:isArrayBufferView$1,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$5,isPlainObject:isPlainObject$1,isUndefined:isUndefined$1,isDate:isDate$2,isFile,isBlob,isRegExp:isRegExp$3,isFunction:isFunction$3,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$2,merge:merge$1,extend,trim,stripBOM,inherits:inherits$2,toFlatObject,kindOf,kindOfTest,endsWith:endsWith$2,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$4,hasOwnProp:hasOwnProperty$4,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$3,toFiniteNumber,findKey,global:_global$1,isContextDefined,ALPHABET:ALPHABET$1,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}utils$4.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$4.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(t,e,r,n,o,a)=>{const c=Object.create(prototype$1);return utils$4.toFlatObject(t,c,function(gr){return gr!==Error.prototype},u=>u!=="isAxiosError"),AxiosError.call(c,t.message,e,r,n,o),c.cause=t,c.name=t.name,a&&Object.assign(c,a),c};var httpAdapter=null;function isVisitable(t){return utils$4.isPlainObject(t)||utils$4.isArray(t)}function removeBrackets(t){return utils$4.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,r){return t?t.concat(e).map(function(o,a){return o=removeBrackets(o),!r&&a?"["+o+"]":o}).join(r?".":""):e}function isFlatArray(t){return utils$4.isArray(t)&&!t.some(isVisitable)}const predicates=utils$4.toFlatObject(utils$4,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(t,e,r){if(!utils$4.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=utils$4.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Ir,xr){return!utils$4.isUndefined(xr[Ir])});const n=r.metaTokens,o=r.visitor||_r,a=r.dots,c=r.indexes,gr=(r.Blob||typeof Blob<"u"&&Blob)&&utils$4.isSpecCompliantForm(e);if(!utils$4.isFunction(o))throw new TypeError("visitor must be a function");function br(Or){if(Or===null)return"";if(utils$4.isDate(Or))return Or.toISOString();if(!gr&&utils$4.isBlob(Or))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$4.isArrayBuffer(Or)||utils$4.isTypedArray(Or)?gr&&typeof Blob=="function"?new Blob([Or]):dist$3.Buffer.from(Or):Or}function _r(Or,Ir,xr){let Lr=Or;if(Or&&!xr&&typeof Or=="object"){if(utils$4.endsWith(Ir,"{}"))Ir=n?Ir:Ir.slice(0,-2),Or=JSON.stringify(Or);else if(utils$4.isArray(Or)&&isFlatArray(Or)||(utils$4.isFileList(Or)||utils$4.endsWith(Ir,"[]"))&&(Lr=utils$4.toArray(Or)))return Ir=removeBrackets(Ir),Lr.forEach(function(Mr,Hr){!(utils$4.isUndefined(Mr)||Mr===null)&&e.append(c===!0?renderKey([Ir],Hr,a):c===null?Ir:Ir+"[]",br(Mr))}),!1}return isVisitable(Or)?!0:(e.append(renderKey(xr,Ir,a),br(Or)),!1)}const Ar=[],vr=Object.assign(predicates,{defaultVisitor:_r,convertValue:br,isVisitable});function Tr(Or,Ir){if(!utils$4.isUndefined(Or)){if(Ar.indexOf(Or)!==-1)throw Error("Circular reference detected in "+Ir.join("."));Ar.push(Or),utils$4.forEach(Or,function(Lr,Fr){(!(utils$4.isUndefined(Lr)||Lr===null)&&o.call(e,Lr,utils$4.isString(Fr)?Fr.trim():Fr,Ir,vr))===!0&&Tr(Lr,Ir?Ir.concat(Fr):[Fr])}),Ar.pop()}}if(!utils$4.isObject(t))throw new TypeError("data must be an object");return Tr(t),e}function encode$5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,r){this._pairs.push([e,r])};prototype.toString=function(e){const r=e?function(n){return e.call(this,n,encode$5)}:encode$5;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function encode$4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(t,e,r){if(!e)return t;const n=r&&r.encode||encode$4,o=r&&r.serialize;let a;if(o?a=o(e,r):a=utils$4.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,r).toString(n),a){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$4.forEach(this.handlers,function(n){n!==null&&e(n)})}}var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$3=typeof Blob<"u"?Blob:null;const isStandardBrowserEnv=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$3},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(t,e){return toFormData(t,new platform.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,a){return platform.isNode&&utils$4.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(t){return utils$4.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},r=Object.keys(t);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],e[a]=t[a];return e}function formDataToJSON(t){function e(r,n,o,a){let c=r[a++];const u=Number.isFinite(+c),gr=a>=r.length;return c=!c&&utils$4.isArray(o)?o.length:c,gr?(utils$4.hasOwnProp(o,c)?o[c]=[o[c],n]:o[c]=n,!u):((!o[c]||!utils$4.isObject(o[c]))&&(o[c]=[]),e(r,n,o[c],a)&&utils$4.isArray(o[c])&&(o[c]=arrayToObject(o[c])),!u)}if(utils$4.isFormData(t)&&utils$4.isFunction(t.entries)){const r={};return utils$4.forEachEntry(t,(n,o)=>{e(parsePropPath(n),o,r,0)}),r}return null}function stringifySafely(t,e,r){if(utils$4.isString(t))try{return(e||JSON.parse)(t),utils$4.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=utils$4.isObject(e);if(a&&utils$4.isHTMLForm(e)&&(e=new FormData(e)),utils$4.isFormData(e))return o&&o?JSON.stringify(formDataToJSON(e)):e;if(utils$4.isArrayBuffer(e)||utils$4.isBuffer(e)||utils$4.isStream(e)||utils$4.isFile(e)||utils$4.isBlob(e))return e;if(utils$4.isArrayBufferView(e))return e.buffer;if(utils$4.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((u=utils$4.isFileList(e))||n.indexOf("multipart/form-data")>-1){const gr=this.env&&this.env.FormData;return toFormData(u?{"files[]":e}:e,gr&&new gr,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const r=this.transitional||defaults$1.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if(e&&utils$4.isString(e)&&(n&&!this.responseType||o)){const c=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?AxiosError.from(u,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$4.forEach(["delete","get","head","post","put","patch"],t=>{defaults$1.headers[t]={}});var defaults$2=defaults$1;const ignoreDuplicateOf=utils$4.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=t=>{const e={};let r,n,o;return t&&t.split(`
`).forEach(function(c){o=c.indexOf(":"),r=c.substring(0,o).trim().toLowerCase(),n=c.substring(o+1).trim(),!(!r||e[r]&&ignoreDuplicateOf[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e};const $internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$4.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,r,n,o){if(utils$4.isFunction(n))return n.call(this,e,r);if(o&&(e=r),!!utils$4.isString(e)){if(utils$4.isString(n))return e.indexOf(n)!==-1;if(utils$4.isRegExp(n))return n.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function buildAccessors(t,e){const r=utils$4.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(o,a,c){return this[n].call(this,e,o,a,c)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,r,n){const o=this;function a(u,gr,br){const _r=normalizeHeader(gr);if(!_r)throw new Error("header name must be a non-empty string");const Ar=utils$4.findKey(o,_r);(!Ar||o[Ar]===void 0||br===!0||br===void 0&&o[Ar]!==!1)&&(o[Ar||gr]=normalizeValue(u))}const c=(u,gr)=>utils$4.forEach(u,(br,_r)=>a(br,_r,gr));return utils$4.isPlainObject(e)||e instanceof this.constructor?c(e,r):utils$4.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?c(parseHeaders(e),r):e!=null&&a(r,e,n),this}get(e,r){if(e=normalizeHeader(e),e){const n=utils$4.findKey(this,e);if(n){const o=this[n];if(!r)return o;if(r===!0)return parseTokens(o);if(utils$4.isFunction(r))return r.call(this,o,n);if(utils$4.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=normalizeHeader(e),e){const n=utils$4.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||matchHeaderValue(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let o=!1;function a(c){if(c=normalizeHeader(c),c){const u=utils$4.findKey(n,c);u&&(!r||matchHeaderValue(n,n[u],u,r))&&(delete n[u],o=!0)}}return utils$4.isArray(e)?e.forEach(a):a(e),o}clear(e){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!e||matchHeaderValue(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const r=this,n={};return utils$4.forEach(this,(o,a)=>{const c=utils$4.findKey(n,a);if(c){r[c]=normalizeValue(o),delete r[a];return}const u=e?formatHeader(a):String(a).trim();u!==a&&delete r[a],r[u]=normalizeValue(o),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return utils$4.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=e&&utils$4.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function a(c){const u=normalizeHeader(c);n[u]||(buildAccessors(o,c),n[u]=!0)}return utils$4.isArray(e)?e.forEach(a):a(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$4.reduceDescriptors(AxiosHeaders.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});utils$4.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(t,e){const r=this||defaults$2,n=e||r,o=AxiosHeaders$1.from(n.headers);let a=n.data;return utils$4.forEach(t,function(u){a=u.call(r,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function isCancel(t){return!!(t&&t.__CANCEL__)}function CanceledError(t,e,r){AxiosError.call(this,t??"canceled",AxiosError.ERR_CANCELED,e,r),this.name="CanceledError"}utils$4.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle$1(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}var cookies=platform.isStandardBrowserEnv?function(){return{write:function(r,n,o,a,c,u){const gr=[];gr.push(r+"="+encodeURIComponent(n)),utils$4.isNumber(o)&&gr.push("expires="+new Date(o).toGMTString()),utils$4.isString(a)&&gr.push("path="+a),utils$4.isString(c)&&gr.push("domain="+c),u===!0&&gr.push("secure"),document.cookie=gr.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e){return t&&!isAbsoluteURL(e)?combineURLs(t,e):e}var isURLSameOrigin=platform.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function o(a){let c=a;return e&&(r.setAttribute("href",c),c=r.href),r.setAttribute("href",c),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=o(window.location.href),function(c){const u=utils$4.isString(c)?o(c):c;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o=0,a=0,c;return e=e!==void 0?e:1e3,function(gr){const br=Date.now(),_r=n[a];c||(c=br),r[o]=gr,n[o]=br;let Ar=a,vr=0;for(;Ar!==o;)vr+=r[Ar++],Ar=Ar%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),br-c<e)return;const Tr=_r&&br-_r;return Tr?Math.round(vr*1e3/Tr):void 0}}function progressEventReducer(t,e){let r=0;const n=speedometer(50,250);return o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,u=a-r,gr=n(u),br=a<=c;r=a;const _r={loaded:a,total:c,progress:c?a/c:void 0,bytes:u,rate:gr||void 0,estimated:gr&&c&&br?(c-a)/gr:void 0,event:o};_r[e?"download":"upload"]=!0,t(_r)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u";var xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(r,n){let o=t.data;const a=AxiosHeaders$1.from(t.headers).normalize(),c=t.responseType;let u;function gr(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let br;utils$4.isFormData(o)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.getContentType(/^\s*multipart\/form-data/)?utils$4.isString(br=a.getContentType())&&a.setContentType(br.replace(/^\s*(multipart\/form-data);+/,"$1")):a.setContentType("multipart/form-data"));let _r=new XMLHttpRequest;if(t.auth){const Or=t.auth.username||"",Ir=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.set("Authorization","Basic "+btoa(Or+":"+Ir))}const Ar=buildFullPath(t.baseURL,t.url);_r.open(t.method.toUpperCase(),buildURL(Ar,t.params,t.paramsSerializer),!0),_r.timeout=t.timeout;function vr(){if(!_r)return;const Or=AxiosHeaders$1.from("getAllResponseHeaders"in _r&&_r.getAllResponseHeaders()),xr={data:!c||c==="text"||c==="json"?_r.responseText:_r.response,status:_r.status,statusText:_r.statusText,headers:Or,config:t,request:_r};settle$1(function(Fr){r(Fr),gr()},function(Fr){n(Fr),gr()},xr),_r=null}if("onloadend"in _r?_r.onloadend=vr:_r.onreadystatechange=function(){!_r||_r.readyState!==4||_r.status===0&&!(_r.responseURL&&_r.responseURL.indexOf("file:")===0)||setTimeout(vr)},_r.onabort=function(){!_r||(n(new AxiosError("Request aborted",AxiosError.ECONNABORTED,t,_r)),_r=null)},_r.onerror=function(){n(new AxiosError("Network Error",AxiosError.ERR_NETWORK,t,_r)),_r=null},_r.ontimeout=function(){let Ir=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const xr=t.transitional||transitionalDefaults;t.timeoutErrorMessage&&(Ir=t.timeoutErrorMessage),n(new AxiosError(Ir,xr.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,t,_r)),_r=null},platform.isStandardBrowserEnv){const Or=isURLSameOrigin(Ar)&&t.xsrfCookieName&&cookies.read(t.xsrfCookieName);Or&&a.set(t.xsrfHeaderName,Or)}o===void 0&&a.setContentType(null),"setRequestHeader"in _r&&utils$4.forEach(a.toJSON(),function(Ir,xr){_r.setRequestHeader(xr,Ir)}),utils$4.isUndefined(t.withCredentials)||(_r.withCredentials=!!t.withCredentials),c&&c!=="json"&&(_r.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&_r.addEventListener("progress",progressEventReducer(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&_r.upload&&_r.upload.addEventListener("progress",progressEventReducer(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=Or=>{!_r||(n(!Or||Or.type?new CanceledError(null,t,_r):Or),_r.abort(),_r=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const Tr=parseProtocol(Ar);if(Tr&&platform.protocols.indexOf(Tr)===-1){n(new AxiosError("Unsupported protocol "+Tr+":",AxiosError.ERR_BAD_REQUEST,t));return}_r.send(o||null)})};const knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$4.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$4.isFunction(t)||t===null||t===!1;var adapters={getAdapter:t=>{t=utils$4.isArray(t)?t:[t];const{length:e}=t;let r,n;const o={};for(let a=0;a<e;a++){r=t[a];let c;if(n=r,!isResolvedHandle(r)&&(n=knownAdapters[(c=String(r)).toLowerCase()],n===void 0))throw new AxiosError(`Unknown adapter '${c}'`);if(n)break;o[c||"#"+a]=n}if(!n){const a=Object.entries(o).map(([u,gr])=>`adapter ${u} `+(gr===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(renderReason).join(`
`):" "+renderReason(a[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return n},adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults$2.adapter)(t).then(function(n){return throwIfCancellationRequested(t),n.data=transformData.call(t,t.transformResponse,n),n.headers=AxiosHeaders$1.from(n.headers),n},function(n){return isCancel(n)||(throwIfCancellationRequested(t),n&&n.response&&(n.response.data=transformData.call(t,t.transformResponse,n.response),n.response.headers=AxiosHeaders$1.from(n.response.headers))),Promise.reject(n)})}const headersToObject=t=>t instanceof AxiosHeaders$1?t.toJSON():t;function mergeConfig(t,e){e=e||{};const r={};function n(br,_r,Ar){return utils$4.isPlainObject(br)&&utils$4.isPlainObject(_r)?utils$4.merge.call({caseless:Ar},br,_r):utils$4.isPlainObject(_r)?utils$4.merge({},_r):utils$4.isArray(_r)?_r.slice():_r}function o(br,_r,Ar){if(utils$4.isUndefined(_r)){if(!utils$4.isUndefined(br))return n(void 0,br,Ar)}else return n(br,_r,Ar)}function a(br,_r){if(!utils$4.isUndefined(_r))return n(void 0,_r)}function c(br,_r){if(utils$4.isUndefined(_r)){if(!utils$4.isUndefined(br))return n(void 0,br)}else return n(void 0,_r)}function u(br,_r,Ar){if(Ar in e)return n(br,_r);if(Ar in t)return n(void 0,br)}const gr={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(br,_r)=>o(headersToObject(br),headersToObject(_r),!0)};return utils$4.forEach(Object.keys(Object.assign({},t,e)),function(_r){const Ar=gr[_r]||o,vr=Ar(t[_r],e[_r],_r);utils$4.isUndefined(vr)&&Ar!==u||(r[_r]=vr)}),r}const VERSION="1.6.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(e,r,n){function o(a,c){return"[Axios v"+VERSION+"] Transitional option '"+a+"'"+c+(n?". "+n:"")}return(a,c,u)=>{if(e===!1)throw new AxiosError(o(c," has been removed"+(r?" in "+r:"")),AxiosError.ERR_DEPRECATED);return r&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(o(c," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,c,u):!0}};function assertOptions(t,e,r){if(typeof t!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const a=n[o],c=e[a];if(c){const u=t[a],gr=u===void 0||c(u,a,t);if(gr!==!0)throw new AxiosError("option "+a+" must be "+gr,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new AxiosError("Unknown option "+a,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=mergeConfig(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&validator.assertOptions(n,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$4.isFunction(o)?r.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=a&&utils$4.merge(a.common,a[r.method]);a&&utils$4.forEach(["delete","get","head","post","put","patch","common"],Or=>{delete a[Or]}),r.headers=AxiosHeaders$1.concat(c,a);const u=[];let gr=!0;this.interceptors.request.forEach(function(Ir){typeof Ir.runWhen=="function"&&Ir.runWhen(r)===!1||(gr=gr&&Ir.synchronous,u.unshift(Ir.fulfilled,Ir.rejected))});const br=[];this.interceptors.response.forEach(function(Ir){br.push(Ir.fulfilled,Ir.rejected)});let _r,Ar=0,vr;if(!gr){const Or=[dispatchRequest.bind(this),void 0];for(Or.unshift.apply(Or,u),Or.push.apply(Or,br),vr=Or.length,_r=Promise.resolve(r);Ar<vr;)_r=_r.then(Or[Ar++],Or[Ar++]);return _r}vr=u.length;let Tr=r;for(Ar=0;Ar<vr;){const Or=u[Ar++],Ir=u[Ar++];try{Tr=Or(Tr)}catch(xr){Ir.call(this,xr);break}}try{_r=dispatchRequest.call(this,Tr)}catch(Or){return Promise.reject(Or)}for(Ar=0,vr=br.length;Ar<vr;)_r=_r.then(br[Ar++],br[Ar++]);return _r}getUri(e){e=mergeConfig(this.defaults,e);const r=buildFullPath(e.baseURL,e.url);return buildURL(r,e.params,e.paramsSerializer)}}utils$4.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(r,n){return this.request(mergeConfig(n||{},{method:e,url:r,data:(n||{}).data}))}});utils$4.forEach(["post","put","patch"],function(e){function r(n){return function(a,c,u){return this.request(mergeConfig(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Axios.prototype[e]=r(),Axios.prototype[e+"Form"]=r(!0)});var Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(u=>{n.subscribe(u),a=u}).then(o);return c.cancel=function(){n.unsubscribe(a)},c},e(function(a,c,u){n.reason||(n.reason=new CanceledError(a,c,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new CancelToken(function(o){e=o}),cancel:e}}}var CancelToken$1=CancelToken;function spread(t){return function(r){return t.apply(null,r)}}function isAxiosError(t){return utils$4.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([t,e])=>{HttpStatusCode[e]=t});var HttpStatusCode$1=HttpStatusCode;function createInstance(t){const e=new Axios$1(t),r=bind$3(Axios$1.prototype.request,e);return utils$4.extend(r,Axios$1.prototype,e,{allOwnKeys:!0}),utils$4.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return createInstance(mergeConfig(t,o))},r}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=t=>formDataToJSON(utils$4.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;var axios$1=axios;const STARATLASAPI_URL="https://galaxy.staratlas.com/nfts",WHITELIST_CREATOR_WALLET=new PublicKey$3("adm1rpWxyo8u9y2Q2wxxfqaVDLE2gD1N9PbZbbhokTP"),FEE_WALLET=new PublicKey$3("feeW4D5WBZQEk6QtoSrw2KjZF45d7LBK9oCGuczKW2G"),SERVICE_FEE=1e5,RAFLLE_WHITELIST_NAME="Crew",useGlobalStore=defineStore("globalstore",{state:()=>({admins:"adm1rpWxyo8u9y2Q2wxxfqaVDLE2gD1N9PbZbbhokTP,3x5vrFFTspsicxrYHMA8SNVW71RMhVkALemXrJFfeQo1,756pfnvP3HHRx1BPwBPQwe1xBMfMWef5N9oN61Ews7np".split(","),token_list:[]}),getters:{is_admin(t){return t.admins.some(e=>{var r;return e===((r=useWallet().publicKey.value)==null?void 0:r.toString())})}},actions:{async load_token_list(){const t=(await axios$1.get("https://token-list-api.solana.cloud/v1/list")).data;this.token_list=t.content,(await axios$1.get(STARATLASAPI_URL)).data.forEach(r=>this.token_list.push({name:r.name,address:r.mint,chainId:0,decimals:0,extensions:void 0,holders:null,logoURI:r.image,symbol:r.symbol,tags:[],verified:!0}))}}});function useQuasar(){return inject(quasarKey)}var _a;const isBrowser$1={}.ANCHOR_BROWSER||typeof window<"u"&&!(!((_a=window.process)===null||_a===void 0)&&_a.hasOwnProperty("type"));function chunks(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map((r,n)=>t.slice(n*e,(n+1)*e))}const isVersionedTransaction=t=>"version"in t;function decode$3(t){return(isBrowser$1?new TextDecoder("utf-8"):new(require("util")).TextDecoder("utf-8")).decode(t)}function encode$3(t){return(isBrowser$1?new TextEncoder:new(require("util")).TextEncoder("utf-8")).encode(t)}function encode$2(t){return bs58$3.encode(t)}function encode$1(t){return t.toString("base64")}function decode$2(t){return bufferPolyfill.Buffer.from(t,"base64")}var camelcase$1={exports:{}};const UPPERCASE=/[\p{Lu}]/u,LOWERCASE=/[\p{Ll}]/u,LEADING_CAPITAL=/^[\p{Lu}](?![\p{Lu}])/gu,IDENTIFIER=/([\p{Alpha}\p{N}_]|$)/u,SEPARATORS=/[_.\- ]+/,LEADING_SEPARATORS=new RegExp("^"+SEPARATORS.source),SEPARATORS_AND_IDENTIFIER=new RegExp(SEPARATORS.source+IDENTIFIER.source,"gu"),NUMBERS_AND_IDENTIFIER=new RegExp("\\d+"+IDENTIFIER.source,"gu"),preserveCamelCase$1=(t,e,r)=>{let n=!1,o=!1,a=!1;for(let c=0;c<t.length;c++){const u=t[c];n&&UPPERCASE.test(u)?(t=t.slice(0,c)+"-"+t.slice(c),n=!1,a=o,o=!0,c++):o&&a&&LOWERCASE.test(u)?(t=t.slice(0,c-1)+"-"+t.slice(c-1),a=o,o=!1,n=!0):(n=e(u)===u&&r(u)!==u,a=o,o=r(u)===u&&e(u)!==u)}return t},preserveConsecutiveUppercase=(t,e)=>(LEADING_CAPITAL.lastIndex=0,t.replace(LEADING_CAPITAL,r=>e(r))),postProcess=(t,e)=>(SEPARATORS_AND_IDENTIFIER.lastIndex=0,NUMBERS_AND_IDENTIFIER.lastIndex=0,t.replace(SEPARATORS_AND_IDENTIFIER,(r,n)=>e(n)).replace(NUMBERS_AND_IDENTIFIER,r=>e(r))),camelCase$1=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(t)?t=t.map(a=>a.trim()).filter(a=>a.length).join("-"):t=t.trim(),t.length===0)return"";const r=e.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(e.locale),n=e.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(e.locale);return t.length===1?e.pascalCase?n(t):r(t):(t!==r(t)&&(t=preserveCamelCase$1(t,r,n)),t=t.replace(LEADING_SEPARATORS,""),e.preserveConsecutiveUppercase?t=preserveConsecutiveUppercase(t,r):t=r(t),e.pascalCase&&(t=n(t.charAt(0))+t.slice(1)),postProcess(t,n))};camelcase$1.exports=camelCase$1;camelcase$1.exports.default=camelCase$1;var camelCase$2=camelcase$1.exports,dist$2={},Layout$2={};class Layout$1{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}var Layout_2=Layout$2.Layout=Layout$1;function nameWithProperty$1(t,e){return e.property?t+"["+e.property+"]":t}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value:function(r,n){return e.decode(r,n)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;class ExternalLayout$1 extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout$1{constructor(e,r){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r){r===void 0&&(r=0);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}class OffsetLayout extends ExternalLayout$1{constructor(e,r,n){if(!(e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}}class UInt$1 extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class UIntBE extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}class Int extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntLE(e,n,this.span),this.span}}class IntBE extends Layout$1{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeIntBE(e,n,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(t){const e=Math.floor(t/V2E32),r=t-e*V2E32;return{hi32:e,lo32:r}}function roundedInt64(t,e){return t*V2E32+e}class NearUInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),o=e.readUInt32LE(r+4);return roundedInt64(o,n)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeUInt32LE(o.lo32,n),r.writeUInt32LE(o.hi32,n+4),8}}class NearUInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32BE(r),o=e.readUInt32BE(r+4);return roundedInt64(n,o)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeUInt32BE(o.hi32,n),r.writeUInt32BE(o.lo32,n+4),8}}class NearInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r),o=e.readInt32LE(r+4);return roundedInt64(o,n)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeUInt32LE(o.lo32,n),r.writeInt32LE(o.hi32,n+4),8}}class NearInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readInt32BE(r),o=e.readUInt32BE(r+4);return roundedInt64(n,o)}encode(e,r,n){n===void 0&&(n=0);const o=divmodInt64(e);return r.writeInt32BE(o.hi32,n),r.writeUInt32BE(o.lo32,n+4),8}}class Float extends Layout$1{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatLE(e,n),4}}class FloatBE extends Layout$1{constructor(e){super(4,e)}decode(e,r){return r===void 0&&(r=0),e.readFloatBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeFloatBE(e,n),4}}class Double extends Layout$1{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleLE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleLE(e,n),8}}class DoubleBE extends Layout$1{constructor(e){super(8,e)}decode(e,r){return r===void 0&&(r=0),e.readDoubleBE(r)}encode(e,r,n){return n===void 0&&(n=0),r.writeDoubleBE(e,n),8}}class Sequence extends Layout$1{constructor(e,r,n){if(!(e instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof ExternalLayout$1&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(r instanceof ExternalLayout$1)&&0<e.span&&(o=r*e.span),super(o,n),this.elementLayout=e,this.count=r}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0,o=this.count;if(o instanceof ExternalLayout$1&&(o=o.decode(e,r)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let a=0;for(;a<o;)n+=this.elementLayout.getSpan(e,r+n),++a}return n}decode(e,r){r===void 0&&(r=0);const n=[];let o=0,a=this.count;for(a instanceof ExternalLayout$1&&(a=a.decode(e,r));o<a;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),o+=1;return n}encode(e,r,n){n===void 0&&(n=0);const o=this.elementLayout,a=e.reduce((c,u)=>c+o.encode(u,r,n+c),0);return this.count instanceof ExternalLayout$1&&this.count.encode(e.length,r,n),a}}class Structure$1 extends Layout$1{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((a,c)=>a&&c instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((a,c)=>a+c.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((o,a)=>{const c=a.getSpan(e,r);return r+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const o=n;let a=0,c=0;for(const u of this.fields){let gr=u.span;if(c=0<gr?gr:0,u.property!==void 0){const br=e[u.property];br!==void 0&&(c=u.encode(br,r,n),0>gr&&(gr=u.getSpan(r,n)))}a=n,n+=gr}return a+c-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class UnionDiscriminator{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(e,r){if(!(e instanceof ExternalLayout$1&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class Union extends Layout$1{constructor(e,r,n){const o=e instanceof UInt$1||e instanceof UIntBE;if(o)e=new UnionLayoutDiscriminator(new OffsetLayout(e));else if(e instanceof ExternalLayout$1&&e.isCount())e=new UnionLayoutDiscriminator(e);else if(!(e instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let a=-1;r&&(a=r.span,0<=a&&o&&(a+=e.layout.span)),super(a,n),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=r,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){r===void 0&&(r=0);let n;const o=this.discriminator,a=o.decode(e,r);let c=this.registry[a];if(c===void 0){let u=0;c=this.defaultLayout,this.usesPrefixDiscriminator&&(u=o.layout.span),n=this.makeDestinationObject(),n[o.property]=a,n[c.property]=this.defaultLayout.decode(e,r+u)}else n=c.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const o=this.getSourceVariant(e);if(o===void 0){const a=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=a.layout.span),a.encode(e[a.property],r,n),u+c.encode(e[c.property],r,n+u)}return o.encode(e,r,n)}addVariant(e,r,n){const o=new VariantLayout(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r){let n=e;return dist$3.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class VariantLayout extends Layout$1{constructor(e,r,n,o){if(!(e instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=n?n.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let a=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),a+=this.layout.getSpan(r,n+o),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function fixBitwiseResult(t){return 0>t&&(t+=4294967296),t}class BitStructure extends Layout$1{constructor(e,r,n){if(!(e instanceof UInt$1||e instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let o=0;this._packedSetValue=function(a){return o=fixBitwiseResult(a),this},this._packedGetValue=function(){return o}}decode(e,r){const n=this.makeDestinationObject();r===void 0&&(r=0);const o=this.word.decode(e,r);this._packedSetValue(o);for(const a of this.fields)a.property!==void 0&&(n[a.property]=a.decode(o));return n}encode(e,r,n){n===void 0&&(n=0);const o=this.word.decode(r,n);this._packedSetValue(o);for(const a of this.fields)if(a.property!==void 0){const c=e[a.property];c!==void 0&&a.encode(c)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new BitField(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new Boolean$1(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}class BitField{constructor(e,r,n){if(!(e instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const o=8*e.span,a=e.fields.reduce((c,u)=>c+u.bits,0);if(r+a>o)throw new Error("bits too long for span remainder ("+(o-a)+" of "+o+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=a,this.container.msb&&(this.start=o-a-r),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=n}decode(){const e=this.container._packedGetValue();return fixBitwiseResult(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==fixBitwiseResult(e&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=fixBitwiseResult(e<<this.start);this.container._packedSetValue(fixBitwiseResult(r&~this.wordMask)|n)}}class Boolean$1 extends BitField{constructor(e,r){super(e,1,r)}decode(e,r){return!!BitField.prototype.decode.call(this,e,r)}encode(e){return typeof e=="boolean"&&(e=+e),BitField.prototype.encode.call(this,e)}}class Blob$2 extends Layout$1{constructor(e,r){if(!(e instanceof ExternalLayout$1&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout$1||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof ExternalLayout$1&&(o=e.length),!(dist$3.Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(o,r,n),o}}class CString extends Layout$1{constructor(e){super(-1,e)}getSpan(e,r){if(!dist$3.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");r===void 0&&(r=0);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r,n){r===void 0&&(r=0);let o=this.getSpan(e,r);return e.slice(r,r+o-1).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const o=new dist$3.Buffer(e,"utf8"),a=o.length;if(n+a>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(r,n),r[n+a]=0,a+1}}class UTF8 extends Layout$1{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r){if(!dist$3.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return r===void 0&&(r=0),e.length-r}decode(e,r,n){r===void 0&&(r=0);let o=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");return e.slice(r,r+o).toString("utf-8")}encode(e,r,n){n===void 0&&(n=0),typeof e!="string"&&(e=e.toString());const o=new dist$3.Buffer(e,"utf8"),a=o.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(n+a>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(r,n),a}}class Constant extends Layout$1{constructor(e,r){super(0,r),this.value=e}decode(e,r,n){return this.value}encode(e,r,n){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$2.Union=Union;Layout$2.VariantLayout=VariantLayout;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(t,e)=>new GreedyCount(t,e);var offset=Layout$2.offset=(t,e,r)=>new OffsetLayout(t,e,r),u8$1=Layout$2.u8=t=>new UInt$1(1,t);Layout$2.u16=t=>new UInt$1(2,t);Layout$2.u24=t=>new UInt$1(3,t);var u32$1=Layout$2.u32=t=>new UInt$1(4,t);Layout$2.u40=t=>new UInt$1(5,t);Layout$2.u48=t=>new UInt$1(6,t);var nu64=Layout$2.nu64=t=>new NearUInt64(t);Layout$2.u16be=t=>new UIntBE(2,t);Layout$2.u24be=t=>new UIntBE(3,t);Layout$2.u32be=t=>new UIntBE(4,t);Layout$2.u40be=t=>new UIntBE(5,t);Layout$2.u48be=t=>new UIntBE(6,t);Layout$2.nu64be=t=>new NearUInt64BE(t);Layout$2.s8=t=>new Int(1,t);Layout$2.s16=t=>new Int(2,t);Layout$2.s24=t=>new Int(3,t);Layout$2.s32=t=>new Int(4,t);Layout$2.s40=t=>new Int(5,t);Layout$2.s48=t=>new Int(6,t);var ns64=Layout$2.ns64=t=>new NearInt64(t);Layout$2.s16be=t=>new IntBE(2,t);Layout$2.s24be=t=>new IntBE(3,t);Layout$2.s32be=t=>new IntBE(4,t);Layout$2.s40be=t=>new IntBE(5,t);Layout$2.s48be=t=>new IntBE(6,t);Layout$2.ns64be=t=>new NearInt64BE(t);Layout$2.f32=t=>new Float(t);Layout$2.f32be=t=>new FloatBE(t);Layout$2.f64=t=>new Double(t);Layout$2.f64be=t=>new DoubleBE(t);var struct$2=Layout$2.struct=(t,e,r)=>new Structure$1(t,e,r);Layout$2.bits=(t,e,r)=>new BitStructure(t,e,r);Layout$2.seq=(t,e,r)=>new Sequence(t,e,r);var union$2=Layout$2.union=(t,e,r)=>new Union(t,e,r);Layout$2.unionLayoutDiscriminator=(t,e)=>new UnionLayoutDiscriminator(t,e);var blob$1=Layout$2.blob=(t,e)=>new Blob$2(t,e);Layout$2.cstr=t=>new CString(t);Layout$2.utf8=(t,e)=>new UTF8(t,e);Layout$2.const=(t,e)=>new Constant(t,e);var require$$0$2=getAugmentedNamespace(index_browser_esm$2);(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(cn){return cn&&cn.__esModule?cn:{default:cn}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i256=t.u256=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const r=Layout$2,n=require$$0$2,o=e(bn.exports);var a=Layout$2;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return a.struct}});class c extends r.Layout{constructor(Ur,Rr,Pr){super(Ur,Pr),this.blob=(0,r.blob)(Ur),this.signed=Rr}decode(Ur,Rr=0){const Pr=new o.default(this.blob.decode(Ur,Rr),10,"le");return this.signed?Pr.fromTwos(this.span*8).clone():Pr}encode(Ur,Rr,Pr=0){return this.signed&&(Ur=Ur.toTwos(this.span*8)),this.blob.encode(Ur.toArrayLike(dist$3.Buffer,"le",this.span),Rr,Pr)}}function u(cn){return new c(8,!1,cn)}t.u64=u;function gr(cn){return new c(8,!0,cn)}t.i64=gr;function br(cn){return new c(16,!1,cn)}t.u128=br;function _r(cn){return new c(16,!0,cn)}t.i128=_r;function Ar(cn){return new c(32,!1,cn)}t.u256=Ar;function vr(cn){return new c(32,!0,cn)}t.i256=vr;class Tr extends r.Layout{constructor(Ur,Rr,Pr,Dr){super(Ur.span,Dr),this.layout=Ur,this.decoder=Rr,this.encoder=Pr}decode(Ur,Rr){return this.decoder(this.layout.decode(Ur,Rr))}encode(Ur,Rr,Pr){return this.layout.encode(this.encoder(Ur),Rr,Pr)}getSpan(Ur,Rr){return this.layout.getSpan(Ur,Rr)}}function Or(cn){return new Tr((0,r.blob)(32),Ur=>new n.PublicKey(Ur),Ur=>Ur.toBuffer(),cn)}t.publicKey=Or;class Ir extends r.Layout{constructor(Ur,Rr){super(-1,Rr),this.layout=Ur,this.discriminator=(0,r.u8)()}encode(Ur,Rr,Pr=0){return Ur==null?this.discriminator.encode(0,Rr,Pr):(this.discriminator.encode(1,Rr,Pr),this.layout.encode(Ur,Rr,Pr+1)+1)}decode(Ur,Rr=0){const Pr=this.discriminator.decode(Ur,Rr);if(Pr===0)return null;if(Pr===1)return this.layout.decode(Ur,Rr+1);throw new Error("Invalid option "+this.property)}getSpan(Ur,Rr=0){const Pr=this.discriminator.decode(Ur,Rr);if(Pr===0)return 1;if(Pr===1)return this.layout.getSpan(Ur,Rr+1)+1;throw new Error("Invalid option "+this.property)}}function xr(cn,Ur){return new Ir(cn,Ur)}t.option=xr;function Lr(cn){return new Tr((0,r.u8)(),Fr,Mr,cn)}t.bool=Lr;function Fr(cn){if(cn===0)return!1;if(cn===1)return!0;throw new Error("Invalid bool: "+cn)}function Mr(cn){return cn?1:0}function Hr(cn,Ur){const Rr=(0,r.u32)("length"),Pr=(0,r.struct)([Rr,(0,r.seq)(cn,(0,r.offset)(Rr,-Rr.span),"values")]);return new Tr(Pr,({values:Dr})=>Dr,Dr=>({values:Dr}),Ur)}t.vec=Hr;function Vr(cn,Ur,Rr){const Pr=(0,r.struct)([u("tag"),Ur.replicate("data")]);function Dr({tag:Yr,data:Zr}){if(!Yr.eq(cn))throw new Error("Invalid tag, expected: "+cn.toString("hex")+", got: "+Yr.toString("hex"));return Zr}return new Tr(Pr,Dr,Yr=>({tag:cn,data:Yr}),Rr)}t.tagged=Vr;function Kr(cn){const Ur=(0,r.u32)("length"),Rr=(0,r.struct)([Ur,(0,r.blob)((0,r.offset)(Ur,-Ur.span),"data")]);return new Tr(Rr,({data:Pr})=>Pr,Pr=>({data:Pr}),cn)}t.vecU8=Kr;function jr(cn){return new Tr(Kr(),Ur=>Ur.toString("utf-8"),Ur=>dist$3.Buffer.from(Ur,"utf-8"),cn)}t.str=jr;function qr(cn,Ur,Rr){const Pr=(0,r.union)(Rr??(0,r.u8)(),Ur);return cn.forEach((Dr,Yr)=>Pr.addVariant(Yr,Dr,Dr.property)),Pr}t.rustEnum=qr;function tn(cn,Ur,Rr){const Pr=(0,r.struct)([(0,r.seq)(cn,Ur,"values")]);return new Tr(Pr,({values:Dr})=>Dr,Dr=>({values:Dr}),Rr)}t.array=tn;class en extends r.Layout{constructor(Ur,Rr,Pr){super(Ur.span+Rr.span,Pr),this.keyLayout=Ur,this.valueLayout=Rr}decode(Ur,Rr){Rr=Rr||0;const Pr=this.keyLayout.decode(Ur,Rr),Dr=this.valueLayout.decode(Ur,Rr+this.keyLayout.getSpan(Ur,Rr));return[Pr,Dr]}encode(Ur,Rr,Pr){Pr=Pr||0;const Dr=this.keyLayout.encode(Ur[0],Rr,Pr),Yr=this.valueLayout.encode(Ur[1],Rr,Pr+Dr);return Dr+Yr}getSpan(Ur,Rr){return this.keyLayout.getSpan(Ur,Rr)+this.valueLayout.getSpan(Ur,Rr)}}function sn(cn,Ur,Rr){const Pr=(0,r.u32)("length"),Dr=(0,r.struct)([Pr,(0,r.seq)(new en(cn,Ur),(0,r.offset)(Pr,-Pr.span),"values")]);return new Tr(Dr,({values:Yr})=>new Map(Yr),Yr=>({values:Array.from(Yr.entries())}),Rr)}t.map=sn})(dist$2);function isCompositeAccounts(t){return"accounts"in t}async function idlAddress(t){const e=(await PublicKey$3.findProgramAddress([],t))[0];return await PublicKey$3.createWithSeed(e,seed(),t)}function seed(){return"anchor:idl"}const IDL_ACCOUNT_LAYOUT=dist$2.struct([dist$2.publicKey("authority"),dist$2.vecU8("data")]);function decodeIdlAccount(t){return IDL_ACCOUNT_LAYOUT.decode(t)}function convertIdlToCamelCase(t){const e=["name","path","account","relations","generic"],r=a=>a.split(".").map(camelCase$2).join("."),n=a=>{for(const c in a){const u=a[c];e.includes(c)?a[c]=Array.isArray(u)?u.map(r):r(u):typeof u=="object"&&n(u)}},o=structuredClone(t);return n(o),o}function handleDefinedFields(t,e,r,n){return t!=null&&t.length?t[0].name?r(t):n(t):e()}function parseIdlErrors(t){const e=new Map;return t.errors&&t.errors.forEach(r=>{var n;let o=(n=r.msg)!==null&&n!==void 0?n:r.name;e.set(r.code,o)}),e}function toInstruction(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach(o=>{r[o.name]=e[n],n+=1}),r}function validateAccounts(t,e={}){t.forEach(r=>{if(isCompositeAccounts(r))validateAccounts(r.accounts,e[r.name]);else if(!e[r.name])throw new Error(`Account \`${r.name}\` not provided.`)})}function translateAddress(t){return t instanceof PublicKey$3?t:new PublicKey$3(t)}class StructError$1 extends TypeError{constructor(e,r){let n;const{message:o,...a}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var gr;return(gr=n)!=null?gr:n=[e,...r()]}}}function isIterable$1(t){return isObject$4(t)&&typeof t[Symbol.iterator]=="function"}function isObject$4(t){return typeof t=="object"&&t!=null}function print$1(t){return typeof t=="string"?JSON.stringify(t):""+t}function shiftIterator$1(t){const{done:e,value:r}=t.next();return e?void 0:r}function toFailure$1(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:a}=e,{type:c}=r,{refinement:u,message:gr="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+print$1(n)+"`"}=t;return{value:n,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...t,message:gr}}function*toFailures$1(t,e,r,n){isIterable$1(t)||(t=[t]);for(const o of t){const a=toFailure$1(o,e,r,n);a&&(yield a)}}function*run$2(t,e,r){r===void 0&&(r={});const{path:n=[],branch:o=[t],coerce:a=!1,mask:c=!1}=r,u={path:n,branch:o};if(a&&(t=e.coercer(t,u),c&&e.type!=="type"&&isObject$4(e.schema)&&isObject$4(t)&&!Array.isArray(t)))for(const br in t)e.schema[br]===void 0&&delete t[br];let gr=!0;for(const br of e.validator(t,u))gr=!1,yield[br,void 0];for(let[br,_r,Ar]of e.entries(t,u)){const vr=run$2(_r,Ar,{path:br===void 0?n:[...n,br],branch:br===void 0?o:[...o,_r],coerce:a,mask:c});for(const Tr of vr)Tr[0]?(gr=!1,yield[Tr[0],void 0]):a&&(_r=Tr[1],br===void 0?t=_r:t instanceof Map?t.set(br,_r):t instanceof Set?t.add(_r):isObject$4(t)&&(t[br]=_r))}if(gr)for(const br of e.refiner(t,u))gr=!1,yield[br,void 0];gr&&(yield[void 0,t])}class Struct$4{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:r,schema:n,validator:o,refiner:a,coercer:c=gr=>gr,entries:u=function*(){}}=e;this.type=r,this.schema=n,this.entries=u,this.coercer=c,o?this.validator=(gr,br)=>{const _r=o(gr,br);return toFailures$1(_r,br,this,gr)}:this.validator=()=>[],a?this.refiner=(gr,br)=>{const _r=a(gr,br);return toFailures$1(_r,br,this,gr)}:this.refiner=()=>[]}assert(e){return assert$9(e,this)}create(e){return create$1(e,this)}is(e){return is$1(e,this)}mask(e){return mask$1(e,this)}validate(e,r){return r===void 0&&(r={}),validate$1(e,this,r)}}function assert$9(t,e){const r=validate$1(t,e);if(r[0])throw r[0]}function create$1(t,e){const r=validate$1(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function mask$1(t,e){const r=validate$1(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function is$1(t,e){return!validate$1(t,e)[0]}function validate$1(t,e,r){r===void 0&&(r={});const n=run$2(t,e,r),o=shiftIterator$1(n);if(o[0])return[new StructError$1(o[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$6(t,e){return new Struct$4({type:t,schema:null,validator:e})}function any$1(){return define$6("any",()=>!0)}function array$2(t){return new Struct$4({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print$1(e)}})}function boolean$1(){return define$6("boolean",t=>typeof t=="boolean")}function literal$1(t){const e=print$1(t),r=typeof t;return new Struct$4({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+print$1(n)}})}function nullable$1(t){return new Struct$4({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function number$2(){return define$6("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+print$1(t))}function optional$1(t){return new Struct$4({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function string$2(){return define$6("string",t=>typeof t=="string"||"Expected a string, but received: "+print$1(t))}function type$1(t){const e=Object.keys(t);return new Struct$4({type:"type",schema:t,*entries(r){if(isObject$4(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return isObject$4(r)||"Expected an object, but received: "+print$1(r)}})}function union$1(t){const e=t.map(r=>r.type).join(" | ");return new Struct$4({type:"union",schema:null,coercer(r,n){return(t.find(a=>{const[c]=a.validate(r,{coerce:!0});return!c})||unknown$1()).coercer(r,n)},validator(r,n){const o=[];for(const a of t){const[...c]=run$2(r,a,n),[u]=c;if(u[0])for(const[gr]of c)gr&&o.push(gr);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print$1(r),...o]}})}function unknown$1(){return define$6("unknown",()=>!0)}function coerce$1(t,e,r){return new Struct$4({...t,coercer:(n,o)=>is$1(n,e)?t.coercer(r(n,o),o):t.coercer(n,o)})}const GET_MULTIPLE_ACCOUNTS_LIMIT=99;async function getMultipleAccountsAndContext(t,e,r){if(e.length<=GET_MULTIPLE_ACCOUNTS_LIMIT)return await getMultipleAccountsAndContextCore(t,e,r);{const n=chunks(e,GET_MULTIPLE_ACCOUNTS_LIMIT);return(await Promise.all(n.map(a=>getMultipleAccountsAndContextCore(t,a,r)))).flat()}}async function getMultipleAccountsAndContextCore(t,e,r){const n=r??t.commitment,{value:o,context:a}=await t.getMultipleAccountsInfoAndContext(e,n);return o.map((u,gr)=>u===null?null:{publicKey:e[gr],account:u,context:a})}async function simulateTransaction(t,e,r,n,o){var a;r&&r.length>0&&e.sign(...r);const c=e._compile(),u=c.serialize(),br=e._serialize(u).toString("base64"),_r={encoding:"base64",commitment:n??t.commitment};if(o){const Or=(Array.isArray(o)?o:c.nonProgramIds()).map(Ir=>Ir.toBase58());_r.accounts={encoding:"base64",addresses:Or}}r&&r.length>0&&(_r.sigVerify=!0);const Ar=[br,_r],vr=await t._rpcRequest("simulateTransaction",Ar),Tr=create$1(vr,SimulatedTransactionResponseStruct$1);if("error"in Tr){let Or;if("data"in Tr.error&&(Or=(a=Tr.error.data)===null||a===void 0?void 0:a.logs,Or&&Array.isArray(Or))){const Ir=`
    `,xr=Ir+Or.join(Ir);console.error(Tr.error.message,xr)}throw new SendTransactionError$1("failed to simulate transaction: "+Tr.error.message,Or)}return Tr.result}function jsonRpcResult$3(t){return coerce$1(createRpcResult$3(t),UnknownRpcResult$3,e=>"error"in e?e:{...e,result:create$1(e.result,t)})}const UnknownRpcResult$3=createRpcResult$3(unknown$1());function createRpcResult$3(t){return union$1([type$1({jsonrpc:literal$1("2.0"),id:string$2(),result:t}),type$1({jsonrpc:literal$1("2.0"),id:string$2(),error:type$1({code:unknown$1(),message:string$2(),data:optional$1(any$1())})})])}function jsonRpcResultAndContext$3(t){return jsonRpcResult$3(type$1({context:type$1({slot:number$2()}),value:t}))}const SimulatedTransactionResponseStruct$1=jsonRpcResultAndContext$3(type$1({err:nullable$1(union$1([type$1({}),string$2()])),logs:nullable$1(array$2(string$2())),accounts:optional$1(nullable$1(array$2(nullable$1(type$1({executable:boolean$1(),owner:string$2(),lamports:number$2(),data:array$2(string$2()),rentEpoch:optional$1(number$2())}))))),unitsConsumed:optional$1(number$2())}));class AnchorProvider{constructor(e,r,n=AnchorProvider.defaultOptions()){this.connection=e,this.wallet=r,this.opts=n,this.publicKey=r==null?void 0:r.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,r=AnchorProvider.defaultOptions()){if(isBrowser$1)throw new Error("Provider local is not available on browser.");const n=new Connection$1(e??"http://127.0.0.1:8899",r.preflightCommitment),a=require("./nodewallet.js").default.local();return new AnchorProvider(n,a,r)}static env(){if(isBrowser$1)throw new Error("Provider env is not available on browser.");require("process");const e={}.ANCHOR_PROVIDER_URL;if(e===void 0)throw new Error("ANCHOR_PROVIDER_URL is not defined");const r=AnchorProvider.defaultOptions(),n=new Connection$1(e,r.commitment),a=require("./nodewallet.js").default.local();return new AnchorProvider(n,a,r)}async sendAndConfirm(e,r,n){var o,a,c,u;if(n===void 0&&(n=this.opts),isVersionedTransaction(e))r&&e.sign(r);else if(e.feePayer=(o=e.feePayer)!==null&&o!==void 0?o:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,r)for(const br of r)e.partialSign(br);e=await this.wallet.signTransaction(e);const gr=e.serialize();try{return await sendAndConfirmRawTransaction$1(this.connection,gr,n)}catch(br){if(br instanceof ConfirmError){const _r=encode$2(isVersionedTransaction(e)?((a=e.signatures)===null||a===void 0?void 0:a[0])||new Uint8Array:(c=e.signature)!==null&&c!==void 0?c:new Uint8Array),Ar=isVersionedTransaction(e)?0:void 0,vr=await this.connection.getTransaction(_r,{commitment:"confirmed",maxSupportedTransactionVersion:Ar});if(vr){const Tr=(u=vr.meta)===null||u===void 0?void 0:u.logMessages;throw Tr?new SendTransactionError$1(br.message,Tr):br}else throw br}else throw br}}async sendAll(e,r){var n,o,a;r===void 0&&(r=this.opts);const c=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash;let u=e.map(_r=>{var Ar,vr;if(isVersionedTransaction(_r.tx)){let Tr=_r.tx;return _r.signers&&Tr.sign(_r.signers),Tr}else{let Tr=_r.tx,Or=(Ar=_r.signers)!==null&&Ar!==void 0?Ar:[];return Tr.feePayer=(vr=Tr.feePayer)!==null&&vr!==void 0?vr:this.wallet.publicKey,Tr.recentBlockhash=c,Or.forEach(Ir=>{Tr.partialSign(Ir)}),Tr}});const gr=await this.wallet.signAllTransactions(u),br=[];for(let _r=0;_r<u.length;_r+=1){const Ar=gr[_r],vr=Ar.serialize();try{br.push(await sendAndConfirmRawTransaction$1(this.connection,vr,r))}catch(Tr){if(Tr instanceof ConfirmError){const Or=encode$2(isVersionedTransaction(Ar)?((n=Ar.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(o=Ar.signature)!==null&&o!==void 0?o:new Uint8Array),Ir=isVersionedTransaction(Ar)?0:void 0,xr=await this.connection.getTransaction(Or,{commitment:"confirmed",maxSupportedTransactionVersion:Ir});if(xr){const Lr=(a=xr.meta)===null||a===void 0?void 0:a.logMessages;throw Lr?new SendTransactionError$1(Tr.message,Lr):Tr}else throw Tr}else throw Tr}}return br}async simulate(e,r,n,o){let a=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,c;if(isVersionedTransaction(e)?(r&&r.length>0&&(e.sign(r),e=await this.wallet.signTransaction(e)),c=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=a,r&&r.length>0&&(e=await this.wallet.signTransaction(e)),c=await simulateTransaction(this.connection,e,r,n,o)),c.value.err)throw new SimulateError(c.value);return c.value}}class SimulateError extends Error{constructor(e,r){super(r),this.simulationResponse=e}}async function sendAndConfirmRawTransaction$1(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},o=await t.sendRawTransaction(e,n),a=(await t.confirmTransaction(o,r&&r.commitment)).value;if(a.err)throw new ConfirmError(`Raw transaction ${o} failed (${JSON.stringify(a)})`);return o}class ConfirmError extends Error{constructor(e){super(e)}}function getProvider(){return AnchorProvider.local()}var dist$1={};Object.defineProperty(dist$1,"__esModule",{value:!0});var ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=ANCHOR_ERROR__REQUIRE_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_VIOLATED=ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=dist$1.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=ANCHOR_ERROR__CONSTRAINT_SPACE=dist$1.ANCHOR_ERROR__CONSTRAINT_SPACE=ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=ANCHOR_ERROR__CONSTRAINT_ZERO=dist$1.ANCHOR_ERROR__CONSTRAINT_ZERO=ANCHOR_ERROR__CONSTRAINT_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_ADDRESS=ANCHOR_ERROR__CONSTRAINT_CLOSE=dist$1.ANCHOR_ERROR__CONSTRAINT_CLOSE=ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=ANCHOR_ERROR__CONSTRAINT_STATE=dist$1.ANCHOR_ERROR__CONSTRAINT_STATE=ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=dist$1.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=ANCHOR_ERROR__CONSTRAINT_SEEDS=dist$1.ANCHOR_ERROR__CONSTRAINT_SEEDS=ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=dist$1.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=ANCHOR_ERROR__CONSTRAINT_OWNER=dist$1.ANCHOR_ERROR__CONSTRAINT_OWNER=ANCHOR_ERROR__CONSTRAINT_RAW=dist$1.ANCHOR_ERROR__CONSTRAINT_RAW=ANCHOR_ERROR__CONSTRAINT_SIGNER=dist$1.ANCHOR_ERROR__CONSTRAINT_SIGNER=ANCHOR_ERROR__CONSTRAINT_HAS_ONE=dist$1.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=ANCHOR_ERROR__CONSTRAINT_MUT=dist$1.ANCHOR_ERROR__CONSTRAINT_MUT=ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=dist$1.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=dist$1.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=dist$1.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=ANCHOR_ERROR__IDL_INSTRUCTION_STUB=dist$1.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=dist$1.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=dist$1.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=dist$1.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=ANCHOR_ERROR__INSTRUCTION_MISSING=dist$1.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,ANCHOR_ERROR__DEPRECATED=dist$1.ANCHOR_ERROR__DEPRECATED=ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=dist$1.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=dist$1.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=dist$1.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=dist$1.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=dist$1.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=dist$1.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=dist$1.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=ANCHOR_ERROR__INVALID_PROGRAM_ID=dist$1.ANCHOR_ERROR__INVALID_PROGRAM_ID=ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=dist$1.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=dist$1.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=dist$1.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=ANCHOR_ERROR__REQUIRE_GT_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,ANCHOR_ERROR__INSTRUCTION_MISSING=dist$1.ANCHOR_ERROR__INSTRUCTION_MISSING=100,ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=dist$1.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=dist$1.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=dist$1.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,ANCHOR_ERROR__IDL_INSTRUCTION_STUB=dist$1.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=dist$1.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=dist$1.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=dist$1.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,ANCHOR_ERROR__CONSTRAINT_MUT=dist$1.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,ANCHOR_ERROR__CONSTRAINT_HAS_ONE=dist$1.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,ANCHOR_ERROR__CONSTRAINT_SIGNER=dist$1.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,ANCHOR_ERROR__CONSTRAINT_RAW=dist$1.ANCHOR_ERROR__CONSTRAINT_RAW=2003,ANCHOR_ERROR__CONSTRAINT_OWNER=dist$1.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=dist$1.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,ANCHOR_ERROR__CONSTRAINT_SEEDS=dist$1.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=dist$1.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,ANCHOR_ERROR__CONSTRAINT_STATE=dist$1.ANCHOR_ERROR__CONSTRAINT_STATE=2008,ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,ANCHOR_ERROR__CONSTRAINT_CLOSE=dist$1.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,ANCHOR_ERROR__CONSTRAINT_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,ANCHOR_ERROR__CONSTRAINT_ZERO=dist$1.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,ANCHOR_ERROR__CONSTRAINT_SPACE=dist$1.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=dist$1.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,ANCHOR_ERROR__REQUIRE_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,ANCHOR_ERROR__REQUIRE_GT_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=dist$1.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=dist$1.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=dist$1.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,ANCHOR_ERROR__INVALID_PROGRAM_ID=dist$1.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=dist$1.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=dist$1.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=dist$1.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=dist$1.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=dist$1.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=dist$1.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=dist$1.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;ANCHOR_ERROR__DEPRECATED=dist$1.ANCHOR_ERROR__DEPRECATED=5e3;const _FEATURES=new Map;function isSet$1(t){return _FEATURES.get(t)!==void 0}class IdlError extends Error{constructor(e){super(e),this.name="IdlError"}}class ProgramErrorStack{constructor(e){this.stack=e}static parse(e){var r;const n=/^Program (\w*) invoke/,o=/^Program \w* success/,a=[];for(let c=0;c<e.length;c++){if(o.exec(e[c])){a.pop();continue}const u=(r=n.exec(e[c]))===null||r===void 0?void 0:r[1];!u||a.push(new PublicKey$3(u))}return new ProgramErrorStack(a)}}class AnchorError$1 extends Error{constructor(e,r,n,o,a,c){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=o,this.error={errorCode:e,errorMessage:r,comparedValues:c,origin:a},this._programErrorStack=ProgramErrorStack.parse(o)}static parse(e){if(!e)return null;const r=e.findIndex(vr=>vr.startsWith("Program log: AnchorError"));if(r===-1)return null;const n=e[r],o=[n];let a;if(r+1<e.length){if(e[r+1]==="Program log: Left:"){const vr=/^Program log: (.*)$/,Tr=vr.exec(e[r+2])[1],Or=vr.exec(e[r+4])[1];a=[new PublicKey$3(Tr),new PublicKey$3(Or)],o.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){const vr=/^Program log: (Left|Right): (.*)$/,Tr=vr.exec(e[r+1])[2],Or=vr.exec(e[r+2])[2];o.push(...e.slice(r+1,r+3)),a=[Tr,Or]}}const u=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),br=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),Ar=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(u){const[vr,Tr,Or]=u.slice(1,4),Ir={code:vr,number:parseInt(Tr)};return new AnchorError$1(Ir,Or,o,e,void 0,a)}else if(br){const[vr,Tr,Or,Ir,xr]=br.slice(1,6),Lr={code:Or,number:parseInt(Ir)},Fr={file:vr,line:parseInt(Tr)};return new AnchorError$1(Lr,xr,o,e,Fr,a)}else if(Ar){const[vr,Tr,Or,Ir]=Ar.slice(1,5),xr=vr,Lr={code:Tr,number:parseInt(Or)};return new AnchorError$1(Lr,Ir,o,e,xr,a)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ProgramError extends Error{constructor(e,r,n){super(),this.code=e,this.msg=r,this.logs=n,n&&(this._programErrorStack=ProgramErrorStack.parse(n))}static parse(e,r){const n=e.toString();let o;if(n.includes("custom program error:")){let u=n.split("custom program error: ");if(u.length!==2)return null;o=u[1]}else{const u=n.match(/"Custom":([0-9]+)}/g);if(!u||u.length>1)return null;o=u[0].match(/([0-9]+)/g)[0]}let a;try{a=parseInt(o)}catch{return null}let c=r.get(a);return c!==void 0?new ProgramError(a,c,e.logs):(c=LangErrorMessage.get(a),c!==void 0?new ProgramError(a,c,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function translateError(t,e){isSet$1("debug-logs")&&console.log("Translating error:",t);const r=AnchorError$1.parse(t.logs);if(r)return r;const n=ProgramError.parse(t,e);if(n)return n;if(t.logs){const o={get:function(a,c){return c==="programErrorStack"?a.programErrorStack.stack:c==="program"?a.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=ProgramErrorStack.parse(t.logs),new Proxy(t,o)}return t}const LangErrorCode={InstructionMissing:ANCHOR_ERROR__INSTRUCTION_MISSING,InstructionFallbackNotFound:ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND,InstructionDidNotDeserialize:ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE,InstructionDidNotSerialize:ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE,IdlInstructionStub:ANCHOR_ERROR__IDL_INSTRUCTION_STUB,IdlInstructionInvalidProgram:ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM,IdlAccountNotEmpty:ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY,EventInstructionStub:ANCHOR_ERROR__EVENT_INSTRUCTION_STUB,ConstraintMut:ANCHOR_ERROR__CONSTRAINT_MUT,ConstraintHasOne:ANCHOR_ERROR__CONSTRAINT_HAS_ONE,ConstraintSigner:ANCHOR_ERROR__CONSTRAINT_SIGNER,ConstraintRaw:ANCHOR_ERROR__CONSTRAINT_RAW,ConstraintOwner:ANCHOR_ERROR__CONSTRAINT_OWNER,ConstraintRentExempt:ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT,ConstraintSeeds:ANCHOR_ERROR__CONSTRAINT_SEEDS,ConstraintExecutable:ANCHOR_ERROR__CONSTRAINT_EXECUTABLE,ConstraintState:ANCHOR_ERROR__CONSTRAINT_STATE,ConstraintAssociated:ANCHOR_ERROR__CONSTRAINT_ASSOCIATED,ConstraintAssociatedInit:ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT,ConstraintClose:ANCHOR_ERROR__CONSTRAINT_CLOSE,ConstraintAddress:ANCHOR_ERROR__CONSTRAINT_ADDRESS,ConstraintZero:ANCHOR_ERROR__CONSTRAINT_ZERO,ConstraintTokenMint:ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT,ConstraintTokenOwner:ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER,ConstraintMintMintAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY,ConstraintMintFreezeAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY,ConstraintMintDecimals:ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS,ConstraintSpace:ANCHOR_ERROR__CONSTRAINT_SPACE,ConstraintAccountIsNone:ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE,ConstraintTokenTokenProgram:ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM,ConstraintMintTokenProgram:ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM,ConstraintAssociatedTokenTokenProgram:ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM,ConstraintMintGroupPointerExtension:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION,ConstraintMintGroupPointerExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY,ConstraintMintGroupPointerExtensionGroupAddress:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS,ConstraintMintGroupMemberPointerExtension:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION,ConstraintMintGroupMemberPointerExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY,ConstraintMintGroupMemberPointerExtensionMemberAddress:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS,ConstraintMintMetadataPointerExtension:ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION,ConstraintMintMetadataPointerExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY,ConstraintMintMetadataPointerExtensionMetadataAddress:ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS,ConstraintMintCloseAuthorityExtension:ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION,ConstraintMintCloseAuthorityExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY,ConstraintMintPermanentDelegateExtension:ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION,ConstraintMintPermanentDelegateExtensionDelegate:ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE,ConstraintMintTransferHookExtension:ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION,ConstraintMintTransferHookExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY,ConstraintMintTransferHookExtensionProgramId:ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID,RequireViolated:ANCHOR_ERROR__REQUIRE_VIOLATED,RequireEqViolated:ANCHOR_ERROR__REQUIRE_EQ_VIOLATED,RequireKeysEqViolated:ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED,RequireNeqViolated:ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED,RequireKeysNeqViolated:ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED,RequireGtViolated:ANCHOR_ERROR__REQUIRE_GT_VIOLATED,RequireGteViolated:ANCHOR_ERROR__REQUIRE_GTE_VIOLATED,AccountDiscriminatorAlreadySet:ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET,AccountDiscriminatorNotFound:ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND,AccountDiscriminatorMismatch:ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH,AccountDidNotDeserialize:ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE,AccountDidNotSerialize:ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE,AccountNotEnoughKeys:ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS,AccountNotMutable:ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE,AccountOwnedByWrongProgram:ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM,InvalidProgramId:ANCHOR_ERROR__INVALID_PROGRAM_ID,InvalidProgramExecutable:ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE,AccountNotSigner:ANCHOR_ERROR__ACCOUNT_NOT_SIGNER,AccountNotSystemOwned:ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED,AccountNotInitialized:ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED,AccountNotProgramData:ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA,AccountNotAssociatedTokenAccount:ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT,AccountSysvarMismatch:ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH,AccountReallocExceedsLimit:ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT,AccountDuplicateReallocs:ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS,DeclaredProgramIdMismatch:ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH,TryingToInitPayerAsProgramAccount:ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT,InvalidNumericConversion:ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION,Deprecated:ANCHOR_ERROR__DEPRECATED},LangErrorMessage=new Map([[LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[LangErrorCode.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[LangErrorCode.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[LangErrorCode.ConstraintMut,"A mut constraint was violated"],[LangErrorCode.ConstraintHasOne,"A has one constraint was violated"],[LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[LangErrorCode.ConstraintRentExempt,"A rent exemption constraint was violated"],[LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[LangErrorCode.ConstraintState,"Deprecated Error, feel free to replace with something else"],[LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[LangErrorCode.ConstraintClose,"A close constraint was violated"],[LangErrorCode.ConstraintAddress,"An address constraint was violated"],[LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[LangErrorCode.ConstraintSpace,"A space constraint was violated"],[LangErrorCode.ConstraintAccountIsNone,"A required account for the constraint is None"],[LangErrorCode.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[LangErrorCode.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[LangErrorCode.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[LangErrorCode.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[LangErrorCode.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[LangErrorCode.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[LangErrorCode.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[LangErrorCode.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[LangErrorCode.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[LangErrorCode.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[LangErrorCode.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[LangErrorCode.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[LangErrorCode.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[LangErrorCode.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[LangErrorCode.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[LangErrorCode.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[LangErrorCode.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[LangErrorCode.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[LangErrorCode.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[LangErrorCode.RequireViolated,"A require expression was violated"],[LangErrorCode.RequireEqViolated,"A require_eq expression was violated"],[LangErrorCode.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[LangErrorCode.RequireNeqViolated,"A require_neq expression was violated"],[LangErrorCode.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[LangErrorCode.RequireGtViolated,"A require_gt expression was violated"],[LangErrorCode.RequireGteViolated,"A require_gte expression was violated"],[LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[LangErrorCode.AccountNotMutable,"The given account is not mutable"],[LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[LangErrorCode.AccountNotSigner,"The given account did not sign"],[LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[LangErrorCode.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[LangErrorCode.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[LangErrorCode.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[LangErrorCode.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[LangErrorCode.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[LangErrorCode.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[LangErrorCode.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]]);class IdlCoder{static fieldLayout(e,r=[],n){const o=e.name;switch(e.type){case"bool":return dist$2.bool(o);case"u8":return dist$2.u8(o);case"i8":return dist$2.i8(o);case"u16":return dist$2.u16(o);case"i16":return dist$2.i16(o);case"u32":return dist$2.u32(o);case"i32":return dist$2.i32(o);case"f32":return dist$2.f32(o);case"u64":return dist$2.u64(o);case"i64":return dist$2.i64(o);case"f64":return dist$2.f64(o);case"u128":return dist$2.u128(o);case"i128":return dist$2.i128(o);case"u256":return dist$2.u256(o);case"i256":return dist$2.i256(o);case"bytes":return dist$2.vecU8(o);case"string":return dist$2.str(o);case"pubkey":return dist$2.publicKey(o);default:{if("option"in e.type)return dist$2.option(IdlCoder.fieldLayout({type:e.type.option},r,n),o);if("vec"in e.type)return dist$2.vec(IdlCoder.fieldLayout({type:e.type.vec},r,n),o);if("array"in e.type){let[a,c]=e.type.array;return c=IdlCoder.resolveArrayLen(c,n),dist$2.array(IdlCoder.fieldLayout({type:a},r,n),c,o)}if("defined"in e.type){if(!r)throw new IdlError("User defined types not provided");const a=e.type.defined.name,c=r.find(u=>u.name===a);if(!c)throw new IdlError(`Type not found: ${e.name}`);return IdlCoder.typeDefLayout({typeDef:c,types:r,genericArgs:n??e.type.defined.generics,name:o})}if("generic"in e.type){const a=n==null?void 0:n.at(0);if((a==null?void 0:a.kind)!=="type")throw new IdlError(`Invalid generic field: ${e.name}`);return IdlCoder.fieldLayout({...e,type:a.type},r)}throw new IdlError(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:r,name:n,genericArgs:o}){switch(e.type.kind){case"struct":{const a=handleDefinedFields(e.type.fields,()=>[],c=>c.map(u=>{const gr=o&&IdlCoder.resolveGenericArgs({type:u.type,typeDef:e,genericArgs:o});return IdlCoder.fieldLayout(u,r,gr)}),c=>c.map((u,gr)=>{const br=o&&IdlCoder.resolveGenericArgs({type:u,typeDef:e,genericArgs:o});return IdlCoder.fieldLayout({name:gr.toString(),type:u},r,br)}));return dist$2.struct(a,n)}case"enum":{const a=e.type.variants.map(c=>{const u=handleDefinedFields(c.fields,()=>[],gr=>gr.map(br=>{const _r=o&&IdlCoder.resolveGenericArgs({type:br.type,typeDef:e,genericArgs:o});return IdlCoder.fieldLayout(br,r,_r)}),gr=>gr.map((br,_r)=>{const Ar=o&&IdlCoder.resolveGenericArgs({type:br,typeDef:e,genericArgs:o});return IdlCoder.fieldLayout({name:_r.toString(),type:br},r,Ar)}));return dist$2.struct(u,c.name)});return n!==void 0?dist$2.rustEnum(a).replicate(n):dist$2.rustEnum(a,n)}case"type":return IdlCoder.fieldLayout({type:e.type.alias,name:n},r)}}static typeSize(e,r,n){var o;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+IdlCoder.typeSize(e.option,r,n);if("coption"in e)return 4+IdlCoder.typeSize(e.coption,r,n);if("vec"in e)return 1;if("array"in e){let[a,c]=e.array;return c=IdlCoder.resolveArrayLen(c,n),IdlCoder.typeSize(a,r,n)*c}if("defined"in e){const a=(o=r.types)===null||o===void 0?void 0:o.find(u=>u.name===e.defined.name);if(!a)throw new IdlError(`Type not found: ${JSON.stringify(e)}`);const c=u=>{const gr=n??e.defined.generics,br=gr&&IdlCoder.resolveGenericArgs({type:u,typeDef:a,genericArgs:gr});return IdlCoder.typeSize(u,r,br)};switch(a.type.kind){case"struct":return handleDefinedFields(a.type.fields,()=>[0],u=>u.map(gr=>c(gr.type)),u=>u.map(gr=>c(gr))).reduce((u,gr)=>u+gr,0);case"enum":{const u=a.type.variants.map(gr=>handleDefinedFields(gr.fields,()=>[0],br=>br.map(_r=>c(_r.type)),br=>br.map(_r=>c(_r))).reduce((br,_r)=>br+_r,0));return Math.max(...u)+1}case"type":return IdlCoder.typeSize(a.type.alias,r,n)}}if("generic"in e){const a=n==null?void 0:n.at(0);if((a==null?void 0:a.kind)!=="type")throw new IdlError(`Invalid generic: ${e.generic}`);return IdlCoder.typeSize(a.type,r,n)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,r){if(typeof e=="number")return e;if(r){const n=r.find(o=>o.kind==="const");(n==null?void 0:n.kind)==="const"&&(e=+n.value)}if(typeof e!="number")throw new IdlError("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:r,genericArgs:n,isDefined:o}){if(typeof e!="object")return null;for(const a in r.generics){const c=r.generics[a];if("generic"in e&&c.name===e.generic)return[n[a]];if("option"in e){const u=IdlCoder.resolveGenericArgs({type:e.option,typeDef:r,genericArgs:n,isDefined:o});if(!u||!o)return u;if(u[0].kind==="type")return[{kind:"type",type:{option:u[0].type}}]}if("vec"in e){const u=IdlCoder.resolveGenericArgs({type:e.vec,typeDef:r,genericArgs:n,isDefined:o});if(!u||!o)return u;if(u[0].kind==="type")return[{kind:"type",type:{vec:u[0].type}}]}if("array"in e){const[u,gr]=e.array,br=typeof gr=="object",_r=IdlCoder.resolveGenericArgs({type:u,typeDef:r,genericArgs:n,isDefined:o});if(_r){for(const Ar in r.generics.slice(+a)){const vr=+a+ +Ar;br&&r.generics[vr].name===gr.generic&&_r.push(n[vr])}if(!o)return _r;if(_r[0].kind==="type"&&_r[1].kind==="const")return[{kind:"type",type:{array:[_r[0].type,+_r[1].value]}}]}if(br&&c.name===gr.generic){const Ar=n[a];return o?[{kind:"type",type:{array:[u,+Ar.value]}}]:[Ar]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(u=>{switch(u.kind){case"type":return IdlCoder.resolveGenericArgs({type:u.type,typeDef:r,genericArgs:n,isDefined:!0});case"const":return[u]}}).filter(u=>u!==null):null}return null}}class BorshInstructionCoder{constructor(e){this.idl=e;const r=e.instructions.map(o=>{const a=o.name,c=o.args.map(gr=>IdlCoder.fieldLayout(gr,e.types)),u=dist$2.struct(c,a);return[a,{discriminator:o.discriminator,layout:u}]});this.ixLayouts=new Map(r);const n=r.map(([o,{discriminator:a,layout:c}])=>[bs58$3.encode(a),{name:o,layout:c}]);this.sighashLayouts=new Map(n)}encode(e,r){const n=bufferPolyfill.Buffer.alloc(1e3),o=this.ixLayouts.get(e);if(!o)throw new Error(`Unknown method: ${e}`);const a=o.layout.encode(r,n),c=n.slice(0,a);return bufferPolyfill.Buffer.concat([bufferPolyfill.Buffer.from(o.discriminator),c])}decode(e,r="hex"){typeof e=="string"&&(e=r==="hex"?bufferPolyfill.Buffer.from(e,"hex"):bs58$3.decode(e));const n=e.slice(0,DISCRIMINATOR_SIZE),o=e.slice(DISCRIMINATOR_SIZE),a=this.sighashLayouts.get(bs58$3.encode(n));return a?{name:a.name,data:a.layout.decode(o)}:null}format(e,r){return InstructionFormatter.format(e,r,this.idl)}}class InstructionFormatter{static format(e,r,n){const o=n.instructions.find(gr=>e.name===gr.name);if(!o)return console.error("Invalid instruction given"),null;const a=o.args.map(gr=>({name:gr.name,type:InstructionFormatter.formatIdlType(gr.type),data:InstructionFormatter.formatIdlData(gr,e.data[gr.name],n.types)})),c=InstructionFormatter.flattenIdlAccounts(o.accounts),u=r.map((gr,br)=>br<c.length?{name:c[br].name,...gr}:{name:void 0,...gr});return{args:a,accounts:u}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const r=e.defined.name;if(e.defined.generics){const n=e.defined.generics.map(o=>{switch(o.kind){case"type":return InstructionFormatter.formatIdlType(o.type);case"const":return o.value}}).join(", ");return`${r}<${n}>`}return r}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,r,n){if(typeof e.type=="string")return r.toString();if("vec"in e.type)return"["+r.map(o=>this.formatIdlData({name:"",type:e.type.vec},o,n)).join(", ")+"]";if("option"in e.type)return r===null?"null":this.formatIdlData({name:"",type:e.type.option},r,n);if("defined"in e.type){if(!n)throw new Error("User defined types not provided");const o=e.type.defined.name,a=n.find(c=>c.name===o);if(!a)throw new Error(`Type not found: ${o}`);return InstructionFormatter.formatIdlDataDefined(a,r,n)}return"unknown"}static formatIdlDataDefined(e,r,n){switch(e.type.kind){case"struct":return"{ "+handleDefinedFields(e.type.fields,()=>"",o=>Object.entries(r).map(([a,c])=>{const u=o.find(gr=>gr.name===a);if(!u)throw new Error(`Field not found: ${a}`);return a+": "+InstructionFormatter.formatIdlData(u,c,n)}).join(", "),o=>Object.entries(r).map(([a,c])=>a+": "+InstructionFormatter.formatIdlData({name:"",type:o[a]},c,n)).join(", "))+" }";case"enum":{const o=Object.keys(r)[0],a=e.type.variants.find(u=>u.name===o);if(!a)throw new Error(`Unable to find variant: ${o}`);const c=r[o];return handleDefinedFields(a.fields,()=>o,u=>{const gr=Object.keys(c).map(br=>{const _r=c[br],Ar=u.find(vr=>vr.name===br);if(!Ar)throw new Error(`Field not found: ${br}`);return br+": "+InstructionFormatter.formatIdlData(Ar,_r,n)}).join(", ");return`${o} { ${gr} }`},u=>{const gr=Object.entries(c).map(([br,_r])=>br+": "+InstructionFormatter.formatIdlData({name:"",type:u[br]},_r,n)).join(", ");return`${o} { ${gr} }`})}case"type":return InstructionFormatter.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,r){return e.map(n=>{const o=sentenceCase(n.name);if(n.hasOwnProperty("accounts")){const a=r?`${r} > ${o}`:o;return InstructionFormatter.flattenIdlAccounts(n.accounts,a)}else return{...n,name:r?`${r} > ${o}`:o}}).flat()}}function sentenceCase(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}const DISCRIMINATOR_SIZE=8;class BorshAccountsCoder{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const r=e.types;if(!r)throw new Error("Accounts require `idl.types`");const n=e.accounts.map(o=>{const a=r.find(c=>c.name===o.name);if(!a)throw new Error(`Account not found: ${o.name}`);return[o.name,IdlCoder.typeDefLayout({typeDef:a,types:r})]});this.accountLayouts=new Map(n)}async encode(e,r){const n=bufferPolyfill.Buffer.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const a=o.encode(r,n),c=n.slice(0,a),u=this.accountDiscriminator(e);return bufferPolyfill.Buffer.concat([u,c])}decode(e,r){if(this.accountDiscriminator(e).compare(r.slice(0,DISCRIMINATOR_SIZE)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,r)}decodeAny(e){const r=e.slice(0,DISCRIMINATOR_SIZE),n=Array.from(this.accountLayouts.keys()).find(o=>this.accountDiscriminator(o).equals(r));if(!n)throw new Error("Account not found");return this.decodeUnchecked(n,e)}decodeUnchecked(e,r){const n=r.subarray(DISCRIMINATOR_SIZE),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.decode(n)}memcmp(e,r){const n=this.accountDiscriminator(e);return{offset:0,bytes:bs58$3.encode(r?bufferPolyfill.Buffer.concat([n,r]):n)}}size(e){return DISCRIMINATOR_SIZE+IdlCoder.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var r;const n=(r=this.idl.accounts)===null||r===void 0?void 0:r.find(o=>o.name===e);if(!n)throw new Error(`Account not found: ${e}`);return bufferPolyfill.Buffer.from(n.discriminator)}}class BorshEventCoder{constructor(e){var r;if(!e.events){this.layouts=new Map;return}const n=e.types;if(!n)throw new Error("Events require `idl.types`");const o=e.events.map(a=>{const c=n.find(u=>u.name===a.name);if(!c)throw new Error(`Event not found: ${a.name}`);return[a.name,IdlCoder.typeDefLayout({typeDef:c,types:n})]});this.layouts=new Map(o),this.discriminators=new Map(((r=e.events)!==null&&r!==void 0?r:[]).map(a=>[encode$1(bufferPolyfill.Buffer.from(a.discriminator)),a.name]))}decode(e){let r;try{r=decode$2(e)}catch{return null}const n=encode$1(r.slice(0,8)),o=this.discriminators.get(n);if(!o)return null;const a=this.layouts.get(o);if(!a)throw new Error(`Unknown event: ${o}`);return{data:a.decode(r.slice(8)),name:o}}}class BorshTypesCoder{constructor(e){const r=e.types;if(!r){this.typeLayouts=new Map;return}const n=r.filter(o=>!o.generics).map(o=>[o.name,IdlCoder.typeDefLayout({typeDef:o,types:r})]);this.typeLayouts=new Map(n)}encode(e,r){const n=bufferPolyfill.Buffer.alloc(1e3),o=this.typeLayouts.get(e);if(!o)throw new Error(`Unknown type: ${e}`);const a=o.encode(r,n);return n.slice(0,a)}decode(e,r){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(r)}}class BorshCoder{constructor(e){this.instruction=new BorshInstructionCoder(e),this.accounts=new BorshAccountsCoder(e),this.events=new BorshEventCoder(e),this.types=new BorshTypesCoder(e)}}class RustStringLayout extends Layout_2{constructor(e){super(-1,e),this.property=e,this.layout=struct$2([u32$1("length"),u32$1("lengthPadding"),blob$1(offset(u32$1(),-8),"chars")],this.property)}encode(e,r,n=0){if(e==null)return this.layout.span;const o={chars:dist$3.Buffer.from(e,"utf8")};return this.layout.encode(o,r,n)}decode(e,r=0){return this.layout.decode(e,r).chars.toString()}getSpan(e,r=0){return u32$1().span+u32$1().span+new BN(new Uint8Array(e).slice(r,r+4),10,"le").toNumber()}}function rustStringLayout(t){return new RustStringLayout(t)}function publicKey$7(t){return blob$1(32,t)}const LAYOUT=union$2(u32$1("instruction"));LAYOUT.addVariant(0,struct$2([ns64("lamports"),ns64("space"),publicKey$7("owner")]),"createAccount");LAYOUT.addVariant(1,struct$2([publicKey$7("owner")]),"assign");LAYOUT.addVariant(2,struct$2([ns64("lamports")]),"transfer");LAYOUT.addVariant(3,struct$2([publicKey$7("base"),rustStringLayout("seed"),ns64("lamports"),ns64("space"),publicKey$7("owner")]),"createAccountWithSeed");LAYOUT.addVariant(4,struct$2([publicKey$7("authorized")]),"advanceNonceAccount");LAYOUT.addVariant(5,struct$2([ns64("lamports")]),"withdrawNonceAccount");LAYOUT.addVariant(6,struct$2([publicKey$7("authorized")]),"initializeNonceAccount");LAYOUT.addVariant(7,struct$2([publicKey$7("authorized")]),"authorizeNonceAccount");LAYOUT.addVariant(8,struct$2([ns64("space")]),"allocate");LAYOUT.addVariant(9,struct$2([publicKey$7("base"),rustStringLayout("seed"),ns64("space"),publicKey$7("owner")]),"allocateWithSeed");LAYOUT.addVariant(10,struct$2([publicKey$7("base"),rustStringLayout("seed"),publicKey$7("owner")]),"assignWithSeed");LAYOUT.addVariant(11,struct$2([ns64("lamports"),rustStringLayout("seed"),publicKey$7("owner")]),"transferWithSeed");Math.max(...Object.values(LAYOUT.registry).map(t=>t.span));class WrappedLayout$1 extends Layout_2{constructor(e,r,n,o){super(e.span,o),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}function publicKey$6(t){return new WrappedLayout$1(blob$1(32),e=>new PublicKey$3(e),e=>e.toBuffer(),t)}struct$2([u32$1("version"),u32$1("state"),publicKey$6("authorizedPubkey"),publicKey$6("nonce"),struct$2([nu64("lamportsPerSignature")],"feeCalculator")]);new PublicKey$3("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new PublicKey$3("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var browserPonyfill={exports:{}};(function(t,e){var r=typeof self<"u"?self:commonjsGlobal,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(c){var u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function gr(Rr){return Rr&&DataView.prototype.isPrototypeOf(Rr)}if(u.arrayBuffer)var br=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_r=ArrayBuffer.isView||function(Rr){return Rr&&br.indexOf(Object.prototype.toString.call(Rr))>-1};function Ar(Rr){if(typeof Rr!="string"&&(Rr=String(Rr)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Rr))throw new TypeError("Invalid character in header field name");return Rr.toLowerCase()}function vr(Rr){return typeof Rr!="string"&&(Rr=String(Rr)),Rr}function Tr(Rr){var Pr={next:function(){var Dr=Rr.shift();return{done:Dr===void 0,value:Dr}}};return u.iterable&&(Pr[Symbol.iterator]=function(){return Pr}),Pr}function Or(Rr){this.map={},Rr instanceof Or?Rr.forEach(function(Pr,Dr){this.append(Dr,Pr)},this):Array.isArray(Rr)?Rr.forEach(function(Pr){this.append(Pr[0],Pr[1])},this):Rr&&Object.getOwnPropertyNames(Rr).forEach(function(Pr){this.append(Pr,Rr[Pr])},this)}Or.prototype.append=function(Rr,Pr){Rr=Ar(Rr),Pr=vr(Pr);var Dr=this.map[Rr];this.map[Rr]=Dr?Dr+", "+Pr:Pr},Or.prototype.delete=function(Rr){delete this.map[Ar(Rr)]},Or.prototype.get=function(Rr){return Rr=Ar(Rr),this.has(Rr)?this.map[Rr]:null},Or.prototype.has=function(Rr){return this.map.hasOwnProperty(Ar(Rr))},Or.prototype.set=function(Rr,Pr){this.map[Ar(Rr)]=vr(Pr)},Or.prototype.forEach=function(Rr,Pr){for(var Dr in this.map)this.map.hasOwnProperty(Dr)&&Rr.call(Pr,this.map[Dr],Dr,this)},Or.prototype.keys=function(){var Rr=[];return this.forEach(function(Pr,Dr){Rr.push(Dr)}),Tr(Rr)},Or.prototype.values=function(){var Rr=[];return this.forEach(function(Pr){Rr.push(Pr)}),Tr(Rr)},Or.prototype.entries=function(){var Rr=[];return this.forEach(function(Pr,Dr){Rr.push([Dr,Pr])}),Tr(Rr)},u.iterable&&(Or.prototype[Symbol.iterator]=Or.prototype.entries);function Ir(Rr){if(Rr.bodyUsed)return Promise.reject(new TypeError("Already read"));Rr.bodyUsed=!0}function xr(Rr){return new Promise(function(Pr,Dr){Rr.onload=function(){Pr(Rr.result)},Rr.onerror=function(){Dr(Rr.error)}})}function Lr(Rr){var Pr=new FileReader,Dr=xr(Pr);return Pr.readAsArrayBuffer(Rr),Dr}function Fr(Rr){var Pr=new FileReader,Dr=xr(Pr);return Pr.readAsText(Rr),Dr}function Mr(Rr){for(var Pr=new Uint8Array(Rr),Dr=new Array(Pr.length),Yr=0;Yr<Pr.length;Yr++)Dr[Yr]=String.fromCharCode(Pr[Yr]);return Dr.join("")}function Hr(Rr){if(Rr.slice)return Rr.slice(0);var Pr=new Uint8Array(Rr.byteLength);return Pr.set(new Uint8Array(Rr)),Pr.buffer}function Vr(){return this.bodyUsed=!1,this._initBody=function(Rr){this._bodyInit=Rr,Rr?typeof Rr=="string"?this._bodyText=Rr:u.blob&&Blob.prototype.isPrototypeOf(Rr)?this._bodyBlob=Rr:u.formData&&FormData.prototype.isPrototypeOf(Rr)?this._bodyFormData=Rr:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(Rr)?this._bodyText=Rr.toString():u.arrayBuffer&&u.blob&&gr(Rr)?(this._bodyArrayBuffer=Hr(Rr.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(Rr)||_r(Rr))?this._bodyArrayBuffer=Hr(Rr):this._bodyText=Rr=Object.prototype.toString.call(Rr):this._bodyText="",this.headers.get("content-type")||(typeof Rr=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(Rr)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var Rr=Ir(this);if(Rr)return Rr;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ir(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Lr)}),this.text=function(){var Rr=Ir(this);if(Rr)return Rr;if(this._bodyBlob)return Fr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Mr(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(tn)}),this.json=function(){return this.text().then(JSON.parse)},this}var Kr=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function jr(Rr){var Pr=Rr.toUpperCase();return Kr.indexOf(Pr)>-1?Pr:Rr}function qr(Rr,Pr){Pr=Pr||{};var Dr=Pr.body;if(Rr instanceof qr){if(Rr.bodyUsed)throw new TypeError("Already read");this.url=Rr.url,this.credentials=Rr.credentials,Pr.headers||(this.headers=new Or(Rr.headers)),this.method=Rr.method,this.mode=Rr.mode,this.signal=Rr.signal,!Dr&&Rr._bodyInit!=null&&(Dr=Rr._bodyInit,Rr.bodyUsed=!0)}else this.url=String(Rr);if(this.credentials=Pr.credentials||this.credentials||"same-origin",(Pr.headers||!this.headers)&&(this.headers=new Or(Pr.headers)),this.method=jr(Pr.method||this.method||"GET"),this.mode=Pr.mode||this.mode||null,this.signal=Pr.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Dr)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Dr)}qr.prototype.clone=function(){return new qr(this,{body:this._bodyInit})};function tn(Rr){var Pr=new FormData;return Rr.trim().split("&").forEach(function(Dr){if(Dr){var Yr=Dr.split("="),Zr=Yr.shift().replace(/\+/g," "),Xr=Yr.join("=").replace(/\+/g," ");Pr.append(decodeURIComponent(Zr),decodeURIComponent(Xr))}}),Pr}function en(Rr){var Pr=new Or,Dr=Rr.replace(/\r?\n[\t ]+/g," ");return Dr.split(/\r?\n/).forEach(function(Yr){var Zr=Yr.split(":"),Xr=Zr.shift().trim();if(Xr){var nn=Zr.join(":").trim();Pr.append(Xr,nn)}}),Pr}Vr.call(qr.prototype);function sn(Rr,Pr){Pr||(Pr={}),this.type="default",this.status=Pr.status===void 0?200:Pr.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Pr?Pr.statusText:"OK",this.headers=new Or(Pr.headers),this.url=Pr.url||"",this._initBody(Rr)}Vr.call(sn.prototype),sn.prototype.clone=function(){return new sn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Or(this.headers),url:this.url})},sn.error=function(){var Rr=new sn(null,{status:0,statusText:""});return Rr.type="error",Rr};var cn=[301,302,303,307,308];sn.redirect=function(Rr,Pr){if(cn.indexOf(Pr)===-1)throw new RangeError("Invalid status code");return new sn(null,{status:Pr,headers:{location:Rr}})},c.DOMException=a.DOMException;try{new c.DOMException}catch{c.DOMException=function(Pr,Dr){this.message=Pr,this.name=Dr;var Yr=Error(Pr);this.stack=Yr.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function Ur(Rr,Pr){return new Promise(function(Dr,Yr){var Zr=new qr(Rr,Pr);if(Zr.signal&&Zr.signal.aborted)return Yr(new c.DOMException("Aborted","AbortError"));var Xr=new XMLHttpRequest;function nn(){Xr.abort()}Xr.onload=function(){var Gr={status:Xr.status,statusText:Xr.statusText,headers:en(Xr.getAllResponseHeaders()||"")};Gr.url="responseURL"in Xr?Xr.responseURL:Gr.headers.get("X-Request-URL");var Nr="response"in Xr?Xr.response:Xr.responseText;Dr(new sn(Nr,Gr))},Xr.onerror=function(){Yr(new TypeError("Network request failed"))},Xr.ontimeout=function(){Yr(new TypeError("Network request failed"))},Xr.onabort=function(){Yr(new c.DOMException("Aborted","AbortError"))},Xr.open(Zr.method,Zr.url,!0),Zr.credentials==="include"?Xr.withCredentials=!0:Zr.credentials==="omit"&&(Xr.withCredentials=!1),"responseType"in Xr&&u.blob&&(Xr.responseType="blob"),Zr.headers.forEach(function(Gr,Nr){Xr.setRequestHeader(Nr,Gr)}),Zr.signal&&(Zr.signal.addEventListener("abort",nn),Xr.onreadystatechange=function(){Xr.readyState===4&&Zr.signal.removeEventListener("abort",nn)}),Xr.send(typeof Zr._bodyInit>"u"?null:Zr._bodyInit)})}return Ur.polyfill=!0,a.fetch||(a.fetch=Ur,a.Headers=Or,a.Request=qr,a.Response=sn),c.Headers=Or,c.Request=qr,c.Response=sn,c.fetch=Ur,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})(browserPonyfill,browserPonyfill.exports);dist$2.rustEnum([dist$2.struct([],"uninitialized"),dist$2.struct([dist$2.option(dist$2.publicKey(),"authorityAddress")],"buffer"),dist$2.struct([dist$2.publicKey("programdataAddress")],"program"),dist$2.struct([dist$2.u64("slot"),dist$2.option(dist$2.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,dist$2.u32());/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(t){let e=t.length;for(;--e>=0;)t[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(t,e,r,n,o){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=t&&t.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const d_code=t=>t<256?_dist_code[t]:_dist_code[256+(t>>>7)],put_short=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},send_bits=(t,e,r)=>{t.bi_valid>Buf_size-r?(t.bi_buf|=e<<t.bi_valid&65535,put_short(t,t.bi_buf),t.bi_buf=e>>Buf_size-t.bi_valid,t.bi_valid+=r-Buf_size):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},send_code=(t,e,r)=>{send_bits(t,r[e*2],r[e*2+1])},bi_reverse=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},bi_flush=t=>{t.bi_valid===16?(put_short(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},gen_bitlen=(t,e)=>{const r=e.dyn_tree,n=e.max_code,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,gr=e.stat_desc.max_length;let br,_r,Ar,vr,Tr,Or,Ir=0;for(vr=0;vr<=MAX_BITS$1;vr++)t.bl_count[vr]=0;for(r[t.heap[t.heap_max]*2+1]=0,br=t.heap_max+1;br<HEAP_SIZE$1;br++)_r=t.heap[br],vr=r[r[_r*2+1]*2+1]+1,vr>gr&&(vr=gr,Ir++),r[_r*2+1]=vr,!(_r>n)&&(t.bl_count[vr]++,Tr=0,_r>=u&&(Tr=c[_r-u]),Or=r[_r*2],t.opt_len+=Or*(vr+Tr),a&&(t.static_len+=Or*(o[_r*2+1]+Tr)));if(Ir!==0){do{for(vr=gr-1;t.bl_count[vr]===0;)vr--;t.bl_count[vr]--,t.bl_count[vr+1]+=2,t.bl_count[gr]--,Ir-=2}while(Ir>0);for(vr=gr;vr!==0;vr--)for(_r=t.bl_count[vr];_r!==0;)Ar=t.heap[--br],!(Ar>n)&&(r[Ar*2+1]!==vr&&(t.opt_len+=(vr-r[Ar*2+1])*r[Ar*2],r[Ar*2+1]=vr),_r--)}},gen_codes=(t,e,r)=>{const n=new Array(MAX_BITS$1+1);let o=0,a,c;for(a=1;a<=MAX_BITS$1;a++)o=o+r[a-1]<<1,n[a]=o;for(c=0;c<=e;c++){let u=t[c*2+1];u!==0&&(t[c*2]=bi_reverse(n[u]++,u))}},tr_static_init=()=>{let t,e,r,n,o;const a=new Array(MAX_BITS$1+1);for(r=0,n=0;n<LENGTH_CODES$1-1;n++)for(base_length[n]=r,t=0;t<1<<extra_lbits[n];t++)_length_code[r++]=n;for(_length_code[r-1]=n,o=0,n=0;n<16;n++)for(base_dist[n]=o,t=0;t<1<<extra_dbits[n];t++)_dist_code[o++]=n;for(o>>=7;n<D_CODES$1;n++)for(base_dist[n]=o<<7,t=0;t<1<<extra_dbits[n]-7;t++)_dist_code[256+o++]=n;for(e=0;e<=MAX_BITS$1;e++)a[e]=0;for(t=0;t<=143;)static_ltree[t*2+1]=8,t++,a[8]++;for(;t<=255;)static_ltree[t*2+1]=9,t++,a[9]++;for(;t<=279;)static_ltree[t*2+1]=7,t++,a[7]++;for(;t<=287;)static_ltree[t*2+1]=8,t++,a[8]++;for(gen_codes(static_ltree,L_CODES$1+1,a),t=0;t<D_CODES$1;t++)static_dtree[t*2+1]=5,static_dtree[t*2]=bi_reverse(t,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=t=>{let e;for(e=0;e<L_CODES$1;e++)t.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)t.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)t.bl_tree[e*2]=0;t.dyn_ltree[END_BLOCK*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},bi_windup=t=>{t.bi_valid>8?put_short(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},smaller=(t,e,r,n)=>{const o=e*2,a=r*2;return t[o]<t[a]||t[o]===t[a]&&n[e]<=n[r]},pqdownheap=(t,e,r)=>{const n=t.heap[r];let o=r<<1;for(;o<=t.heap_len&&(o<t.heap_len&&smaller(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!smaller(e,n,t.heap[o],t.depth));)t.heap[r]=t.heap[o],r=o,o<<=1;t.heap[r]=n},compress_block=(t,e,r)=>{let n,o,a=0,c,u;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,o=t.pending_buf[t.sym_buf+a++],n===0?send_code(t,o,e):(c=_length_code[o],send_code(t,c+LITERALS$1+1,e),u=extra_lbits[c],u!==0&&(o-=base_length[c],send_bits(t,o,u)),n--,c=d_code(n),send_code(t,c,r),u=extra_dbits[c],u!==0&&(n-=base_dist[c],send_bits(t,n,u)));while(a<t.sym_next);send_code(t,END_BLOCK,e)},build_tree=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.elems;let c,u,gr=-1,br;for(t.heap_len=0,t.heap_max=HEAP_SIZE$1,c=0;c<a;c++)r[c*2]!==0?(t.heap[++t.heap_len]=gr=c,t.depth[c]=0):r[c*2+1]=0;for(;t.heap_len<2;)br=t.heap[++t.heap_len]=gr<2?++gr:0,r[br*2]=1,t.depth[br]=0,t.opt_len--,o&&(t.static_len-=n[br*2+1]);for(e.max_code=gr,c=t.heap_len>>1;c>=1;c--)pqdownheap(t,r,c);br=a;do c=t.heap[1],t.heap[1]=t.heap[t.heap_len--],pqdownheap(t,r,1),u=t.heap[1],t.heap[--t.heap_max]=c,t.heap[--t.heap_max]=u,r[br*2]=r[c*2]+r[u*2],t.depth[br]=(t.depth[c]>=t.depth[u]?t.depth[c]:t.depth[u])+1,r[c*2+1]=r[u*2+1]=br,t.heap[1]=br++,pqdownheap(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],gen_bitlen(t,e),gen_codes(r,gr,t.bl_count)},scan_tree=(t,e,r)=>{let n,o=-1,a,c=e[0*2+1],u=0,gr=7,br=4;for(c===0&&(gr=138,br=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=c,c=e[(n+1)*2+1],!(++u<gr&&a===c)&&(u<br?t.bl_tree[a*2]+=u:a!==0?(a!==o&&t.bl_tree[a*2]++,t.bl_tree[REP_3_6*2]++):u<=10?t.bl_tree[REPZ_3_10*2]++:t.bl_tree[REPZ_11_138*2]++,u=0,o=a,c===0?(gr=138,br=3):a===c?(gr=6,br=3):(gr=7,br=4))},send_tree=(t,e,r)=>{let n,o=-1,a,c=e[0*2+1],u=0,gr=7,br=4;for(c===0&&(gr=138,br=3),n=0;n<=r;n++)if(a=c,c=e[(n+1)*2+1],!(++u<gr&&a===c)){if(u<br)do send_code(t,a,t.bl_tree);while(--u!==0);else a!==0?(a!==o&&(send_code(t,a,t.bl_tree),u--),send_code(t,REP_3_6,t.bl_tree),send_bits(t,u-3,2)):u<=10?(send_code(t,REPZ_3_10,t.bl_tree),send_bits(t,u-3,3)):(send_code(t,REPZ_11_138,t.bl_tree),send_bits(t,u-11,7));u=0,o=a,c===0?(gr=138,br=3):a===c?(gr=6,br=3):(gr=7,br=4)}},build_bl_tree=t=>{let e;for(scan_tree(t,t.dyn_ltree,t.l_desc.max_code),scan_tree(t,t.dyn_dtree,t.d_desc.max_code),build_tree(t,t.bl_desc),e=BL_CODES$1-1;e>=3&&t.bl_tree[bl_order[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=(t,e,r,n)=>{let o;for(send_bits(t,e-257,5),send_bits(t,r-1,5),send_bits(t,n-4,4),o=0;o<n;o++)send_bits(t,t.bl_tree[bl_order[o]*2+1],3);send_tree(t,t.dyn_ltree,e-1),send_tree(t,t.dyn_dtree,r-1)},detect_data_type=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return Z_BINARY;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return Z_TEXT;for(r=32;r<LITERALS$1;r++)if(t.dyn_ltree[r*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=t=>{static_init_done||(tr_static_init(),static_init_done=!0),t.l_desc=new TreeDesc(t.dyn_ltree,static_l_desc),t.d_desc=new TreeDesc(t.dyn_dtree,static_d_desc),t.bl_desc=new TreeDesc(t.bl_tree,static_bl_desc),t.bi_buf=0,t.bi_valid=0,init_block(t)},_tr_stored_block$1=(t,e,r,n)=>{send_bits(t,(STORED_BLOCK<<1)+(n?1:0),3),bi_windup(t),put_short(t,r),put_short(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},_tr_align$1=t=>{send_bits(t,STATIC_TREES<<1,3),send_code(t,END_BLOCK,static_ltree),bi_flush(t)},_tr_flush_block$1=(t,e,r,n)=>{let o,a,c=0;t.level>0?(t.strm.data_type===Z_UNKNOWN$1&&(t.strm.data_type=detect_data_type(t)),build_tree(t,t.l_desc),build_tree(t,t.d_desc),c=build_bl_tree(t),o=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=o&&(o=a)):o=a=r+5,r+4<=o&&e!==-1?_tr_stored_block$1(t,e,r,n):t.strategy===Z_FIXED$1||a===o?(send_bits(t,(STATIC_TREES<<1)+(n?1:0),3),compress_block(t,static_ltree,static_dtree)):(send_bits(t,(DYN_TREES<<1)+(n?1:0),3),send_all_trees(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),compress_block(t,t.dyn_ltree,t.dyn_dtree)),init_block(t),n&&bi_windup(t)},_tr_tally$1=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(_length_code[r]+LITERALS$1+1)*2]++,t.dyn_dtree[d_code(e)*2]++),t.sym_next===t.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(t,e,r,n)=>{let o=t&65535|0,a=t>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do o=o+e[n++]|0,a=a+o|0;while(--c);o%=65521,a%=65521}return o|a<<16|0};var adler32_1=adler32;const makeTable=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},crcTable=new Uint32Array(makeTable()),crc32=(t,e,r,n)=>{const o=crcTable,a=n+r;t^=-1;for(let c=n;c<a;c++)t=t>>>8^o[(t^e[c])&255];return t^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(t,e)=>(t.msg=messages[e],e),rank=t=>t*2-(t>4?9:0),zero=t=>{let e=t.length;for(;--e>=0;)t[e]=0},slide_hash=t=>{let e,r,n,o=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=o?r-o:0;while(--e);e=o,n=e;do r=t.prev[--n],t.prev[n]=r>=o?r-o:0;while(--e)};let HASH_ZLIB=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,HASH=HASH_ZLIB;const flush_pending=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},flush_block_only=(t,e)=>{_tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,flush_pending(t.strm)},put_byte=(t,e)=>{t.pending_buf[t.pending++]=e},putShortMSB=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},read_buf=(t,e,r,n)=>{let o=t.avail_in;return o>n&&(o=n),o===0?0:(t.avail_in-=o,e.set(t.input.subarray(t.next_in,t.next_in+o),r),t.state.wrap===1?t.adler=adler32_1(t.adler,e,o,r):t.state.wrap===2&&(t.adler=crc32_1(t.adler,e,o,r)),t.next_in+=o,t.total_in+=o,o)},longest_match=(t,e)=>{let r=t.max_chain_length,n=t.strstart,o,a,c=t.prev_length,u=t.nice_match;const gr=t.strstart>t.w_size-MIN_LOOKAHEAD?t.strstart-(t.w_size-MIN_LOOKAHEAD):0,br=t.window,_r=t.w_mask,Ar=t.prev,vr=t.strstart+MAX_MATCH;let Tr=br[n+c-1],Or=br[n+c];t.prev_length>=t.good_match&&(r>>=2),u>t.lookahead&&(u=t.lookahead);do if(o=e,!(br[o+c]!==Or||br[o+c-1]!==Tr||br[o]!==br[n]||br[++o]!==br[n+1])){n+=2,o++;do;while(br[++n]===br[++o]&&br[++n]===br[++o]&&br[++n]===br[++o]&&br[++n]===br[++o]&&br[++n]===br[++o]&&br[++n]===br[++o]&&br[++n]===br[++o]&&br[++n]===br[++o]&&n<vr);if(a=MAX_MATCH-(vr-n),n=vr-MAX_MATCH,a>c){if(t.match_start=e,c=a,a>=u)break;Tr=br[n+c-1],Or=br[n+c]}}while((e=Ar[e&_r])>gr&&--r!==0);return c<=t.lookahead?c:t.lookahead},fill_window=t=>{const e=t.w_size;let r,n,o;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-MIN_LOOKAHEAD)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),slide_hash(t),n+=e),t.strm.avail_in===0)break;if(r=read_buf(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=MIN_MATCH)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=HASH(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=HASH(t,t.ins_h,t.window[o+MIN_MATCH-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<MIN_MATCH)););}while(t.lookahead<MIN_LOOKAHEAD&&t.strm.avail_in!==0)},deflate_stored=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,o,a,c=0,u=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,o=t.strstart-t.block_start,n>o+t.strm.avail_in&&(n=o+t.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&e!==Z_FINISH$3||e===Z_NO_FLUSH$2||n!==o+t.strm.avail_in)))break;c=e===Z_FINISH$3&&n===o+t.strm.avail_in?1:0,_tr_stored_block(t,0,0,c),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,flush_pending(t.strm),o&&(o>n&&(o=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+o),t.strm.next_out),t.strm.next_out+=o,t.strm.avail_out-=o,t.strm.total_out+=o,t.block_start+=o,n-=o),n&&(read_buf(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(c===0);return u-=t.strm.avail_in,u&&(u>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=u&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-u,t.strm.next_in),t.strstart),t.strstart+=u,t.insert+=u>t.w_size-t.insert?t.w_size-t.insert:u),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),c?BS_FINISH_DONE:e!==Z_NO_FLUSH$2&&e!==Z_FINISH$3&&t.strm.avail_in===0&&t.strstart===t.block_start?BS_BLOCK_DONE:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(read_buf(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,r=a>t.w_size?t.w_size:a,o=t.strstart-t.block_start,(o>=r||(o||e===Z_FINISH$3)&&e!==Z_NO_FLUSH$2&&t.strm.avail_in===0&&o<=a)&&(n=o>a?a:o,c=e===Z_FINISH$3&&t.strm.avail_in===0&&n===o?1:0,_tr_stored_block(t,t.block_start,n,c),t.block_start+=n,flush_pending(t.strm)),c?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(t,e)=>{let r,n;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r)),t.match_length>=MIN_MATCH)if(n=_tr_tally(t,t.strstart-t.match_start,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=MIN_MATCH){t.match_length--;do t.strstart++,t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+1]);else n=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(t,e)=>{let r,n,o;for(;;){if(t.lookahead<MIN_LOOKAHEAD){if(fill_window(t),t.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(r=0,t.lookahead>=MIN_MATCH&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=MIN_MATCH-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-MIN_LOOKAHEAD&&(t.match_length=longest_match(t,r),t.match_length<=5&&(t.strategy===Z_FILTERED||t.match_length===MIN_MATCH&&t.strstart-t.match_start>4096)&&(t.match_length=MIN_MATCH-1)),t.prev_length>=MIN_MATCH&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-MIN_MATCH,n=_tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-MIN_MATCH),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=HASH(t,t.ins_h,t.window[t.strstart+MIN_MATCH-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=MIN_MATCH-1,t.strstart++,n&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}else if(t.match_available){if(n=_tr_tally(t,0,t.window[t.strstart-1]),n&&flush_block_only(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return BS_NEED_MORE}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=_tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<MIN_MATCH-1?t.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(t,e)=>{let r,n,o,a;const c=t.window;for(;;){if(t.lookahead<=MAX_MATCH){if(fill_window(t),t.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=MIN_MATCH&&t.strstart>0&&(o=t.strstart-1,n=c[o],n===c[++o]&&n===c[++o]&&n===c[++o])){a=t.strstart+MAX_MATCH;do;while(n===c[++o]&&n===c[++o]&&n===c[++o]&&n===c[++o]&&n===c[++o]&&n===c[++o]&&n===c[++o]&&n===c[++o]&&o<a);t.match_length=MAX_MATCH-(a-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=MIN_MATCH?(r=_tr_tally(t,1,t.match_length-MIN_MATCH),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(fill_window(t),t.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(t.match_length=0,r=_tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(flush_block_only(t,!1),t.strm.avail_out===0))return BS_NEED_MORE}return t.insert=0,e===Z_FINISH$3?(flush_block_only(t,!0),t.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):t.sym_next&&(flush_block_only(t,!1),t.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(t,e,r,n,o){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=o}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=t=>{t.window_size=2*t.w_size,zero(t.head),t.max_lazy_match=configuration_table[t.level].max_lazy,t.good_match=configuration_table[t.level].good_length,t.nice_match=configuration_table[t.level].nice_length,t.max_chain_length=configuration_table[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=MIN_MATCH-1,t.match_available=0,t.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==INIT_STATE&&e.status!==GZIP_STATE&&e.status!==EXTRA_STATE&&e.status!==NAME_STATE&&e.status!==COMMENT_STATE&&e.status!==HCRC_STATE&&e.status!==BUSY_STATE&&e.status!==FINISH_STATE?1:0},deflateResetKeep=t=>{if(deflateStateCheck(t))return err(t,Z_STREAM_ERROR$2);t.total_in=t.total_out=0,t.data_type=Z_UNKNOWN;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?GZIP_STATE:e.wrap?INIT_STATE:BUSY_STATE,t.adler=e.wrap===2?0:1,e.last_flush=-2,_tr_init(e),Z_OK$3},deflateReset=t=>{const e=deflateResetKeep(t);return e===Z_OK$3&&lm_init(t.state),e},deflateSetHeader=(t,e)=>deflateStateCheck(t)||t.state.wrap!==2?Z_STREAM_ERROR$2:(t.state.gzhead=e,Z_OK$3),deflateInit2=(t,e,r,n,o,a)=>{if(!t)return Z_STREAM_ERROR$2;let c=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),n<0?(c=0,n=-n):n>15&&(c=2,n-=16),o<1||o>MAX_MEM_LEVEL||r!==Z_DEFLATED$2||n<8||n>15||e<0||e>9||a<0||a>Z_FIXED||n===8&&c!==1)return err(t,Z_STREAM_ERROR$2);n===8&&(n=9);const u=new DeflateState;return t.state=u,u.strm=t,u.status=INIT_STATE,u.wrap=c,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+MIN_MATCH-1)/MIN_MATCH),u.window=new Uint8Array(u.w_size*2),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=u.lit_bufsize*4,u.pending_buf=new Uint8Array(u.pending_buf_size),u.sym_buf=u.lit_bufsize,u.sym_end=(u.lit_bufsize-1)*3,u.level=e,u.strategy=a,u.method=r,deflateReset(t)},deflateInit=(t,e)=>deflateInit2(t,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(t,e)=>{if(deflateStateCheck(t)||e>Z_BLOCK$1||e<0)return t?err(t,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===FINISH_STATE&&e!==Z_FINISH$3)return err(t,t.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(flush_pending(t),t.avail_out===0)return r.last_flush=-1,Z_OK$3}else if(t.avail_in===0&&rank(e)<=rank(n)&&e!==Z_FINISH$3)return err(t,Z_BUF_ERROR$1);if(r.status===FINISH_STATE&&t.avail_in!==0)return err(t,Z_BUF_ERROR$1);if(r.status===INIT_STATE&&r.wrap===0&&(r.status=BUSY_STATE),r.status===INIT_STATE){let o=Z_DEFLATED$2+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=Z_HUFFMAN_ONLY||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,o|=a<<6,r.strstart!==0&&(o|=PRESET_DICT),o+=31-o%31,putShortMSB(r,o),r.strstart!==0&&(putShortMSB(r,t.adler>>>16),putShortMSB(r,t.adler&65535)),t.adler=1,r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===GZIP_STATE){if(t.adler=0,put_byte(r,31),put_byte(r,139),put_byte(r,8),r.gzhead)put_byte(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),put_byte(r,r.gzhead.time&255),put_byte(r,r.gzhead.time>>8&255),put_byte(r,r.gzhead.time>>16&255),put_byte(r,r.gzhead.time>>24&255),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(put_byte(r,r.gzhead.extra.length&255),put_byte(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=EXTRA_STATE;else if(put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,0),put_byte(r,r.level===9?2:r.strategy>=Z_HUFFMAN_ONLY||r.level<2?4:0),put_byte(r,OS_CODE),r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(r.status===EXTRA_STATE){if(r.gzhead.extra){let o=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let u=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+u),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex+=u,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;o=0,a-=u}let c=new Uint8Array(r.gzhead.extra);r.pending_buf.set(c.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex=0}r.status=NAME_STATE}if(r.status===NAME_STATE){if(r.gzhead.name){let o=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;o=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,put_byte(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex=0}r.status=COMMENT_STATE}if(r.status===COMMENT_STATE){if(r.gzhead.comment){let o=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o)),flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3;o=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,put_byte(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>o&&(t.adler=crc32_1(t.adler,r.pending_buf,r.pending-o,o))}r.status=HCRC_STATE}if(r.status===HCRC_STATE){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(flush_pending(t),r.pending!==0))return r.last_flush=-1,Z_OK$3;put_byte(r,t.adler&255),put_byte(r,t.adler>>8&255),t.adler=0}if(r.status=BUSY_STATE,flush_pending(t),r.pending!==0)return r.last_flush=-1,Z_OK$3}if(t.avail_in!==0||r.lookahead!==0||e!==Z_NO_FLUSH$2&&r.status!==FINISH_STATE){let o=r.level===0?deflate_stored(r,e):r.strategy===Z_HUFFMAN_ONLY?deflate_huff(r,e):r.strategy===Z_RLE?deflate_rle(r,e):configuration_table[r.level].func(r,e);if((o===BS_FINISH_STARTED||o===BS_FINISH_DONE)&&(r.status=FINISH_STATE),o===BS_NEED_MORE||o===BS_FINISH_STARTED)return t.avail_out===0&&(r.last_flush=-1),Z_OK$3;if(o===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(r):e!==Z_BLOCK$1&&(_tr_stored_block(r,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),flush_pending(t),t.avail_out===0))return r.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:r.wrap<=0?Z_STREAM_END$3:(r.wrap===2?(put_byte(r,t.adler&255),put_byte(r,t.adler>>8&255),put_byte(r,t.adler>>16&255),put_byte(r,t.adler>>24&255),put_byte(r,t.total_in&255),put_byte(r,t.total_in>>8&255),put_byte(r,t.total_in>>16&255),put_byte(r,t.total_in>>24&255)):(putShortMSB(r,t.adler>>>16),putShortMSB(r,t.adler&65535)),flush_pending(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=t=>{if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const e=t.state.status;return t.state=null,e===BUSY_STATE?err(t,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(t,e)=>{let r=e.length;if(deflateStateCheck(t))return Z_STREAM_ERROR$2;const n=t.state,o=n.wrap;if(o===2||o===1&&n.status!==INIT_STATE||n.lookahead)return Z_STREAM_ERROR$2;if(o===1&&(t.adler=adler32_1(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){o===0&&(zero(n.head),n.strstart=0,n.block_start=0,n.insert=0);let gr=new Uint8Array(n.w_size);gr.set(e.subarray(r-n.w_size,r),0),e=gr,r=n.w_size}const a=t.avail_in,c=t.next_in,u=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,fill_window(n);n.lookahead>=MIN_MATCH;){let gr=n.strstart,br=n.lookahead-(MIN_MATCH-1);do n.ins_h=HASH(n,n.ins_h,n.window[gr+MIN_MATCH-1]),n.prev[gr&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=gr,gr++;while(--br);n.strstart=gr,n.lookahead=MIN_MATCH-1,fill_window(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,t.next_in=c,t.input=u,t.avail_in=a,n.wrap=o,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var assign$2=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(!!r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)_has(r,n)&&(t[n]=r[n])}}return t},flattenChunks=t=>{let e=0;for(let n=0,o=t.length;n<o;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,o=0,a=t.length;n<a;n++){let c=t[n];r.set(c,o),o+=c.length}return r},common$1={assign:assign$2,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let t=0;t<256;t++)_utf8len[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,o,a,c=t.length,u=0;for(o=0;o<c;o++)r=t.charCodeAt(o),(r&64512)===55296&&o+1<c&&(n=t.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(u),a=0,o=0;a<u;o++)r=t.charCodeAt(o),(r&64512)===55296&&o+1<c&&(n=t.charCodeAt(o+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),o++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const buf2binstring=(t,e)=>{if(e<65534&&t.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var buf2string=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,o;const a=new Array(r*2);for(o=0,n=0;n<r;){let c=t[n++];if(c<128){a[o++]=c;continue}let u=_utf8len[c];if(u>4){a[o++]=65533,n+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&n<r;)c=c<<6|t[n++]&63,u--;if(u>1){a[o++]=65533;continue}c<65536?a[o++]=c:(c-=65536,a[o++]=55296|c>>10&1023,a[o++]=56320|c&1023)}return buf2binstring(a,o)},utf8border=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+_utf8len[t[r]]>e?r:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(t){this.options=common$1.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==Z_OK$2)throw new Error(messages[r]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=strings.string2buf(e.dictionary):toString$1$1.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=deflate_1$2.deflateSetDictionary(this.strm,n),r!==Z_OK$2)throw new Error(messages[r]);this._dict_set=!0}}Deflate$1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let o,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof t=="string"?r.input=strings.string2buf(t):toString$1$1.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===Z_SYNC_FLUSH||a===Z_FULL_FLUSH)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(o=deflate_1$2.deflate(r,a),o===Z_STREAM_END$2)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),o=deflate_1$2.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Z_OK$2;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(t){this.chunks.push(t)};Deflate$1.prototype.onEnd=function(t){t===Z_OK$2&&(this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function(e,r){let n,o,a,c,u,gr,br,_r,Ar,vr,Tr,Or,Ir,xr,Lr,Fr,Mr,Hr,Vr,Kr,jr,qr,tn,en;const sn=e.state;n=e.next_in,tn=e.input,o=n+(e.avail_in-5),a=e.next_out,en=e.output,c=a-(r-e.avail_out),u=a+(e.avail_out-257),gr=sn.dmax,br=sn.wsize,_r=sn.whave,Ar=sn.wnext,vr=sn.window,Tr=sn.hold,Or=sn.bits,Ir=sn.lencode,xr=sn.distcode,Lr=(1<<sn.lenbits)-1,Fr=(1<<sn.distbits)-1;e:do{Or<15&&(Tr+=tn[n++]<<Or,Or+=8,Tr+=tn[n++]<<Or,Or+=8),Mr=Ir[Tr&Lr];t:for(;;){if(Hr=Mr>>>24,Tr>>>=Hr,Or-=Hr,Hr=Mr>>>16&255,Hr===0)en[a++]=Mr&65535;else if(Hr&16){Vr=Mr&65535,Hr&=15,Hr&&(Or<Hr&&(Tr+=tn[n++]<<Or,Or+=8),Vr+=Tr&(1<<Hr)-1,Tr>>>=Hr,Or-=Hr),Or<15&&(Tr+=tn[n++]<<Or,Or+=8,Tr+=tn[n++]<<Or,Or+=8),Mr=xr[Tr&Fr];r:for(;;){if(Hr=Mr>>>24,Tr>>>=Hr,Or-=Hr,Hr=Mr>>>16&255,Hr&16){if(Kr=Mr&65535,Hr&=15,Or<Hr&&(Tr+=tn[n++]<<Or,Or+=8,Or<Hr&&(Tr+=tn[n++]<<Or,Or+=8)),Kr+=Tr&(1<<Hr)-1,Kr>gr){e.msg="invalid distance too far back",sn.mode=BAD$1;break e}if(Tr>>>=Hr,Or-=Hr,Hr=a-c,Kr>Hr){if(Hr=Kr-Hr,Hr>_r&&sn.sane){e.msg="invalid distance too far back",sn.mode=BAD$1;break e}if(jr=0,qr=vr,Ar===0){if(jr+=br-Hr,Hr<Vr){Vr-=Hr;do en[a++]=vr[jr++];while(--Hr);jr=a-Kr,qr=en}}else if(Ar<Hr){if(jr+=br+Ar-Hr,Hr-=Ar,Hr<Vr){Vr-=Hr;do en[a++]=vr[jr++];while(--Hr);if(jr=0,Ar<Vr){Hr=Ar,Vr-=Hr;do en[a++]=vr[jr++];while(--Hr);jr=a-Kr,qr=en}}}else if(jr+=Ar-Hr,Hr<Vr){Vr-=Hr;do en[a++]=vr[jr++];while(--Hr);jr=a-Kr,qr=en}for(;Vr>2;)en[a++]=qr[jr++],en[a++]=qr[jr++],en[a++]=qr[jr++],Vr-=3;Vr&&(en[a++]=qr[jr++],Vr>1&&(en[a++]=qr[jr++]))}else{jr=a-Kr;do en[a++]=en[jr++],en[a++]=en[jr++],en[a++]=en[jr++],Vr-=3;while(Vr>2);Vr&&(en[a++]=en[jr++],Vr>1&&(en[a++]=en[jr++]))}}else if((Hr&64)===0){Mr=xr[(Mr&65535)+(Tr&(1<<Hr)-1)];continue r}else{e.msg="invalid distance code",sn.mode=BAD$1;break e}break}}else if((Hr&64)===0){Mr=Ir[(Mr&65535)+(Tr&(1<<Hr)-1)];continue t}else if(Hr&32){sn.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",sn.mode=BAD$1;break e}break}}while(n<o&&a<u);Vr=Or>>3,n-=Vr,Or-=Vr<<3,Tr&=(1<<Or)-1,e.next_in=n,e.next_out=a,e.avail_in=n<o?5+(o-n):5-(n-o),e.avail_out=a<u?257+(u-a):257-(a-u),sn.hold=Tr,sn.bits=Or};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(t,e,r,n,o,a,c,u)=>{const gr=u.bits;let br=0,_r=0,Ar=0,vr=0,Tr=0,Or=0,Ir=0,xr=0,Lr=0,Fr=0,Mr,Hr,Vr,Kr,jr,qr=null,tn;const en=new Uint16Array(MAXBITS+1),sn=new Uint16Array(MAXBITS+1);let cn=null,Ur,Rr,Pr;for(br=0;br<=MAXBITS;br++)en[br]=0;for(_r=0;_r<n;_r++)en[e[r+_r]]++;for(Tr=gr,vr=MAXBITS;vr>=1&&en[vr]===0;vr--);if(Tr>vr&&(Tr=vr),vr===0)return o[a++]=1<<24|64<<16|0,o[a++]=1<<24|64<<16|0,u.bits=1,0;for(Ar=1;Ar<vr&&en[Ar]===0;Ar++);for(Tr<Ar&&(Tr=Ar),xr=1,br=1;br<=MAXBITS;br++)if(xr<<=1,xr-=en[br],xr<0)return-1;if(xr>0&&(t===CODES$1||vr!==1))return-1;for(sn[1]=0,br=1;br<MAXBITS;br++)sn[br+1]=sn[br]+en[br];for(_r=0;_r<n;_r++)e[r+_r]!==0&&(c[sn[e[r+_r]]++]=_r);if(t===CODES$1?(qr=cn=c,tn=20):t===LENS$1?(qr=lbase,cn=lext,tn=257):(qr=dbase,cn=dext,tn=0),Fr=0,_r=0,br=Ar,jr=a,Or=Tr,Ir=0,Vr=-1,Lr=1<<Tr,Kr=Lr-1,t===LENS$1&&Lr>ENOUGH_LENS$1||t===DISTS$1&&Lr>ENOUGH_DISTS$1)return 1;for(;;){Ur=br-Ir,c[_r]+1<tn?(Rr=0,Pr=c[_r]):c[_r]>=tn?(Rr=cn[c[_r]-tn],Pr=qr[c[_r]-tn]):(Rr=32+64,Pr=0),Mr=1<<br-Ir,Hr=1<<Or,Ar=Hr;do Hr-=Mr,o[jr+(Fr>>Ir)+Hr]=Ur<<24|Rr<<16|Pr|0;while(Hr!==0);for(Mr=1<<br-1;Fr&Mr;)Mr>>=1;if(Mr!==0?(Fr&=Mr-1,Fr+=Mr):Fr=0,_r++,--en[br]===0){if(br===vr)break;br=e[r+c[_r]]}if(br>Tr&&(Fr&Kr)!==Vr){for(Ir===0&&(Ir=Tr),jr+=Ar,Or=br-Ir,xr=1<<Or;Or+Ir<vr&&(xr-=en[Or+Ir],!(xr<=0));)Or++,xr<<=1;if(Lr+=1<<Or,t===LENS$1&&Lr>ENOUGH_LENS$1||t===DISTS$1&&Lr>ENOUGH_DISTS$1)return 1;Vr=Fr&Kr,o[Vr]=Tr<<24|Or<<16|jr-a|0}}return Fr!==0&&(o[jr+Fr]=br-Ir<<24|64<<16|0),u.bits=Tr,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<HEAD||e.mode>SYNC?1:0},inflateResetKeep=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(t)},inflateReset2=(t,e)=>{let r;if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,inflateReset(t))},inflateInit2=(t,e)=>{if(!t)return Z_STREAM_ERROR$1;const r=new InflateState;t.state=r,r.strm=t,r.window=null,r.mode=HEAD;const n=inflateReset2(t,e);return n!==Z_OK$1&&(t.state=null),n},inflateInit=t=>inflateInit2(t,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=t=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(inftrees(LENS,t.lens,0,288,lenfix,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;inftrees(DISTS,t.lens,0,32,distfix,0,t.work,{bits:5}),virgin=!1}t.lencode=lenfix,t.lenbits=9,t.distcode=distfix,t.distbits=5},updatewindow=(t,e,r,n)=>{let o;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(o=a.wsize-a.wnext,o>n&&(o=n),a.window.set(e.subarray(r-n,r-n+o),a.wnext),n-=o,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0},inflate$2=(t,e)=>{let r,n,o,a,c,u,gr,br,_r,Ar,vr,Tr,Or,Ir,xr=0,Lr,Fr,Mr,Hr,Vr,Kr,jr,qr;const tn=new Uint8Array(4);let en,sn;const cn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(t)||!t.output||!t.input&&t.avail_in!==0)return Z_STREAM_ERROR$1;r=t.state,r.mode===TYPE&&(r.mode=TYPEDO),c=t.next_out,o=t.output,gr=t.avail_out,a=t.next_in,n=t.input,u=t.avail_in,br=r.hold,_r=r.bits,Ar=u,vr=gr,qr=Z_OK$1;e:for(;;)switch(r.mode){case HEAD:if(r.wrap===0){r.mode=TYPEDO;break}for(;_r<16;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if(r.wrap&2&&br===35615){r.wbits===0&&(r.wbits=15),r.check=0,tn[0]=br&255,tn[1]=br>>>8&255,r.check=crc32_1(r.check,tn,2,0),br=0,_r=0,r.mode=FLAGS;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((br&255)<<8)+(br>>8))%31){t.msg="incorrect header check",r.mode=BAD;break}if((br&15)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(br>>>=4,_r-=4,jr=(br&15)+8,r.wbits===0&&(r.wbits=jr),jr>15||jr>r.wbits){t.msg="invalid window size",r.mode=BAD;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=br&512?DICTID:TYPE,br=0,_r=0;break;case FLAGS:for(;_r<16;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if(r.flags=br,(r.flags&255)!==Z_DEFLATED){t.msg="unknown compression method",r.mode=BAD;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=BAD;break}r.head&&(r.head.text=br>>8&1),r.flags&512&&r.wrap&4&&(tn[0]=br&255,tn[1]=br>>>8&255,r.check=crc32_1(r.check,tn,2,0)),br=0,_r=0,r.mode=TIME;case TIME:for(;_r<32;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}r.head&&(r.head.time=br),r.flags&512&&r.wrap&4&&(tn[0]=br&255,tn[1]=br>>>8&255,tn[2]=br>>>16&255,tn[3]=br>>>24&255,r.check=crc32_1(r.check,tn,4,0)),br=0,_r=0,r.mode=OS;case OS:for(;_r<16;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}r.head&&(r.head.xflags=br&255,r.head.os=br>>8),r.flags&512&&r.wrap&4&&(tn[0]=br&255,tn[1]=br>>>8&255,r.check=crc32_1(r.check,tn,2,0)),br=0,_r=0,r.mode=EXLEN;case EXLEN:if(r.flags&1024){for(;_r<16;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}r.length=br,r.head&&(r.head.extra_len=br),r.flags&512&&r.wrap&4&&(tn[0]=br&255,tn[1]=br>>>8&255,r.check=crc32_1(r.check,tn,2,0)),br=0,_r=0}else r.head&&(r.head.extra=null);r.mode=EXTRA;case EXTRA:if(r.flags&1024&&(Tr=r.length,Tr>u&&(Tr=u),Tr&&(r.head&&(jr=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+Tr),jr)),r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,n,Tr,a)),u-=Tr,a+=Tr,r.length-=Tr),r.length))break e;r.length=0,r.mode=NAME;case NAME:if(r.flags&2048){if(u===0)break e;Tr=0;do jr=n[a+Tr++],r.head&&jr&&r.length<65536&&(r.head.name+=String.fromCharCode(jr));while(jr&&Tr<u);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,n,Tr,a)),u-=Tr,a+=Tr,jr)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=COMMENT;case COMMENT:if(r.flags&4096){if(u===0)break e;Tr=0;do jr=n[a+Tr++],r.head&&jr&&r.length<65536&&(r.head.comment+=String.fromCharCode(jr));while(jr&&Tr<u);if(r.flags&512&&r.wrap&4&&(r.check=crc32_1(r.check,n,Tr,a)),u-=Tr,a+=Tr,jr)break e}else r.head&&(r.head.comment=null);r.mode=HCRC;case HCRC:if(r.flags&512){for(;_r<16;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if(r.wrap&4&&br!==(r.check&65535)){t.msg="header crc mismatch",r.mode=BAD;break}br=0,_r=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=TYPE;break;case DICTID:for(;_r<32;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}t.adler=r.check=zswap32(br),br=0,_r=0,r.mode=DICT;case DICT:if(r.havedict===0)return t.next_out=c,t.avail_out=gr,t.next_in=a,t.avail_in=u,r.hold=br,r.bits=_r,Z_NEED_DICT$1;t.adler=r.check=1,r.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(r.last){br>>>=_r&7,_r-=_r&7,r.mode=CHECK;break}for(;_r<3;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}switch(r.last=br&1,br>>>=1,_r-=1,br&3){case 0:r.mode=STORED;break;case 1:if(fixedtables(r),r.mode=LEN_,e===Z_TREES){br>>>=2,_r-=2;break e}break;case 2:r.mode=TABLE;break;case 3:t.msg="invalid block type",r.mode=BAD}br>>>=2,_r-=2;break;case STORED:for(br>>>=_r&7,_r-=_r&7;_r<32;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if((br&65535)!==(br>>>16^65535)){t.msg="invalid stored block lengths",r.mode=BAD;break}if(r.length=br&65535,br=0,_r=0,r.mode=COPY_,e===Z_TREES)break e;case COPY_:r.mode=COPY;case COPY:if(Tr=r.length,Tr){if(Tr>u&&(Tr=u),Tr>gr&&(Tr=gr),Tr===0)break e;o.set(n.subarray(a,a+Tr),c),u-=Tr,a+=Tr,gr-=Tr,c+=Tr,r.length-=Tr;break}r.mode=TYPE;break;case TABLE:for(;_r<14;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if(r.nlen=(br&31)+257,br>>>=5,_r-=5,r.ndist=(br&31)+1,br>>>=5,_r-=5,r.ncode=(br&15)+4,br>>>=4,_r-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=BAD;break}r.have=0,r.mode=LENLENS;case LENLENS:for(;r.have<r.ncode;){for(;_r<3;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}r.lens[cn[r.have++]]=br&7,br>>>=3,_r-=3}for(;r.have<19;)r.lens[cn[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,en={bits:r.lenbits},qr=inftrees(CODES,r.lens,0,19,r.lencode,0,r.work,en),r.lenbits=en.bits,qr){t.msg="invalid code lengths set",r.mode=BAD;break}r.have=0,r.mode=CODELENS;case CODELENS:for(;r.have<r.nlen+r.ndist;){for(;xr=r.lencode[br&(1<<r.lenbits)-1],Lr=xr>>>24,Fr=xr>>>16&255,Mr=xr&65535,!(Lr<=_r);){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if(Mr<16)br>>>=Lr,_r-=Lr,r.lens[r.have++]=Mr;else{if(Mr===16){for(sn=Lr+2;_r<sn;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if(br>>>=Lr,_r-=Lr,r.have===0){t.msg="invalid bit length repeat",r.mode=BAD;break}jr=r.lens[r.have-1],Tr=3+(br&3),br>>>=2,_r-=2}else if(Mr===17){for(sn=Lr+3;_r<sn;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}br>>>=Lr,_r-=Lr,jr=0,Tr=3+(br&7),br>>>=3,_r-=3}else{for(sn=Lr+7;_r<sn;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}br>>>=Lr,_r-=Lr,jr=0,Tr=11+(br&127),br>>>=7,_r-=7}if(r.have+Tr>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=BAD;break}for(;Tr--;)r.lens[r.have++]=jr}}if(r.mode===BAD)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=BAD;break}if(r.lenbits=9,en={bits:r.lenbits},qr=inftrees(LENS,r.lens,0,r.nlen,r.lencode,0,r.work,en),r.lenbits=en.bits,qr){t.msg="invalid literal/lengths set",r.mode=BAD;break}if(r.distbits=6,r.distcode=r.distdyn,en={bits:r.distbits},qr=inftrees(DISTS,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,en),r.distbits=en.bits,qr){t.msg="invalid distances set",r.mode=BAD;break}if(r.mode=LEN_,e===Z_TREES)break e;case LEN_:r.mode=LEN;case LEN:if(u>=6&&gr>=258){t.next_out=c,t.avail_out=gr,t.next_in=a,t.avail_in=u,r.hold=br,r.bits=_r,inffast(t,vr),c=t.next_out,o=t.output,gr=t.avail_out,a=t.next_in,n=t.input,u=t.avail_in,br=r.hold,_r=r.bits,r.mode===TYPE&&(r.back=-1);break}for(r.back=0;xr=r.lencode[br&(1<<r.lenbits)-1],Lr=xr>>>24,Fr=xr>>>16&255,Mr=xr&65535,!(Lr<=_r);){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if(Fr&&(Fr&240)===0){for(Hr=Lr,Vr=Fr,Kr=Mr;xr=r.lencode[Kr+((br&(1<<Hr+Vr)-1)>>Hr)],Lr=xr>>>24,Fr=xr>>>16&255,Mr=xr&65535,!(Hr+Lr<=_r);){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}br>>>=Hr,_r-=Hr,r.back+=Hr}if(br>>>=Lr,_r-=Lr,r.back+=Lr,r.length=Mr,Fr===0){r.mode=LIT;break}if(Fr&32){r.back=-1,r.mode=TYPE;break}if(Fr&64){t.msg="invalid literal/length code",r.mode=BAD;break}r.extra=Fr&15,r.mode=LENEXT;case LENEXT:if(r.extra){for(sn=r.extra;_r<sn;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}r.length+=br&(1<<r.extra)-1,br>>>=r.extra,_r-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=DIST;case DIST:for(;xr=r.distcode[br&(1<<r.distbits)-1],Lr=xr>>>24,Fr=xr>>>16&255,Mr=xr&65535,!(Lr<=_r);){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if((Fr&240)===0){for(Hr=Lr,Vr=Fr,Kr=Mr;xr=r.distcode[Kr+((br&(1<<Hr+Vr)-1)>>Hr)],Lr=xr>>>24,Fr=xr>>>16&255,Mr=xr&65535,!(Hr+Lr<=_r);){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}br>>>=Hr,_r-=Hr,r.back+=Hr}if(br>>>=Lr,_r-=Lr,r.back+=Lr,Fr&64){t.msg="invalid distance code",r.mode=BAD;break}r.offset=Mr,r.extra=Fr&15,r.mode=DISTEXT;case DISTEXT:if(r.extra){for(sn=r.extra;_r<sn;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}r.offset+=br&(1<<r.extra)-1,br>>>=r.extra,_r-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=BAD;break}r.mode=MATCH;case MATCH:if(gr===0)break e;if(Tr=vr-gr,r.offset>Tr){if(Tr=r.offset-Tr,Tr>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=BAD;break}Tr>r.wnext?(Tr-=r.wnext,Or=r.wsize-Tr):Or=r.wnext-Tr,Tr>r.length&&(Tr=r.length),Ir=r.window}else Ir=o,Or=c-r.offset,Tr=r.length;Tr>gr&&(Tr=gr),gr-=Tr,r.length-=Tr;do o[c++]=Ir[Or++];while(--Tr);r.length===0&&(r.mode=LEN);break;case LIT:if(gr===0)break e;o[c++]=r.length,gr--,r.mode=LEN;break;case CHECK:if(r.wrap){for(;_r<32;){if(u===0)break e;u--,br|=n[a++]<<_r,_r+=8}if(vr-=gr,t.total_out+=vr,r.total+=vr,r.wrap&4&&vr&&(t.adler=r.check=r.flags?crc32_1(r.check,o,vr,c-vr):adler32_1(r.check,o,vr,c-vr)),vr=gr,r.wrap&4&&(r.flags?br:zswap32(br))!==r.check){t.msg="incorrect data check",r.mode=BAD;break}br=0,_r=0}r.mode=LENGTH;case LENGTH:if(r.wrap&&r.flags){for(;_r<32;){if(u===0)break e;u--,br+=n[a++]<<_r,_r+=8}if(r.wrap&4&&br!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=BAD;break}br=0,_r=0}r.mode=DONE;case DONE:qr=Z_STREAM_END$1;break e;case BAD:qr=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return t.next_out=c,t.avail_out=gr,t.next_in=a,t.avail_in=u,r.hold=br,r.bits=_r,(r.wsize||vr!==t.avail_out&&r.mode<BAD&&(r.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(t,t.output,t.next_out,vr-t.avail_out),Ar-=t.avail_in,vr-=t.avail_out,t.total_in+=Ar,t.total_out+=vr,r.total+=vr,r.wrap&4&&vr&&(t.adler=r.check=r.flags?crc32_1(r.check,o,vr,t.next_out-vr):adler32_1(r.check,o,vr,t.next_out-vr)),t.data_type=r.bits+(r.last?64:0)+(r.mode===TYPE?128:0)+(r.mode===LEN_||r.mode===COPY_?256:0),(Ar===0&&vr===0||e===Z_FINISH$1)&&qr===Z_OK$1&&(qr=Z_BUF_ERROR),qr},inflateEnd=t=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;let e=t.state;return e.window&&(e.window=null),t.state=null,Z_OK$1},inflateGetHeader=(t,e)=>{if(inflateStateCheck(t))return Z_STREAM_ERROR$1;const r=t.state;return(r.wrap&2)===0?Z_STREAM_ERROR$1:(r.head=e,e.done=!1,Z_OK$1)},inflateSetDictionary=(t,e)=>{const r=e.length;let n,o,a;return inflateStateCheck(t)||(n=t.state,n.wrap!==0&&n.mode!==DICT)?Z_STREAM_ERROR$1:n.mode===DICT&&(o=1,o=adler32_1(o,e,r,0),o!==n.check)?Z_DATA_ERROR$1:(a=updatewindow(t,e,r,r),a?(n.mode=MEM,Z_MEM_ERROR$1):(n.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(t){this.options=common$1.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let r=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(r!==Z_OK)throw new Error(messages[r]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString$2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),r!==Z_OK)))throw new Error(messages[r])}Inflate$1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,o=this.options.dictionary;let a,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=inflate_1$2.inflate(r,c),a===Z_NEED_DICT&&o&&(a=inflate_1$2.inflateSetDictionary(r,o),a===Z_OK?a=inflate_1$2.inflate(r,c):a===Z_DATA_ERROR&&(a=Z_NEED_DICT));r.avail_in>0&&a===Z_STREAM_END&&r.state.wrap>0&&t[r.next_in]!==0;)inflate_1$2.inflateReset(r),a=inflate_1$2.inflate(r,c);switch(a){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(a),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||a===Z_STREAM_END))if(this.options.to==="string"){let gr=strings.utf8border(r.output,r.next_out),br=r.next_out-gr,_r=strings.buf2string(r.output,gr);r.next_out=br,r.avail_out=n-br,br&&r.output.set(r.output.subarray(gr,gr+br),0),this.onData(_r)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Z_OK&&u===0)){if(a===Z_STREAM_END)return a=inflate_1$2.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(t){this.chunks.push(t)};Inflate$1.prototype.onEnd=function(t){t===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function inflate$1(t,e){const r=new Inflate$1(e);if(r.push(t),r.err)throw r.msg||messages[r.err];return r.result}function inflateRaw$1(t,e){return e=e||{},e.raw=!0,inflate$1(t,e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$3=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$3};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate;function splitArgsAndCtx(t,e){var r,n;let o={};const a=t.args?t.args.length:0;if(e.length>a){if(e.length!==a+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(n=(r=t.args)===null||r===void 0?void 0:r.map(c=>c.name))!==null&&n!==void 0?n:[]}`);o=e.pop()}return[e,o]}class InstructionNamespaceFactory{static build(e,r,n){if(e.name==="_inner")throw new IdlError("the _inner name is reserved");const o=(...a)=>{const[c,u]=splitArgsAndCtx(e,[...a]);validateAccounts(e.accounts,u.accounts),validateInstruction(e,...a);const gr=o.accounts(u.accounts);return u.remainingAccounts!==void 0&&gr.push(...u.remainingAccounts),isSet$1("debug-logs")&&console.log("Outgoing account metas:",gr),new TransactionInstruction$3({keys:gr,programId:n,data:r(e.name,toInstruction(e,...c))})};return o.accounts=a=>InstructionNamespaceFactory.accountsArray(a,e.accounts,n,e.name),o}static accountsArray(e,r,n,o){return e?r.map(a=>{if(isCompositeAccounts(a)){const _r=e[a.name];return InstructionNamespaceFactory.accountsArray(_r,a.accounts,n,o).flat()}let c;try{c=translateAddress(e[a.name])}catch{throw new Error(`Wrong input type for account "${a.name}" in the instruction accounts object${o!==void 0?' for instruction "'+o+'"':""}. Expected PublicKey or string.`)}const u=a.optional&&c.equals(n),gr=Boolean(a.writable&&!u),br=Boolean(a.signer&&!u);return{pubkey:c,isWritable:gr,isSigner:br}}).flat():[]}}function validateInstruction(t,...e){}class TransactionFactory{static build(e,r){return(...o)=>{var a,c,u;const[,gr]=splitArgsAndCtx(e,[...o]),br=new Transaction$3;if(gr.preInstructions&&gr.instructions)throw new Error("instructions is deprecated, use preInstructions");return(a=gr.preInstructions)===null||a===void 0||a.forEach(_r=>br.add(_r)),(c=gr.instructions)===null||c===void 0||c.forEach(_r=>br.add(_r)),br.add(r(...o)),(u=gr.postInstructions)===null||u===void 0||u.forEach(_r=>br.add(_r)),br}}}class RpcFactory{static build(e,r,n,o){return async(...c)=>{var u;const gr=r(...c),[,br]=splitArgsAndCtx(e,[...c]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(gr,(u=br.signers)!==null&&u!==void 0?u:[],br.options)}catch(_r){throw translateError(_r,n)}}}}class AccountFactory{static build(e,r,n,o){var a;return((a=e.accounts)!==null&&a!==void 0?a:[]).reduce((c,u)=>(c[u.name]=new AccountClient(e,u,n,o,r),c),{})}}class AccountClient{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,r,n,o,a){this._idlAccount=r,this._programId=n,this._provider=o??getProvider(),this._coder=a??new BorshCoder(e),this._size=this._coder.accounts.size(r.name)}async fetchNullable(e,r){const{data:n}=await this.fetchNullableAndContext(e,r);return n}async fetchNullableAndContext(e,r){const n=await this.getAccountInfoAndContext(e,r),{value:o,context:a}=n;return{data:o&&o.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,o.data):null,context:a}}async fetch(e,r){const{data:n}=await this.fetchNullableAndContext(e,r);if(n===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,r){const{data:n,context:o}=await this.fetchNullableAndContext(e,r);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:o}}async fetchMultiple(e,r){return(await this.fetchMultipleAndContext(e,r)).map(o=>o?o.data:null)}async fetchMultipleAndContext(e,r){return(await getMultipleAccountsAndContext(this._provider.connection,e.map(o=>translateAddress(o)),r)).map(o=>{if(o==null)return null;const{account:a,context:c}=o;return{data:this._coder.accounts.decode(this._idlAccount.name,a.data),context:c}})}async all(e){const r=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof dist$3.Buffer?e:void 0),n=[];return(r==null?void 0:r.offset)!=null&&(r==null?void 0:r.bytes)!=null&&n.push({memcmp:{offset:r.offset,bytes:r.bytes}}),(r==null?void 0:r.dataSize)!=null&&n.push({dataSize:r.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map(({pubkey:a,account:c})=>({publicKey:a,account:this._coder.accounts.decode(this._idlAccount.name,c.data)}))}subscribe(e,r){const n=subscriptions.get(e.toString());if(n)return n.ee;const o=new EventEmitter;e=translateAddress(e);const a=this._provider.connection.onAccountChange(e,c=>{const u=this._coder.accounts.decode(this._idlAccount.name,c.data);o.emit("change",u)},r);return subscriptions.set(e.toString(),{ee:o,listener:a}),o}async unsubscribe(e){let r=subscriptions.get(e.toString());if(!r){console.warn("Address is not subscribed");return}subscriptions&&await this._provider.connection.removeAccountChangeListener(r.listener).then(()=>{subscriptions.delete(e.toString())}).catch(console.error)}async createInstruction(e,r){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return SystemProgram$3.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:r??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(r??n),programId:this._programId})}async getAccountInfo(e,r){return await this._provider.connection.getAccountInfo(translateAddress(e),r)}async getAccountInfoAndContext(e,r){return await this._provider.connection.getAccountInfoAndContext(translateAddress(e),r)}}const subscriptions=new Map,PROGRAM_LOG="Program log: ",PROGRAM_DATA="Program data: ",PROGRAM_LOG_START_INDEX=PROGRAM_LOG.length,PROGRAM_DATA_START_INDEX=PROGRAM_DATA.length;class EventManager{constructor(e,r,n){this._programId=e,this._provider=r,this._eventParser=new EventParser(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,r){var n;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((n=this._eventListeners.get(e))!==null&&n!==void 0?n:[]).concat(o)),this._eventCallbacks.set(o,[e,r]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(a,c)=>{if(!a.err)for(const u of this._eventParser.parseLogs(a.logs)){const gr=this._eventListeners.get(u.name);gr&&gr.forEach(br=>{const _r=this._eventCallbacks.get(br);if(_r){const[,Ar]=_r;Ar(u.data,c.slot,a.signature)}})}})),o}async removeEventListener(e){const r=this._eventCallbacks.get(e);if(!r)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=r;let o=this._eventListeners.get(n);if(!o)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),o=o.filter(a=>a!==e),this._eventListeners.set(n,o),o.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class EventParser{constructor(e,r){this.coder=r,this.programId=e}*parseLogs(e,r=!1){const n=new LogScanner(e),o=new ExecutionContext;let a=n.next();for(;a!==null;){let[c,u,gr]=this.handleLog(o,a,r);c&&(yield c),u&&o.push(u),gr&&o.pop(),a=n.next()}}handleLog(e,r,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(r,n):[null,...this.handleSystemLog(r)]}handleProgramLog(e,r){if(e.startsWith(PROGRAM_LOG)||e.startsWith(PROGRAM_DATA)){const n=e.startsWith(PROGRAM_LOG)?e.slice(PROGRAM_LOG_START_INDEX):e.slice(PROGRAM_DATA_START_INDEX),o=this.coder.events.decode(n);if(r&&o===null)throw new Error(`Unable to decode event ${n}`);return[o,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const r=e.split(":")[0];return r.match(/^Program (.*) success/g)!==null?[null,!0]:r.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:r.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class LogScanner{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class SimulateFactory{static build(e,r,n,o,a,c,u){return async(...br)=>{var _r;const Ar=r(...br),[,vr]=splitArgsAndCtx(e,[...br]);let Tr;if(o.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{Tr=await o.simulate(Ar,vr.signers,(_r=vr.options)===null||_r===void 0?void 0:_r.commitment)}catch(xr){throw translateError(xr,n)}if(Tr===void 0)throw new Error("Unable to simulate transaction");const Or=Tr.logs;if(!Or)throw new Error("Simulated logs not found");const Ir=[];if(u.events){let xr=new EventParser(c,a);for(const Lr of xr.parseLogs(Or))Ir.push(Lr)}return{events:Ir,raw:Or}}}}function uint64$1(t){return new WrappedLayout(blob$1(8),e=>u64$7.fromBuffer(e),e=>e.toBuffer(),t)}function publicKey$5(t){return new WrappedLayout(blob$1(32),e=>new PublicKey$3(e),e=>e.toBuffer(),t)}function coption$1(t,e){return new COptionLayout(t,e)}class WrappedLayout extends Layout_2{constructor(e,r,n,o){super(e.span,o),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}class COptionLayout extends Layout_2{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=u32$1()}encode(e,r,n=0){return e==null?this.layout.span+this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+4)+4)}decode(e,r=0){const n=this.discriminator.decode(e,r);if(n===0)return null;if(n===1)return this.layout.decode(e,r+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,r=0){return this.layout.getSpan(e,r+4)+4}}class u64$7 extends BN{toBuffer(){const e=super.toArray().reverse(),r=dist$3.Buffer.from(e);if(r.length===8)return r;if(r.length>=8)throw new Error("u64 too large");const n=dist$3.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new u64$7([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}const TOKEN_ACCOUNT_LAYOUT=struct$2([publicKey$5("mint"),publicKey$5("owner"),uint64$1("amount"),coption$1(publicKey$5(),"delegate"),(t=>{const e=union$2(u8$1("discriminator"),null,t);return e.addVariant(0,struct$2([]),"uninitialized"),e.addVariant(1,struct$2([]),"initialized"),e.addVariant(2,struct$2([]),"frozen"),e})("state"),coption$1(uint64$1(),"isNative"),uint64$1("delegatedAmount"),coption$1(publicKey$5(),"closeAuthority")]);function decodeTokenAccount(t){return TOKEN_ACCOUNT_LAYOUT.decode(t)}class AccountsResolver{constructor(e,r,n,o,a,c,u,gr){this._args=e,this._accounts=r,this._provider=n,this._programId=o,this._idlIx=a,this._idlTypes=u,this._customResolver=gr,this._accountStore=new AccountStore(n,c,o)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16)throw new Error("Reached maximum depth for account resolution")}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const r=e.reduce((n,o)=>n&&n[o],this._accounts);if(r&&r.toBase58)return r}set(e,r){let n=this._accounts;e.forEach((o,a)=>{var c;a===e.length-1&&(n[o]=r),n[o]=(c=n[o])!==null&&c!==void 0?c:{},n=n[o]})}resolveOptionalsHelper(e,r){const n={};for(const o of r){const a=o.name,c=e[a];c!==void 0&&(isPartialAccounts(c)?isCompositeAccounts(o)?n[a]=this.resolveOptionalsHelper(c,o.accounts):n[a]=flattenPartialAccounts(c,!0):c!==null?n[a]=translateAddress(c):o.optional&&(n[a]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:r}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,r}return 0}resolveEventCpi(e,r=[]){for(const n in e){const o=e[n];isCompositeAccounts(o)&&this.resolveEventCpi(o.accounts,[...r,o.name]);const a=+n+1;if(a===e.length)return;const c=e[n].name,u=e[a].name;if(c==="eventAuthority"&&u==="program"){const gr=[...r,c],br=[...r,u];this.get(gr)||this.set(gr,PublicKey$3.findProgramAddressSync([dist$3.Buffer.from("__event_authority")],this._programId)[0]),this.get(br)||this.set(br,this._programId);return}}}resolveConst(e,r=[]){for(const n of e){const o=n.name;if(isCompositeAccounts(n))this.resolveConst(n.accounts,[...r,o]);else{const a=n;if((a.signer||a.address)&&!this.get([...r,o])){if(a.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...r,o],this._provider.wallet.publicKey)}a.address&&this.set([...r,o],translateAddress(a.address))}}}}async resolvePdasAndRelations(e,r=[]){let n=0;for(const o of e){const a=o.name;if(isCompositeAccounts(o))n+=await this.resolvePdasAndRelations(o.accounts,[...r,a]);else{const c=o;if((c.pda||c.relations)&&!this.get([...r,a])){n++;try{if(c.pda){const u=await Promise.all(c.pda.seeds.map(_r=>this.toBuffer(_r,r)));if(u.some(_r=>!_r))continue;const gr=await this.parseProgramId(c,r),[br]=PublicKey$3.findProgramAddressSync(u,gr);this.set([...r,a],br)}}catch{}try{if(c.relations){const u=this.get([...r,c.relations[0]]);if(u){const gr=await this._accountStore.fetchAccount({publicKey:u});this.set([...r,a],gr[a])}}}catch{}}}}return n}async parseProgramId(e,r=[]){var n;if(!(!((n=e.pda)===null||n===void 0)&&n.program))return this._programId;const o=await this.toBuffer(e.pda.program,r);if(!o)throw new Error(`Program seed not resolved: ${e.name}`);return new PublicKey$3(o)}async toBuffer(e,r=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,r);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[r,...n]=e.path.split("."),o=this._idlIx.args.findIndex(u=>u.name===r);if(o===-1)throw new Error(`Unable to find argument for seed: ${r}`);const a=n.reduce((u,gr)=>(u??{})[gr],this._args[o]);if(a===void 0)return;const c=this.getType(this._idlIx.args[o].type,n);return this.toBufferValue(c,a)}async toBufferAccount(e,r=[]){const[n,...o]=e.path.split("."),a=this.get([...r,n]);if(!a)return;if(!o.length)return this.toBufferValue("pubkey",a);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let u=await this._accountStore.fetchAccount({publicKey:a,name:e.account}),gr=o;for(;gr.length>0;)u=u[gr[0]],gr=gr.slice(1);if(u===void 0)return;const br=this.getType({defined:{name:e.account}},o);return this.toBufferValue(br,u)}toBufferValue(e,r){switch(e){case"u8":case"i8":return dist$3.Buffer.from([r]);case"u16":case"i16":return new BN(r).toArrayLike(dist$3.Buffer,"le",2);case"u32":case"i32":return new BN(r).toArrayLike(dist$3.Buffer,"le",4);case"u64":case"i64":return new BN(r).toArrayLike(dist$3.Buffer,"le",8);case"u128":case"i128":return new BN(r).toArrayLike(dist$3.Buffer,"le",16);case"u256":case"i256":return new BN(r).toArrayLike(dist$3.Buffer,"le",32);case"string":return dist$3.Buffer.from(r);case"pubkey":return r.toBuffer();case"bytes":return dist$3.Buffer.from(r);default:if(e!=null&&e.array)return dist$3.Buffer.from(r);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,r=[]){var n;const o=(n=e==null?void 0:e.defined)===null||n===void 0?void 0:n.name;if(o){if(o==="tokenAccount")switch(r.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${r}`)}const a=this._idlTypes.find(_r=>_r.name===o);if(!a)throw new Error(`Type not found: ${o}`);const[c,...u]=r,br=a.type.fields.find(_r=>_r.name===c);if(!br)throw new Error(`Field not found: ${c}`);return this.getType(br.type,u)}return e}}class AccountStore{constructor(e,r,n){this._provider=e,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=r}async fetchAccount({publicKey:e,name:r}){const n=e.toBase58();if(!this._cache.has(n)){const o=await this._provider.connection.getAccountInfo(e);if(o===null)throw new Error(`Account not found: ${n}`);if(r==="tokenAccount"){const a=decodeTokenAccount(o.data);this._cache.set(n,a)}else{const a=await this.getAccountsNs(o.owner);if(a){const c=Object.values(a)[0];if(c){const u=c.coder.accounts.decodeAny(o.data);this._cache.set(n,u)}}}}return this._cache.get(n)}async getAccountsNs(e){const r=e.toBase58();if(!this._idls[r]){const n=await Program.fetchIdl(e,this._provider);if(n){const o=new Program(n,this._provider);this._idls[r]=o.account}}return this._idls[r]}}class MethodsBuilderFactory{static build(e,r,n,o,a,c,u,gr,br,_r,Ar){return(...vr)=>new MethodsBuilder(vr,o,a,c,u,gr,e,r,n,br,_r,Ar)}}function isPartialAccounts(t){return typeof t=="object"&&t!==null&&!("_bn"in t)}function flattenPartialAccounts(t,e){const r={};for(const n in t){const o=t[n];if(o===null){if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");continue}r[n]=isPartialAccounts(o)?flattenPartialAccounts(o,!0):translateAddress(o)}return r}class MethodsBuilder{constructor(e,r,n,o,a,c,u,gr,br,_r,Ar,vr){this._args=e,this._ixFn=r,this._txFn=n,this._rpcFn=o,this._simulateFn=a,this._viewFn=c,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new AccountsResolver(e,this._accounts,u,gr,br,_r,Ar,vr)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,r=!1){return r?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class ViewFactory{static build(e,r,n,o){const a=r.accounts.find(gr=>gr.writable),c=!!r.returns;return a||!c?void 0:async(...gr)=>{let br=await n(...gr);const _r=`Program return: ${e} `;let Ar=br.raw.find(Ir=>Ir.startsWith(_r));if(!Ar)throw new Error("View expected return log");let vr=decode$2(Ar.slice(_r.length)),Tr=r.returns;if(!Tr)throw new Error("View expected return type");return IdlCoder.fieldLayout({type:Tr},o.types).decode(vr)}}}class NamespaceFactory{static build(e,r,n,o,a){const c={},u={},gr={},br={},_r={},Ar={},vr=parseIdlErrors(e),Tr=e.accounts?AccountFactory.build(e,r,n,o):{};return e.instructions.forEach(Or=>{const Ir=InstructionNamespaceFactory.build(Or,(Kr,jr)=>r.instruction.encode(Kr,jr),n),xr=TransactionFactory.build(Or,Ir),Lr=RpcFactory.build(Or,xr,vr,o),Fr=SimulateFactory.build(Or,xr,vr,o,r,n,e),Mr=ViewFactory.build(n,Or,Fr,e),Hr=MethodsBuilderFactory.build(o,n,Or,Ir,xr,Lr,Fr,Mr,Tr,e.types||[],a==null?void 0:a(Or)),Vr=Or.name;u[Vr]=Ir,gr[Vr]=xr,c[Vr]=Lr,br[Vr]=Fr,_r[Vr]=Hr,Mr&&(Ar[Vr]=Mr)}),[c,u,gr,Tr,br,_r,Ar]}}class Program{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,r=getProvider(),n,o){const a=convertIdlToCamelCase(e);this._idl=a,this._rawIdl=e,this._provider=r,this._programId=translateAddress(e.address),this._coder=n??new BorshCoder(a),this._events=new EventManager(this._programId,r,this._coder);const[c,u,gr,br,_r,Ar,vr]=NamespaceFactory.build(a,this._coder,this._programId,r,o);this.rpc=c,this.instruction=u,this.transaction=gr,this.account=br,this.simulate=_r,this.methods=Ar,this.views=vr}static async at(e,r){const n=translateAddress(e),o=await Program.fetchIdl(n,r);if(!o)throw new Error(`IDL not found for program: ${e.toString()}`);return new Program(o,r)}static async fetchIdl(e,r){r=r??getProvider();const n=translateAddress(e),o=await idlAddress(n),a=await r.connection.getAccountInfo(o);if(!a)return null;let c=decodeIdlAccount(a.data.slice(8));const u=inflate_1(c.data);return JSON.parse(decode$3(u))}addEventListener(e,r){return this._events.addEventListener(e,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new PublicKey$3("11111111111111111111111111111111");isBrowser$1||(exports.workspace=require("./workspace.js").default,exports.Wallet=require("./nodewallet.js").default);const address$4="whi5uDPWK4rAE9Sus6hdxdHwsG1hjDBn6kXM6pyqwTn",metadata$7={name:"whitelist",version:"0.1.0",spec:"0.1.0"},instructions$7=[{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"whitelist",writable:!0},{name:"signer",writable:!0,signer:!0},{name:"system_program",docs:["the account sending (and signing) this transaction"]}],args:[{name:"name",type:"string"}]},{name:"add_to_whitelist",discriminator:[157,211,52,54,144,81,5,55],accounts:[{name:"entry",writable:!0},{name:"whitelist",writable:!0},{name:"authority",writable:!0,signer:!0},{name:"system_program"}],args:[{name:"account_to_add",type:"pubkey"}]},{name:"remove_from_whitelist",discriminator:[7,144,216,239,243,236,193,235],accounts:[{name:"entry",writable:!0},{name:"whitelist",writable:!0},{name:"authority",writable:!0,signer:!0}],args:[{name:"account_to_delete",type:"pubkey"}]},{name:"delete_whitelist",discriminator:[229,26,200,168,119,177,128,19],accounts:[{name:"whitelist",writable:!0},{name:"authority",writable:!0,signer:!0}],args:[{name:"name",type:"string"}]},{name:"check_whitelist",discriminator:[202,135,140,249,143,1,201,143],accounts:[{name:"whitelist"}],args:[{name:"owner",type:"pubkey"},{name:"name",type:"string"}]},{name:"check_whitelisted",discriminator:[55,32,174,31,5,246,187,13],accounts:[{name:"entry"},{name:"whitelist"}],args:[{name:"account_to_check",type:"pubkey"}]}],accounts$7=[{name:"Whitelist",discriminator:[204,176,52,79,146,121,54,247]},{name:"WhitelistEntry",discriminator:[51,70,173,81,219,192,234,62]}],errors$8=[{code:6e3,name:"WhitelistStillHasChilds",msg:"The whitelist still has childs"},{code:6001,name:"AccountsNoRemovable",msg:"Can not remove the specified account"}],types$b=[{name:"Whitelist",type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"name",type:"string"},{name:"has_childs",type:"bool"},{name:"access_count",type:"u32"}]}},{name:"WhitelistEntry",type:{kind:"struct",fields:[{name:"parent",type:"pubkey"},{name:"whitelisted",type:"pubkey"}]}}];var dapp_whitelist_idl={address:address$4,metadata:metadata$7,instructions:instructions$7,accounts:accounts$7,errors:errors$8,types:types$b};const address$3="rafxXxjw9fkAuQhCJ1A4gmX1oqgvRrSeXyRPUE9K2Yx",metadata$6={name:"raffle",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions$6=[{name:"buy_tickets",discriminator:[48,16,122,137,24,214,198,58],accounts:[{name:"signer",writable:!0,signer:!0},{name:"entrant"},{name:"raffle",writable:!0},{name:"tickets",writable:!0,relations:["raffle"]},{name:"tickets_ata",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116,84,105,99,107,101,116,115]},{kind:"account",path:"raffle"}]}},{name:"tickets_mint"},{name:"from",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"whitelist",docs:["Checks"],writable:!0,optional:!0},{name:"whitelist_entry",writable:!0,optional:!0},{name:"whitelist_program",optional:!0,address:"whi5uDPWK4rAE9Sus6hdxdHwsG1hjDBn6kXM6pyqwTn"},{name:"fee_account",writable:!0,address:"feeW4D5WBZQEk6QtoSrw2KjZF45d7LBK9oCGuczKW2G"}],args:[{name:"ticket_amount",type:"u32"}]},{name:"claim_prize",discriminator:[157,233,139,121,246,62,234,235],accounts:[{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.name",account:"Raffle"},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"tickets",relations:["raffle"]},{name:"prize_vault",writable:!0},{name:"prize_mint"},{name:"to",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"claim_tickets",discriminator:[115,177,141,142,7,255,105,60],accounts:[{name:"creator",signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.name",account:"Raffle"},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"tickets_ata",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116,84,105,99,107,101,116,115]},{kind:"account",path:"raffle"}]}},{name:"tickets_mint"},{name:"to",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"close",discriminator:[98,165,201,177,108,65,206,96],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.name",account:"Raffle"},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"tickets",writable:!0},{name:"tickets_vault",writable:!0},{name:"prize_vault",writable:!0,optional:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"disable",discriminator:[185,173,187,90,216,15,238,233],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.name",account:"Raffle"},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"enable",discriminator:[159,34,127,41,193,53,124,27],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.name",account:"Raffle"},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"arg",path:"name"},{kind:"arg",path:"seed"}]}},{name:"tickets",writable:!0,pda:{seeds:[{kind:"const",value:[116,105,99,107,101,116,115]},{kind:"account",path:"raffle"}]}},{name:"tickets_ata",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116,84,105,99,107,101,116,115]},{kind:"account",path:"raffle"}]}},{name:"tickets_mint"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"whitelist",optional:!0}],args:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"ticket_price",type:"u64"},{name:"ticket_amount",type:"u32"},{name:"seed",type:"u64"}]},{name:"prepare",discriminator:[121,155,156,90,164,252,220,109],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.name",account:"Raffle"},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"from",writable:!0},{name:"prize_vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116,80,114,105,122,101]},{kind:"account",path:"raffle"}]}},{name:"prize_mint"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"fee_account",writable:!0,address:"feeW4D5WBZQEk6QtoSrw2KjZF45d7LBK9oCGuczKW2G"}],args:[{name:"tickets_amount",type:"u64"},{name:"image_url",type:"string"}]},{name:"reveal_winners",discriminator:[24,167,123,197,91,200,146,3],accounts:[{name:"raffle",writable:!0},{name:"tickets",writable:!0},{name:"recent_block_hashes"}],args:[]}],accounts$6=[{name:"Raffle",discriminator:[143,133,63,173,138,10,142,200]},{name:"Tickets",discriminator:[48,222,91,92,162,98,123,167]},{name:"Whitelist",discriminator:[204,176,52,79,146,121,54,247]},{name:"WhitelistEntry",discriminator:[51,70,173,81,219,192,234,62]}],errors$7=[{code:6e3,name:"InsufficientFundsForTransaction",msg:"You have not enough sol !"},{code:6001,name:"ActionNotAllowed",msg:"You are not allowed to create a Raffle!"},{code:6002,name:"SignerIsNotCreator",msg:"The Signer is not the creator!"},{code:6003,name:"NoRandomness",msg:"Error no randomness!"},{code:6004,name:"EntrantsAccountTooSmallForMaxEntrants",msg:"Entrants account too small for max entrants"},{code:6005,name:"InvalidPrizeIndex",msg:"Invalid prize index"},{code:6006,name:"NotClaimed",msg:"Raffle is not Claimed"},{code:6007,name:"InvalidTicketCount",msg:"Amount of sold tickets is not fulfilled"},{code:6008,name:"NoPrize",msg:"Error ticket count invalid!"},{code:6009,name:"RaffleIsNotRunning",msg:"Error raffle is not running"},{code:6010,name:"RaffleIsRunning",msg:"Error raffle is still running"},{code:6011,name:"InvalidCalculation",msg:"Invalid calculation"},{code:6012,name:"NotEnoughTicketsLeft",msg:"Not enough tickets left"},{code:6013,name:"RaffleStillRunning",msg:"Raffle is still running"},{code:6014,name:"WinnersAlreadyDrawn",msg:"Winner already drawn"},{code:6015,name:"WinnerNotDrawn",msg:"Winner not drawn"},{code:6016,name:"InvalidRevealedData",msg:"Invalid revealed data"},{code:6017,name:"TokenAccountNotOwnedByWinner",msg:"Ticket account not owned by winner"},{code:6018,name:"TicketHasNotWon",msg:"Ticket has not won"},{code:6019,name:"UnclaimedPrizes",msg:"Unclaimed prizes"},{code:6020,name:"InvalidRecentBlockhashes",msg:"Invalid recent blockhashes"},{code:6021,name:"OnlyCreatorCanClaimNoEntrantRafflePrizes",msg:"Only the creator can calin no entrant raffle prizes"},{code:6022,name:"InvalidTreasuryTokenAccountOwner",msg:"Invalid treasury token account owner"},{code:6023,name:"AccountMismatch",msg:"AccountMismatch"},{code:6024,name:"StateMismatch",msg:"StateMismatch"}],types$a=[{name:"Raffle",type:{kind:"struct",fields:[{name:"seed",type:"u64"},{name:"bump",type:"u8"},{name:"creator",type:"pubkey"},{name:"state",type:{defined:{name:"RaffleState"}}},{name:"name",type:"string"},{name:"description",type:"string"},{name:"url",type:"string"},{name:"ticket_mint",type:"pubkey"},{name:"ticket_price",type:"u64"},{name:"ticket_decimals",type:"u8"},{name:"prize_mint",type:"pubkey"},{name:"prize_vault_count",type:"u64"},{name:"prize_decimals",type:"u8"},{name:"tickets",type:"pubkey"},{name:"winner",type:"pubkey"},{name:"randomness",type:{option:{array:["u8",32]}}},{name:"use_whitelist",type:"bool"},{name:"whitelist",type:"pubkey"}]}},{name:"RaffleState",type:{kind:"enum",variants:[{name:"CREATED"},{name:"READY"},{name:"RUNNING"},{name:"PAUSED"},{name:"FULL"},{name:"CLAIMPRIZE"},{name:"CLAIMTICKETS"},{name:"DONE"}]}},{name:"Tickets",type:{kind:"struct",fields:[{name:"sold",type:"u32"},{name:"total",type:"u32"}]}},{name:"Whitelist",docs:["Account: Whitelist"],type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"name",type:"string"},{name:"has_childs",type:"bool"},{name:"access_count",type:"u32"}]}},{name:"WhitelistEntry",docs:["Account: WhitelistEntry"],type:{kind:"struct",fields:[{name:"parent",type:"pubkey"},{name:"whitelisted",type:"pubkey"}]}}],constants$1=[{name:"RAFFLE",type:"bytes",value:"[114, 97, 102, 102, 108, 101]"}];var dapp_raffle_idl={address:address$3,metadata:metadata$6,instructions:instructions$6,accounts:accounts$6,errors:errors$7,types:types$a,constants:constants$1};const address$2="gateVwTnKyFrE8nxUUgfzoZTPKgJQZUbLsEidpG4Dp2",metadata$5={name:"proxy_rewarder",version:"0.5.6",spec:"0.1.0"},instructions$5=[{name:"register_locker",docs:["Registers a Locker from the locked_voter program"],discriminator:[86,165,215,222,1,31,88,95],accounts:[{name:"admin",docs:["Admin key"],writable:!0,signer:!0},{name:"locker",docs:["[locked_voter::Locker]."]},{name:"registered_locker",docs:["New RegisteredLocker account"],writable:!0,pda:{seeds:[{kind:"const",value:[34,82,101,103,105,115,116,101,114,101,100,76,111,99,107,101,114,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"token_mint",docs:["The token mint that matches the Locker token mint (ie POLIS)"]},{name:"treasury_token_account",docs:["The treasury token account holding all tokens to reward users"],writable:!0,pda:{seeds:[{kind:"const",value:[34,84,114,101,97,115,117,114,121,84,111,107,101,110,65,99,99,111,117,110,116,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"treasury_authority",docs:["The treasury authority PDA     /// CHECK: pda token account authority"],writable:!0,pda:{seeds:[{kind:"const",value:[34,84,114,101,97,115,117,114,121,65,117,116,104,111,114,105,116,121,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"token_program"},{name:"system_program"},{name:"rent"}],args:[]},{name:"update_registered_locker",docs:["Updates `rewards` arrays in registered_locker [proxy_rewarder::registered_locker]."],discriminator:[134,107,193,117,188,70,189,92],accounts:[{name:"admin",docs:["Admin key"],signer:!0},{name:"locker",docs:["The [locked_voter::locker] being exited from."]},{name:"registered_locker",docs:["RegisteredLocker account"],writable:!0,pda:{seeds:[{kind:"const",value:[34,82,101,103,105,115,116,101,114,101,100,76,111,99,107,101,114,34]},{kind:"account",path:"locker",account:"Locker"}]}}],args:[{name:"era",type:"u16"},{name:"index",type:"u16"},{name:"period_reward_amount",type:"u64"}]},{name:"new_proxy_escrow",discriminator:[126,117,27,234,107,233,37,162],accounts:[{name:"escrow_owner",docs:["[Owner]."],writable:!0,signer:!0},{name:"proxy_escrow",docs:["[Escrow]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,80,114,111,120,121,69,115,99,114,111,119,34]},{kind:"account",path:"escrow_owner"}]}},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"new_proxy",docs:["Creates a new [Proxy] for an account.","","A Reward Escrow, or [Escrow] for short, is an agreement between a users=>proxy (known as the `authority`) and the Reward Program to","reward POLIS over specific periods of time. (curve)","proportional to the amount of stakers."],discriminator:[158,43,152,240,31,181,251,32],accounts:[{name:"proxy_escrow",docs:["[ProxyEscrow]."],writable:!0},{name:"proxy",docs:["[Proxy]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,80,114,111,120,121,34]},{kind:"account",path:"proxy_escrow",account:"ProxyEscrow"},{kind:"account",path:"proxy_owner"}]}},{name:"token_mint",docs:["Mint of the token that can be used to join the [LockedVoter::Locker]."]},{name:"proxy_owner",docs:["Authority of the [Proxy] to be created."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"proxy_lock",docs:["Locks `amount` of POLIS into the [LockedVoter::Escrow]."],discriminator:[18,232,74,146,141,98,190,148],accounts:[{name:"locker",docs:["[locked_voter::Locker]."],writable:!0},{name:"escrow",writable:!0},{name:"user_token_account",docs:["The source of deposited tokens."],writable:!0},{name:"proxy_token_account",docs:["Token account used to transfer governance tokens into [locked_voter::lock] escrow"],writable:!0},{name:"escrow_token_account",docs:["Token account held by the [locked_voter::Escrow]."],writable:!0},{name:"proxy",docs:["Authority of the [locked_voter::escrow]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,80,114,111,120,121,34]},{kind:"account",path:"proxy.escrow",account:"Proxy"},{kind:"account",path:"payer"}]}},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"locked_voter_program",docs:["The [LockedVoter] program."]},{name:"token_program",docs:["Token program."]},{name:"instructions_sysvar"},{name:"whitelist_entry",docs:["Whitelist entry."]},{name:"registered_locker"}],args:[{name:"amount",type:"u64"},{name:"duration",type:"i64"}]},{name:"proxy_exit",docs:["Exits the POLIS DAO; i.e., withdraws all staked tokens in an [Escrow] if the [Escrow] is unlocked."],discriminator:[205,235,156,190,11,93,98,70],accounts:[{name:"locker",docs:["The [locked_voter::locker] being exited from."],writable:!0},{name:"escrow",docs:["The [locked_voter::Escrow] that is being closed."],writable:!0},{name:"proxy",docs:["Authority of the [locked_voter::Escrow]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,80,114,111,120,121,34]},{kind:"account",path:"proxy.escrow",account:"Proxy"},{kind:"account",path:"payer"}]}},{name:"escrow_token_account",docs:["Tokens locked up in the [locked_voter::Escrow]."],writable:!0},{name:"proxy_token_account",docs:["Destination for the tokens to unlock."],writable:!0},{name:"user_token_account",docs:["Final destination for the tokens to unlock."],writable:!0},{name:"payer",docs:["The payer to receive the rent refund."],writable:!0,signer:!0},{name:"locked_voter_program",docs:["The [LockedVoter] program."]},{name:"token_program",docs:["Token program."]},{name:"registered_locker"}],args:[]},{name:"claim_rewards",docs:["Proxy Activates a proposal.","Proxy Casts a vote.","Claims POLIS Rewards; i.e., withdraws reward tokens from a treasury if the [snapshots::escrow_history] is confirmed."],discriminator:[4,144,132,71,116,23,151,80],accounts:[{name:"escrow",docs:["The [locked_voter::Escrow] being validated from."]},{name:"locker",docs:["The [locked_voter::locker] being exited from."]},{name:"proxy",docs:["Authority of the [locked_voter::Escrow]."]},{name:"proxy_escrow",docs:["[proxy_rewarder::proxy_escrow]."],writable:!0},{name:"escrow_history",docs:["The [snapshots::escrow_history] to read and validate."]},{name:"locker_history",docs:["The [snapshots::locker_history] to read and validate."]},{name:"treasury_token_account",docs:["Treasury tokens in the [proxy_rewarder::treasury_token_account]. The treasury token account holding all tokens to reward users"],writable:!0,pda:{seeds:[{kind:"const",value:[34,84,114,101,97,115,117,114,121,84,111,107,101,110,65,99,99,111,117,110,116,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"registered_locker",docs:["RegisteredLocker account"]},{name:"treasury_authority",docs:["The treasury authority PDA"],pda:{seeds:[{kind:"const",value:[34,84,114,101,97,115,117,114,121,65,117,116,104,111,114,105,116,121,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"user_token_account",docs:["Final destination for the tokens to unlock."],writable:!0},{name:"escrow_owner",docs:["[Owner]"],signer:!0},{name:"token_program",docs:["Token program."]}],args:[]}],accounts$5=[{name:"Proxy",discriminator:[36,36,123,35,158,89,75,41]},{name:"ProxyEscrow",discriminator:[59,236,59,197,113,229,79,237]},{name:"RegisteredLocker",discriminator:[162,172,212,210,238,88,154,49]},{name:"TreasuryAuthority",discriminator:[56,251,232,94,128,197,59,150]}],events$3=[{name:"ClaimRewardsEvent",discriminator:[224,197,51,113,233,72,117,183]},{name:"NewProxyEscrowEvent",discriminator:[62,120,232,226,20,20,141,59]},{name:"NewProxyEvent",discriminator:[100,47,251,206,217,186,138,152]},{name:"ProxyExitEscrowEvent",discriminator:[24,75,75,133,134,198,192,15]},{name:"ProxyLockEvent",discriminator:[185,168,219,105,4,76,9,104]}],errors$6=[{code:6e3,name:"ProgramNotWhitelisted",msg:"CPI caller not whitelisted to invoke lock instruction."},{code:6001,name:"LockupDurationTooShort",msg:"Lockup duration must at least be the min stake duration."},{code:6002,name:"LockupDurationTooLong",msg:"Lockup duration must at most be the max stake duration."},{code:6003,name:"RefreshCannotShorten",msg:"A voting escrow refresh cannot shorten the escrow time remaining."},{code:6004,name:"EscrowNotEnded",msg:"Escrow has not ended."},{code:6005,name:"MustProvideWhitelist",msg:"Program whitelist enabled; please provide whitelist entry and instructions sysvar"},{code:6006,name:"EscrowOwnerNotWhitelisted",msg:"CPI caller not whitelisted for escrow owner to invoke lock instruction."},{code:6007,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6008,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6009,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6010,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6011,name:"EraMismatch",msg:"Era mismatch."},{code:6012,name:"WrongPDA",msg:"Wrong PDA proxy exit."},{code:6013,name:"YouHaveNoPendingRewards",msg:"You have no claimable rewards."},{code:6014,name:"MustCallProxyLockWithWhitelist",msg:"Must call `proxy_lock_with_whitelist` to lock via CPI."},{code:6015,name:"RewardsNotReady",msg:"rewards_last_claimed_at > now"},{code:6016,name:"InvalidAdmin",msg:"locker.base != to the admin signer"}],types$9=[{name:"Proxy",type:{kind:"struct",fields:[{name:"escrow",docs:["The [Escrow] that this [Proxy] is part of."],type:"pubkey"},{name:"owner",docs:["The key of the account that is authorized to cpi via this [Proxy]."],type:"pubkey"},{name:"token_mint",docs:["Mint of the token that must be locked in the [LockedVoter::Locker]."],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"proxy_token_account",docs:["The token account holding the proxy tokens."],type:"pubkey"}]}},{name:"ProxyEscrow",docs:["records rewards state on a user."],type:{kind:"struct",fields:[{name:"escrow_owner",docs:["The key of the account that is authorized to withdraw from the [Treasury]."],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"amount",docs:["Amount of tokens staked."],type:"u64"},{name:"escrow_started_at",docs:["When the [proxy_escrow::escrow_owner] started their escrow."],type:"i64"},{name:"escrow_ends_at",docs:["When the escrow unlocks; i.e. the [proxy_escrow::escrow_owner] is scheduled to be allowed to withdraw their governance tokens."],type:"i64"},{name:"rewards_last_claimed_at",docs:["When the [proxy_escrow::escrow_owner] last claimed rewards from [Treasury]."],type:"i64"},{name:"amount_claimed",docs:["Amount of tokens claimed."],type:"u64"}]}},{name:"RegisteredLocker",docs:["Registered locker - needs to be created to earn rewards",'PDA unique to ["RegisteredLocker", locker.key]',"reprc- pack"],type:{kind:"struct",fields:[{name:"admin",docs:["The key of the admin account that is managing the registered locker"],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"token_mint",docs:["The token mint aligned with the locker and for rewards paid to users"],type:"pubkey"},{name:"locker",docs:["The locker account on the locked_voter program being registered"],type:"pubkey"},{name:"padding",docs:["Padding for aligning the struct to an 8-byte boundary."],type:{array:["u8",7]}},{name:"reward_amount_paid_per_period_era0",docs:["All tracked historical reward rate totals per period per era allocated to users."],type:{array:["u64",256]}},{name:"reward_amount_paid_per_period_era1",type:{array:["u64",256]}},{name:"reward_amount_paid_per_period_era2",type:{array:["u64",256]}}]}},{name:"TreasuryAuthority",docs:["Treasury Authority - PDA who has authority to withdraw rewards from the treasury."],type:{kind:"struct",fields:[{name:"locker",docs:["The locker account on the locked_voter program being registered"],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"}]}},{name:"ClaimRewardsEvent",type:{kind:"struct",fields:[{name:"escrow_owner",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"amount_claimed",type:"u64"},{name:"prev_rewards_last_claimed_at",type:"i64"},{name:"rewards_last_claimed_at",type:"i64"}]}},{name:"NewProxyEscrowEvent",type:{kind:"struct",fields:[{name:"proxy_escrow",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"NewProxyEvent",type:{kind:"struct",fields:[{name:"proxy",type:"pubkey"},{name:"proxy_owner",type:"pubkey"},{name:"proxy_escrow",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"ProxyExitEscrowEvent",type:{kind:"struct",fields:[{name:"escrow_owner",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"locker_supply",type:"u64"},{name:"released_amount",type:"u64"}]}},{name:"ProxyLockEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"escrow_owner",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"amount",type:"u64"},{name:"locker_supply",type:"u64"},{name:"duration",type:"i64"},{name:"prev_escrow_ends_at",type:"i64"},{name:"next_escrow_ends_at",type:"i64"},{name:"next_escrow_started_at",type:"i64"}]}}];var proxy_rewarder_idl$1={address:address$2,metadata:metadata$5,instructions:instructions$5,accounts:accounts$5,events:events$3,errors:errors$6,types:types$9};const address$1="Lock7kBijGCQLEFAmXcengzXKA88iDNQPriQ7TbgeyG",metadata$4={name:"locked_voter",version:"0.1.1",spec:"0.1.0"},instructions$4=[{name:"new_locker",docs:["Creates a new [Locker]."],discriminator:[177,133,32,90,229,216,131,47],accounts:[{name:"base",docs:["Base."],signer:!0},{name:"locker",docs:["[Locker]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,76,111,99,107,101,114,34]},{kind:"account",path:"base"}]}},{name:"token_mint",docs:["Mint of the token that can be used to join the [Locker]."]},{name:"governor",docs:["[Governor] associated with the [Locker]."]},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"},{name:"params",type:{defined:{name:"LockerParams"}}}]},{name:"new_escrow",docs:["Creates a new [Escrow] for an account.","","A Vote Escrow, or [Escrow] for short, is an agreement between an account (known as the `authority`) and the DAO to","lock up tokens for a specific period of time, in exchange for voting rights","linearly proportional to the amount of votes given."],discriminator:[216,182,143,11,220,38,86,185],accounts:[{name:"locker",docs:["[Locker]."]},{name:"escrow",docs:["[Escrow]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,69,115,99,114,111,119,34]},{kind:"account",path:"locker",account:"Locker"},{kind:"account",path:"escrow_owner"}]}},{name:"escrow_owner"},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"lock",docs:["Stakes `amount` tokens into the [Escrow].","WARNING: if the program has a whitelist, one should use [crate::locked_voter::lock_with_whitelist] instead.","This version of the instruction is deprecated."],discriminator:[21,19,208,43,237,62,255,87],accounts:[{name:"locker",docs:["[Locker]."],writable:!0},{name:"escrow",docs:["[Escrow]."],writable:!0},{name:"escrow_tokens",docs:["Token account held by the [Escrow]."],writable:!0},{name:"escrow_owner",docs:["Authority of the [Escrow] and [Self::source_tokens]."],signer:!0},{name:"source_tokens",docs:["The source of deposited tokens."],writable:!0},{name:"token_program",docs:["Token program."]}],args:[{name:"amount",type:"u64"},{name:"duration",type:"i64"}]},{name:"lock_with_whitelist_entry",docs:["Stakes `amount` tokens into the [Escrow], if there is a whitelist.","Stakes `amount` tokens into the [Escrow] via CPI by using the provided [LockerWhitelistEntry]."],discriminator:[138,248,185,79,3,115,115,57],accounts:[{name:"lock",accounts:[{name:"locker",docs:["[Locker]."],writable:!0},{name:"escrow",docs:["[Escrow]."],writable:!0},{name:"escrow_tokens",docs:["Token account held by the [Escrow]."],writable:!0},{name:"escrow_owner",docs:["Authority of the [Escrow] and [Self::source_tokens]."],signer:!0},{name:"source_tokens",docs:["The source of deposited tokens."],writable:!0},{name:"token_program",docs:["Token program."]}]},{name:"instructions_sysvar"},{name:"whitelist_entry"}],args:[{name:"amount",type:"u64"},{name:"duration",type:"i64"}]},{name:"exit",docs:["Stakes `amount` tokens into the [Escrow] if there is no whitelist.","Exits the DAO; i.e., withdraws all staked tokens in an [Escrow] if the [Escrow] is unlocked."],discriminator:[234,32,12,71,126,5,219,160],accounts:[{name:"locker",docs:["The [Locker] being exited from."],writable:!0},{name:"escrow",docs:["The [Escrow] that is being closed."],writable:!0},{name:"escrow_owner",docs:["Authority of the [Escrow]."],signer:!0},{name:"escrow_tokens",docs:["Tokens locked up in the [Escrow]."],writable:!0},{name:"destination_tokens",docs:["Destination for the tokens to unlock."],writable:!0},{name:"payer",docs:["The payer to receive the rent refund."],writable:!0,signer:!0},{name:"token_program",docs:["Token program."]}],args:[]},{name:"activate_proposal",docs:["Activates a proposal."],discriminator:[90,186,203,234,70,185,191,21],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"governor",docs:["The [Governor]."]},{name:"proposal",docs:["The [Proposal]."],writable:!0},{name:"escrow",docs:["The user's [Escrow]."]},{name:"escrow_owner",docs:["The [Escrow]'s owner."],signer:!0},{name:"govern_program",docs:["The [govern] program."]}],args:[]},{name:"cast_vote",docs:["Casts a vote."],discriminator:[20,212,15,189,69,180,69,151],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"escrow",docs:["The [Escrow] that is voting."]},{name:"vote_delegate",docs:["Vote delegate of the [Escrow]."],signer:!0},{name:"proposal",docs:["The [Proposal] being voted on."],writable:!0},{name:"vote",docs:["The [Vote]."],writable:!0},{name:"governor",docs:["The [Governor]."]},{name:"govern_program",docs:["The [govern] program."]}],args:[{name:"side",type:"u8"}]},{name:"set_vote_delegate",docs:["Delegate escrow vote."],discriminator:[46,236,241,243,251,108,156,12],accounts:[{name:"escrow",docs:["The [Escrow]."],writable:!0},{name:"escrow_owner",docs:["The owner of the [Escrow]."],signer:!0}],args:[{name:"new_delegate",type:"pubkey"}]},{name:"set_locker_params",docs:["Set locker params."],discriminator:[106,39,132,84,254,77,161,169],accounts:[{name:"locker",docs:["The [Locker]."],writable:!0},{name:"governor",docs:["The [Governor]."]},{name:"smart_wallet",docs:["The smart wallet on the [Governor]."],signer:!0}],args:[{name:"params",type:{defined:{name:"LockerParams"}}}]},{name:"approve_program_lock_privilege",docs:["Creates a new [LockerWhitelistEntry] to whitelist program from CPI."],discriminator:[75,202,1,4,122,110,102,148],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"whitelist_entry",docs:["[LockerWhitelistEntry]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,76,111,99,107,101,114,87,104,105,116,101,108,105,115,116,69,110,116,114,121,34]},{kind:"account",path:"locker",account:"Locker"},{kind:"account",path:"executable_id"},{kind:"account",path:"whitelisted_owner"}]}},{name:"governor",docs:["Governor for the [Locker]."]},{name:"smart_wallet",docs:["Smart wallet on the [Governor]."],signer:!0},{name:"executable_id"},{name:"whitelisted_owner"},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"revoke_program_lock_privilege",docs:["Close a [LockerWhitelistEntry] revoking program's CPI privilege."],discriminator:[170,151,7,88,194,86,245,112],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"whitelist_entry",docs:["[LockerWhitelistEntry]."],writable:!0},{name:"governor",docs:["Governor for the [Locker]."]},{name:"smart_wallet",docs:["Smart wallet on the [Governor]."],signer:!0},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0}],args:[]}],accounts$4=[{name:"Locker",discriminator:[74,246,6,113,249,228,75,169]},{name:"LockerWhitelistEntry",discriminator:[128,245,238,138,226,48,216,63]},{name:"Escrow",discriminator:[31,213,123,187,186,22,218,155]}],events$2=[{name:"ApproveLockPrivilegeEvent",discriminator:[240,224,137,61,143,200,225,110]},{name:"ExitEscrowEvent",discriminator:[218,91,68,189,102,152,212,166]},{name:"LockEvent",discriminator:[76,37,6,186,14,42,253,15]},{name:"NewEscrowEvent",discriminator:[96,82,181,204,84,177,72,141]},{name:"NewLockerEvent",discriminator:[149,31,207,106,172,155,65,110]},{name:"RevokeLockPrivilegeEvent",discriminator:[53,15,178,80,153,198,65,145]},{name:"LockerSetParamsEvent",discriminator:[239,24,209,234,210,143,7,202]},{name:"SetVoteDelegateEvent",discriminator:[165,160,157,241,121,34,54,8]}],errors$5=[{code:6e3,name:"ProgramNotWhitelisted",msg:"CPI caller not whitelisted to invoke lock instruction."},{code:6001,name:"LockupDurationTooShort",msg:"Lockup duration must at least be the min stake duration."},{code:6002,name:"LockupDurationTooLong",msg:"Lockup duration must at most be the max stake duration."},{code:6003,name:"RefreshCannotShorten",msg:"A voting escrow refresh cannot shorten the escrow time remaining."},{code:6004,name:"EscrowNotEnded",msg:"Escrow has not ended."},{code:6005,name:"MustProvideWhitelist",msg:"Program whitelist enabled; please provide whitelist entry and instructions sysvar or use the 'lock_with_whitelist' instruction."},{code:6006,name:"EscrowOwnerNotWhitelisted",msg:"CPI caller not whitelisted for escrow owner to invoke lock instruction."},{code:6007,name:"MustCallLockWithWhitelistEntry",msg:"Must call `lock_with_whitelist_entry` to lock via CPI."},{code:6008,name:"MustCallLockPermissionless",msg:"Must call `lock_permissionless` since this DAO does not have a CPI whitelist."}],types$8=[{name:"LockerParams",docs:["Contains parameters for the [Locker]."],type:{kind:"struct",fields:[{name:"whitelist_enabled",docs:["Whether or not the locking whitelist system is enabled."],type:"bool"},{name:"max_stake_vote_multiplier",docs:["The weight of a maximum vote lock relative to the total number of tokens locked.","For example, veCRV is 10 because 1 CRV locked for 4 years = 10 veCRV."],type:"u8"},{name:"min_stake_duration",docs:["Minimum staking duration."],type:"u64"},{name:"max_stake_duration",docs:["Maximum staking duration."],type:"u64"},{name:"proposal_activation_min_votes",docs:["Minimum number of votes required to activate a proposal."],type:"u64"}]}},{name:"Locker",docs:["A group of [Escrow]s."],type:{kind:"struct",fields:[{name:"base",docs:["Base account used to generate signer seeds."],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"token_mint",docs:["Mint of the token that must be locked in the [Locker]."],type:"pubkey"},{name:"locked_supply",docs:["Total number of tokens locked in [Escrow]s."],type:"u64"},{name:"governor",docs:["Governor associated with the [Locker]."],type:"pubkey"},{name:"params",docs:["Mutable parameters of how a [Locker] should behave."],type:{defined:{name:"LockerParams"}}}]}},{name:"LockerWhitelistEntry",docs:["An entry in the [Locker]'s whitelist.","","The whitelist controls which programs are allowed to stake tokens into the system."],type:{kind:"struct",fields:[{name:"bump",docs:["Bump seed."],type:"u8"},{name:"locker",docs:["[Locker] this whitelist entry belongs to."],type:"pubkey"},{name:"program_id",docs:["Key of the program_id allowed to call the `lock` CPI."],type:"pubkey"},{name:"owner",docs:["The account authorized to be the [Escrow::owner] with this CPI.","If set to [anchor_lang::solana_program::system_program::ID],","all accounts are allowed to be the [Escrow::owner]."],type:"pubkey"}]}},{name:"Escrow",docs:["Locks tokens on behalf of a user."],type:{kind:"struct",fields:[{name:"locker",docs:["The [Locker] that this [Escrow] is part of."],type:"pubkey"},{name:"owner",docs:["The key of the account that is authorized to stake into/withdraw from this [Escrow]."],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"tokens",docs:["The token account holding the escrow tokens."],type:"pubkey"},{name:"amount",docs:["Amount of tokens staked."],type:"u64"},{name:"escrow_started_at",docs:["When the [Escrow::owner] started their escrow."],type:"i64"},{name:"escrow_ends_at",docs:["When the escrow unlocks; i.e. the [Escrow::owner] is scheduled to be allowed to withdraw their tokens."],type:"i64"},{name:"vote_delegate",docs:["Account that is authorized to vote on behalf of this [Escrow].","Defaults to the [Escrow::owner]."],type:"pubkey"}]}},{name:"ApproveLockPrivilegeEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"program_id",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"ExitEscrowEvent",type:{kind:"struct",fields:[{name:"escrow_owner",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"locker_supply",type:"u64"},{name:"released_amount",type:"u64"}]}},{name:"LockEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"escrow_owner",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"amount",type:"u64"},{name:"locker_supply",type:"u64"},{name:"duration",type:"i64"},{name:"prev_escrow_ends_at",type:"i64"},{name:"next_escrow_ends_at",type:"i64"},{name:"next_escrow_started_at",type:"i64"}]}},{name:"NewEscrowEvent",type:{kind:"struct",fields:[{name:"escrow",type:"pubkey"},{name:"escrow_owner",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"NewLockerEvent",type:{kind:"struct",fields:[{name:"governor",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"params",type:{defined:{name:"LockerParams"}}}]}},{name:"RevokeLockPrivilegeEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"program_id",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"LockerSetParamsEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"prev_params",type:{defined:{name:"LockerParams"}}},{name:"params",type:{defined:{name:"LockerParams"}}}]}},{name:"SetVoteDelegateEvent",type:{kind:"struct",fields:[{name:"escrow_owner",type:"pubkey"},{name:"old_delegate",type:"pubkey"},{name:"new_delegate",type:"pubkey"}]}}];var locked_voter_idl$1={address:address$1,metadata:metadata$4,instructions:instructions$4,accounts:accounts$4,events:events$2,errors:errors$5,types:types$8};const address="snapNQkxsiqDWdbNfz8KVB7e3NPzLwtHHA6WV8kKgUc",metadata$3={name:"snapshots",version:"0.1.1",spec:"0.1.0"},instructions$3=[{name:"create_escrow_history",docs:["Creates a [EscrowHistory]."],discriminator:[250,177,121,80,206,44,17,225],accounts:[{name:"escrow",docs:["The [Escrow]."]},{name:"escrow_history",docs:["The [EscrowHistory] to be created."],writable:!0,pda:{seeds:[{kind:"const",value:[34,69,115,99,114,111,119,72,105,115,116,111,114,121,34]},{kind:"account",path:"escrow",account:"Escrow"},{kind:"arg",path:"era"}]}},{name:"payer",docs:["Payer."],writable:!0,signer:!0},{name:"system_program",docs:["[System] program."]}],args:[{name:"era",type:"u16"}]},{name:"create_locker_history",docs:["Creates a [LockerHistory]."],discriminator:[108,4,187,204,145,73,128,73],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"locker_history",docs:["The [LockerHistory] to be created."],writable:!0,pda:{seeds:[{kind:"const",value:[34,76,111,99,107,101,114,72,105,115,116,111,114,121,34]},{kind:"account",path:"locker",account:"Locker"},{kind:"arg",path:"era"}]}},{name:"payer",docs:["Payer."],writable:!0,signer:!0},{name:"system_program",docs:["[System] program."]}],args:[{name:"era",type:"u16"}]},{name:"sync",docs:["Synchronize an [locked_voter::Escrow] with the [LockerHistory]/[EscrowHistory]."],discriminator:[4,219,40,164,21,157,189,88],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"escrow",docs:["The [Escrow]."]},{name:"locker_history",docs:["The [LockerHistory] to sync."],writable:!0},{name:"escrow_history",docs:["The [EscrowHistory] to sync."],writable:!0}],args:[]}],accounts$3=[{name:"LockerHistory",discriminator:[82,148,228,104,132,144,101,129]},{name:"EscrowHistory",discriminator:[170,160,173,100,94,119,107,81]}],errors$4=[{code:6e3,name:"LockerEscrowMismatch",msg:"Locker/escrow mismatch."},{code:6001,name:"EraMismatch",msg:"Era mismatch."},{code:6002,name:"EscrowBalanceDecreased",msg:"Escrow balances cannot decrease."}],types$7=[{name:"LockerHistory",docs:["Stores the total number of veTokens in circulation for each period.","","The [LockerHistory] account stores 256 periods, each 3 days each.","For a 5-year [locked_voter::Locker], there will be at least 3 of these accounts existing","at any given time, since the maximum lock period is 5 years."],type:{kind:"struct",fields:[{name:"locker",docs:["The [locked_voter::Locker] being tracked."],type:"pubkey"},{name:"era",docs:["The era. Multiplying this by [ERA_NUM_PERIODS] * [PERIOD_SECONDS];"],type:"u16"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"padding",docs:["Padding for aligning the struct to an 8-byte boundary."],type:{array:["u8",5]}},{name:"ve_balances",docs:["The sum of all tracked historical vote escrow balances."],type:{array:["u64",256]}},{name:"ve_counts",docs:["Number of voters with non-zero balances at each epoch."],type:{array:["u64",256]}}]}},{name:"EscrowHistory",docs:["Stores the total veToken balance of an [locked_voter::Escrow]","for the given epochs.","","Any time someone refreshes and/or modifies their vote [locked_voter::Escrow], they","should refresh their [EscrowHistory] accounts."],type:{kind:"struct",fields:[{name:"escrow",docs:["The [locked_voter::Escrow] being tracked."],type:"pubkey"},{name:"era",docs:["The era."],type:"u16"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"padding",docs:["Padding for aligning the struct to an 8-byte boundary."],type:{array:["u8",5]}},{name:"ve_balances",docs:["All tracked historical vote escrow balances for this [locked_voter::Escrow]."],type:{array:["u64",256]}}]}}];var snapshot_idl$1={address,metadata:metadata$3,instructions:instructions$3,accounts:accounts$3,errors:errors$4,types:types$7};const RPC_NETWORKS=[{name:"HELIUS",url:"https://mainnet.helius-rpc.com/?api-key=bb83334b-9b37-4080-a11e-789a40aa74fe"},{name:"Ironforge",url:"https://mainnet.helius-rpc.com/?api-key=bb83334b-9b37-4080-a11e-789a40aa74fe"},{name:"ALCHEMY2",url:"https://mainnet.helius-rpc.com/?api-key=bb83334b-9b37-4080-a11e-789a40aa74fe"}];function tryOnScopeDispose(t){return getCurrentScope()?(onScopeDispose(t),!0):!1}function toValue(t){return typeof t=="function"?t():unref(t)}const isClient=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const toString$1=Object.prototype.toString,isObject$3=t=>toString$1.call(t)==="[object Object]",noop$2=()=>{};function createFilterWrapper(t,e){function r(...n){return new Promise((o,a)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(o).catch(a)})}return r}const bypassFilter=t=>t();function pausableFilter(t=bypassFilter){const e=ref(!0);function r(){e.value=!1}function n(){e.value=!0}const o=(...a)=>{e.value&&t(...a)};return{isActive:readonly(e),pause:r,resume:n,eventFilter:o}}function watchWithFilter(t,e,r={}){const{eventFilter:n=bypassFilter,...o}=r;return watch(t,createFilterWrapper(n,e),o)}function watchPausable(t,e,r={}){const{eventFilter:n,...o}=r,{eventFilter:a,pause:c,resume:u,isActive:gr}=pausableFilter(n);return{stop:watchWithFilter(t,e,{...o,eventFilter:a}),pause:c,resume:u,isActive:gr}}function tryOnMounted(t,e=!0){getCurrentInstance()?onMounted(t):e?t():nextTick(t)}function watchDeep(t,e,r){return watch(t,e,{...r,deep:!0})}function unrefElement(t){var e;const r=toValue(t);return(e=r==null?void 0:r.$el)!=null?e:r}const defaultWindow=isClient?window:void 0;function useEventListener(...t){let e,r,n,o;if(typeof t[0]=="string"||Array.isArray(t[0])?([r,n,o]=t,e=defaultWindow):[e,r,n,o]=t,!e)return noop$2;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const a=[],c=()=>{a.forEach(_r=>_r()),a.length=0},u=(_r,Ar,vr,Tr)=>(_r.addEventListener(Ar,vr,Tr),()=>_r.removeEventListener(Ar,vr,Tr)),gr=watch(()=>[unrefElement(e),toValue(o)],([_r,Ar])=>{if(c(),!_r)return;const vr=isObject$3(Ar)?{...Ar}:Ar;a.push(...r.flatMap(Tr=>n.map(Or=>u(_r,Tr,Or,vr))))},{immediate:!0,flush:"post"}),br=()=>{gr(),c()};return tryOnScopeDispose(br),br}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__",handlers=getHandlers();function getHandlers(){return globalKey in _global||(_global[globalKey]=_global[globalKey]||{}),_global[globalKey]}function getSSRHandler(t,e){return handlers[t]||e}function guessSerializerType(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const StorageSerializers={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},customStorageEventName="vueuse-storage";function useStorage(t,e,r,n={}){var o;const{flush:a="pre",deep:c=!0,listenToStorageChanges:u=!0,writeDefaults:gr=!0,mergeDefaults:br=!1,shallow:_r,window:Ar=defaultWindow,eventFilter:vr,onError:Tr=tn=>{console.error(tn)},initOnMounted:Or}=n,Ir=(_r?shallowRef:ref)(typeof e=="function"?e():e);if(!r)try{r=getSSRHandler("getDefaultStorage",()=>{var tn;return(tn=defaultWindow)==null?void 0:tn.localStorage})()}catch(tn){Tr(tn)}if(!r)return Ir;const xr=toValue(e),Lr=guessSerializerType(xr),Fr=(o=n.serializer)!=null?o:StorageSerializers[Lr],{pause:Mr,resume:Hr}=watchPausable(Ir,()=>Vr(Ir.value),{flush:a,deep:c,eventFilter:vr});return Ar&&u&&tryOnMounted(()=>{useEventListener(Ar,"storage",qr),useEventListener(Ar,customStorageEventName,jr),Or&&qr()}),Or||qr(),Ir;function Vr(tn){try{if(tn==null)r.removeItem(t);else{const en=Fr.write(tn),sn=r.getItem(t);sn!==en&&(r.setItem(t,en),Ar&&Ar.dispatchEvent(new CustomEvent(customStorageEventName,{detail:{key:t,oldValue:sn,newValue:en,storageArea:r}})))}}catch(en){Tr(en)}}function Kr(tn){const en=tn?tn.newValue:r.getItem(t);if(en==null)return gr&&xr!==null&&r.setItem(t,Fr.write(xr)),xr;if(!tn&&br){const sn=Fr.read(en);return typeof br=="function"?br(sn,xr):Lr==="object"&&!Array.isArray(sn)?{...xr,...sn}:sn}else return typeof en!="string"?en:Fr.read(en)}function jr(tn){qr(tn.detail)}function qr(tn){if(!(tn&&tn.storageArea!==r)){if(tn&&tn.key==null){Ir.value=xr;return}if(!(tn&&tn.key!==t)){Mr();try{(tn==null?void 0:tn.newValue)!==Fr.write(Ir.value)&&(Ir.value=Kr(tn))}catch(en){Tr(en)}finally{tn?nextTick(Hr):Hr()}}}}}function useLocalStorage(t,e,r={}){const{window:n=defaultWindow}=r;return useStorage(t,e,n==null?void 0:n.localStorage,r)}const useRPCStore=defineStore("rpcStore",{state:()=>({show_rpc_select:!1,rpc_stored_name:useLocalStorage("rpc_store_0",RPC_NETWORKS[0].name),rpc_selected:RPC_NETWORKS.find(t=>t.name.includes(useLocalStorage("rpc_store_0",RPC_NETWORKS[0].name)))??RPC_NETWORKS[0],connection:{}}),actions:{update_connection(){this.rpc_selected=RPC_NETWORKS.find(t=>t.name.includes(this.rpc_stored_name))??RPC_NETWORKS[0],console.log("RPC is set to: "+this.rpc_selected.name),this.connection=new Connection$1(this.rpc_selected.url,{commitment:"confirmed"})}}}),preflightCommitment$1="processed",commitment$1="confirmed";let workspace=null;const useWorkspaceAdapter=()=>workspace,initWorkspaceAdapter=()=>{const t=useAnchorWallet(),e=useRPCStore().connection,r=computed$1(()=>new AnchorProvider(e,t.value,{preflightCommitment:preflightCommitment$1,commitment:commitment$1})),n=computed$1(()=>new Program(dapp_whitelist_idl,r.value)),o=computed$1(()=>new Program(dapp_raffle_idl,r.value)),a=computed$1(()=>new Program(proxy_rewarder_idl$1,r.value)),c=computed$1(()=>new Program(locked_voter_idl$1,r.value)),u=computed$1(()=>new Program(snapshot_idl$1,r.value));workspace={wallet:t,connection:e,provider:r,pg_raffle:o,pg_whitelist:n,pg_proxy_rewarder:a,pg_locked_voter:c,pg_snapshot:u}};class MessageBuilder$1{constructor(){this.data={attachments:[{fields:[]}]}}getJSON(){return this.data}setDescription(e){return this.data.attachments[0].text=e,this}setAvatar(e){return this.data.icon_url=e,this}setFooter(e,r){return this.data.attachments[0].footer=e,r&&(this.data.attachments[0].footer_icon=r),this}setTitle(e){return this.data.attachments[0].title=e,this}setName(e){return this.data.username=e,this}setColor(e){return this.data.attachments[0].color=e,this}setText(e){return this.data.text=e,this}setURL(e){return this.data.attachments[0].title_link=e,this}setAuthor(e,r,n){return this.data.attachments[0].author_name=e,r&&(this.data.attachments[0].author_icon=r),n&&(this.data.attachments[0].author_link=n),this}addField(e,r,n){n||(n=!1);const o={title:e,value:r,short:n};return this.data.attachments[0].fields.push(o),this}removeField(e){return this.data.attachments[0].fields=this.data.attachments[0].fields.filter(r=>r.title!=e),this}setTime(e){return e||(e=new Date/1e3),this.data.attachments[0].ts=e,this}setImage(e){return e||dist$3.process.emitWarning("Image passed was null, nothing will be displayed in Discord"),this.data.attachments[0].image_url=e,this}setThumbnail(e){return e||dist$3.process.emitWarning("thumbnail passed was null, nothing will be displayed in Discord"),this.data.attachments[0].thumb_url=e,this}}var builder=MessageBuilder$1,querystring$1={exports:{}},querystringEs3={};function hasOwnProperty$3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var decode$1=function(t,e,r,n){e=e||"&",r=r||"=";var o={};if(typeof t!="string"||t.length===0)return o;var a=/\+/g;t=t.split(e);var c=1e3;n&&typeof n.maxKeys=="number"&&(c=n.maxKeys);var u=t.length;c>0&&u>c&&(u=c);for(var gr=0;gr<u;++gr){var br=t[gr].replace(a,"%20"),_r=br.indexOf(r),Ar,vr,Tr,Or;_r>=0?(Ar=br.substr(0,_r),vr=br.substr(_r+1)):(Ar=br,vr=""),Tr=decodeURIComponent(Ar),Or=decodeURIComponent(vr),hasOwnProperty$3(o,Tr)?isArray$3(o[Tr])?o[Tr].push(Or):o[Tr]=[o[Tr],Or]:o[Tr]=Or}return o},isArray$3=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},stringifyPrimitive=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},encode=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?map$1(objectKeys$3(t),function(o){var a=encodeURIComponent(stringifyPrimitive(o))+r;return isArray$2(t[o])?map$1(t[o],function(c){return a+encodeURIComponent(stringifyPrimitive(c))}).join(e):a+encodeURIComponent(stringifyPrimitive(t[o]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+r+encodeURIComponent(stringifyPrimitive(t)):""},isArray$2=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function map$1(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var objectKeys$3=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e};querystringEs3.decode=querystringEs3.parse=decode$1;querystringEs3.encode=querystringEs3.stringify=encode;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=querystringEs3;function n(c){return encodeURIComponent(c)}function o(c){return decodeURIComponent(c)}var a={decode:r.decode,encode:r.encode,parse:r.parse,stringify:r.stringify,escape:n,unescape:o};Object.defineProperty(e,"decode",{enumerable:!0,get:function(){return r.decode}}),Object.defineProperty(e,"encode",{enumerable:!0,get:function(){return r.encode}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return r.parse}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),e.default=a,e.escape=n,e.unescape=o,e=t.exports=a})(querystring$1,querystring$1.exports);function buildRequest(t,e){return{method:t,path:e,redirect:this.options.followRedirects?"follow":"manual",headers:{},setHeader(r,n){this.headers[r.toLowerCase()]=n},getHeader(r){return this.headers[r.toLowerCase()]}}}function finalizeRequest(){return this._finalizeRequest(),this.data&&(this.request.body=this.data),window.fetch(this.request.path,this.request).then(t=>t.text().then(e=>{const r={};for(const[n,o]of t.headers.entries())r[n.toLowerCase()]=o;return{response:t,raw:e,headers:r}}))}var browser$4={buildRequest,finalizeRequest,shouldSendRaw:()=>!1,METHODS:["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","PATCH"],STATUS_CODES:{},Extension:Object,FormData:window.FormData},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(__viteBrowserExternal$1);const browser$3=typeof window<"u",querystring=querystring$1.exports,transport=browser$3?browser$4:require$$2$1;class Snekfetch extends transport.Extension{constructor(e,r,n={}){super(),this.options=Object.assign({version:1,qs:querystring,followRedirects:!0},n),this.request=transport.buildRequest.call(this,e,r,n),n.headers&&this.set(n.headers),n.query&&this.query(n.query),n.data&&this.send(n.data)}query(e,r){if(this.request.query||(this.request.query={}),e!==null&&typeof e=="object")for(const[n,o]of Object.entries(e))this.query(n,o);else this.request.query[e]=r;return this}set(e,r){if(e!==null&&typeof e=="object")for(const n of Object.keys(e))this.set(n,e[n]);else this.request.setHeader(e,r);return this}attach(...e){const r=this.data instanceof transport.FormData?this.data:this.data=new transport.FormData;if(typeof e[0]=="object")for(const[n,o]of Object.entries(e[0]))this.attach(n,o);else r.append(...e);return this}send(e){if(e instanceof transport.FormData||transport.shouldSendRaw(e))this.data=e;else if(e!==null&&typeof e=="object"){const r=this.request.getHeader("content-type");let n;r?r.includes("json")?n=JSON.stringify:r.includes("urlencoded")&&(n=this.options.qs.stringify):(this.set("Content-Type","application/json"),n=JSON.stringify),this.data=n(e)}else this.data=e;return this}then(e,r){return this._response?this._response.then(e,r):this._response=transport.finalizeRequest.call(this).then(({response:n,raw:o,redirect:a,headers:c})=>{if(a){let _r=this.request.method;[301,302].includes(n.statusCode)?(_r!=="HEAD"&&(_r="GET"),this.data=null):n.statusCode===303&&(_r="GET");const Ar=this.request.getHeaders();return delete Ar.host,new Snekfetch(_r,a,{data:this.data,headers:Ar,version:this.options.version})}const u=n.statusCode||n.status,gr=this,br={request:this.request,get body(){delete br.body;const _r=this.headers["content-type"];if(_r&&_r.includes("application/json"))try{br.body=JSON.parse(br.text)}catch{br.body=br.text}else _r&&_r.includes("application/x-www-form-urlencoded")?br.body=gr.options.qs.parse(br.text):br.body=o;return br.body},text:o.toString(),ok:u>=200&&u<400,headers:c||n.headers,status:u,statusText:n.statusText||transport.STATUS_CODES[n.statusCode]};if(br.ok)return br;{const _r=new Error(`${br.status} ${br.statusText}`.trim());return Object.assign(_r,br),Promise.reject(_r)}}).then(e,r)}catch(e){return this.then(null,e)}end(e){return this.then(r=>e?e(null,r):r,r=>e?e(r,r.status?r:null):Promise.reject(r))}_finalizeRequest(){if(!!this.request&&(this.request.method!=="HEAD"&&this.set("Accept-Encoding","gzip, deflate"),this.data&&this.data.getBoundary&&this.set("Content-Type",`multipart/form-data; boundary=${this.data.getBoundary()}`),this.request.query)){const[e,r]=this.request.path.split("?");this.request.path=`${e}?${this.options.qs.stringify(this.request.query)}${r?`&${r}`:""}`}}}Snekfetch.METHODS=transport.METHODS.concat("BREW").filter(t=>t!=="M-SEARCH");for(const t of Snekfetch.METHODS)Snekfetch[t.toLowerCase()]=function(r,n){const o=this.prototype instanceof Snekfetch?this:Snekfetch;return new o(t,r,n)};var src$1=Snekfetch,snekfetch$1=src$1;const version$3=snekfetch$1.version,METHODS=snekfetch$1.METHODS,acl=snekfetch$1.acl,bind$2=snekfetch$1.bind,checkout=snekfetch$1.checkout,connect=snekfetch$1.connect,copy=snekfetch$1.copy,_delete=snekfetch$1.delete,get$1=snekfetch$1.get,head=snekfetch$1.head,link=snekfetch$1.link,lock=snekfetch$1.lock,merge=snekfetch$1.merge,mkactivity=snekfetch$1.mkactivity,mkcalendar=snekfetch$1.mkcalendar,mkcol=snekfetch$1.mkcol,move=snekfetch$1.move,notify=snekfetch$1.notify,options=snekfetch$1.options,patch=snekfetch$1.patch,post=snekfetch$1.post,propfind=snekfetch$1.propfind,proppatch=snekfetch$1.proppatch,purge=snekfetch$1.purge,put=snekfetch$1.put,rebind=snekfetch$1.rebind,report=snekfetch$1.report,search=snekfetch$1.search,subscribe=snekfetch$1.subscribe,trace$1=snekfetch$1.trace,unbind=snekfetch$1.unbind,unlink=snekfetch$1.unlink,unlock=snekfetch$1.unlock,unsubscribe=snekfetch$1.unsubscribe,brew=snekfetch$1.brew;var esm=Object.freeze(Object.defineProperty({__proto__:null,default:snekfetch$1,version:version$3,METHODS,acl,bind:bind$2,checkout,connect,copy,delete:_delete,get:get$1,head,link,lock,merge,mkactivity,mkcalendar,mkcol,move,notify,options,patch,post,propfind,proppatch,purge,put,rebind,report,search,subscribe,trace:trace$1,unbind,unlink,unlock,unsubscribe,brew},Symbol.toStringTag,{value:"Module"})),require$$1$2=getAugmentedNamespace(esm);const MessageBuilder=builder,snekfetch=require$$1$2,ENDPOINT="https://discordapp.com/api/v7/webhooks";class Webhook{constructor(e,r=!1){this.url=e,this.id="",this.token="",this.meta={},this.ready=!1,this.nowait=r,snekfetch.get(this.url).then(n=>{let o=JSON.parse(n.text);Object.assign(this.meta,o),this.id=o.id,this.token=o.token,this.ready=!0}).catch(n=>{throw n})}verifyName(e){if(e.length>32)throw new Error(`The name specified was ${e.length} characters. Discord webhook names must be under 32 characters`)}checkFieldValueLength(e){if(e.length>1024)throw new Error(`The value given was ${e.length} characters, fields of Discord embeds must be under 1024 characters`)}checkFields(e){return e?Object.keys(e).indexOf("fields")==-1?new Promise(r=>r()):new Promise(r=>{const n=[];for(var o=0;o<e.fields.length;o++)n.push(this.checkFieldValueLength(e.fields[o].value));Promise.all(n).then(()=>{r()})}):new Promise(r=>r())}sendPayload(e,r){let n=this.sanitiseEmbeds(e);this.verifyName(n.username),this.checkFields(n.attachments[0]).then(()=>{if(this.ready)return new Promise((o,a)=>{snekfetch.post(this.endpoint).send(n).then(c=>{r&&r(c),o()}).catch(c=>{let u=JSON.parse(c.text);u.code===50006&&a({error:"No content specified"}),u.retry_after?setTimeout(()=>{this.sendPayload(n,o)},u.retry_after):a(c)})});setTimeout(()=>{this.sendPayload(n,r)},10)})}get endpoint(){let e="";return this.nowait&&(e="?wait=false"),`${ENDPOINT}/${this.id}/${this.token}/slack${e}`}err(e,r){let n={username:e,attachments:[{color:"#ff0000",fields:[{title:"Error",value:r}],ts:new Date/1e3}]};return this.sendPayload(n)}info(e,r){let n={username:e,attachments:[{color:"#00fffa",fields:[{title:"Information",value:r}],ts:new Date/1e3}]};return this.sendPayload(n)}success(e,r){let n={username:e,attachments:[{color:"#04ff00",fields:[{title:"Success",value:r}],ts:new Date/1e3}]};return this.sendPayload(n)}warn(e,r){let n={username:e,attachments:[{color:"#ffe900",fields:[{title:"Warning",value:r}],ts:new Date/1e3}]};return this.sendPayload(n)}custom(e,r,n,o,a){let c={username:e,attachments:[{fields:[{title:n,value:r}],ts:new Date/1e3}]};return o&&(c.attachments[0].color=o),a&&(c.attachments[0].image_url=a),this.sendPayload(c)}image(e,r,n,o){let a={username:e,attachments:[{fields:[{title:n,value:r}],ts:new Date/1e3,image_url:o}]};return this.sendPayload(a)}sanitiseEmbeds(e){let r=Object.assign({},e);return e.attachments.length>0&&(Object.keys(e.attachments[0]).length>1||e.attachments[0].fields.length>0||(r.attachments=[])),r}send(e){return new Promise((r,n)=>{if(e.data.username||n({error:"No username provided"}),e.data.text)return this.sendPayload(e.data,r);if(Object.keys(e.data.attachments[0]).length>1||e.data.attachments[0].fields.length>0)return this.sendPayload(e.data,r);n({error:"No content specified"})})}}var webhook={Webhook,MessageBuilder};const IMAGE_URL="https://png.pngtree.com/png-vector/20191113/ourmid/pngtree-ticket-icon-flat-style-png-image_1977183.jpg";var DiscordMessageType=(t=>(t[t.RAFFLE_CREATE=0]="RAFFLE_CREATE",t[t.TICKET_BUY=1]="TICKET_BUY",t))(DiscordMessageType||{});const DISCORD_URL="https://discord.com/api/webhooks/1276217279830429801/YRJoSK1XJGHlS9-Ns9MGNUCAsn520H792wXZHjSfPOD9n1aUBHg6ZSY3_wxMCOea3v9t",useRaffleStore=defineStore("raffleStore",{state:()=>({_updateCount:0,is_loading:!1,disocrd_handle:new webhook.Webhook(DISCORD_URL),raffles:[]}),getters:{get_running_raffles(t){return t.raffles.filter(e=>Object.keys(e.account.state)[0]=="running"||Object.keys(e.account.state)[0]=="full")}},actions:{async update_raffles(){console.log("Hello");const{pg_raffle:t}=useWorkspaceAdapter();useWallet().publicKey.value&&(this.is_loading=!0,this.raffles=await t.value.account.raffle.all(),this._updateCount++),this.is_loading=!1},async send_discord_webhook(t,e,r,n,o){let a;switch(t){case 0:a=new webhook.MessageBuilder().setName("Raffle - Create").setAvatar(IMAGE_URL).setTitle(e).setColor("#ff9f2a").addField("Total tickets:",n.toString(),!0).addField("Price per ticket:",(o==null?void 0:o.toString())??"none",!0);break;case 1:a=new webhook.MessageBuilder().setName("Ticket - Buy").setAvatar(IMAGE_URL).setTitle(e).setColor("#ff9f2a").addField("Tickets sold:",n.toString(),!0);break}a&&await useRaffleStore().disocrd_handle.send(a),console.log(useRaffleStore().disocrd_handle)},async send_buy_message_discord(t,e,r){const n=new webhook.MessageBuilder().setName("Ticket(s) sold...").setAvatar(IMAGE_URL).setColor("#ff9f2a").addField("Raffle:",t,!0).addField("Status:",e,!0).addField("Tickets bought:",r,!0);n&&await useRaffleStore().disocrd_handle.send(n)}}}),useWhitelist=defineStore("whitelistStore",{state:()=>({_updateCount:0,is_loading:!1,whitelists:[],whitelistEntries:[]}),getters:{check_wallet_whitelisted(t){return t.whitelistEntries.some(e=>{var r;return e.account.whitelisted.toString()===((r=useWallet().publicKey.value)==null?void 0:r.toString())})}},actions:{async update_whitelist(){const{pg_whitelist:t}=useWorkspaceAdapter();this.is_loading=!0,this.whitelists=await t.value.account.whitelist.all(),this.whitelistEntries=await t.value.account.whitelistEntry.all(),this.is_loading=!1,console.log("update_whitelist")}}});var backgrounds="";function number$1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function isBytes$1(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function bytes$1(t,...e){if(!isBytes$1(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function hash(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$1(t.outputLen),number$1(t.blockLen)}function exists(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function output(t,e){bytes$1(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),rotr=(t,e)=>t<<32-e|t>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes$1(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function toBytes(t){return typeof t=="string"&&(t=utf8ToBytes$1(t)),bytes$1(t),t}function concatBytes$1(...t){let e=0;for(let n=0;n<t.length;n++){const o=t[n];bytes$1(o),e+=o.length}const r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){const a=t[n];r.set(a,o),o+=a.length}return r}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(t){const e=n=>t().update(toBytes(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function randomBytes(t=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const o=BigInt(32),a=BigInt(4294967295),c=Number(r>>o&a),u=Number(r&a),gr=n?4:0,br=n?0:4;t.setUint32(e+gr,c,n),t.setUint32(e+br,u,n)}const Chi=(t,e,r)=>t&e^~t&r,Maj=(t,e,r)=>t&e^t&r^e&r;class HashMD extends Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){exists(this);const{view:r,buffer:n,blockLen:o}=this;e=toBytes(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(o-this.pos,a-c);if(u===o){const gr=createView(e);for(;o<=a-c;c+=o)this.process(gr,c);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists(this),output(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:o,isLE:a}=this;let{pos:c}=this;r[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(n,0),c=0);for(let Ar=c;Ar<o;Ar++)r[Ar]=0;setBigUint64(n,o-8,BigInt(this.length*8),a),this.process(n,0);const u=createView(e),gr=this.outputLen;if(gr%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const br=gr/4,_r=this.get();if(br>_r.length)throw new Error("_sha2: outputLen bigger than state");for(let Ar=0;Ar<br;Ar++)u.setUint32(4*Ar,_r[Ar],a)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:o,finished:a,destroyed:c,pos:u}=this;return e.length=o,e.pos=u,e.finished=a,e.destroyed=c,o%r&&e.buffer.set(n),e}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(t,e=!1){return e?{h:Number(t&U32_MASK64),l:Number(t>>_32n&U32_MASK64)}:{h:Number(t>>_32n&U32_MASK64)|0,l:Number(t&U32_MASK64)|0}}function split(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){const{h:a,l:c}=fromBig(t[o],e);[r[o],n[o]]=[a,c]}return[r,n]}const toBig=(t,e)=>BigInt(t>>>0)<<_32n|BigInt(e>>>0),shrSH=(t,e,r)=>t>>>r,shrSL=(t,e,r)=>t<<32-r|e>>>r,rotrSH=(t,e,r)=>t>>>r|e<<32-r,rotrSL=(t,e,r)=>t<<32-r|e>>>r,rotrBH=(t,e,r)=>t<<64-r|e>>>r-32,rotrBL=(t,e,r)=>t>>>r-32|e<<64-r,rotr32H=(t,e)=>e,rotr32L=(t,e)=>t,rotlSH=(t,e,r)=>t<<r|e>>>32-r,rotlSL=(t,e,r)=>e<<r|t>>>32-r,rotlBH=(t,e,r)=>e<<r-32|t>>>64-r,rotlBL=(t,e,r)=>t<<r-32|e>>>64-r;function add(t,e,r,n){const o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}const add3L=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,add5L=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),add5H=(t,e,r,n,o,a)=>e+r+n+o+a+(t/2**32|0)|0,u64$5={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};var u64$6=u64$5;const[SHA512_Kh,SHA512_Kl]=(()=>u64$6.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))))(),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:o,Ch:a,Cl:c,Dh:u,Dl:gr,Eh:br,El:_r,Fh:Ar,Fl:vr,Gh:Tr,Gl:Or,Hh:Ir,Hl:xr}=this;return[e,r,n,o,a,c,u,gr,br,_r,Ar,vr,Tr,Or,Ir,xr]}set(e,r,n,o,a,c,u,gr,br,_r,Ar,vr,Tr,Or,Ir,xr){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=gr|0,this.Eh=br|0,this.El=_r|0,this.Fh=Ar|0,this.Fl=vr|0,this.Gh=Tr|0,this.Gl=Or|0,this.Hh=Ir|0,this.Hl=xr|0}process(e,r){for(let Mr=0;Mr<16;Mr++,r+=4)SHA512_W_H[Mr]=e.getUint32(r),SHA512_W_L[Mr]=e.getUint32(r+=4);for(let Mr=16;Mr<80;Mr++){const Hr=SHA512_W_H[Mr-15]|0,Vr=SHA512_W_L[Mr-15]|0,Kr=u64$6.rotrSH(Hr,Vr,1)^u64$6.rotrSH(Hr,Vr,8)^u64$6.shrSH(Hr,Vr,7),jr=u64$6.rotrSL(Hr,Vr,1)^u64$6.rotrSL(Hr,Vr,8)^u64$6.shrSL(Hr,Vr,7),qr=SHA512_W_H[Mr-2]|0,tn=SHA512_W_L[Mr-2]|0,en=u64$6.rotrSH(qr,tn,19)^u64$6.rotrBH(qr,tn,61)^u64$6.shrSH(qr,tn,6),sn=u64$6.rotrSL(qr,tn,19)^u64$6.rotrBL(qr,tn,61)^u64$6.shrSL(qr,tn,6),cn=u64$6.add4L(jr,sn,SHA512_W_L[Mr-7],SHA512_W_L[Mr-16]),Ur=u64$6.add4H(cn,Kr,en,SHA512_W_H[Mr-7],SHA512_W_H[Mr-16]);SHA512_W_H[Mr]=Ur|0,SHA512_W_L[Mr]=cn|0}let{Ah:n,Al:o,Bh:a,Bl:c,Ch:u,Cl:gr,Dh:br,Dl:_r,Eh:Ar,El:vr,Fh:Tr,Fl:Or,Gh:Ir,Gl:xr,Hh:Lr,Hl:Fr}=this;for(let Mr=0;Mr<80;Mr++){const Hr=u64$6.rotrSH(Ar,vr,14)^u64$6.rotrSH(Ar,vr,18)^u64$6.rotrBH(Ar,vr,41),Vr=u64$6.rotrSL(Ar,vr,14)^u64$6.rotrSL(Ar,vr,18)^u64$6.rotrBL(Ar,vr,41),Kr=Ar&Tr^~Ar&Ir,jr=vr&Or^~vr&xr,qr=u64$6.add5L(Fr,Vr,jr,SHA512_Kl[Mr],SHA512_W_L[Mr]),tn=u64$6.add5H(qr,Lr,Hr,Kr,SHA512_Kh[Mr],SHA512_W_H[Mr]),en=qr|0,sn=u64$6.rotrSH(n,o,28)^u64$6.rotrBH(n,o,34)^u64$6.rotrBH(n,o,39),cn=u64$6.rotrSL(n,o,28)^u64$6.rotrBL(n,o,34)^u64$6.rotrBL(n,o,39),Ur=n&a^n&u^a&u,Rr=o&c^o&gr^c&gr;Lr=Ir|0,Fr=xr|0,Ir=Tr|0,xr=Or|0,Tr=Ar|0,Or=vr|0,{h:Ar,l:vr}=u64$6.add(br|0,_r|0,tn|0,en|0),br=u|0,_r=gr|0,u=a|0,gr=c|0,a=n|0,c=o|0;const Pr=u64$6.add3L(en,cn,Rr);n=u64$6.add3H(Pr,tn,sn,Ur),o=Pr|0}({h:n,l:o}=u64$6.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:a,l:c}=u64$6.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:gr}=u64$6.add(this.Ch|0,this.Cl|0,u|0,gr|0),{h:br,l:_r}=u64$6.add(this.Dh|0,this.Dl|0,br|0,_r|0),{h:Ar,l:vr}=u64$6.add(this.Eh|0,this.El|0,Ar|0,vr|0),{h:Tr,l:Or}=u64$6.add(this.Fh|0,this.Fl|0,Tr|0,Or|0),{h:Ir,l:xr}=u64$6.add(this.Gh|0,this.Gl|0,Ir|0,xr|0),{h:Lr,l:Fr}=u64$6.add(this.Hh|0,this.Hl|0,Lr|0,Fr|0),this.set(n,o,a,c,u,gr,br,_r,Ar,vr,Tr,Or,Ir,xr,Lr,Fr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=wrapConstructor(()=>new SHA512);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2);function isBytes(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function abytes(t){if(!isBytes(t))throw new Error("Uint8Array expected")}function abool(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}const hexes=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex(t){abytes(t);let e="";for(let r=0;r<t.length;r++)e+=hexes[t[r]];return e}function numberToHexUnpadded(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function hexToNumber(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(t){if(t>=asciis._0&&t<=asciis._9)return t-asciis._0;if(t>=asciis._A&&t<=asciis._F)return t-(asciis._A-10);if(t>=asciis._a&&t<=asciis._f)return t-(asciis._a-10)}function hexToBytes(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let o=0,a=0;o<r;o++,a+=2){const c=asciiToBase16(t.charCodeAt(a)),u=asciiToBase16(t.charCodeAt(a+1));if(c===void 0||u===void 0){const gr=t[a]+t[a+1];throw new Error('hex string expected, got non-hex character "'+gr+'" at index '+a)}n[o]=c*16+u}return n}function bytesToNumberBE(t){return hexToNumber(bytesToHex(t))}function bytesToNumberLE(t){return abytes(t),hexToNumber(bytesToHex(Uint8Array.from(t).reverse()))}function numberToBytesBE(t,e){return hexToBytes(t.toString(16).padStart(e*2,"0"))}function numberToBytesLE(t,e){return numberToBytesBE(t,e).reverse()}function numberToVarBytesBE(t){return hexToBytes(numberToHexUnpadded(t))}function ensureBytes(t,e,r){let n;if(typeof e=="string")try{n=hexToBytes(e)}catch(a){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${a}`)}else if(isBytes(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const o=n.length;if(typeof r=="number"&&o!==r)throw new Error(`${t} expected ${r} bytes, got ${o}`);return n}function concatBytes(...t){let e=0;for(let n=0;n<t.length;n++){const o=t[n];abytes(o),e+=o.length}const r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){const a=t[n];r.set(a,o),o+=a.length}return r}function equalBytes(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function utf8ToBytes(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}const isPosBig=t=>typeof t=="bigint"&&_0n$4<=t;function inRange(t,e,r){return isPosBig(t)&&isPosBig(e)&&isPosBig(r)&&e<=t&&t<r}function aInRange(t,e,r,n){if(!inRange(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}function bitLen(t){let e;for(e=0;t>_0n$4;t>>=_1n$6,e+=1);return e}function bitGet(t,e){return t>>BigInt(e)&_1n$6}function bitSet(t,e,r){return t|(r?_1n$6:_0n$4)<<BigInt(e)}const bitMask=t=>(_2n$4<<BigInt(t-1))-_1n$6,u8n=t=>new Uint8Array(t),u8fr=t=>Uint8Array.from(t);function createHmacDrbg(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=u8n(t),o=u8n(t),a=0;const c=()=>{n.fill(1),o.fill(0),a=0},u=(...Ar)=>r(o,n,...Ar),gr=(Ar=u8n())=>{o=u(u8fr([0]),Ar),n=u(),Ar.length!==0&&(o=u(u8fr([1]),Ar),n=u())},br=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let Ar=0;const vr=[];for(;Ar<e;){n=u();const Tr=n.slice();vr.push(Tr),Ar+=n.length}return concatBytes(...vr)};return(Ar,vr)=>{c(),gr(Ar);let Tr;for(;!(Tr=vr(br()));)gr();return c(),Tr}}const validatorFns={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||isBytes(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function validateObject(t,e,r={}){const n=(o,a,c)=>{const u=validatorFns[a];if(typeof u!="function")throw new Error(`Invalid validator "${a}", expected function`);const gr=t[o];if(!(c&&gr===void 0)&&!u(gr,t))throw new Error(`Invalid param ${String(o)}=${gr} (${typeof gr}), expected ${a}`)};for(const[o,a]of Object.entries(e))n(o,a,!1);for(const[o,a]of Object.entries(r))n(o,a,!0);return t}const notImplemented=()=>{throw new Error("not implemented")};function memoized(t){const e=new WeakMap;return(r,...n)=>{const o=e.get(r);if(o!==void 0)return o;const a=t(r,...n);return e.set(r,a),a}}var ut$1=Object.freeze(Object.defineProperty({__proto__:null,isBytes,abytes,abool,bytesToHex,numberToHexUnpadded,hexToNumber,hexToBytes,bytesToNumberBE,bytesToNumberLE,numberToBytesBE,numberToBytesLE,numberToVarBytesBE,ensureBytes,concatBytes,equalBytes,utf8ToBytes,inRange,aInRange,bitLen,bitGet,bitSet,bitMask,createHmacDrbg,validateObject,notImplemented,memoized},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);BigInt(9);BigInt(16);function mod(t,e){const r=t%e;return r>=_0n$3?r:e+r}function pow(t,e,r){if(r<=_0n$3||e<_0n$3)throw new Error("Expected power/modulo > 0");if(r===_1n$5)return _0n$3;let n=_1n$5;for(;e>_0n$3;)e&_1n$5&&(n=n*t%r),t=t*t%r,e>>=_1n$5;return n}function pow2(t,e,r){let n=t;for(;e-- >_0n$3;)n*=n,n%=r;return n}function invert(t,e){if(t===_0n$3||e<=_0n$3)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=mod(t,e),n=e,o=_0n$3,a=_1n$5;for(;r!==_0n$3;){const u=n/r,gr=n%r,br=o-a*u;n=r,r=gr,o=a,a=br}if(n!==_1n$5)throw new Error("invert: does not exist");return mod(o,e)}function tonelliShanks(t){const e=(t-_1n$5)/_2n$3;let r,n,o;for(r=t-_1n$5,n=0;r%_2n$3===_0n$3;r/=_2n$3,n++);for(o=_2n$3;o<t&&pow(o,e,t)!==t-_1n$5;o++);if(n===1){const c=(t+_1n$5)/_4n;return function(gr,br){const _r=gr.pow(br,c);if(!gr.eql(gr.sqr(_r),br))throw new Error("Cannot find square root");return _r}}const a=(r+_1n$5)/_2n$3;return function(u,gr){if(u.pow(gr,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let br=n,_r=u.pow(u.mul(u.ONE,o),r),Ar=u.pow(gr,a),vr=u.pow(gr,r);for(;!u.eql(vr,u.ONE);){if(u.eql(vr,u.ZERO))return u.ZERO;let Tr=1;for(let Ir=u.sqr(vr);Tr<br&&!u.eql(Ir,u.ONE);Tr++)Ir=u.sqr(Ir);const Or=u.pow(_r,_1n$5<<BigInt(br-Tr-1));_r=u.sqr(Or),Ar=u.mul(Ar,Or),vr=u.mul(vr,_r),br=Tr}return Ar}}function FpSqrt(t){if(t%_4n===_3n$1){const e=(t+_1n$5)/_4n;return function(n,o){const a=n.pow(o,e);if(!n.eql(n.sqr(a),o))throw new Error("Cannot find square root");return a}}if(t%_8n$2===_5n$1){const e=(t-_5n$1)/_8n$2;return function(n,o){const a=n.mul(o,_2n$3),c=n.pow(a,e),u=n.mul(o,c),gr=n.mul(n.mul(u,_2n$3),c),br=n.mul(u,n.sub(gr,n.ONE));if(!n.eql(n.sqr(br),o))throw new Error("Cannot find square root");return br}}return tonelliShanks(t)}const isNegativeLE=(t,e)=>(mod(t,e)&_1n$5)===_1n$5,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=FIELD_FIELDS.reduce((n,o)=>(n[o]="function",n),e);return validateObject(t,r)}function FpPow(t,e,r){if(r<_0n$3)throw new Error("Expected power > 0");if(r===_0n$3)return t.ONE;if(r===_1n$5)return e;let n=t.ONE,o=e;for(;r>_0n$3;)r&_1n$5&&(n=t.mul(n,o)),o=t.sqr(o),r>>=_1n$5;return n}function FpInvertBatch(t,e){const r=new Array(e.length),n=e.reduce((a,c,u)=>t.is0(c)?a:(r[u]=a,t.mul(a,c)),t.ONE),o=t.inv(n);return e.reduceRight((a,c,u)=>t.is0(c)?a:(r[u]=t.mul(a,r[u]),t.mul(a,c)),o),r}function nLength(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Field(t,e,r=!1,n={}){if(t<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:o,nByteLength:a}=nLength(t,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=FpSqrt(t),u=Object.freeze({ORDER:t,BITS:o,BYTES:a,MASK:bitMask(o),ZERO:_0n$3,ONE:_1n$5,create:gr=>mod(gr,t),isValid:gr=>{if(typeof gr!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof gr}`);return _0n$3<=gr&&gr<t},is0:gr=>gr===_0n$3,isOdd:gr=>(gr&_1n$5)===_1n$5,neg:gr=>mod(-gr,t),eql:(gr,br)=>gr===br,sqr:gr=>mod(gr*gr,t),add:(gr,br)=>mod(gr+br,t),sub:(gr,br)=>mod(gr-br,t),mul:(gr,br)=>mod(gr*br,t),pow:(gr,br)=>FpPow(u,gr,br),div:(gr,br)=>mod(gr*invert(br,t),t),sqrN:gr=>gr*gr,addN:(gr,br)=>gr+br,subN:(gr,br)=>gr-br,mulN:(gr,br)=>gr*br,inv:gr=>invert(gr,t),sqrt:n.sqrt||(gr=>c(u,gr)),invertBatch:gr=>FpInvertBatch(u,gr),cmov:(gr,br,_r)=>_r?br:gr,toBytes:gr=>r?numberToBytesLE(gr,a):numberToBytesBE(gr,a),fromBytes:gr=>{if(gr.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${gr.length}`);return r?bytesToNumberLE(gr):bytesToNumberBE(gr)}});return Object.freeze(u)}function getFieldBytesLength(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function getMinHashLength(t){const e=getFieldBytesLength(t);return e+Math.ceil(e/2)}function mapHashToField(t,e,r=!1){const n=t.length,o=getFieldBytesLength(e),a=getMinHashLength(e);if(n<16||n<a||n>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${n}`);const c=r?bytesToNumberBE(t):bytesToNumberLE(t),u=mod(c,e-_1n$5)+_1n$5;return r?numberToBytesLE(u,o):numberToBytesBE(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$4=BigInt(1),pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function wNAF(t,e){const r=(a,c)=>{const u=c.negate();return a?u:c},n=a=>{if(!Number.isSafeInteger(a)||a<=0||a>e)throw new Error(`Wrong window size=${a}, should be [1..${e}]`)},o=a=>{n(a);const c=Math.ceil(e/a)+1,u=2**(a-1);return{windows:c,windowSize:u}};return{constTimeNegate:r,unsafeLadder(a,c){let u=t.ZERO,gr=a;for(;c>_0n$2;)c&_1n$4&&(u=u.add(gr)),gr=gr.double(),c>>=_1n$4;return u},precomputeWindow(a,c){const{windows:u,windowSize:gr}=o(c),br=[];let _r=a,Ar=_r;for(let vr=0;vr<u;vr++){Ar=_r,br.push(Ar);for(let Tr=1;Tr<gr;Tr++)Ar=Ar.add(_r),br.push(Ar);_r=Ar.double()}return br},wNAF(a,c,u){const{windows:gr,windowSize:br}=o(a);let _r=t.ZERO,Ar=t.BASE;const vr=BigInt(2**a-1),Tr=2**a,Or=BigInt(a);for(let Ir=0;Ir<gr;Ir++){const xr=Ir*br;let Lr=Number(u&vr);u>>=Or,Lr>br&&(Lr-=Tr,u+=_1n$4);const Fr=xr,Mr=xr+Math.abs(Lr)-1,Hr=Ir%2!==0,Vr=Lr<0;Lr===0?Ar=Ar.add(r(Hr,c[Fr])):_r=_r.add(r(Vr,c[Mr]))}return{p:_r,f:Ar}},wNAFCached(a,c,u){const gr=pointWindowSizes.get(a)||1;let br=pointPrecomputes.get(a);return br||(br=this.precomputeWindow(a,gr),gr!==1&&pointPrecomputes.set(a,u(br))),this.wNAF(gr,br,c)},setWindowSize(a,c){n(c),pointWindowSizes.set(a,c),pointPrecomputes.delete(a)}}}function validateBasic(t){return validateField(t.Fp),validateObject(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(t){const e=validateBasic(t);return validateObject(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function twistedEdwards(t){const e=validateOpts$1(t),{Fp:r,n,prehash:o,hash:a,randomBytes:c,nByteLength:u,h:gr}=e,br=_2n$2<<BigInt(u*8)-_1n$3,_r=r.create,Ar=e.uvRatio||((Pr,Dr)=>{try{return{isValid:!0,value:r.sqrt(Pr*r.inv(Dr))}}catch{return{isValid:!1,value:_0n$1}}}),vr=e.adjustScalarBytes||(Pr=>Pr),Tr=e.domain||((Pr,Dr,Yr)=>{if(abool("phflag",Yr),Dr.length||Yr)throw new Error("Contexts/pre-hash are not supported");return Pr});function Or(Pr,Dr){aInRange("coordinate "+Pr,Dr,_0n$1,br)}function Ir(Pr){if(!(Pr instanceof Fr))throw new Error("ExtendedPoint expected")}const xr=memoized((Pr,Dr)=>{const{ex:Yr,ey:Zr,ez:Xr}=Pr,nn=Pr.is0();Dr==null&&(Dr=nn?_8n$1:r.inv(Xr));const Gr=_r(Yr*Dr),Nr=_r(Zr*Dr),Jr=_r(Xr*Dr);if(nn)return{x:_0n$1,y:_1n$3};if(Jr!==_1n$3)throw new Error("invZ was invalid");return{x:Gr,y:Nr}}),Lr=memoized(Pr=>{const{a:Dr,d:Yr}=e;if(Pr.is0())throw new Error("bad point: ZERO");const{ex:Zr,ey:Xr,ez:nn,et:Gr}=Pr,Nr=_r(Zr*Zr),Jr=_r(Xr*Xr),fn=_r(nn*nn),An=_r(fn*fn),wn=_r(Nr*Dr),yn=_r(fn*_r(wn+Jr)),mn=_r(An+_r(Yr*_r(Nr*Jr)));if(yn!==mn)throw new Error("bad point: equation left != right (1)");const _n=_r(Zr*Xr),In=_r(nn*Gr);if(_n!==In)throw new Error("bad point: equation left != right (2)");return!0});class Fr{constructor(Dr,Yr,Zr,Xr){this.ex=Dr,this.ey=Yr,this.ez=Zr,this.et=Xr,Or("x",Dr),Or("y",Yr),Or("z",Zr),Or("t",Xr),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Dr){if(Dr instanceof Fr)throw new Error("extended point not allowed");const{x:Yr,y:Zr}=Dr||{};return Or("x",Yr),Or("y",Zr),new Fr(Yr,Zr,_1n$3,_r(Yr*Zr))}static normalizeZ(Dr){const Yr=r.invertBatch(Dr.map(Zr=>Zr.ez));return Dr.map((Zr,Xr)=>Zr.toAffine(Yr[Xr])).map(Fr.fromAffine)}_setWindowSize(Dr){Vr.setWindowSize(this,Dr)}assertValidity(){Lr(this)}equals(Dr){Ir(Dr);const{ex:Yr,ey:Zr,ez:Xr}=this,{ex:nn,ey:Gr,ez:Nr}=Dr,Jr=_r(Yr*Nr),fn=_r(nn*Xr),An=_r(Zr*Nr),wn=_r(Gr*Xr);return Jr===fn&&An===wn}is0(){return this.equals(Fr.ZERO)}negate(){return new Fr(_r(-this.ex),this.ey,this.ez,_r(-this.et))}double(){const{a:Dr}=e,{ex:Yr,ey:Zr,ez:Xr}=this,nn=_r(Yr*Yr),Gr=_r(Zr*Zr),Nr=_r(_2n$2*_r(Xr*Xr)),Jr=_r(Dr*nn),fn=Yr+Zr,An=_r(_r(fn*fn)-nn-Gr),wn=Jr+Gr,yn=wn-Nr,mn=Jr-Gr,_n=_r(An*yn),In=_r(wn*mn),Nn=_r(An*mn),ln=_r(yn*wn);return new Fr(_n,In,ln,Nn)}add(Dr){Ir(Dr);const{a:Yr,d:Zr}=e,{ex:Xr,ey:nn,ez:Gr,et:Nr}=this,{ex:Jr,ey:fn,ez:An,et:wn}=Dr;if(Yr===BigInt(-1)){const Sn=_r((nn-Xr)*(fn+Jr)),Bn=_r((nn+Xr)*(fn-Jr)),Tn=_r(Bn-Sn);if(Tn===_0n$1)return this.double();const jn=_r(Gr*_2n$2*wn),Hn=_r(Nr*_2n$2*An),Wn=Hn+jn,Vn=Bn+Sn,Yn=Hn-jn,kr=_r(Wn*Tn),Sr=_r(Vn*Yn),wr=_r(Wn*Yn),Br=_r(Tn*Vn);return new Fr(kr,Sr,Br,wr)}const yn=_r(Xr*Jr),mn=_r(nn*fn),_n=_r(Nr*Zr*wn),In=_r(Gr*An),Nn=_r((Xr+nn)*(Jr+fn)-yn-mn),ln=In-_n,hn=In+_n,gn=_r(mn-Yr*yn),Rn=_r(Nn*ln),Cn=_r(hn*gn),kn=_r(Nn*gn),Un=_r(ln*hn);return new Fr(Rn,Cn,Un,kn)}subtract(Dr){return this.add(Dr.negate())}wNAF(Dr){return Vr.wNAFCached(this,Dr,Fr.normalizeZ)}multiply(Dr){const Yr=Dr;aInRange("scalar",Yr,_1n$3,n);const{p:Zr,f:Xr}=this.wNAF(Yr);return Fr.normalizeZ([Zr,Xr])[0]}multiplyUnsafe(Dr){const Yr=Dr;return aInRange("scalar",Yr,_0n$1,n),Yr===_0n$1?Hr:this.equals(Hr)||Yr===_1n$3?this:this.equals(Mr)?this.wNAF(Yr).p:Vr.unsafeLadder(this,Yr)}isSmallOrder(){return this.multiplyUnsafe(gr).is0()}isTorsionFree(){return Vr.unsafeLadder(this,n).is0()}toAffine(Dr){return xr(this,Dr)}clearCofactor(){const{h:Dr}=e;return Dr===_1n$3?this:this.multiplyUnsafe(Dr)}static fromHex(Dr,Yr=!1){const{d:Zr,a:Xr}=e,nn=r.BYTES;Dr=ensureBytes("pointHex",Dr,nn),abool("zip215",Yr);const Gr=Dr.slice(),Nr=Dr[nn-1];Gr[nn-1]=Nr&-129;const Jr=bytesToNumberLE(Gr),fn=Yr?br:r.ORDER;aInRange("pointHex.y",Jr,_0n$1,fn);const An=_r(Jr*Jr),wn=_r(An-_1n$3),yn=_r(Zr*An-Xr);let{isValid:mn,value:_n}=Ar(wn,yn);if(!mn)throw new Error("Point.fromHex: invalid y coordinate");const In=(_n&_1n$3)===_1n$3,Nn=(Nr&128)!==0;if(!Yr&&_n===_0n$1&&Nn)throw new Error("Point.fromHex: x=0 and x_0=1");return Nn!==In&&(_n=_r(-_n)),Fr.fromAffine({x:_n,y:Jr})}static fromPrivateKey(Dr){return qr(Dr).point}toRawBytes(){const{x:Dr,y:Yr}=this.toAffine(),Zr=numberToBytesLE(Yr,r.BYTES);return Zr[Zr.length-1]|=Dr&_1n$3?128:0,Zr}toHex(){return bytesToHex(this.toRawBytes())}}Fr.BASE=new Fr(e.Gx,e.Gy,_1n$3,_r(e.Gx*e.Gy)),Fr.ZERO=new Fr(_0n$1,_1n$3,_1n$3,_0n$1);const{BASE:Mr,ZERO:Hr}=Fr,Vr=wNAF(Fr,u*8);function Kr(Pr){return mod(Pr,n)}function jr(Pr){return Kr(bytesToNumberLE(Pr))}function qr(Pr){const Dr=u;Pr=ensureBytes("private key",Pr,Dr);const Yr=ensureBytes("hashed private key",a(Pr),2*Dr),Zr=vr(Yr.slice(0,Dr)),Xr=Yr.slice(Dr,2*Dr),nn=jr(Zr),Gr=Mr.multiply(nn),Nr=Gr.toRawBytes();return{head:Zr,prefix:Xr,scalar:nn,point:Gr,pointBytes:Nr}}function tn(Pr){return qr(Pr).pointBytes}function en(Pr=new Uint8Array,...Dr){const Yr=concatBytes(...Dr);return jr(a(Tr(Yr,ensureBytes("context",Pr),!!o)))}function sn(Pr,Dr,Yr={}){Pr=ensureBytes("message",Pr),o&&(Pr=o(Pr));const{prefix:Zr,scalar:Xr,pointBytes:nn}=qr(Dr),Gr=en(Yr.context,Zr,Pr),Nr=Mr.multiply(Gr).toRawBytes(),Jr=en(Yr.context,Nr,nn,Pr),fn=Kr(Gr+Jr*Xr);aInRange("signature.s",fn,_0n$1,n);const An=concatBytes(Nr,numberToBytesLE(fn,r.BYTES));return ensureBytes("result",An,u*2)}const cn=VERIFY_DEFAULT;function Ur(Pr,Dr,Yr,Zr=cn){const{context:Xr,zip215:nn}=Zr,Gr=r.BYTES;Pr=ensureBytes("signature",Pr,2*Gr),Dr=ensureBytes("message",Dr),nn!==void 0&&abool("zip215",nn),o&&(Dr=o(Dr));const Nr=bytesToNumberLE(Pr.slice(Gr,2*Gr));let Jr,fn,An;try{Jr=Fr.fromHex(Yr,nn),fn=Fr.fromHex(Pr.slice(0,Gr),nn),An=Mr.multiplyUnsafe(Nr)}catch{return!1}if(!nn&&Jr.isSmallOrder())return!1;const wn=en(Xr,fn.toRawBytes(),Jr.toRawBytes(),Dr);return fn.add(Jr.multiplyUnsafe(wn)).subtract(An).clearCofactor().equals(Fr.ZERO)}return Mr._setWindowSize(8),{CURVE:e,getPublicKey:tn,sign:sn,verify:Ur,ExtendedPoint:Fr,utils:{getExtendedPublicKey:qr,randomPrivateKey:()=>c(r.BYTES),precompute(Pr=8,Dr=Fr.BASE){return Dr._setWindowSize(Pr),Dr.multiply(BigInt(3)),Dr}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$2=BigInt(1),_2n$1=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),o=BigInt(80),a=ED25519_P,u=t*t%a*t%a,gr=pow2(u,_2n$1,a)*u%a,br=pow2(gr,_1n$2,a)*t%a,_r=pow2(br,_5n,a)*br%a,Ar=pow2(_r,e,a)*_r%a,vr=pow2(Ar,r,a)*Ar%a,Tr=pow2(vr,n,a)*vr%a,Or=pow2(Tr,o,a)*Tr%a,Ir=pow2(Or,o,a)*Tr%a,xr=pow2(Ir,e,a)*_r%a;return{pow_p_5_8:pow2(xr,_2n$1,a)*t%a,b2:u}}function adjustScalarBytes(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function uvRatio(t,e){const r=ED25519_P,n=mod(e*e*e,r),o=mod(n*n*e,r),a=ed25519_pow_2_252_3(t*o).pow_p_5_8;let c=mod(t*n*a,r);const u=mod(e*c*c,r),gr=c,br=mod(c*ED25519_SQRT_M1,r),_r=u===t,Ar=u===mod(-t,r),vr=u===mod(-t*ED25519_SQRT_M1,r);return _r&&(c=gr),(Ar||vr)&&(c=br),isNegativeLE(c,r)&&(c=mod(-c,r)),{isValid:_r||Ar,value:c}}const Fp$1=(()=>Field(ED25519_P,void 0,!0))(),ed25519Defaults=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Fp$1,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512,randomBytes,adjustScalarBytes,uvRatio}))(),ed25519=(()=>twistedEdwards(ed25519Defaults))(),SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:e,B:r,C:n,D:o,E:a,F:c,G:u,H:gr}=this;return[e,r,n,o,a,c,u,gr]}set(e,r,n,o,a,c,u,gr){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=gr|0}process(e,r){for(let Ar=0;Ar<16;Ar++,r+=4)SHA256_W[Ar]=e.getUint32(r,!1);for(let Ar=16;Ar<64;Ar++){const vr=SHA256_W[Ar-15],Tr=SHA256_W[Ar-2],Or=rotr(vr,7)^rotr(vr,18)^vr>>>3,Ir=rotr(Tr,17)^rotr(Tr,19)^Tr>>>10;SHA256_W[Ar]=Ir+SHA256_W[Ar-7]+Or+SHA256_W[Ar-16]|0}let{A:n,B:o,C:a,D:c,E:u,F:gr,G:br,H:_r}=this;for(let Ar=0;Ar<64;Ar++){const vr=rotr(u,6)^rotr(u,11)^rotr(u,25),Tr=_r+vr+Chi(u,gr,br)+SHA256_K[Ar]+SHA256_W[Ar]|0,Ir=(rotr(n,2)^rotr(n,13)^rotr(n,22))+Maj(n,o,a)|0;_r=br,br=gr,gr=u,u=c+Tr|0,c=a,a=o,o=n,n=Tr+Ir|0}n=n+this.A|0,o=o+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,gr=gr+this.F|0,br=br+this.G|0,_r=_r+this.H|0,this.set(n,o,a,c,u,gr,br,_r)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);class StructError extends TypeError{constructor(e,r){let n;const{message:o,explanation:a,...c}=e,{path:u}=e,gr=u.length===0?o:`At path: ${u.join(".")} -- ${o}`;super(a??gr),a!=null&&(this.cause=gr),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function isIterable(t){return isObject$2(t)&&typeof t[Symbol.iterator]=="function"}function isObject$2(t){return typeof t=="object"&&t!=null}function isNonArrayObject(t){return isObject$2(t)&&!Array.isArray(t)}function print(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function shiftIterator(t){const{done:e,value:r}=t.next();return e?void 0:r}function toFailure(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:a}=e,{type:c}=r,{refinement:u,message:gr=`Expected a value of type \`${c}\`${u?` with refinement \`${u}\``:""}, but received: \`${print(n)}\``}=t;return{value:n,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...t,message:gr}}function*toFailures(t,e,r,n){isIterable(t)||(t=[t]);for(const o of t){const a=toFailure(o,e,r,n);a&&(yield a)}}function*run$1(t,e,r={}){const{path:n=[],branch:o=[t],coerce:a=!1,mask:c=!1}=r,u={path:n,branch:o,mask:c};a&&(t=e.coercer(t,u));let gr="valid";for(const br of e.validator(t,u))br.explanation=r.message,gr="not_valid",yield[br,void 0];for(let[br,_r,Ar]of e.entries(t,u)){const vr=run$1(_r,Ar,{path:br===void 0?n:[...n,br],branch:br===void 0?o:[...o,_r],coerce:a,mask:c,message:r.message});for(const Tr of vr)Tr[0]?(gr=Tr[0].refinement!=null?"not_refined":"not_valid",yield[Tr[0],void 0]):a&&(_r=Tr[1],br===void 0?t=_r:t instanceof Map?t.set(br,_r):t instanceof Set?t.add(_r):isObject$2(t)&&(_r!==void 0||br in t)&&(t[br]=_r))}if(gr!=="not_valid")for(const br of e.refiner(t,u))br.explanation=r.message,gr="not_refined",yield[br,void 0];gr==="valid"&&(yield[void 0,t])}class Struct$3{constructor(e){const{type:r,schema:n,validator:o,refiner:a,coercer:c=gr=>gr,entries:u=function*(){}}=e;this.type=r,this.schema=n,this.entries=u,this.coercer=c,o?this.validator=(gr,br)=>{const _r=o(gr,br);return toFailures(_r,br,this,gr)}:this.validator=()=>[],a?this.refiner=(gr,br)=>{const _r=a(gr,br);return toFailures(_r,br,this,gr)}:this.refiner=()=>[]}assert(e,r){return assert$8(e,this,r)}create(e,r){return create(e,this,r)}is(e){return is(e,this)}mask(e,r){return mask(e,this,r)}validate(e,r={}){return validate(e,this,r)}}function assert$8(t,e,r){const n=validate(t,e,{message:r});if(n[0])throw n[0]}function create(t,e,r){const n=validate(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function mask(t,e,r){const n=validate(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function is(t,e){return!validate(t,e)[0]}function validate(t,e,r={}){const n=run$1(t,e,r),o=shiftIterator(n);if(o[0])return[new StructError(o[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$5(t,e){return new Struct$3({type:t,schema:null,validator:e})}function any(){return define$5("any",()=>!0)}function array$1(t){return new Struct$3({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${print(e)}`}})}function boolean(){return define$5("boolean",t=>typeof t=="boolean")}function instance(t){return define$5("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${print(e)}`)}function literal(t){const e=print(t),r=typeof t;return new Struct$3({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${print(n)}`}})}function never(){return define$5("never",()=>!1)}function nullable(t){return new Struct$3({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function number(){return define$5("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${print(t)}`)}function optional(t){return new Struct$3({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function record(t,e){return new Struct$3({type:"record",schema:null,*entries(r){if(isObject$2(r))for(const n in r){const o=r[n];yield[n,n,t],yield[n,o,e]}},validator(r){return isNonArrayObject(r)||`Expected an object, but received: ${print(r)}`},coercer(r){return isNonArrayObject(r)?{...r}:r}})}function string$1(){return define$5("string",t=>typeof t=="string"||`Expected a string, but received: ${print(t)}`)}function tuple$1(t){const e=never();return new Struct$3({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let o=0;o<n;o++)yield[o,r[o],t[o]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${print(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function type(t){const e=Object.keys(t);return new Struct$3({type:"type",schema:t,*entries(r){if(isObject$2(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return isNonArrayObject(r)||`Expected an object, but received: ${print(r)}`},coercer(r){return isNonArrayObject(r)?{...r}:r}})}function union(t){const e=t.map(r=>r.type).join(" | ");return new Struct$3({type:"union",schema:null,coercer(r,n){for(const o of t){const[a,c]=o.validate(r,{coerce:!0,mask:n.mask});if(!a)return c}return r},validator(r,n){const o=[];for(const a of t){const[...c]=run$1(r,a,n),[u]=c;if(u[0])for(const[gr]of c)gr&&o.push(gr);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${print(r)}`,...o]}})}function unknown(){return define$5("unknown",()=>!0)}function coerce(t,e,r){return new Struct$3({...t,coercer:(n,o)=>is(n,e)?t.coercer(r(n,o),o):t.coercer(n,o)})}require$$0$3.v4;require$$0$3.v4;var eventemitter3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(gr,br,_r){this.fn=gr,this.context=br,this.once=_r||!1}function a(gr,br,_r,Ar,vr){if(typeof _r!="function")throw new TypeError("The listener must be a function");var Tr=new o(_r,Ar||gr,vr),Or=r?r+br:br;return gr._events[Or]?gr._events[Or].fn?gr._events[Or]=[gr._events[Or],Tr]:gr._events[Or].push(Tr):(gr._events[Or]=Tr,gr._eventsCount++),gr}function c(gr,br){--gr._eventsCount===0?gr._events=new n:delete gr._events[br]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var br=[],_r,Ar;if(this._eventsCount===0)return br;for(Ar in _r=this._events)e.call(_r,Ar)&&br.push(r?Ar.slice(1):Ar);return Object.getOwnPropertySymbols?br.concat(Object.getOwnPropertySymbols(_r)):br},u.prototype.listeners=function(br){var _r=r?r+br:br,Ar=this._events[_r];if(!Ar)return[];if(Ar.fn)return[Ar.fn];for(var vr=0,Tr=Ar.length,Or=new Array(Tr);vr<Tr;vr++)Or[vr]=Ar[vr].fn;return Or},u.prototype.listenerCount=function(br){var _r=r?r+br:br,Ar=this._events[_r];return Ar?Ar.fn?1:Ar.length:0},u.prototype.emit=function(br,_r,Ar,vr,Tr,Or){var Ir=r?r+br:br;if(!this._events[Ir])return!1;var xr=this._events[Ir],Lr=arguments.length,Fr,Mr;if(xr.fn){switch(xr.once&&this.removeListener(br,xr.fn,void 0,!0),Lr){case 1:return xr.fn.call(xr.context),!0;case 2:return xr.fn.call(xr.context,_r),!0;case 3:return xr.fn.call(xr.context,_r,Ar),!0;case 4:return xr.fn.call(xr.context,_r,Ar,vr),!0;case 5:return xr.fn.call(xr.context,_r,Ar,vr,Tr),!0;case 6:return xr.fn.call(xr.context,_r,Ar,vr,Tr,Or),!0}for(Mr=1,Fr=new Array(Lr-1);Mr<Lr;Mr++)Fr[Mr-1]=arguments[Mr];xr.fn.apply(xr.context,Fr)}else{var Hr=xr.length,Vr;for(Mr=0;Mr<Hr;Mr++)switch(xr[Mr].once&&this.removeListener(br,xr[Mr].fn,void 0,!0),Lr){case 1:xr[Mr].fn.call(xr[Mr].context);break;case 2:xr[Mr].fn.call(xr[Mr].context,_r);break;case 3:xr[Mr].fn.call(xr[Mr].context,_r,Ar);break;case 4:xr[Mr].fn.call(xr[Mr].context,_r,Ar,vr);break;default:if(!Fr)for(Vr=1,Fr=new Array(Lr-1);Vr<Lr;Vr++)Fr[Vr-1]=arguments[Vr];xr[Mr].fn.apply(xr[Mr].context,Fr)}}return!0},u.prototype.on=function(br,_r,Ar){return a(this,br,_r,Ar,!1)},u.prototype.once=function(br,_r,Ar){return a(this,br,_r,Ar,!0)},u.prototype.removeListener=function(br,_r,Ar,vr){var Tr=r?r+br:br;if(!this._events[Tr])return this;if(!_r)return c(this,Tr),this;var Or=this._events[Tr];if(Or.fn)Or.fn===_r&&(!vr||Or.once)&&(!Ar||Or.context===Ar)&&c(this,Tr);else{for(var Ir=0,xr=[],Lr=Or.length;Ir<Lr;Ir++)(Or[Ir].fn!==_r||vr&&!Or[Ir].once||Ar&&Or[Ir].context!==Ar)&&xr.push(Or[Ir]);xr.length?this._events[Tr]=xr.length===1?xr[0]:xr:c(this,Tr)}return this},u.prototype.removeAllListeners=function(br){var _r;return br?(_r=r?r+br:br,this._events[_r]&&c(this,_r)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(eventemitter3);class HMAC extends Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,hash(e);const n=toBytes(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(n.length>o?e.create().update(n).digest():n);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return exists(this),this.iHash.update(e),this}digestInto(e){exists(this),bytes$1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:o,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(t,e,r)=>new HMAC(t,e).update(r).digest();hmac.create=(t,e)=>new HMAC(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(t){t.lowS!==void 0&&abool("lowS",t.lowS),t.prehash!==void 0&&abool("prehash",t.prehash)}function validatePointOpts(t){const e=validateBasic(t);validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=e;if(r){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$1,DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=DER;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:b2n(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=DER,r=typeof t=="string"?h2b(t):t;abytes(r);let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:o,l:a}=DER._parseInt(r.subarray(2)),{d:c,l:u}=DER._parseInt(a);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s:c}},hexFromSig(t){const e=br=>Number.parseInt(br[0],16)&8?"00"+br:br,r=br=>{const _r=br.toString(16);return _r.length&1?`0${_r}`:_r},n=e(r(t.s)),o=e(r(t.r)),a=n.length/2,c=o.length/2,u=r(a),gr=r(c);return`30${r(c+a+4)}02${gr}${o}02${u}${n}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(t){const e=validatePointOpts(t),{Fp:r}=e,n=e.toBytes||((Or,Ir,xr)=>{const Lr=Ir.toAffine();return concatBytes(Uint8Array.from([4]),r.toBytes(Lr.x),r.toBytes(Lr.y))}),o=e.fromBytes||(Or=>{const Ir=Or.subarray(1),xr=r.fromBytes(Ir.subarray(0,r.BYTES)),Lr=r.fromBytes(Ir.subarray(r.BYTES,2*r.BYTES));return{x:xr,y:Lr}});function a(Or){const{a:Ir,b:xr}=e,Lr=r.sqr(Or),Fr=r.mul(Lr,Or);return r.add(r.add(Fr,r.mul(Or,Ir)),xr)}if(!r.eql(r.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function c(Or){return inRange(Or,_1n$1,e.n)}function u(Or){const{allowedPrivateKeyLengths:Ir,nByteLength:xr,wrapPrivateKey:Lr,n:Fr}=e;if(Ir&&typeof Or!="bigint"){if(isBytes(Or)&&(Or=bytesToHex(Or)),typeof Or!="string"||!Ir.includes(Or.length))throw new Error("Invalid key");Or=Or.padStart(xr*2,"0")}let Mr;try{Mr=typeof Or=="bigint"?Or:bytesToNumberBE(ensureBytes("private key",Or,xr))}catch{throw new Error(`private key must be ${xr} bytes, hex or bigint, not ${typeof Or}`)}return Lr&&(Mr=mod(Mr,Fr)),aInRange("private key",Mr,_1n$1,Fr),Mr}function gr(Or){if(!(Or instanceof Ar))throw new Error("ProjectivePoint expected")}const br=memoized((Or,Ir)=>{const{px:xr,py:Lr,pz:Fr}=Or;if(r.eql(Fr,r.ONE))return{x:xr,y:Lr};const Mr=Or.is0();Ir==null&&(Ir=Mr?r.ONE:r.inv(Fr));const Hr=r.mul(xr,Ir),Vr=r.mul(Lr,Ir),Kr=r.mul(Fr,Ir);if(Mr)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Kr,r.ONE))throw new Error("invZ was invalid");return{x:Hr,y:Vr}}),_r=memoized(Or=>{if(Or.is0()){if(e.allowInfinityPoint&&!r.is0(Or.py))return;throw new Error("bad point: ZERO")}const{x:Ir,y:xr}=Or.toAffine();if(!r.isValid(Ir)||!r.isValid(xr))throw new Error("bad point: x or y not FE");const Lr=r.sqr(xr),Fr=a(Ir);if(!r.eql(Lr,Fr))throw new Error("bad point: equation left != right");if(!Or.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class Ar{constructor(Ir,xr,Lr){if(this.px=Ir,this.py=xr,this.pz=Lr,Ir==null||!r.isValid(Ir))throw new Error("x required");if(xr==null||!r.isValid(xr))throw new Error("y required");if(Lr==null||!r.isValid(Lr))throw new Error("z required");Object.freeze(this)}static fromAffine(Ir){const{x:xr,y:Lr}=Ir||{};if(!Ir||!r.isValid(xr)||!r.isValid(Lr))throw new Error("invalid affine point");if(Ir instanceof Ar)throw new Error("projective point not allowed");const Fr=Mr=>r.eql(Mr,r.ZERO);return Fr(xr)&&Fr(Lr)?Ar.ZERO:new Ar(xr,Lr,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Ir){const xr=r.invertBatch(Ir.map(Lr=>Lr.pz));return Ir.map((Lr,Fr)=>Lr.toAffine(xr[Fr])).map(Ar.fromAffine)}static fromHex(Ir){const xr=Ar.fromAffine(o(ensureBytes("pointHex",Ir)));return xr.assertValidity(),xr}static fromPrivateKey(Ir){return Ar.BASE.multiply(u(Ir))}_setWindowSize(Ir){Tr.setWindowSize(this,Ir)}assertValidity(){_r(this)}hasEvenY(){const{y:Ir}=this.toAffine();if(r.isOdd)return!r.isOdd(Ir);throw new Error("Field doesn't support isOdd")}equals(Ir){gr(Ir);const{px:xr,py:Lr,pz:Fr}=this,{px:Mr,py:Hr,pz:Vr}=Ir,Kr=r.eql(r.mul(xr,Vr),r.mul(Mr,Fr)),jr=r.eql(r.mul(Lr,Vr),r.mul(Hr,Fr));return Kr&&jr}negate(){return new Ar(this.px,r.neg(this.py),this.pz)}double(){const{a:Ir,b:xr}=e,Lr=r.mul(xr,_3n),{px:Fr,py:Mr,pz:Hr}=this;let Vr=r.ZERO,Kr=r.ZERO,jr=r.ZERO,qr=r.mul(Fr,Fr),tn=r.mul(Mr,Mr),en=r.mul(Hr,Hr),sn=r.mul(Fr,Mr);return sn=r.add(sn,sn),jr=r.mul(Fr,Hr),jr=r.add(jr,jr),Vr=r.mul(Ir,jr),Kr=r.mul(Lr,en),Kr=r.add(Vr,Kr),Vr=r.sub(tn,Kr),Kr=r.add(tn,Kr),Kr=r.mul(Vr,Kr),Vr=r.mul(sn,Vr),jr=r.mul(Lr,jr),en=r.mul(Ir,en),sn=r.sub(qr,en),sn=r.mul(Ir,sn),sn=r.add(sn,jr),jr=r.add(qr,qr),qr=r.add(jr,qr),qr=r.add(qr,en),qr=r.mul(qr,sn),Kr=r.add(Kr,qr),en=r.mul(Mr,Hr),en=r.add(en,en),qr=r.mul(en,sn),Vr=r.sub(Vr,qr),jr=r.mul(en,tn),jr=r.add(jr,jr),jr=r.add(jr,jr),new Ar(Vr,Kr,jr)}add(Ir){gr(Ir);const{px:xr,py:Lr,pz:Fr}=this,{px:Mr,py:Hr,pz:Vr}=Ir;let Kr=r.ZERO,jr=r.ZERO,qr=r.ZERO;const tn=e.a,en=r.mul(e.b,_3n);let sn=r.mul(xr,Mr),cn=r.mul(Lr,Hr),Ur=r.mul(Fr,Vr),Rr=r.add(xr,Lr),Pr=r.add(Mr,Hr);Rr=r.mul(Rr,Pr),Pr=r.add(sn,cn),Rr=r.sub(Rr,Pr),Pr=r.add(xr,Fr);let Dr=r.add(Mr,Vr);return Pr=r.mul(Pr,Dr),Dr=r.add(sn,Ur),Pr=r.sub(Pr,Dr),Dr=r.add(Lr,Fr),Kr=r.add(Hr,Vr),Dr=r.mul(Dr,Kr),Kr=r.add(cn,Ur),Dr=r.sub(Dr,Kr),qr=r.mul(tn,Pr),Kr=r.mul(en,Ur),qr=r.add(Kr,qr),Kr=r.sub(cn,qr),qr=r.add(cn,qr),jr=r.mul(Kr,qr),cn=r.add(sn,sn),cn=r.add(cn,sn),Ur=r.mul(tn,Ur),Pr=r.mul(en,Pr),cn=r.add(cn,Ur),Ur=r.sub(sn,Ur),Ur=r.mul(tn,Ur),Pr=r.add(Pr,Ur),sn=r.mul(cn,Pr),jr=r.add(jr,sn),sn=r.mul(Dr,Pr),Kr=r.mul(Rr,Kr),Kr=r.sub(Kr,sn),sn=r.mul(Rr,cn),qr=r.mul(Dr,qr),qr=r.add(qr,sn),new Ar(Kr,jr,qr)}subtract(Ir){return this.add(Ir.negate())}is0(){return this.equals(Ar.ZERO)}wNAF(Ir){return Tr.wNAFCached(this,Ir,Ar.normalizeZ)}multiplyUnsafe(Ir){aInRange("scalar",Ir,_0n,e.n);const xr=Ar.ZERO;if(Ir===_0n)return xr;if(Ir===_1n$1)return this;const{endo:Lr}=e;if(!Lr)return Tr.unsafeLadder(this,Ir);let{k1neg:Fr,k1:Mr,k2neg:Hr,k2:Vr}=Lr.splitScalar(Ir),Kr=xr,jr=xr,qr=this;for(;Mr>_0n||Vr>_0n;)Mr&_1n$1&&(Kr=Kr.add(qr)),Vr&_1n$1&&(jr=jr.add(qr)),qr=qr.double(),Mr>>=_1n$1,Vr>>=_1n$1;return Fr&&(Kr=Kr.negate()),Hr&&(jr=jr.negate()),jr=new Ar(r.mul(jr.px,Lr.beta),jr.py,jr.pz),Kr.add(jr)}multiply(Ir){const{endo:xr,n:Lr}=e;aInRange("scalar",Ir,_1n$1,Lr);let Fr,Mr;if(xr){const{k1neg:Hr,k1:Vr,k2neg:Kr,k2:jr}=xr.splitScalar(Ir);let{p:qr,f:tn}=this.wNAF(Vr),{p:en,f:sn}=this.wNAF(jr);qr=Tr.constTimeNegate(Hr,qr),en=Tr.constTimeNegate(Kr,en),en=new Ar(r.mul(en.px,xr.beta),en.py,en.pz),Fr=qr.add(en),Mr=tn.add(sn)}else{const{p:Hr,f:Vr}=this.wNAF(Ir);Fr=Hr,Mr=Vr}return Ar.normalizeZ([Fr,Mr])[0]}multiplyAndAddUnsafe(Ir,xr,Lr){const Fr=Ar.BASE,Mr=(Vr,Kr)=>Kr===_0n||Kr===_1n$1||!Vr.equals(Fr)?Vr.multiplyUnsafe(Kr):Vr.multiply(Kr),Hr=Mr(this,xr).add(Mr(Ir,Lr));return Hr.is0()?void 0:Hr}toAffine(Ir){return br(this,Ir)}isTorsionFree(){const{h:Ir,isTorsionFree:xr}=e;if(Ir===_1n$1)return!0;if(xr)return xr(Ar,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Ir,clearCofactor:xr}=e;return Ir===_1n$1?this:xr?xr(Ar,this):this.multiplyUnsafe(e.h)}toRawBytes(Ir=!0){return abool("isCompressed",Ir),this.assertValidity(),n(Ar,this,Ir)}toHex(Ir=!0){return abool("isCompressed",Ir),bytesToHex(this.toRawBytes(Ir))}}Ar.BASE=new Ar(e.Gx,e.Gy,r.ONE),Ar.ZERO=new Ar(r.ZERO,r.ONE,r.ZERO);const vr=e.nBitLength,Tr=wNAF(Ar,e.endo?Math.ceil(vr/2):vr);return{CURVE:e,ProjectivePoint:Ar,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:c}}function validateOpts(t){const e=validateBasic(t);return validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function weierstrass(t){const e=validateOpts(t),{Fp:r,n}=e,o=r.BYTES+1,a=2*r.BYTES+1;function c(Rr){return mod(Rr,n)}function u(Rr){return invert(Rr,n)}const{ProjectivePoint:gr,normPrivateKeyToScalar:br,weierstrassEquation:_r,isWithinCurveOrder:Ar}=weierstrassPoints({...e,toBytes(Rr,Pr,Dr){const Yr=Pr.toAffine(),Zr=r.toBytes(Yr.x),Xr=concatBytes;return abool("isCompressed",Dr),Dr?Xr(Uint8Array.from([Pr.hasEvenY()?2:3]),Zr):Xr(Uint8Array.from([4]),Zr,r.toBytes(Yr.y))},fromBytes(Rr){const Pr=Rr.length,Dr=Rr[0],Yr=Rr.subarray(1);if(Pr===o&&(Dr===2||Dr===3)){const Zr=bytesToNumberBE(Yr);if(!inRange(Zr,_1n$1,r.ORDER))throw new Error("Point is not on curve");const Xr=_r(Zr);let nn;try{nn=r.sqrt(Xr)}catch(Jr){const fn=Jr instanceof Error?": "+Jr.message:"";throw new Error("Point is not on curve"+fn)}const Gr=(nn&_1n$1)===_1n$1;return(Dr&1)===1!==Gr&&(nn=r.neg(nn)),{x:Zr,y:nn}}else if(Pr===a&&Dr===4){const Zr=r.fromBytes(Yr.subarray(0,r.BYTES)),Xr=r.fromBytes(Yr.subarray(r.BYTES,2*r.BYTES));return{x:Zr,y:Xr}}else throw new Error(`Point of length ${Pr} was invalid. Expected ${o} compressed bytes or ${a} uncompressed bytes`)}}),vr=Rr=>bytesToHex(numberToBytesBE(Rr,e.nByteLength));function Tr(Rr){const Pr=n>>_1n$1;return Rr>Pr}function Or(Rr){return Tr(Rr)?c(-Rr):Rr}const Ir=(Rr,Pr,Dr)=>bytesToNumberBE(Rr.slice(Pr,Dr));class xr{constructor(Pr,Dr,Yr){this.r=Pr,this.s=Dr,this.recovery=Yr,this.assertValidity()}static fromCompact(Pr){const Dr=e.nByteLength;return Pr=ensureBytes("compactSignature",Pr,Dr*2),new xr(Ir(Pr,0,Dr),Ir(Pr,Dr,2*Dr))}static fromDER(Pr){const{r:Dr,s:Yr}=DER.toSig(ensureBytes("DER",Pr));return new xr(Dr,Yr)}assertValidity(){aInRange("r",this.r,_1n$1,n),aInRange("s",this.s,_1n$1,n)}addRecoveryBit(Pr){return new xr(this.r,this.s,Pr)}recoverPublicKey(Pr){const{r:Dr,s:Yr,recovery:Zr}=this,Xr=Kr(ensureBytes("msgHash",Pr));if(Zr==null||![0,1,2,3].includes(Zr))throw new Error("recovery id invalid");const nn=Zr===2||Zr===3?Dr+e.n:Dr;if(nn>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Gr=(Zr&1)===0?"02":"03",Nr=gr.fromHex(Gr+vr(nn)),Jr=u(nn),fn=c(-Xr*Jr),An=c(Yr*Jr),wn=gr.BASE.multiplyAndAddUnsafe(Nr,fn,An);if(!wn)throw new Error("point at infinify");return wn.assertValidity(),wn}hasHighS(){return Tr(this.s)}normalizeS(){return this.hasHighS()?new xr(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return vr(this.r)+vr(this.s)}}const Lr={isValidPrivateKey(Rr){try{return br(Rr),!0}catch{return!1}},normPrivateKeyToScalar:br,randomPrivateKey:()=>{const Rr=getMinHashLength(e.n);return mapHashToField(e.randomBytes(Rr),e.n)},precompute(Rr=8,Pr=gr.BASE){return Pr._setWindowSize(Rr),Pr.multiply(BigInt(3)),Pr}};function Fr(Rr,Pr=!0){return gr.fromPrivateKey(Rr).toRawBytes(Pr)}function Mr(Rr){const Pr=isBytes(Rr),Dr=typeof Rr=="string",Yr=(Pr||Dr)&&Rr.length;return Pr?Yr===o||Yr===a:Dr?Yr===2*o||Yr===2*a:Rr instanceof gr}function Hr(Rr,Pr,Dr=!0){if(Mr(Rr))throw new Error("first arg must be private key");if(!Mr(Pr))throw new Error("second arg must be public key");return gr.fromHex(Pr).multiply(br(Rr)).toRawBytes(Dr)}const Vr=e.bits2int||function(Rr){const Pr=bytesToNumberBE(Rr),Dr=Rr.length*8-e.nBitLength;return Dr>0?Pr>>BigInt(Dr):Pr},Kr=e.bits2int_modN||function(Rr){return c(Vr(Rr))},jr=bitMask(e.nBitLength);function qr(Rr){return aInRange(`num < 2^${e.nBitLength}`,Rr,_0n,jr),numberToBytesBE(Rr,e.nByteLength)}function tn(Rr,Pr,Dr=en){if(["recovered","canonical"].some(mn=>mn in Dr))throw new Error("sign() legacy options not supported");const{hash:Yr,randomBytes:Zr}=e;let{lowS:Xr,prehash:nn,extraEntropy:Gr}=Dr;Xr==null&&(Xr=!0),Rr=ensureBytes("msgHash",Rr),validateSigVerOpts(Dr),nn&&(Rr=ensureBytes("prehashed msgHash",Yr(Rr)));const Nr=Kr(Rr),Jr=br(Pr),fn=[qr(Jr),qr(Nr)];if(Gr!=null&&Gr!==!1){const mn=Gr===!0?Zr(r.BYTES):Gr;fn.push(ensureBytes("extraEntropy",mn))}const An=concatBytes(...fn),wn=Nr;function yn(mn){const _n=Vr(mn);if(!Ar(_n))return;const In=u(_n),Nn=gr.BASE.multiply(_n).toAffine(),ln=c(Nn.x);if(ln===_0n)return;const hn=c(In*c(wn+ln*Jr));if(hn===_0n)return;let gn=(Nn.x===ln?0:2)|Number(Nn.y&_1n$1),Rn=hn;return Xr&&Tr(hn)&&(Rn=Or(hn),gn^=1),new xr(ln,Rn,gn)}return{seed:An,k2sig:yn}}const en={lowS:e.lowS,prehash:!1},sn={lowS:e.lowS,prehash:!1};function cn(Rr,Pr,Dr=en){const{seed:Yr,k2sig:Zr}=tn(Rr,Pr,Dr),Xr=e;return createHmacDrbg(Xr.hash.outputLen,Xr.nByteLength,Xr.hmac)(Yr,Zr)}gr.BASE._setWindowSize(8);function Ur(Rr,Pr,Dr,Yr=sn){var Nn;const Zr=Rr;if(Pr=ensureBytes("msgHash",Pr),Dr=ensureBytes("publicKey",Dr),"strict"in Yr)throw new Error("options.strict was renamed to lowS");validateSigVerOpts(Yr);const{lowS:Xr,prehash:nn}=Yr;let Gr,Nr;try{if(typeof Zr=="string"||isBytes(Zr))try{Gr=xr.fromDER(Zr)}catch(ln){if(!(ln instanceof DER.Err))throw ln;Gr=xr.fromCompact(Zr)}else if(typeof Zr=="object"&&typeof Zr.r=="bigint"&&typeof Zr.s=="bigint"){const{r:ln,s:hn}=Zr;Gr=new xr(ln,hn)}else throw new Error("PARSE");Nr=gr.fromHex(Dr)}catch(ln){if(ln.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Xr&&Gr.hasHighS())return!1;nn&&(Pr=e.hash(Pr));const{r:Jr,s:fn}=Gr,An=Kr(Pr),wn=u(fn),yn=c(An*wn),mn=c(Jr*wn),_n=(Nn=gr.BASE.multiplyAndAddUnsafe(Nr,yn,mn))==null?void 0:Nn.toAffine();return _n?c(_n.x)===Jr:!1}return{CURVE:e,getPublicKey:Fr,getSharedSecret:Hr,sign:cn,verify:Ur,ProjectivePoint:gr,Signature:xr,utils:Lr}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(t){return{hash:t,hmac:(e,...r)=>hmac(t,e,concatBytes$1(...r)),randomBytes}}function createCurve(t,e){const r=n=>weierstrass({...t,...getHash(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(t,e)=>(t+e/_2n)/e;function sqrtMod(t){const e=secp256k1P,r=BigInt(3),n=BigInt(6),o=BigInt(11),a=BigInt(22),c=BigInt(23),u=BigInt(44),gr=BigInt(88),br=t*t*t%e,_r=br*br*t%e,Ar=pow2(_r,r,e)*_r%e,vr=pow2(Ar,r,e)*_r%e,Tr=pow2(vr,_2n,e)*br%e,Or=pow2(Tr,o,e)*Tr%e,Ir=pow2(Or,a,e)*Or%e,xr=pow2(Ir,u,e)*Ir%e,Lr=pow2(xr,gr,e)*xr%e,Fr=pow2(Lr,u,e)*Ir%e,Mr=pow2(Fr,r,e)*_r%e,Hr=pow2(Mr,c,e)*Or%e,Vr=pow2(Hr,n,e)*br%e,Kr=pow2(Vr,_2n,e);if(!Fp.eql(Fp.sqr(Kr),t))throw new Error("Cannot find square root");return Kr}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=secp256k1N,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,c=BigInt("0x100000000000000000000000000000000"),u=divNearest(a*t,e),gr=divNearest(-n*t,e);let br=mod(t-u*r-gr*o,e),_r=mod(-u*n-gr*a,e);const Ar=br>c,vr=_r>c;if(Ar&&(br=e-br),vr&&(_r=e-_r),br>c||_r>c)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:Ar,k1:br,k2neg:vr,k2:_r}}}},sha256$1);BigInt(0);secp256k1.ProjectivePoint;ed25519.utils.randomPrivateKey;ed25519.getPublicKey;function isOnCurve$2(t){try{return ed25519.ExtendedPoint.fromHex(t),!0}catch{return!1}}const sign$2=(t,e)=>ed25519.sign(t,e.slice(0,32)),verify$2=ed25519.verify,toBuffer$2=t=>bufferPolyfill.Buffer.isBuffer(t)?t:t instanceof Uint8Array?bufferPolyfill.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bufferPolyfill.Buffer.from(t);class Struct$2{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$2,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$2,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$2,this,e)}}const SOLANA_SCHEMA$2=new Map;var _PublicKey;const MAX_SEED_LENGTH$2=32,PUBLIC_KEY_LENGTH$2=32;function isPublicKeyData$2(t){return t._bn!==void 0}let uniquePublicKeyCounter$2=1;class PublicKey$2 extends Struct$2{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$2(e))this._bn=e._bn;else{if(typeof e=="string"){const r=bs58$3.decode(e);if(r.length!=PUBLIC_KEY_LENGTH$2)throw new Error("Invalid public key input");this._bn=new BN(r)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$2)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$2(uniquePublicKeyCounter$2);return uniquePublicKeyCounter$2+=1,new PublicKey$2(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$2)return e;const r=bufferPolyfill.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(r),n.toBuffer()]),a=sha256$1(o);return new PublicKey$2(a)}static createProgramAddressSync(e,r){let n=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$2)throw new TypeError("Max seed length exceeded");n=bufferPolyfill.Buffer.concat([n,toBuffer$2(a)])}),n=bufferPolyfill.Buffer.concat([n,r.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$1(n);if(isOnCurve$2(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$2(o)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,o;for(;n!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([n]));o=this.createProgramAddressSync(a,r)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new PublicKey$2(e);return isOnCurve$2(r.toBytes())}}_PublicKey=PublicKey$2;PublicKey$2.default=new _PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA$2.set(PublicKey$2,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey$2("BPFLoader1111111111111111111111111111111111");const PACKET_DATA_SIZE$2=1280-40-8,VERSION_PREFIX_MASK$2=127,SIGNATURE_LENGTH_IN_BYTES$2=64;class MessageAccountKeys$2{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((a,c)=>{n.set(a.toBase58(),c)});const o=a=>{const c=n.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$4=(t="publicKey")=>blob$2(32,t),rustString$2=(t="string")=>{const e=struct$3([u32$2("length"),u32$2("lengthPadding"),blob$2(offset$1(u32$2(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(a,c)=>r(a,c).chars.toString(),o.encode=(a,c,u)=>{const gr={chars:bufferPolyfill.Buffer.from(a,"utf8")};return n(gr,c,u)},o.alloc=a=>u32$2().span+u32$2().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$2=(t="authorized")=>struct$3([publicKey$4("staker"),publicKey$4("withdrawer")],t),lockup$2=(t="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$4("custodian")],t),voteInit$2=(t="voteInit")=>struct$3([publicKey$4("nodePubkey"),publicKey$4("authorizedVoter"),publicKey$4("authorizedWithdrawer"),u8$2("commission")],t),voteAuthorizeWithSeedArgs$2=(t="voteAuthorizeWithSeedArgs")=>struct$3([u32$2("voteAuthorizationType"),publicKey$4("currentAuthorityDerivedKeyOwnerPubkey"),rustString$2("currentAuthorityDerivedKeySeed"),publicKey$4("newAuthorized")],t);function getAlloc$2(t,e){const r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*r(o.elementLayout)}else if("fields"in o)return getAlloc$2({layout:o},e[o.property]);return 0};let n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function decodeLength$2(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function encodeLength$2(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function assert$7(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys$3{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,o=c=>{const u=c.toBase58();let gr=n.get(u);return gr===void 0&&(gr={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,gr)),gr},a=o(r);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const gr=o(u.pubkey);gr.isSigner||=u.isSigner,gr.isWritable||=u.isWritable}}return new CompiledKeys$3(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$7(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,gr])=>gr.isSigner&&gr.isWritable),n=e.filter(([,gr])=>gr.isSigner&&!gr.isWritable),o=e.filter(([,gr])=>!gr.isSigner&&gr.isWritable),a=e.filter(([,gr])=>!gr.isSigner&&!gr.isWritable),c={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:a.length};{assert$7(r.length>0,"Expected at least one writable signer key");const[gr]=r[0];assert$7(gr===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...r.map(([gr])=>new PublicKey$2(gr)),...n.map(([gr])=>new PublicKey$2(gr)),...o.map(([gr])=>new PublicKey$2(gr)),...a.map(([gr])=>new PublicKey$2(gr))];return[c,u]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(r.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:a}]}drainKeysFoundInLookupTable(e,r){const n=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(r(c)){const u=new PublicKey$2(a),gr=e.findIndex(br=>br.equals(u));gr>=0&&(assert$7(gr<256,"Max lookup table index exceeded"),n.push(gr),o.push(u),this.keyMetaMap.delete(a))}return[n,o]}}const END_OF_BUFFER_ERROR_MESSAGE="Reached end of buffer unexpectedly";function guardedShift(t){if(t.length===0)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return t.shift()}function guardedSplice(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return t.splice(...e)}class Message$2{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new PublicKey$2(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys$2(this.staticAccountKeys)}static compile(e){const r=CompiledKeys$3.compile(e.instructions,e.payerKey),[n,o]=r.getMessageComponents(),c=new MessageAccountKeys$2(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message$2({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,a=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<a}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength$2(r,e);const n=this.instructions.map(Ar=>{const{accounts:vr,programIdIndex:Tr}=Ar,Or=Array.from(bs58$3.decode(Ar.data));let Ir=[];encodeLength$2(Ir,vr.length);let xr=[];return encodeLength$2(xr,Or.length),{programIdIndex:Tr,keyIndicesCount:bufferPolyfill.Buffer.from(Ir),keyIndices:vr,dataLength:bufferPolyfill.Buffer.from(xr),data:Or}});let o=[];encodeLength$2(o,n.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE$2);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;n.forEach(Ar=>{c+=struct$3([u8$2("programIdIndex"),blob$2(Ar.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),Ar.keyIndices.length,"keyIndices"),blob$2(Ar.dataLength.length,"dataLength"),seq(u8$2("userdatum"),Ar.data.length,"data")]).encode(Ar,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(r.length,"keyCount"),seq(publicKey$4("key"),e,"keys"),publicKey$4("recentBlockhash")]),gr={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(r),keys:this.accountKeys.map(Ar=>toBuffer$2(Ar.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let br=bufferPolyfill.Buffer.alloc(2048);const _r=u.encode(gr,br);return a.copy(br,_r),br.slice(0,_r+a.length)}static from(e){let r=[...e];const n=guardedShift(r);if(n!==(n&VERSION_PREFIX_MASK$2))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=guardedShift(r),a=guardedShift(r),c=decodeLength$2(r);let u=[];for(let vr=0;vr<c;vr++){const Tr=guardedSplice(r,0,PUBLIC_KEY_LENGTH$2);u.push(new PublicKey$2(bufferPolyfill.Buffer.from(Tr)))}const gr=guardedSplice(r,0,PUBLIC_KEY_LENGTH$2),br=decodeLength$2(r);let _r=[];for(let vr=0;vr<br;vr++){const Tr=guardedShift(r),Or=decodeLength$2(r),Ir=guardedSplice(r,0,Or),xr=decodeLength$2(r),Lr=guardedSplice(r,0,xr),Fr=bs58$3.encode(bufferPolyfill.Buffer.from(Lr));_r.push({programIdIndex:Tr,accounts:Ir,data:Fr})}const Ar={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(gr)),accountKeys:u,instructions:_r};return new Message$2(Ar)}}class MessageV0$1{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys$2(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const o=e-n,a=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<a}else if(e>=this.header.numRequiredSignatures){const o=e-r,c=n-r-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=r-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const o=e.find(a=>a.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const a of n.writableIndexes)if(a<o.state.addresses.length)r.writable.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`);for(const a of n.readonlyIndexes)if(a<o.state.addresses.length)r.readonly.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=CompiledKeys$3.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const _r of a){const Ar=r.extractTableLookup(_r);if(Ar!==void 0){const[vr,{writable:Tr,readonly:Or}]=Ar;n.push(vr),o.writable.push(...Tr),o.readonly.push(...Or)}}const[c,u]=r.getMessageComponents(),br=new MessageAccountKeys$2(u,o).compileInstructions(e.instructions);return new MessageV0$1({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:br,addressTableLookups:n})}serialize(){const e=Array();encodeLength$2(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();encodeLength$2(n,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),a=Array();encodeLength$2(a,this.addressTableLookups.length);const c=struct$3([u8$2("prefix"),struct$3([u8$2("numRequiredSignatures"),u8$2("numReadonlySignedAccounts"),u8$2("numReadonlyUnsignedAccounts")],"header"),blob$2(e.length,"staticAccountKeysLength"),seq(publicKey$4(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$4("recentBlockhash"),blob$2(n.length,"instructionsLength"),blob$2(r.length,"serializedInstructions"),blob$2(a.length,"addressTableLookupsLength"),blob$2(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(PACKET_DATA_SIZE$2),gr=1<<7,br=c.encode({prefix:gr,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(_r=>_r.toBytes()),recentBlockhash:bs58$3.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:o},u);return u.slice(0,br)}serializeInstructions(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE$2);for(const n of this.compiledInstructions){const o=Array();encodeLength$2(o,n.accountKeyIndexes.length);const a=Array();encodeLength$2(a,n.data.length),e+=struct$3([u8$2("programIdIndex"),blob$2(o.length,"encodedAccountKeyIndexesLength"),seq(u8$2(),n.accountKeyIndexes.length,"accountKeyIndexes"),blob$2(a.length,"encodedDataLength"),blob$2(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE$2);for(const n of this.addressTableLookups){const o=Array();encodeLength$2(o,n.writableIndexes.length);const a=Array();encodeLength$2(a,n.readonlyIndexes.length),e+=struct$3([publicKey$4("accountKey"),blob$2(o.length,"encodedWritableIndexesLength"),seq(u8$2(),n.writableIndexes.length,"writableIndexes"),blob$2(a.length,"encodedReadonlyIndexesLength"),seq(u8$2(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=guardedShift(r),o=n&VERSION_PREFIX_MASK$2;assert$7(n!==o,"Expected versioned message but received legacy message");const a=o;assert$7(a===0,`Expected versioned message with version 0 but found version ${a}`);const c={numRequiredSignatures:guardedShift(r),numReadonlySignedAccounts:guardedShift(r),numReadonlyUnsignedAccounts:guardedShift(r)},u=[],gr=decodeLength$2(r);for(let Or=0;Or<gr;Or++)u.push(new PublicKey$2(guardedSplice(r,0,PUBLIC_KEY_LENGTH$2)));const br=bs58$3.encode(guardedSplice(r,0,PUBLIC_KEY_LENGTH$2)),_r=decodeLength$2(r),Ar=[];for(let Or=0;Or<_r;Or++){const Ir=guardedShift(r),xr=decodeLength$2(r),Lr=guardedSplice(r,0,xr),Fr=decodeLength$2(r),Mr=new Uint8Array(guardedSplice(r,0,Fr));Ar.push({programIdIndex:Ir,accountKeyIndexes:Lr,data:Mr})}const vr=decodeLength$2(r),Tr=[];for(let Or=0;Or<vr;Or++){const Ir=new PublicKey$2(guardedSplice(r,0,PUBLIC_KEY_LENGTH$2)),xr=decodeLength$2(r),Lr=guardedSplice(r,0,xr),Fr=decodeLength$2(r),Mr=guardedSplice(r,0,Fr);Tr.push({accountKey:Ir,writableIndexes:Lr,readonlyIndexes:Mr})}return new MessageV0$1({header:c,staticAccountKeys:u,recentBlockhash:br,compiledInstructions:Ar,addressTableLookups:Tr})}}const DEFAULT_SIGNATURE$2=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$2).fill(0);class TransactionInstruction$2{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$2{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new TransactionInstruction$2(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Ir=0;Ir<r.length;Ir++)if(r[Ir].programId===void 0)throw new Error(`Transaction instruction index ${Ir} has undefined program id`);const o=[],a=[];r.forEach(Ir=>{Ir.keys.forEach(Lr=>{a.push({...Lr})});const xr=Ir.programId.toString();o.includes(xr)||o.push(xr)}),o.forEach(Ir=>{a.push({pubkey:new PublicKey$2(Ir),isSigner:!1,isWritable:!1})});const c=[];a.forEach(Ir=>{const xr=Ir.pubkey.toString(),Lr=c.findIndex(Fr=>Fr.pubkey.toString()===xr);Lr>-1?(c[Lr].isWritable=c[Lr].isWritable||Ir.isWritable,c[Lr].isSigner=c[Lr].isSigner||Ir.isSigner):c.push(Ir)}),c.sort(function(Ir,xr){if(Ir.isSigner!==xr.isSigner)return Ir.isSigner?-1:1;if(Ir.isWritable!==xr.isWritable)return Ir.isWritable?-1:1;const Lr={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return Ir.pubkey.toBase58().localeCompare(xr.pubkey.toBase58(),"en",Lr)});const u=c.findIndex(Ir=>Ir.pubkey.equals(n));if(u>-1){const[Ir]=c.splice(u,1);Ir.isSigner=!0,Ir.isWritable=!0,c.unshift(Ir)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const Ir of this.signatures){const xr=c.findIndex(Lr=>Lr.pubkey.equals(Ir.publicKey));if(xr>-1)c[xr].isSigner||(c[xr].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Ir.publicKey.toString()}`)}let gr=0,br=0,_r=0;const Ar=[],vr=[];c.forEach(({pubkey:Ir,isSigner:xr,isWritable:Lr})=>{xr?(Ar.push(Ir.toString()),gr+=1,Lr||(br+=1)):(vr.push(Ir.toString()),Lr||(_r+=1))});const Tr=Ar.concat(vr),Or=r.map(Ir=>{const{data:xr,programId:Lr}=Ir;return{programIdIndex:Tr.indexOf(Lr.toString()),accounts:Ir.keys.map(Fr=>Tr.indexOf(Fr.pubkey.toString())),data:bs58$3.encode(xr)}});return Or.forEach(Ir=>{assert$7(Ir.programIdIndex>=0),Ir.accounts.forEach(xr=>assert$7(xr>=0))}),new Message$2({header:{numRequiredSignatures:gr,numReadonlySignedAccounts:br,numReadonlyUnsignedAccounts:_r},accountKeys:Tr,recentBlockhash:e,instructions:Or})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((o,a)=>r[a].equals(o.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const o=n.toString();return r.has(o)?!1:(r.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const a of e){const c=a.publicKey.toString();r.has(c)||(r.add(c),n.push(a))}this.signatures=n.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const a of e){const c=a.publicKey.toString();r.has(c)||(r.add(c),n.push(a))}const o=this._compile();this._partialSign(o,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(o=>{const a=sign$2(n,o.secretKey);this._addSignature(o.publicKey,toBuffer$2(a))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){assert$7(r.length===64);const n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=bufferPolyfill.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:o,publicKey:a}of this.signatures)o===null?r&&(n.missing||=[]).push(a):verify$2(o,e,a.toBytes())||(n.invalid||=[]).push(a);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n){const a=this._getMessageSignednessErrors(o,r);if(a){let c="Signature verification failed.";throw a.invalid&&(c+=`
Invalid signature for public key${a.invalid.length===1?"":"(s)"} [\`${a.invalid.map(u=>u.toBase58()).join("`, `")}\`].`),a.missing&&(c+=`
Missing signature for public key${a.missing.length===1?"":"(s)"} [\`${a.missing.map(u=>u.toBase58()).join("`, `")}\`].`),new Error(c)}}return this._serialize(o)}_serialize(e){const{signatures:r}=this,n=[];encodeLength$2(n,r.length);const o=n.length+r.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$7(r.length<256),bufferPolyfill.Buffer.from(n).copy(a,0),r.forEach(({signature:c},u)=>{c!==null&&(assert$7(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,n.length+u*64))}),e.copy(a,n.length+r.length*64),assert$7(a.length<=PACKET_DATA_SIZE$2,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE$2}`),a}get keys(){return assert$7(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$7(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$7(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength$2(r);let o=[];for(let a=0;a<n;a++){const c=guardedSplice(r,0,SIGNATURE_LENGTH_IN_BYTES$2);o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction$2.populate(Message$2.from(r),o)}static populate(e,r=[]){const n=new Transaction$2;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE$2)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};n.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:n.signatures.some(gr=>gr.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});n.instructions.push(new TransactionInstruction$2({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}}new PublicKey$2("SysvarC1ock11111111111111111111111111111111");new PublicKey$2("SysvarEpochSchedu1e111111111111111111111111");new PublicKey$2("Sysvar1nstructions1111111111111111111111111");const SYSVAR_RECENT_BLOCKHASHES_PUBKEY$2=new PublicKey$2("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY$2=new PublicKey$2("SysvarRent111111111111111111111111111111111");new PublicKey$2("SysvarRewards111111111111111111111111111111");new PublicKey$2("SysvarS1otHashes111111111111111111111111111");new PublicKey$2("SysvarS1otHistory11111111111111111111111111");new PublicKey$2("SysvarStakeHistory1111111111111111111111111");function encodeData$2(t,e){const r=t.layout.span>=0?t.layout.span:getAlloc$2(t,e),n=bufferPolyfill.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}const FeeCalculatorLayout$2=nu64$1("lamportsPerSignature"),NonceAccountLayout$2=struct$3([u32$2("version"),u32$2("state"),publicKey$4("authorizedPubkey"),publicKey$4("nonce"),struct$3([FeeCalculatorLayout$2],"feeCalculator")]),NONCE_ACCOUNT_LENGTH$2=NonceAccountLayout$2.span,encodeDecode$3=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},bigInt$3=t=>e=>{const r=blob$2(t,e),{encode:n,decode:o}=encodeDecode$3(r),a=r;return a.decode=(c,u)=>{const gr=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(gr))},a.encode=(c,u,gr)=>{const br=toBufferLE_1(c,t);return n(br,u,gr)},a},u64$4=bigInt$3(8),SYSTEM_INSTRUCTION_LAYOUTS$2=Object.freeze({Create:{index:0,layout:struct$3([u32$2("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},Assign:{index:1,layout:struct$3([u32$2("instruction"),publicKey$4("programId")])},Transfer:{index:2,layout:struct$3([u32$2("instruction"),u64$4("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$2("instruction"),publicKey$4("base"),rustString$2("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$2("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$2("instruction"),publicKey$4("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$2("instruction"),publicKey$4("authorized")])},Allocate:{index:8,layout:struct$3([u32$2("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$2("instruction"),publicKey$4("base"),rustString$2("seed"),ns64$1("space"),publicKey$4("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$2("instruction"),publicKey$4("base"),rustString$2("seed"),publicKey$4("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$2("instruction"),u64$4("lamports"),rustString$2("seed"),publicKey$4("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$2("instruction")])}});class SystemProgram$2{constructor(){}static createAccount(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$2.Create,n=encodeData$2(r,{lamports:e.lamports,space:e.space,programId:toBuffer$2(e.programId.toBuffer())});return new TransactionInstruction$2({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$2.TransferWithSeed;r=encodeData$2(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$2(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$2.Transfer;r=encodeData$2(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction$2({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$2.AssignWithSeed;r=encodeData$2(o,{base:toBuffer$2(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$2(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$2.Assign;r=encodeData$2(o,{programId:toBuffer$2(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$2({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$2.CreateWithSeed,n=encodeData$2(r,{base:toBuffer$2(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$2(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction$2({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){const r=new Transaction$2;"basePubkey"in e&&"seed"in e?r.add(SystemProgram$2.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$2,programId:this.programId})):r.add(SystemProgram$2.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$2,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$2.InitializeNonceAccount,n=encodeData$2(r,{authorized:toBuffer$2(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$2,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction$2(o)}static nonceAdvance(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$2.AdvanceNonceAccount,n=encodeData$2(r),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction$2(o)}static nonceWithdraw(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$2.WithdrawNonceAccount,n=encodeData$2(r,{lamports:e.lamports});return new TransactionInstruction$2({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$2.AuthorizeNonceAccount,n=encodeData$2(r,{authorized:toBuffer$2(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction$2({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$2.AllocateWithSeed;r=encodeData$2(o,{base:toBuffer$2(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$2(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$2.Allocate;r=encodeData$2(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$2({keys:n,programId:this.programId,data:r})}}SystemProgram$2.programId=new PublicKey$2("11111111111111111111111111111111");new PublicKey$2("BPFLoader2111111111111111111111111111111111");struct$3([u32$2("typeIndex"),u64$4("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$4(),offset$1(u8$2(),-1),"authority")]);const PublicKeyFromString$2=coerce(instance(PublicKey$2),string$1(),t=>new PublicKey$2(t)),RawAccountDataResult$2=tuple$1([string$1(),literal("base64")]),BufferFromRawAccountData$2=coerce(instance(bufferPolyfill.Buffer),RawAccountDataResult$2,t=>bufferPolyfill.Buffer.from(t[0],"base64"));function createRpcResult$2(t){return union([type({jsonrpc:literal("2.0"),id:string$1(),result:t}),type({jsonrpc:literal("2.0"),id:string$1(),error:type({code:unknown(),message:string$1(),data:optional(any())})})])}const UnknownRpcResult$2=createRpcResult$2(unknown());function jsonRpcResult$2(t){return coerce(createRpcResult$2(t),UnknownRpcResult$2,e=>"error"in e?e:{...e,result:create(e.result,t)})}function jsonRpcResultAndContext$2(t){return jsonRpcResult$2(type({context:type({slot:number()}),value:t}))}function notificationResultAndContext$2(t){return type({context:type({slot:number()}),value:t})}const GetInflationGovernorResult$2=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()});jsonRpcResult$2(array$1(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number(),commission:optional(nullable(number()))}))));const GetRecentPrioritizationFeesResult$2=array$1(type({slot:number(),prioritizationFee:number()})),GetInflationRateResult$2=type({total:number(),validator:number(),foundation:number(),epoch:number()}),GetEpochInfoResult$2=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult$2=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult$2=record(string$1(),array$1(number())),TransactionErrorResult$2=nullable(union([type({}),string$1()])),SignatureStatusResult$2=type({err:TransactionErrorResult$2}),SignatureReceivedResult$2=literal("receivedSignature");type({"solana-core":string$1(),"feature-set":optional(number())});const ParsedInstructionStruct=type({program:string$1(),programId:PublicKeyFromString$2,parsed:unknown()}),PartiallyDecodedInstructionStruct=type({programId:PublicKeyFromString$2,accounts:array$1(PublicKeyFromString$2),data:string$1()});jsonRpcResultAndContext$2(type({err:nullable(union([type({}),string$1()])),logs:nullable(array$1(string$1())),accounts:optional(nullable(array$1(nullable(type({executable:boolean(),owner:string$1(),lamports:number(),data:array$1(string$1()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string$1(),data:tuple$1([string$1(),literal("base64")])}))),innerInstructions:optional(nullable(array$1(type({index:number(),instructions:array$1(union([ParsedInstructionStruct,PartiallyDecodedInstructionStruct]))}))))}));jsonRpcResultAndContext$2(type({byIdentity:record(string$1(),array$1(number())),range:type({firstSlot:number(),lastSlot:number()})}));jsonRpcResult$2(GetInflationGovernorResult$2);jsonRpcResult$2(GetInflationRateResult$2);jsonRpcResult$2(GetRecentPrioritizationFeesResult$2);jsonRpcResult$2(GetEpochInfoResult$2);jsonRpcResult$2(GetEpochScheduleResult$2);jsonRpcResult$2(GetLeaderScheduleResult$2);jsonRpcResult$2(number());jsonRpcResultAndContext$2(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array$1(PublicKeyFromString$2)}));const TokenAmountResult$2=type({amount:string$1(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string$1())});jsonRpcResultAndContext$2(array$1(type({address:PublicKeyFromString$2,amount:string$1(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string$1())})));jsonRpcResultAndContext$2(array$1(type({pubkey:PublicKeyFromString$2,account:type({executable:boolean(),owner:PublicKeyFromString$2,lamports:number(),data:BufferFromRawAccountData$2,rentEpoch:number()})})));const ParsedAccountDataResult$2=type({program:string$1(),parsed:unknown(),space:number()});jsonRpcResultAndContext$2(array$1(type({pubkey:PublicKeyFromString$2,account:type({executable:boolean(),owner:PublicKeyFromString$2,lamports:number(),data:ParsedAccountDataResult$2,rentEpoch:number()})})));jsonRpcResultAndContext$2(array$1(type({lamports:number(),address:PublicKeyFromString$2})));const AccountInfoResult$2=type({executable:boolean(),owner:PublicKeyFromString$2,lamports:number(),data:BufferFromRawAccountData$2,rentEpoch:number()});type({pubkey:PublicKeyFromString$2,account:AccountInfoResult$2});const ParsedOrRawAccountData$2=coerce(union([instance(bufferPolyfill.Buffer),ParsedAccountDataResult$2]),union([RawAccountDataResult$2,ParsedAccountDataResult$2]),t=>Array.isArray(t)?create(t,BufferFromRawAccountData$2):t),ParsedAccountInfoResult$2=type({executable:boolean(),owner:PublicKeyFromString$2,lamports:number(),data:ParsedOrRawAccountData$2,rentEpoch:number()});type({pubkey:PublicKeyFromString$2,account:ParsedAccountInfoResult$2});type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()});jsonRpcResult$2(array$1(type({signature:string$1(),slot:number(),err:TransactionErrorResult$2,memo:nullable(string$1()),blockTime:optional(nullable(number()))})));jsonRpcResult$2(array$1(type({signature:string$1(),slot:number(),err:TransactionErrorResult$2,memo:nullable(string$1()),blockTime:optional(nullable(number()))})));type({subscription:number(),result:notificationResultAndContext$2(AccountInfoResult$2)});const ProgramAccountInfoResult$2=type({pubkey:PublicKeyFromString$2,account:AccountInfoResult$2});type({subscription:number(),result:notificationResultAndContext$2(ProgramAccountInfoResult$2)});const SlotInfoResult$2=type({parent:number(),slot:number(),root:number()});type({subscription:number(),result:SlotInfoResult$2});const SlotUpdateResult$2=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string$1()})]);type({subscription:number(),result:SlotUpdateResult$2});type({subscription:number(),result:notificationResultAndContext$2(union([SignatureStatusResult$2,SignatureReceivedResult$2]))});type({subscription:number(),result:number()});type({pubkey:string$1(),gossip:nullable(string$1()),tpu:nullable(string$1()),rpc:nullable(string$1()),version:nullable(string$1())});const VoteAccountInfoResult$2=type({votePubkey:string$1(),nodePubkey:string$1(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array$1(tuple$1([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())});jsonRpcResult$2(type({current:array$1(VoteAccountInfoResult$2),delinquent:array$1(VoteAccountInfoResult$2)}));const ConfirmationStatus$2=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse$2=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult$2,confirmationStatus:optional(ConfirmationStatus$2)});jsonRpcResultAndContext$2(array$1(nullable(SignatureStatusResponse$2)));jsonRpcResult$2(number());const AddressTableLookupStruct$2=type({accountKey:PublicKeyFromString$2,writableIndexes:array$1(number()),readonlyIndexes:array$1(number())}),ConfirmedTransactionResult$2=type({signatures:array$1(string$1()),message:type({accountKeys:array$1(string$1()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array$1(type({accounts:array$1(number()),data:string$1(),programIdIndex:number()})),recentBlockhash:string$1(),addressTableLookups:optional(array$1(AddressTableLookupStruct$2))})}),AnnotatedAccountKey$2=type({pubkey:PublicKeyFromString$2,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$2=type({accountKeys:array$1(AnnotatedAccountKey$2),signatures:array$1(string$1())}),ParsedInstructionResult$2=type({parsed:unknown(),program:string$1(),programId:PublicKeyFromString$2}),RawInstructionResult$2=type({accounts:array$1(PublicKeyFromString$2),data:string$1(),programId:PublicKeyFromString$2}),InstructionResult$2=union([RawInstructionResult$2,ParsedInstructionResult$2]),UnknownInstructionResult$2=union([type({parsed:unknown(),program:string$1(),programId:string$1()}),type({accounts:array$1(string$1()),data:string$1(),programId:string$1()})]),ParsedOrRawInstruction$2=coerce(InstructionResult$2,UnknownInstructionResult$2,t=>"accounts"in t?create(t,RawInstructionResult$2):create(t,ParsedInstructionResult$2)),ParsedConfirmedTransactionResult$2=type({signatures:array$1(string$1()),message:type({accountKeys:array$1(AnnotatedAccountKey$2),instructions:array$1(ParsedOrRawInstruction$2),recentBlockhash:string$1(),addressTableLookups:optional(nullable(array$1(AddressTableLookupStruct$2)))})}),TokenBalanceResult$2=type({accountIndex:number(),mint:string$1(),owner:optional(string$1()),uiTokenAmount:TokenAmountResult$2}),LoadedAddressesResult$2=type({writable:array$1(PublicKeyFromString$2),readonly:array$1(PublicKeyFromString$2)}),ConfirmedTransactionMetaResult$2=type({err:TransactionErrorResult$2,fee:number(),innerInstructions:optional(nullable(array$1(type({index:number(),instructions:array$1(type({accounts:array$1(number()),data:string$1(),programIdIndex:number()}))})))),preBalances:array$1(number()),postBalances:array$1(number()),logMessages:optional(nullable(array$1(string$1()))),preTokenBalances:optional(nullable(array$1(TokenBalanceResult$2))),postTokenBalances:optional(nullable(array$1(TokenBalanceResult$2))),loadedAddresses:optional(LoadedAddressesResult$2),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult$2=type({err:TransactionErrorResult$2,fee:number(),innerInstructions:optional(nullable(array$1(type({index:number(),instructions:array$1(ParsedOrRawInstruction$2)})))),preBalances:array$1(number()),postBalances:array$1(number()),logMessages:optional(nullable(array$1(string$1()))),preTokenBalances:optional(nullable(array$1(TokenBalanceResult$2))),postTokenBalances:optional(nullable(array$1(TokenBalanceResult$2))),loadedAddresses:optional(LoadedAddressesResult$2),computeUnitsConsumed:optional(number())}),TransactionVersionStruct$2=union([literal(0),literal("legacy")]),RewardsResult$2=type({pubkey:string$1(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string$1()),commission:optional(nullable(number()))});jsonRpcResult$2(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number(),transactions:array$1(type({transaction:ConfirmedTransactionResult$2,meta:nullable(ConfirmedTransactionMetaResult$2),version:optional(TransactionVersionStruct$2)})),rewards:optional(array$1(RewardsResult$2)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult$2(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number(),rewards:optional(array$1(RewardsResult$2)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult$2(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number(),transactions:array$1(type({transaction:ConfirmedTransactionAccountsModeResult$2,meta:nullable(ConfirmedTransactionMetaResult$2),version:optional(TransactionVersionStruct$2)})),rewards:optional(array$1(RewardsResult$2)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult$2(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number(),transactions:array$1(type({transaction:ParsedConfirmedTransactionResult$2,meta:nullable(ParsedConfirmedTransactionMetaResult$2),version:optional(TransactionVersionStruct$2)})),rewards:optional(array$1(RewardsResult$2)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult$2(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number(),transactions:array$1(type({transaction:ConfirmedTransactionAccountsModeResult$2,meta:nullable(ParsedConfirmedTransactionMetaResult$2),version:optional(TransactionVersionStruct$2)})),rewards:optional(array$1(RewardsResult$2)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult$2(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number(),rewards:optional(array$1(RewardsResult$2)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult$2(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number(),transactions:array$1(type({transaction:ConfirmedTransactionResult$2,meta:nullable(ConfirmedTransactionMetaResult$2)})),rewards:optional(array$1(RewardsResult$2)),blockTime:nullable(number())})));jsonRpcResult$2(nullable(type({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number(),signatures:array$1(string$1()),blockTime:nullable(number())})));jsonRpcResult$2(nullable(type({slot:number(),meta:nullable(ConfirmedTransactionMetaResult$2),blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult$2,version:optional(TransactionVersionStruct$2)})));jsonRpcResult$2(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult$2,meta:nullable(ParsedConfirmedTransactionMetaResult$2),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct$2)})));jsonRpcResultAndContext$2(type({blockhash:string$1(),feeCalculator:type({lamportsPerSignature:number()})}));jsonRpcResultAndContext$2(type({blockhash:string$1(),lastValidBlockHeight:number()}));jsonRpcResultAndContext$2(boolean());const PerfSampleResult$2=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()});jsonRpcResult$2(array$1(PerfSampleResult$2));jsonRpcResultAndContext$2(nullable(type({feeCalculator:type({lamportsPerSignature:number()})})));jsonRpcResult$2(string$1());jsonRpcResult$2(string$1());const LogsResult$2=type({err:TransactionErrorResult$2,logs:array$1(string$1()),signature:string$1()});type({result:notificationResultAndContext$2(LogsResult$2),subscription:number()});Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$2("instruction"),u64$4("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$2("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$2("instruction"),u64$4(),seq(publicKey$4(),offset$1(u32$2(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$2("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$2("instruction")])}});new PublicKey$2("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$2("units"),u32$2("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$2("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$2("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$4("microLamports")])}});new PublicKey$2("ComputeBudget111111111111111111111111111111");struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);new PublicKey$2("Ed25519SigVerify111111111111111111111111111");secp256k1.utils.isValidPrivateKey;secp256k1.getPublicKey;struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);new PublicKey$2("KeccakSecp256k11111111111111111111111111111");var _Lockup;new PublicKey$2("StakeConfig11111111111111111111111111111111");class Lockup$2{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}_Lockup=Lockup$2;Lockup$2.default=new _Lockup(0,0,PublicKey$2.default);Object.freeze({Initialize:{index:0,layout:struct$3([u32$2("instruction"),authorized$2(),lockup$2()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$4("newAuthorized"),u32$2("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$2("instruction")])},Split:{index:3,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$2("instruction")])},Merge:{index:7,layout:struct$3([u32$2("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$2("instruction"),publicKey$4("newAuthorized"),u32$2("stakeAuthorizationType"),rustString$2("authoritySeed"),publicKey$4("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});new PublicKey$2("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$2("instruction"),voteInit$2()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$4("newAuthorized"),u32$2("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},UpdateValidatorIdentity:{index:4,layout:struct$3([u32$2("instruction")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$2("instruction"),voteAuthorizeWithSeedArgs$2()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});new PublicKey$2("Vote111111111111111111111111111111111111111");new PublicKey$2("Va1idator1nfo111111111111111111111111111111");type({name:string$1(),website:optional(string$1()),details:optional(string$1()),iconUrl:optional(string$1()),keybaseUsername:optional(string$1())});new PublicKey$2("Vote111111111111111111111111111111111111111");struct$3([publicKey$4("nodePubkey"),publicKey$4("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$2("confirmationCount")]),offset$1(u32$2(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$4("authorizedVoter")]),offset$1(u32$2(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$4("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$2(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);var beet={},collections={},types$6={},assert$6={exports:{}},errors$3={},util$3={},types$5={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==o||c.enumerable!==!0)return!1}return!0},hasSymbols$4=shams$1,shams=function(){return hasSymbols$4()&&!!Symbol.toStringTag},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$3=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={foo:{}},$Object=Object,hasProto$1=function(){return{__proto__:test}.foo===test.foo&&!({__proto__:null}instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$6=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},slicy=function(e,r){for(var n=[],o=r||0,a=0;o<e.length;o+=1,a+=1)n[a]=e[o];return n},joiny=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},implementation$a=function(e){var r=this;if(typeof r!="function"||toStr$6.apply(r)!==funcType)throw new TypeError(ERROR_MESSAGE+r);for(var n=slicy(arguments,1),o,a=function(){if(this instanceof o){var _r=r.apply(this,concatty(n,arguments));return Object(_r)===_r?_r:this}return r.apply(e,concatty(n,arguments))},c=max(0,r.length-n.length),u=[],gr=0;gr<c;gr++)u[gr]="$"+gr;if(o=Function("binder","return function ("+joiny(u,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var br=function(){};br.prototype=r.prototype,o.prototype=new br,br.prototype=null}return o},implementation$9=implementation$a,functionBind=Function.prototype.bind||implementation$9,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call,$hasOwn),undefined$1,$SyntaxError$1=SyntaxError,$Function=Function,$TypeError$2=TypeError,getEvalledConstructor=function(t){try{return $Function('"use strict"; return ('+t+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$2=hasSymbols$3(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(t){return t.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$2?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(t){var errorProto=getProto$1(getProto$1(t));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function t(e){var r;if(e==="%AsyncFunction%")r=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")r=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&getProto$1&&(r=getProto$1(o.prototype))}return INTRINSICS[e]=r,r},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$1=hasown,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var r=$strSlice(e,0,1),n=$strSlice(e,-1);if(r==="%"&&n!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var o=[];return $replace(e,rePropName,function(a,c,u,gr){o[o.length]=u?$replace(gr,reEscapeChar,"$1"):c||a}),o},getBaseIntrinsic=function(e,r){var n=e,o;if(hasOwn$1(LEGACY_ALIASES,n)&&(o=LEGACY_ALIASES[n],n="%"+o[0]+"%"),hasOwn$1(INTRINSICS,n)){var a=INTRINSICS[n];if(a===needsEval&&(a=doEval(n)),typeof a>"u"&&!r)throw new $TypeError$2("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:a}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,r){if(typeof e!="string"||e.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=stringToPath(e),o=n.length>0?n[0]:"",a=getBaseIntrinsic("%"+o+"%",r),c=a.name,u=a.value,gr=!1,br=a.alias;br&&(o=br[0],$spliceApply(n,$concat([0,1],br)));for(var _r=1,Ar=!0;_r<n.length;_r+=1){var vr=n[_r],Tr=$strSlice(vr,0,1),Or=$strSlice(vr,-1);if((Tr==='"'||Tr==="'"||Tr==="`"||Or==='"'||Or==="'"||Or==="`")&&Tr!==Or)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((vr==="constructor"||!Ar)&&(gr=!0),o+="."+vr,c="%"+o+"%",hasOwn$1(INTRINSICS,c))u=INTRINSICS[c];else if(u!=null){if(!(vr in u)){if(!r)throw new $TypeError$2("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&_r+1>=n.length){var Ir=$gOPD$1(u,vr);Ar=!!Ir,Ar&&"get"in Ir&&!("originalValue"in Ir.get)?u=Ir.get:u=u[vr]}else Ar=hasOwn$1(u,vr),u=u[vr];Ar&&!gr&&(INTRINSICS[c]=u)}}return u},callBind$4={exports:{}},GetIntrinsic$4=getIntrinsic,$defineProperty$1=GetIntrinsic$4("%Object.defineProperty%",!0),hasPropertyDescriptors$1=function(){if($defineProperty$1)try{return $defineProperty$1({},"a",{value:1}),!0}catch{return!1}return!1};hasPropertyDescriptors$1.hasArrayLengthDefineBug=function(){if(!hasPropertyDescriptors$1())return null;try{return $defineProperty$1([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors$1,GetIntrinsic$3=getIntrinsic,$gOPD=GetIntrinsic$3("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,hasPropertyDescriptors=hasPropertyDescriptors_1(),GetIntrinsic$2=getIntrinsic,$defineProperty=hasPropertyDescriptors&&GetIntrinsic$2("%Object.defineProperty%",!0);if($defineProperty)try{$defineProperty({},"a",{value:1})}catch{$defineProperty=!1}var $SyntaxError=GetIntrinsic$2("%SyntaxError%"),$TypeError$1=GetIntrinsic$2("%TypeError%"),gopd=gopd$1,defineDataProperty$1=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,gr=!!gopd&&gopd(e,r);if($defineProperty)$defineProperty(e,r,{configurable:c===null&&gr?gr.configurable:!c,enumerable:o===null&&gr?gr.enumerable:!o,value:n,writable:a===null&&gr?gr.writable:!a});else if(u||!o&&!a&&!c)e[r]=n;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},GetIntrinsic$1=getIntrinsic,define$4=defineDataProperty$1,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=GetIntrinsic$1("%TypeError%"),$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function(e,r){if(typeof e!="function")throw new $TypeError("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||$floor(r)!==r)throw new $TypeError("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,a=!0;if("length"in e&&gOPD$1){var c=gOPD$1(e,"length");c&&!c.configurable&&(o=!1),c&&!c.writable&&(a=!1)}return(o||a||!n)&&(hasDescriptors?define$4(e,"length",r,!0,!0):define$4(e,"length",r)),e};(function(t){var e=functionBind,r=getIntrinsic,n=setFunctionLength,o=r("%TypeError%"),a=r("%Function.prototype.apply%"),c=r("%Function.prototype.call%"),u=r("%Reflect.apply%",!0)||e.call(c,a),gr=r("%Object.defineProperty%",!0),br=r("%Math.max%");if(gr)try{gr({},"a",{value:1})}catch{gr=null}t.exports=function(vr){if(typeof vr!="function")throw new o("a function is required");var Tr=u(e,c,arguments);return n(Tr,1+br(0,vr.length-(arguments.length-1)),!0)};var _r=function(){return u(e,a,arguments)};gr?gr(t.exports,"apply",{value:_r}):t.exports.apply=_r})(callBind$4);var GetIntrinsic=getIntrinsic,callBind$3=callBind$4.exports,$indexOf$1=callBind$3(GetIntrinsic("String.prototype.indexOf")),callBound$3=function(e,r){var n=GetIntrinsic(e,!!r);return typeof n=="function"&&$indexOf$1(e,".prototype.")>-1?callBind$3(n):n},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$1=callBound$2("Object.prototype.toString"),isStandardArguments=function(e){return hasToStringTag$3&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$1(e)==="[object Arguments]"},isLegacyArguments=function(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$toString$1(e)!=="[object Array]"&&$toString$1(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$2=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$5=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(e){if(typeof e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(e)))return!0;if(!hasToStringTag$2){var r=toStr$5.call(e);return r==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var n=getGeneratorFunc();GeneratorFunction=n?getProto(n):!1}return getProto(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(t){t!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(e){try{var r=fnToStr.call(e);return constructorRegex.test(r)}catch{return!1}},tryFunctionObject=function(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$4=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$4.call(all)===toStr$4.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=toStr$4.call(e);return(r===ddaClass||r===ddaClass2||r===ddaClass3||r===objectClass)&&e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(r){if(r!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var r=toStr$4.call(e);return r!==fnClass&&r!==genClass&&!/^\[object HTML/.test(r)?!1:tryFunctionObject(e)},isCallable=isCallable$1,toStr$3=Object.prototype.toString,hasOwnProperty$2=Object.prototype.hasOwnProperty,forEachArray=function(e,r,n){for(var o=0,a=e.length;o<a;o++)hasOwnProperty$2.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},forEachString=function(e,r,n){for(var o=0,a=e.length;o<a;o++)n==null?r(e.charAt(o),o,e):r.call(n,e.charAt(o),o,e)},forEachObject=function(e,r,n){for(var o in e)hasOwnProperty$2.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},forEach$1=function(e,r,n){if(!isCallable(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),toStr$3.call(e)==="[object Array]"?forEachArray(e,r,o):typeof e=="string"?forEachString(e,r,o):forEachObject(e,r,o)},forEach_1=forEach$1,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var e=[],r=0;r<possibleNames.length;r++)typeof g$2[possibleNames[r]]=="function"&&(e[e.length]=possibleNames[r]);return e},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind$2=callBind$4.exports,callBound$1=callBound$3,gOPD=gopd$1,$toString=callBound$1("Object.prototype.toString"),hasToStringTag=shams(),g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$1("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},cache$1={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(t){var e=new g$1[t];if(Symbol.toStringTag in e){var r=getPrototypeOf(e),n=gOPD(r,Symbol.toStringTag);if(!n){var o=getPrototypeOf(r);n=gOPD(o,Symbol.toStringTag)}cache$1["$"+t]=callBind$2(n.get)}}):forEach(typedArrays,function(t){var e=new g$1[t],r=e.slice||e.set;r&&(cache$1["$"+t]=callBind$2(r))});var tryTypedArrays=function(e){var r=!1;return forEach(cache$1,function(n,o){if(!r)try{"$"+n(e)===o&&(r=$slice(o,1))}catch{}}),r},trySlices=function(e){var r=!1;return forEach(cache$1,function(n,o){if(!r)try{n(e),r=$slice(o,1)}catch{}}),r},whichTypedArray$1=function(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag){var r=$slice($toString(e),8,-1);return $indexOf(typedArrays,r)>-1?r:r!=="Object"?!1:trySlices(e)}return gOPD?tryTypedArrays(e):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(e){return!!whichTypedArray(e)};(function(t){var e=isArguments$2,r=isGeneratorFunction,n=whichTypedArray$1,o=isTypedArray;function a(Sn){return Sn.call.bind(Sn)}var c=typeof BigInt<"u",u=typeof Symbol<"u",gr=a(Object.prototype.toString),br=a(Number.prototype.valueOf),_r=a(String.prototype.valueOf),Ar=a(Boolean.prototype.valueOf);if(c)var vr=a(BigInt.prototype.valueOf);if(u)var Tr=a(Symbol.prototype.valueOf);function Or(Sn,Bn){if(typeof Sn!="object")return!1;try{return Bn(Sn),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=o;function Ir(Sn){return typeof Promise<"u"&&Sn instanceof Promise||Sn!==null&&typeof Sn=="object"&&typeof Sn.then=="function"&&typeof Sn.catch=="function"}t.isPromise=Ir;function xr(Sn){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Sn):o(Sn)||Jr(Sn)}t.isArrayBufferView=xr;function Lr(Sn){return n(Sn)==="Uint8Array"}t.isUint8Array=Lr;function Fr(Sn){return n(Sn)==="Uint8ClampedArray"}t.isUint8ClampedArray=Fr;function Mr(Sn){return n(Sn)==="Uint16Array"}t.isUint16Array=Mr;function Hr(Sn){return n(Sn)==="Uint32Array"}t.isUint32Array=Hr;function Vr(Sn){return n(Sn)==="Int8Array"}t.isInt8Array=Vr;function Kr(Sn){return n(Sn)==="Int16Array"}t.isInt16Array=Kr;function jr(Sn){return n(Sn)==="Int32Array"}t.isInt32Array=jr;function qr(Sn){return n(Sn)==="Float32Array"}t.isFloat32Array=qr;function tn(Sn){return n(Sn)==="Float64Array"}t.isFloat64Array=tn;function en(Sn){return n(Sn)==="BigInt64Array"}t.isBigInt64Array=en;function sn(Sn){return n(Sn)==="BigUint64Array"}t.isBigUint64Array=sn;function cn(Sn){return gr(Sn)==="[object Map]"}cn.working=typeof Map<"u"&&cn(new Map);function Ur(Sn){return typeof Map>"u"?!1:cn.working?cn(Sn):Sn instanceof Map}t.isMap=Ur;function Rr(Sn){return gr(Sn)==="[object Set]"}Rr.working=typeof Set<"u"&&Rr(new Set);function Pr(Sn){return typeof Set>"u"?!1:Rr.working?Rr(Sn):Sn instanceof Set}t.isSet=Pr;function Dr(Sn){return gr(Sn)==="[object WeakMap]"}Dr.working=typeof WeakMap<"u"&&Dr(new WeakMap);function Yr(Sn){return typeof WeakMap>"u"?!1:Dr.working?Dr(Sn):Sn instanceof WeakMap}t.isWeakMap=Yr;function Zr(Sn){return gr(Sn)==="[object WeakSet]"}Zr.working=typeof WeakSet<"u"&&Zr(new WeakSet);function Xr(Sn){return Zr(Sn)}t.isWeakSet=Xr;function nn(Sn){return gr(Sn)==="[object ArrayBuffer]"}nn.working=typeof ArrayBuffer<"u"&&nn(new ArrayBuffer);function Gr(Sn){return typeof ArrayBuffer>"u"?!1:nn.working?nn(Sn):Sn instanceof ArrayBuffer}t.isArrayBuffer=Gr;function Nr(Sn){return gr(Sn)==="[object DataView]"}Nr.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Nr(new DataView(new ArrayBuffer(1),0,1));function Jr(Sn){return typeof DataView>"u"?!1:Nr.working?Nr(Sn):Sn instanceof DataView}t.isDataView=Jr;var fn=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function An(Sn){return gr(Sn)==="[object SharedArrayBuffer]"}function wn(Sn){return typeof fn>"u"?!1:(typeof An.working>"u"&&(An.working=An(new fn)),An.working?An(Sn):Sn instanceof fn)}t.isSharedArrayBuffer=wn;function yn(Sn){return gr(Sn)==="[object AsyncFunction]"}t.isAsyncFunction=yn;function mn(Sn){return gr(Sn)==="[object Map Iterator]"}t.isMapIterator=mn;function _n(Sn){return gr(Sn)==="[object Set Iterator]"}t.isSetIterator=_n;function In(Sn){return gr(Sn)==="[object Generator]"}t.isGeneratorObject=In;function Nn(Sn){return gr(Sn)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=Nn;function ln(Sn){return Or(Sn,br)}t.isNumberObject=ln;function hn(Sn){return Or(Sn,_r)}t.isStringObject=hn;function gn(Sn){return Or(Sn,Ar)}t.isBooleanObject=gn;function Rn(Sn){return c&&Or(Sn,vr)}t.isBigIntObject=Rn;function Cn(Sn){return u&&Or(Sn,Tr)}t.isSymbolObject=Cn;function kn(Sn){return ln(Sn)||hn(Sn)||gn(Sn)||Rn(Sn)||Cn(Sn)}t.isBoxedPrimitive=kn;function Un(Sn){return typeof Uint8Array<"u"&&(Gr(Sn)||wn(Sn))}t.isAnyArrayBuffer=Un,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Sn){Object.defineProperty(t,Sn,{enumerable:!1,value:function(){throw new Error(Sn+" is not supported in userland")}})})})(types$5);var isBuffer=function(e){return e instanceof dist$3.Buffer},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};(function(t){var e=Object.getOwnPropertyDescriptors||function(Jr){for(var fn=Object.keys(Jr),An={},wn=0;wn<fn.length;wn++)An[fn[wn]]=Object.getOwnPropertyDescriptor(Jr,fn[wn]);return An},r=/%[sdj%]/g;t.format=function(Nr){if(!Vr(Nr)){for(var Jr=[],fn=0;fn<arguments.length;fn++)Jr.push(c(arguments[fn]));return Jr.join(" ")}for(var fn=1,An=arguments,wn=An.length,yn=String(Nr).replace(r,function(_n){if(_n==="%%")return"%";if(fn>=wn)return _n;switch(_n){case"%s":return String(An[fn++]);case"%d":return Number(An[fn++]);case"%j":try{return JSON.stringify(An[fn++])}catch{return"[Circular]"}default:return _n}}),mn=An[fn];fn<wn;mn=An[++fn])Fr(mn)||!tn(mn)?yn+=" "+mn:yn+=" "+c(mn);return yn},t.deprecate=function(Nr,Jr){if(typeof dist$3.process<"u"&&dist$3.process.noDeprecation===!0)return Nr;if(typeof dist$3.process>"u")return function(){return t.deprecate(Nr,Jr).apply(this,arguments)};var fn=!1;function An(){if(!fn){if(dist$3.process.throwDeprecation)throw new Error(Jr);dist$3.process.traceDeprecation?console.trace(Jr):console.error(Jr),fn=!0}return Nr.apply(this,arguments)}return An};var n={},o=/^$/;if({}.NODE_DEBUG){var a={}.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}t.debuglog=function(Nr){if(Nr=Nr.toUpperCase(),!n[Nr])if(o.test(Nr)){var Jr=dist$3.process.pid;n[Nr]=function(){var fn=t.format.apply(t,arguments);console.error("%s %d: %s",Nr,Jr,fn)}}else n[Nr]=function(){};return n[Nr]};function c(Nr,Jr){var fn={seen:[],stylize:gr};return arguments.length>=3&&(fn.depth=arguments[2]),arguments.length>=4&&(fn.colors=arguments[3]),Lr(Jr)?fn.showHidden=Jr:Jr&&t._extend(fn,Jr),jr(fn.showHidden)&&(fn.showHidden=!1),jr(fn.depth)&&(fn.depth=2),jr(fn.colors)&&(fn.colors=!1),jr(fn.customInspect)&&(fn.customInspect=!0),fn.colors&&(fn.stylize=u),_r(fn,Nr,fn.depth)}t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(Nr,Jr){var fn=c.styles[Jr];return fn?"\x1B["+c.colors[fn][0]+"m"+Nr+"\x1B["+c.colors[fn][1]+"m":Nr}function gr(Nr,Jr){return Nr}function br(Nr){var Jr={};return Nr.forEach(function(fn,An){Jr[fn]=!0}),Jr}function _r(Nr,Jr,fn){if(Nr.customInspect&&Jr&&cn(Jr.inspect)&&Jr.inspect!==t.inspect&&!(Jr.constructor&&Jr.constructor.prototype===Jr)){var An=Jr.inspect(fn,Nr);return Vr(An)||(An=_r(Nr,An,fn)),An}var wn=Ar(Nr,Jr);if(wn)return wn;var yn=Object.keys(Jr),mn=br(yn);if(Nr.showHidden&&(yn=Object.getOwnPropertyNames(Jr)),sn(Jr)&&(yn.indexOf("message")>=0||yn.indexOf("description")>=0))return vr(Jr);if(yn.length===0){if(cn(Jr)){var _n=Jr.name?": "+Jr.name:"";return Nr.stylize("[Function"+_n+"]","special")}if(qr(Jr))return Nr.stylize(RegExp.prototype.toString.call(Jr),"regexp");if(en(Jr))return Nr.stylize(Date.prototype.toString.call(Jr),"date");if(sn(Jr))return vr(Jr)}var In="",Nn=!1,ln=["{","}"];if(xr(Jr)&&(Nn=!0,ln=["[","]"]),cn(Jr)){var hn=Jr.name?": "+Jr.name:"";In=" [Function"+hn+"]"}if(qr(Jr)&&(In=" "+RegExp.prototype.toString.call(Jr)),en(Jr)&&(In=" "+Date.prototype.toUTCString.call(Jr)),sn(Jr)&&(In=" "+vr(Jr)),yn.length===0&&(!Nn||Jr.length==0))return ln[0]+In+ln[1];if(fn<0)return qr(Jr)?Nr.stylize(RegExp.prototype.toString.call(Jr),"regexp"):Nr.stylize("[Object]","special");Nr.seen.push(Jr);var gn;return Nn?gn=Tr(Nr,Jr,fn,mn,yn):gn=yn.map(function(Rn){return Or(Nr,Jr,fn,mn,Rn,Nn)}),Nr.seen.pop(),Ir(gn,In,ln)}function Ar(Nr,Jr){if(jr(Jr))return Nr.stylize("undefined","undefined");if(Vr(Jr)){var fn="'"+JSON.stringify(Jr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Nr.stylize(fn,"string")}if(Hr(Jr))return Nr.stylize(""+Jr,"number");if(Lr(Jr))return Nr.stylize(""+Jr,"boolean");if(Fr(Jr))return Nr.stylize("null","null")}function vr(Nr){return"["+Error.prototype.toString.call(Nr)+"]"}function Tr(Nr,Jr,fn,An,wn){for(var yn=[],mn=0,_n=Jr.length;mn<_n;++mn)Zr(Jr,String(mn))?yn.push(Or(Nr,Jr,fn,An,String(mn),!0)):yn.push("");return wn.forEach(function(In){In.match(/^\d+$/)||yn.push(Or(Nr,Jr,fn,An,In,!0))}),yn}function Or(Nr,Jr,fn,An,wn,yn){var mn,_n,In;if(In=Object.getOwnPropertyDescriptor(Jr,wn)||{value:Jr[wn]},In.get?In.set?_n=Nr.stylize("[Getter/Setter]","special"):_n=Nr.stylize("[Getter]","special"):In.set&&(_n=Nr.stylize("[Setter]","special")),Zr(An,wn)||(mn="["+wn+"]"),_n||(Nr.seen.indexOf(In.value)<0?(Fr(fn)?_n=_r(Nr,In.value,null):_n=_r(Nr,In.value,fn-1),_n.indexOf(`
`)>-1&&(yn?_n=_n.split(`
`).map(function(Nn){return"  "+Nn}).join(`
`).slice(2):_n=`
`+_n.split(`
`).map(function(Nn){return"   "+Nn}).join(`
`))):_n=Nr.stylize("[Circular]","special")),jr(mn)){if(yn&&wn.match(/^\d+$/))return _n;mn=JSON.stringify(""+wn),mn.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(mn=mn.slice(1,-1),mn=Nr.stylize(mn,"name")):(mn=mn.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),mn=Nr.stylize(mn,"string"))}return mn+": "+_n}function Ir(Nr,Jr,fn){var An=Nr.reduce(function(wn,yn){return yn.indexOf(`
`)>=0,wn+yn.replace(/\u001b\[\d\d?m/g,"").length+1},0);return An>60?fn[0]+(Jr===""?"":Jr+`
 `)+" "+Nr.join(`,
  `)+" "+fn[1]:fn[0]+Jr+" "+Nr.join(", ")+" "+fn[1]}t.types=types$5;function xr(Nr){return Array.isArray(Nr)}t.isArray=xr;function Lr(Nr){return typeof Nr=="boolean"}t.isBoolean=Lr;function Fr(Nr){return Nr===null}t.isNull=Fr;function Mr(Nr){return Nr==null}t.isNullOrUndefined=Mr;function Hr(Nr){return typeof Nr=="number"}t.isNumber=Hr;function Vr(Nr){return typeof Nr=="string"}t.isString=Vr;function Kr(Nr){return typeof Nr=="symbol"}t.isSymbol=Kr;function jr(Nr){return Nr===void 0}t.isUndefined=jr;function qr(Nr){return tn(Nr)&&Rr(Nr)==="[object RegExp]"}t.isRegExp=qr,t.types.isRegExp=qr;function tn(Nr){return typeof Nr=="object"&&Nr!==null}t.isObject=tn;function en(Nr){return tn(Nr)&&Rr(Nr)==="[object Date]"}t.isDate=en,t.types.isDate=en;function sn(Nr){return tn(Nr)&&(Rr(Nr)==="[object Error]"||Nr instanceof Error)}t.isError=sn,t.types.isNativeError=sn;function cn(Nr){return typeof Nr=="function"}t.isFunction=cn;function Ur(Nr){return Nr===null||typeof Nr=="boolean"||typeof Nr=="number"||typeof Nr=="string"||typeof Nr=="symbol"||typeof Nr>"u"}t.isPrimitive=Ur,t.isBuffer=isBuffer;function Rr(Nr){return Object.prototype.toString.call(Nr)}function Pr(Nr){return Nr<10?"0"+Nr.toString(10):Nr.toString(10)}var Dr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Yr(){var Nr=new Date,Jr=[Pr(Nr.getHours()),Pr(Nr.getMinutes()),Pr(Nr.getSeconds())].join(":");return[Nr.getDate(),Dr[Nr.getMonth()],Jr].join(" ")}t.log=function(){console.log("%s - %s",Yr(),t.format.apply(t,arguments))},t.inherits=inherits_browser.exports,t._extend=function(Nr,Jr){if(!Jr||!tn(Jr))return Nr;for(var fn=Object.keys(Jr),An=fn.length;An--;)Nr[fn[An]]=Jr[fn[An]];return Nr};function Zr(Nr,Jr){return Object.prototype.hasOwnProperty.call(Nr,Jr)}var Xr=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Jr){if(typeof Jr!="function")throw new TypeError('The "original" argument must be of type Function');if(Xr&&Jr[Xr]){var fn=Jr[Xr];if(typeof fn!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn,Xr,{value:fn,enumerable:!1,writable:!1,configurable:!0}),fn}function fn(){for(var An,wn,yn=new Promise(function(In,Nn){An=In,wn=Nn}),mn=[],_n=0;_n<arguments.length;_n++)mn.push(arguments[_n]);mn.push(function(In,Nn){In?wn(In):An(Nn)});try{Jr.apply(this,mn)}catch(In){wn(In)}return yn}return Object.setPrototypeOf(fn,Object.getPrototypeOf(Jr)),Xr&&Object.defineProperty(fn,Xr,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,e(Jr))},t.promisify.custom=Xr;function nn(Nr,Jr){if(!Nr){var fn=new Error("Promise was rejected with a falsy value");fn.reason=Nr,Nr=fn}return Jr(Nr)}function Gr(Nr){if(typeof Nr!="function")throw new TypeError('The "original" argument must be of type Function');function Jr(){for(var fn=[],An=0;An<arguments.length;An++)fn.push(arguments[An]);var wn=fn.pop();if(typeof wn!="function")throw new TypeError("The last argument must be of type Function");var yn=this,mn=function(){return wn.apply(yn,arguments)};Nr.apply(this,fn).then(function(_n){dist$3.process.nextTick(mn.bind(null,null,_n))},function(_n){dist$3.process.nextTick(nn.bind(null,_n,mn))})}return Object.setPrototypeOf(Jr,Object.getPrototypeOf(Nr)),Object.defineProperties(Jr,e(Nr)),Jr}t.callbackify=Gr})(util$3);function _typeof$4(t){return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _defineProperties$3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey$5(n.key),n)}}function _createClass$3(t,e,r){return e&&_defineProperties$3(t.prototype,e),r&&_defineProperties$3(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$5(t){var e=_toPrimitive$5(t,"string");return _typeof$4(e)==="symbol"?e:String(e)}function _toPrimitive$5(t,e){if(_typeof$4(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_typeof$4(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$2(t,e)}function _setPrototypeOf$2(t,e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},_setPrototypeOf$2(t,e)}function _createSuper$1(t){var e=_isNativeReflectConstruct$1();return function(){var n=_getPrototypeOf$1(t),o;if(e){var a=_getPrototypeOf$1(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _possibleConstructorReturn$1(this,o)}}function _possibleConstructorReturn$1(t,e){if(e&&(_typeof$4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(t)}function _assertThisInitialized$2(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(t){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf$1(t)}var codes={},assert$5,util$2;function createErrorType(t,e,r){r||(r=Error);function n(a,c,u){return typeof e=="string"?e:e(a,c,u)}var o=function(a){_inherits$1(u,a);var c=_createSuper$1(u);function u(gr,br,_r){var Ar;return _classCallCheck$2(this,u),Ar=c.call(this,n(gr,br,_r)),Ar.code=t,Ar}return _createClass$3(u)}(r);codes[t]=o}function oneOf(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function startsWith(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function endsWith$1(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function includes(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}createErrorType("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(t,e,r){assert$5===void 0&&(assert$5=assert$6.exports),assert$5(typeof t=="string","'name' must be a string");var n;typeof e=="string"&&startsWith(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var o;if(endsWith$1(t," argument"))o="The ".concat(t," ").concat(n," ").concat(oneOf(e,"type"));else{var a=includes(t,".")?"property":"argument";o='The "'.concat(t,'" ').concat(a," ").concat(n," ").concat(oneOf(e,"type"))}return o+=". Received type ".concat(_typeof$4(r)),o},TypeError);createErrorType("ERR_INVALID_ARG_VALUE",function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";util$2===void 0&&(util$2=util$3);var n=util$2.inspect(e);return n.length>128&&(n="".concat(n.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(n)},TypeError);createErrorType("ERR_INVALID_RETURN_VALUE",function(t,e,r){var n;return r&&r.constructor&&r.constructor.name?n="instance of ".concat(r.constructor.name):n="type ".concat(_typeof$4(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(n,".")},TypeError);createErrorType("ERR_MISSING_ARGS",function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];assert$5===void 0&&(assert$5=assert$6.exports),assert$5(e.length>0,"At least one arg needs to be specified");var n="The ",o=e.length;switch(e=e.map(function(a){return'"'.concat(a,'"')}),o){case 1:n+="".concat(e[0]," argument");break;case 2:n+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:n+=e.slice(0,o-1).join(", "),n+=", and ".concat(e[o-1]," arguments");break}return"".concat(n," must be specified")},TypeError);errors$3.codes=codes;function ownKeys$1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(r),!0).forEach(function(n){_defineProperty$2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys$1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _defineProperty$2(t,e,r){return e=_toPropertyKey$4(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey$4(n.key),n)}}function _createClass$2(t,e,r){return e&&_defineProperties$2(t.prototype,e),r&&_defineProperties$2(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return _typeof$3(e)==="symbol"?e:String(e)}function _toPrimitive$4(t,e){if(_typeof$3(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_typeof$3(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf$1(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n=_getPrototypeOf(t),o;if(e){var a=_getPrototypeOf(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,e){if(e&&(_typeof$3(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(t)}function _assertThisInitialized$1(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(n){if(n===null||!_isNativeFunction(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(n))return e.get(n);e.set(n,o)}function o(){return _construct(n,arguments,_getPrototypeOf(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf$1(o,n)},_wrapNativeSuper(t)}function _construct(t,e,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(o,a,c){var u=[null];u.push.apply(u,a);var gr=Function.bind.apply(o,u),br=new gr;return c&&_setPrototypeOf$1(br,c.prototype),br},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _isNativeFunction(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function _setPrototypeOf$1(t,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},_setPrototypeOf$1(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(t)}function _typeof$3(t){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}var _require$1=util$3,inspect$3=_require$1.inspect,_require2$1=errors$3,ERR_INVALID_ARG_TYPE$1=_require2$1.codes.ERR_INVALID_ARG_TYPE;function endsWith(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function repeat(t,e){if(e=Math.floor(e),t.length==0||e==0)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,r-t.length),t}var blue="",green="",red="",white="",kReadableOperator={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},kMaxShortLength=10;function copyError(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach(function(n){r[n]=t[n]}),Object.defineProperty(r,"message",{value:t.message}),r}function inspectValue(t){return inspect$3(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function createErrDiff(t,e,r){var n="",o="",a=0,c="",u=!1,gr=inspectValue(t),br=gr.split(`
`),_r=inspectValue(e).split(`
`),Ar=0,vr="";if(r==="strictEqual"&&_typeof$3(t)==="object"&&_typeof$3(e)==="object"&&t!==null&&e!==null&&(r="strictEqualObject"),br.length===1&&_r.length===1&&br[0]!==_r[0]){var Tr=br[0].length+_r[0].length;if(Tr<=kMaxShortLength){if((_typeof$3(t)!=="object"||t===null)&&(_typeof$3(e)!=="object"||e===null)&&(t!==0||e!==0))return"".concat(kReadableOperator[r],`

`)+"".concat(br[0]," !== ").concat(_r[0],`
`)}else if(r!=="strictEqualObject"){var Or=dist$3.process.stderr&&dist$3.process.stderr.isTTY?dist$3.process.stderr.columns:80;if(Tr<Or){for(;br[0][Ar]===_r[0][Ar];)Ar++;Ar>2&&(vr=`
  `.concat(repeat(" ",Ar),"^"),Ar=0)}}}for(var Ir=br[br.length-1],xr=_r[_r.length-1];Ir===xr&&(Ar++<2?c=`
  `.concat(Ir).concat(c):n=Ir,br.pop(),_r.pop(),!(br.length===0||_r.length===0));)Ir=br[br.length-1],xr=_r[_r.length-1];var Lr=Math.max(br.length,_r.length);if(Lr===0){var Fr=gr.split(`
`);if(Fr.length>30)for(Fr[26]="".concat(blue,"...").concat(white);Fr.length>27;)Fr.pop();return"".concat(kReadableOperator.notIdentical,`

`).concat(Fr.join(`
`),`
`)}Ar>3&&(c=`
`.concat(blue,"...").concat(white).concat(c),u=!0),n!==""&&(c=`
  `.concat(n).concat(c),n="");var Mr=0,Hr=kReadableOperator[r]+`
`.concat(green,"+ actual").concat(white," ").concat(red,"- expected").concat(white),Vr=" ".concat(blue,"...").concat(white," Lines skipped");for(Ar=0;Ar<Lr;Ar++){var Kr=Ar-a;if(br.length<Ar+1)Kr>1&&Ar>2&&(Kr>4?(o+=`
`.concat(blue,"...").concat(white),u=!0):Kr>3&&(o+=`
  `.concat(_r[Ar-2]),Mr++),o+=`
  `.concat(_r[Ar-1]),Mr++),a=Ar,n+=`
`.concat(red,"-").concat(white," ").concat(_r[Ar]),Mr++;else if(_r.length<Ar+1)Kr>1&&Ar>2&&(Kr>4?(o+=`
`.concat(blue,"...").concat(white),u=!0):Kr>3&&(o+=`
  `.concat(br[Ar-2]),Mr++),o+=`
  `.concat(br[Ar-1]),Mr++),a=Ar,o+=`
`.concat(green,"+").concat(white," ").concat(br[Ar]),Mr++;else{var jr=_r[Ar],qr=br[Ar],tn=qr!==jr&&(!endsWith(qr,",")||qr.slice(0,-1)!==jr);tn&&endsWith(jr,",")&&jr.slice(0,-1)===qr&&(tn=!1,qr+=","),tn?(Kr>1&&Ar>2&&(Kr>4?(o+=`
`.concat(blue,"...").concat(white),u=!0):Kr>3&&(o+=`
  `.concat(br[Ar-2]),Mr++),o+=`
  `.concat(br[Ar-1]),Mr++),a=Ar,o+=`
`.concat(green,"+").concat(white," ").concat(qr),n+=`
`.concat(red,"-").concat(white," ").concat(jr),Mr+=2):(o+=n,n="",(Kr===1||Ar===0)&&(o+=`
  `.concat(qr),Mr++))}if(Mr>20&&Ar<Lr-2)return"".concat(Hr).concat(Vr,`
`).concat(o,`
`).concat(blue,"...").concat(white).concat(n,`
`)+"".concat(blue,"...").concat(white)}return"".concat(Hr).concat(u?Vr:"",`
`).concat(o).concat(n).concat(c).concat(vr)}var AssertionError$2=function(t,e){_inherits(n,t);var r=_createSuper(n);function n(o){var a;if(_classCallCheck$1(this,n),_typeof$3(o)!=="object"||o===null)throw new ERR_INVALID_ARG_TYPE$1("options","Object",o);var c=o.message,u=o.operator,gr=o.stackStartFn,br=o.actual,_r=o.expected,Ar=Error.stackTraceLimit;if(Error.stackTraceLimit=0,c!=null)a=r.call(this,String(c));else if(dist$3.process.stderr&&dist$3.process.stderr.isTTY&&(dist$3.process.stderr&&dist$3.process.stderr.getColorDepth&&dist$3.process.stderr.getColorDepth()!==1?(blue="\x1B[34m",green="\x1B[32m",white="\x1B[39m",red="\x1B[31m"):(blue="",green="",white="",red="")),_typeof$3(br)==="object"&&br!==null&&_typeof$3(_r)==="object"&&_r!==null&&"stack"in br&&br instanceof Error&&"stack"in _r&&_r instanceof Error&&(br=copyError(br),_r=copyError(_r)),u==="deepStrictEqual"||u==="strictEqual")a=r.call(this,createErrDiff(br,_r,u));else if(u==="notDeepStrictEqual"||u==="notStrictEqual"){var vr=kReadableOperator[u],Tr=inspectValue(br).split(`
`);if(u==="notStrictEqual"&&_typeof$3(br)==="object"&&br!==null&&(vr=kReadableOperator.notStrictEqualObject),Tr.length>30)for(Tr[26]="".concat(blue,"...").concat(white);Tr.length>27;)Tr.pop();Tr.length===1?a=r.call(this,"".concat(vr," ").concat(Tr[0])):a=r.call(this,"".concat(vr,`

`).concat(Tr.join(`
`),`
`))}else{var Or=inspectValue(br),Ir="",xr=kReadableOperator[u];u==="notDeepEqual"||u==="notEqual"?(Or="".concat(kReadableOperator[u],`

`).concat(Or),Or.length>1024&&(Or="".concat(Or.slice(0,1021),"..."))):(Ir="".concat(inspectValue(_r)),Or.length>512&&(Or="".concat(Or.slice(0,509),"...")),Ir.length>512&&(Ir="".concat(Ir.slice(0,509),"...")),u==="deepEqual"||u==="equal"?Or="".concat(xr,`

`).concat(Or,`

should equal

`):Ir=" ".concat(u," ").concat(Ir)),a=r.call(this,"".concat(Or).concat(Ir))}return Error.stackTraceLimit=Ar,a.generatedMessage=!c,Object.defineProperty(_assertThisInitialized$1(a),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),a.code="ERR_ASSERTION",a.actual=br,a.expected=_r,a.operator=u,Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized$1(a),gr),a.stack,a.name="AssertionError",_possibleConstructorReturn(a)}return _createClass$2(n,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(a,c){return inspect$3(this,_objectSpread(_objectSpread({},c),{},{customInspect:!1,depth:0}))}}]),n}(_wrapNativeSuper(Error),inspect$3.custom),assertion_error=AssertionError$2,toStr$2=Object.prototype.toString,isArguments$1=function(e){var r=toStr$2.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&toStr$2.call(e.callee)==="[object Function]"),n},keysShim$1;if(!Object.keys){var has$1=Object.prototype.hasOwnProperty,toStr$1=Object.prototype.toString,isArgs$1=isArguments$1,isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(t){var e=t.constructor;return e&&e.prototype===t},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if(typeof window>"u")return!1;for(var t in window)try{if(!excludedKeys["$"+t]&&has$1.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{equalsConstructorPrototype(window[t])}catch{return!0}}catch{return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(t){if(typeof window>"u"||!hasAutomationEqualityBug)return equalsConstructorPrototype(t);try{return equalsConstructorPrototype(t)}catch{return!1}};keysShim$1=function(e){var r=e!==null&&typeof e=="object",n=toStr$1.call(e)==="[object Function]",o=isArgs$1(e),a=r&&toStr$1.call(e)==="[object String]",c=[];if(!r&&!n&&!o)throw new TypeError("Object.keys called on a non-object");var u=hasProtoEnumBug&&n;if(a&&e.length>0&&!has$1.call(e,0))for(var gr=0;gr<e.length;++gr)c.push(String(gr));if(o&&e.length>0)for(var br=0;br<e.length;++br)c.push(String(br));else for(var _r in e)!(u&&_r==="prototype")&&has$1.call(e,_r)&&c.push(String(_r));if(hasDontEnumBug)for(var Ar=equalsConstructorPrototypeIfNotBuggy(e),vr=0;vr<dontEnums.length;++vr)!(Ar&&dontEnums[vr]==="constructor")&&has$1.call(e,dontEnums[vr])&&c.push(dontEnums[vr]);return c}}var implementation$8=keysShim$1,slice=Array.prototype.slice,isArgs=isArguments$1,origKeys=Object.keys,keysShim=origKeys?function(e){return origKeys(e)}:implementation$8,originalKeys=Object.keys;keysShim.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return isArgs(n)?originalKeys(slice.call(n)):originalKeys(n)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$2=keysShim,objectKeys$1=objectKeys$2,hasSymbols$1=shams$1(),callBound=callBound$3,toObject=Object,$push=callBound("Array.prototype.push"),$propIsEnumerable=callBound("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols$1?Object.getOwnPropertySymbols:null,implementation$7=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=toObject(e);if(arguments.length===1)return n;for(var o=1;o<arguments.length;++o){var a=toObject(arguments[o]),c=objectKeys$1(a),u=hasSymbols$1&&(Object.getOwnPropertySymbols||originalGetSymbols);if(u)for(var gr=u(a),br=0;br<gr.length;++br){var _r=gr[br];$propIsEnumerable(a,_r)&&$push(c,_r)}for(var Ar=0;Ar<c.length;++Ar){var vr=c[Ar];if($propIsEnumerable(a,vr)){var Tr=a[vr];n[vr]=Tr}}}return n},implementation$6=implementation$7,lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),a="";for(var c in o)a+=c;return t!==a},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},polyfill$4=function(){return!Object.assign||lacksProperEnumerationOrder()||assignHasPendingExceptions()?implementation$6:Object.assign},numberIsNaN$1=function(t){return t!==t},implementation$5=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||numberIsNaN$1(e)&&numberIsNaN$1(r))},implementation$4=implementation$5,polyfill$3=function(){return typeof Object.is=="function"?Object.is:implementation$4},keys$2=objectKeys$2,hasSymbols=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",toStr=Object.prototype.toString,concat=Array.prototype.concat,defineDataProperty=defineDataProperty$1,isFunction$2=function(t){return typeof t=="function"&&toStr.call(t)==="[object Function]"},supportsDescriptors=hasPropertyDescriptors_1(),defineProperty$1=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!isFunction$2(n)||!n())return}supportsDescriptors?defineDataProperty(t,e,r,!0):defineDataProperty(t,e,r)},defineProperties=function(t,e){var r=arguments.length>2?arguments[2]:{},n=keys$2(e);hasSymbols&&(n=concat.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)defineProperty$1(t,n[o],e[n[o]],r[n[o]])};defineProperties.supportsDescriptors=!!supportsDescriptors;var defineProperties_1=defineProperties,getPolyfill$3=polyfill$3,define$3=defineProperties_1,shim$3=function(){var e=getPolyfill$3();return define$3(Object,{is:e},{is:function(){return Object.is!==e}}),e},define$2=defineProperties_1,callBind$1=callBind$4.exports,implementation$3=implementation$5,getPolyfill$2=polyfill$3,shim$2=shim$3,polyfill$2=callBind$1(getPolyfill$2(),Object);define$2(polyfill$2,{getPolyfill:getPolyfill$2,implementation:implementation$3,shim:shim$2});var objectIs$2=polyfill$2,implementation$2=function(e){return e!==e},implementation$1=implementation$2,polyfill$1=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:implementation$1},define$1=defineProperties_1,getPolyfill$1=polyfill$1,shim$1=function(){var e=getPolyfill$1();return define$1(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e},callBind=callBind$4.exports,define=defineProperties_1,implementation=implementation$2,getPolyfill=polyfill$1,shim=shim$1,polyfill=callBind(getPolyfill(),Number);define(polyfill,{getPolyfill,implementation,shim});var isNan=polyfill;function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray$1(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray$1(t,e)}}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _iterableToArrayLimit(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,o,a,c,u=[],gr=!0,br=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;gr=!1}else for(;!(gr=(n=a.call(r)).done)&&(u.push(n.value),u.length!==e);gr=!0);}catch(_r){br=!0,o=_r}finally{try{if(!gr&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(br)throw o}}return u}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof$2(t){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}var regexFlagsSupported=/a/g.flags!==void 0,arrayFromSet=function(e){var r=[];return e.forEach(function(n){return r.push(n)}),r},arrayFromMap=function(e){var r=[];return e.forEach(function(n,o){return r.push([o,n])}),r},objectIs$1=Object.is?Object.is:objectIs$2,objectGetOwnPropertySymbols=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},numberIsNaN=Number.isNaN?Number.isNaN:isNan;function uncurryThis(t){return t.call.bind(t)}var hasOwnProperty$1=uncurryThis(Object.prototype.hasOwnProperty),propertyIsEnumerable=uncurryThis(Object.prototype.propertyIsEnumerable),objectToString$1=uncurryThis(Object.prototype.toString),_require$types$1=util$3.types,isAnyArrayBuffer=_require$types$1.isAnyArrayBuffer,isArrayBufferView=_require$types$1.isArrayBufferView,isDate$1=_require$types$1.isDate,isMap=_require$types$1.isMap,isRegExp$2=_require$types$1.isRegExp,isSet=_require$types$1.isSet,isNativeError=_require$types$1.isNativeError,isBoxedPrimitive=_require$types$1.isBoxedPrimitive,isNumberObject=_require$types$1.isNumberObject,isStringObject=_require$types$1.isStringObject,isBooleanObject=_require$types$1.isBooleanObject,isBigIntObject=_require$types$1.isBigIntObject,isSymbolObject=_require$types$1.isSymbolObject,isFloat32Array=_require$types$1.isFloat32Array,isFloat64Array=_require$types$1.isFloat64Array;function isNonIndex(t){if(t.length===0||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return t.length===10&&t>=Math.pow(2,32)}function getOwnNonIndexProperties(t){return Object.keys(t).filter(isNonIndex).concat(objectGetOwnPropertySymbols(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare$1(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,a=Math.min(r,n);o<a;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}var kStrict=!0,kLoose=!1,kNoIterator=0,kIsArray=1,kIsSet=2,kIsMap=3;function areSimilarRegExps(t,e){return regexFlagsSupported?t.source===e.source&&t.flags===e.flags:RegExp.prototype.toString.call(t)===RegExp.prototype.toString.call(e)}function areSimilarFloatArrays(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function areSimilarTypedArrays(t,e){return t.byteLength!==e.byteLength?!1:compare$1(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function areEqualArrayBuffers(t,e){return t.byteLength===e.byteLength&&compare$1(new Uint8Array(t),new Uint8Array(e))===0}function isEqualBoxedPrimitive(t,e){return isNumberObject(t)?isNumberObject(e)&&objectIs$1(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):isStringObject(t)?isStringObject(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):isBooleanObject(t)?isBooleanObject(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):isBigIntObject(t)?isBigIntObject(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):isSymbolObject(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}function innerDeepEqual(t,e,r,n){if(t===e)return t!==0?!0:r?objectIs$1(t,e):!0;if(r){if(_typeof$2(t)!=="object")return typeof t=="number"&&numberIsNaN(t)&&numberIsNaN(e);if(_typeof$2(e)!=="object"||t===null||e===null||Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(t===null||_typeof$2(t)!=="object")return e===null||_typeof$2(e)!=="object"?t==e:!1;if(e===null||_typeof$2(e)!=="object")return!1}var o=objectToString$1(t),a=objectToString$1(e);if(o!==a)return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var c=getOwnNonIndexProperties(t),u=getOwnNonIndexProperties(e);return c.length!==u.length?!1:keyCheck(t,e,r,n,kIsArray,c)}if(o==="[object Object]"&&(!isMap(t)&&isMap(e)||!isSet(t)&&isSet(e)))return!1;if(isDate$1(t)){if(!isDate$1(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(isRegExp$2(t)){if(!isRegExp$2(e)||!areSimilarRegExps(t,e))return!1}else if(isNativeError(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else if(isArrayBufferView(t)){if(!r&&(isFloat32Array(t)||isFloat64Array(t))){if(!areSimilarFloatArrays(t,e))return!1}else if(!areSimilarTypedArrays(t,e))return!1;var gr=getOwnNonIndexProperties(t),br=getOwnNonIndexProperties(e);return gr.length!==br.length?!1:keyCheck(t,e,r,n,kNoIterator,gr)}else{if(isSet(t))return!isSet(e)||t.size!==e.size?!1:keyCheck(t,e,r,n,kIsSet);if(isMap(t))return!isMap(e)||t.size!==e.size?!1:keyCheck(t,e,r,n,kIsMap);if(isAnyArrayBuffer(t)){if(!areEqualArrayBuffers(t,e))return!1}else if(isBoxedPrimitive(t)&&!isEqualBoxedPrimitive(t,e))return!1}return keyCheck(t,e,r,n,kNoIterator)}function getEnumerables(t,e){return e.filter(function(r){return propertyIsEnumerable(t,r)})}function keyCheck(t,e,r,n,o,a){if(arguments.length===5){a=Object.keys(t);var c=Object.keys(e);if(a.length!==c.length)return!1}for(var u=0;u<a.length;u++)if(!hasOwnProperty$1(e,a[u]))return!1;if(r&&arguments.length===5){var gr=objectGetOwnPropertySymbols(t);if(gr.length!==0){var br=0;for(u=0;u<gr.length;u++){var _r=gr[u];if(propertyIsEnumerable(t,_r)){if(!propertyIsEnumerable(e,_r))return!1;a.push(_r),br++}else if(propertyIsEnumerable(e,_r))return!1}var Ar=objectGetOwnPropertySymbols(e);if(gr.length!==Ar.length&&getEnumerables(e,Ar).length!==br)return!1}else{var vr=objectGetOwnPropertySymbols(e);if(vr.length!==0&&getEnumerables(e,vr).length!==0)return!1}}if(a.length===0&&(o===kNoIterator||o===kIsArray&&t.length===0||t.size===0))return!0;if(n===void 0)n={val1:new Map,val2:new Map,position:0};else{var Tr=n.val1.get(t);if(Tr!==void 0){var Or=n.val2.get(e);if(Or!==void 0)return Tr===Or}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var Ir=objEquiv$1(t,e,r,a,n,o);return n.val1.delete(t),n.val2.delete(e),Ir}function setHasEqualElement(t,e,r,n){for(var o=arrayFromSet(t),a=0;a<o.length;a++){var c=o[a];if(innerDeepEqual(e,c,r,n))return t.delete(c),!0}return!1}function findLooseMatchingPrimitives(t){switch(_typeof$2(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(numberIsNaN(t))return!1}return!0}function setMightHaveLoosePrim(t,e,r){var n=findLooseMatchingPrimitives(r);return n??(e.has(n)&&!t.has(n))}function mapMightHaveLoosePrim(t,e,r,n,o){var a=findLooseMatchingPrimitives(r);if(a!=null)return a;var c=e.get(a);return c===void 0&&!e.has(a)||!innerDeepEqual(n,c,!1,o)?!1:!t.has(a)&&innerDeepEqual(n,c,!1,o)}function setEquiv(t,e,r,n){for(var o=null,a=arrayFromSet(t),c=0;c<a.length;c++){var u=a[c];if(_typeof$2(u)==="object"&&u!==null)o===null&&(o=new Set),o.add(u);else if(!e.has(u)){if(r||!setMightHaveLoosePrim(t,e,u))return!1;o===null&&(o=new Set),o.add(u)}}if(o!==null){for(var gr=arrayFromSet(e),br=0;br<gr.length;br++){var _r=gr[br];if(_typeof$2(_r)==="object"&&_r!==null){if(!setHasEqualElement(o,_r,r,n))return!1}else if(!r&&!t.has(_r)&&!setHasEqualElement(o,_r,r,n))return!1}return o.size===0}return!0}function mapHasEqualEntry(t,e,r,n,o,a){for(var c=arrayFromSet(t),u=0;u<c.length;u++){var gr=c[u];if(innerDeepEqual(r,gr,o,a)&&innerDeepEqual(n,e.get(gr),o,a))return t.delete(gr),!0}return!1}function mapEquiv(t,e,r,n){for(var o=null,a=arrayFromMap(t),c=0;c<a.length;c++){var u=_slicedToArray(a[c],2),gr=u[0],br=u[1];if(_typeof$2(gr)==="object"&&gr!==null)o===null&&(o=new Set),o.add(gr);else{var _r=e.get(gr);if(_r===void 0&&!e.has(gr)||!innerDeepEqual(br,_r,r,n)){if(r||!mapMightHaveLoosePrim(t,e,gr,br,n))return!1;o===null&&(o=new Set),o.add(gr)}}}if(o!==null){for(var Ar=arrayFromMap(e),vr=0;vr<Ar.length;vr++){var Tr=_slicedToArray(Ar[vr],2),Or=Tr[0],Ir=Tr[1];if(_typeof$2(Or)==="object"&&Or!==null){if(!mapHasEqualEntry(o,t,Or,Ir,r,n))return!1}else if(!r&&(!t.has(Or)||!innerDeepEqual(t.get(Or),Ir,!1,n))&&!mapHasEqualEntry(o,t,Or,Ir,!1,n))return!1}return o.size===0}return!0}function objEquiv$1(t,e,r,n,o,a){var c=0;if(a===kIsSet){if(!setEquiv(t,e,r,o))return!1}else if(a===kIsMap){if(!mapEquiv(t,e,r,o))return!1}else if(a===kIsArray)for(;c<t.length;c++)if(hasOwnProperty$1(t,c)){if(!hasOwnProperty$1(e,c)||!innerDeepEqual(t[c],e[c],r,o))return!1}else{if(hasOwnProperty$1(e,c))return!1;for(var u=Object.keys(t);c<u.length;c++){var gr=u[c];if(!hasOwnProperty$1(e,gr)||!innerDeepEqual(t[gr],e[gr],r,o))return!1}return u.length===Object.keys(e).length}for(c=0;c<n.length;c++){var br=n[c];if(!innerDeepEqual(t[br],e[br],r,o))return!1}return!0}function isDeepEqual$1(t,e){return innerDeepEqual(t,e,kLoose)}function isDeepStrictEqual$1(t,e){return innerDeepEqual(t,e,kStrict)}var comparisons={isDeepEqual:isDeepEqual$1,isDeepStrictEqual:isDeepStrictEqual$1};function _typeof$1(t){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function _defineProperties$1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey$3(n.key),n)}}function _createClass$1(t,e,r){return e&&_defineProperties$1(t.prototype,e),r&&_defineProperties$1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return _typeof$1(e)==="symbol"?e:String(e)}function _toPrimitive$3(t,e){if(_typeof$1(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_typeof$1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _require=errors$3,_require$codes=_require.codes,ERR_AMBIGUOUS_ARGUMENT=_require$codes.ERR_AMBIGUOUS_ARGUMENT,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE=_require$codes.ERR_INVALID_ARG_VALUE,ERR_INVALID_RETURN_VALUE=_require$codes.ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,AssertionError$1=assertion_error,_require2=util$3,inspect$2=_require2.inspect,_require$types=util$3.types,isPromise=_require$types.isPromise,isRegExp$1=_require$types.isRegExp,objectAssign=polyfill$4(),objectIs=polyfill$3(),RegExpPrototypeTest=callBound$3("RegExp.prototype.test"),isDeepEqual,isDeepStrictEqual;function lazyLoadComparison(){var t=comparisons;isDeepEqual=t.isDeepEqual,isDeepStrictEqual=t.isDeepStrictEqual}var warned=!1,assert$3=assert$6.exports=ok$1,NO_EXCEPTION_SENTINEL={};function innerFail(t){throw t.message instanceof Error?t.message:new AssertionError$1(t)}function fail$2(t,e,r,n,o){var a=arguments.length,c;if(a===0)c="Failed";else if(a===1)r=t,t=void 0;else{if(warned===!1){warned=!0;var u=dist$3.process.emitWarning?dist$3.process.emitWarning:console.warn.bind(console);u("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}a===2&&(n="!=")}if(r instanceof Error)throw r;var gr={actual:t,expected:e,operator:n===void 0?"fail":n,stackStartFn:o||fail$2};r!==void 0&&(gr.message=r);var br=new AssertionError$1(gr);throw c&&(br.message=c,br.generatedMessage=!0),br}assert$3.fail=fail$2;assert$3.AssertionError=AssertionError$1;function innerOk(t,e,r,n){if(!r){var o=!1;if(e===0)o=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var a=new AssertionError$1({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw a.generatedMessage=o,a}}function ok$1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];innerOk.apply(void 0,[ok$1,e.length].concat(e))}assert$3.ok=ok$1;assert$3.equal=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");e!=r&&innerFail({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})};assert$3.notEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");e==r&&innerFail({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})};assert$3.deepEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(e,r)||innerFail({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})};assert$3.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(e,r)&&innerFail({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})};assert$3.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(e,r)||innerFail({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})};assert$3.notDeepStrictEqual=notDeepStrictEqual$1;function notDeepStrictEqual$1(t,e,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(t,e)&&innerFail({actual:t,expected:e,message:r,operator:"notDeepStrictEqual",stackStartFn:notDeepStrictEqual$1})}assert$3.strictEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(e,r)||innerFail({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})};assert$3.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(e,r)&&innerFail({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var Comparison=_createClass$1(function t(e,r,n){var o=this;_classCallCheck(this,t),r.forEach(function(a){a in e&&(n!==void 0&&typeof n[a]=="string"&&isRegExp$1(e[a])&&RegExpPrototypeTest(e[a],n[a])?o[a]=n[a]:o[a]=e[a])})});function compareExceptionKey(t,e,r,n,o,a){if(!(r in t)||!isDeepStrictEqual(t[r],e[r])){if(!n){var c=new Comparison(t,o),u=new Comparison(e,o,t),gr=new AssertionError$1({actual:c,expected:u,operator:"deepStrictEqual",stackStartFn:a});throw gr.actual=t,gr.expected=e,gr.operator=a.name,gr}innerFail({actual:t,expected:e,message:n,operator:a.name,stackStartFn:a})}}function expectedException$1(t,e,r,n){if(typeof e!="function"){if(isRegExp$1(e))return RegExpPrototypeTest(e,t);if(arguments.length===2)throw new ERR_INVALID_ARG_TYPE("expected",["Function","RegExp"],e);if(_typeof$1(t)!=="object"||t===null){var o=new AssertionError$1({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:n});throw o.operator=n.name,o}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(a.length===0)throw new ERR_INVALID_ARG_VALUE("error",e,"may not be an empty object");return isDeepEqual===void 0&&lazyLoadComparison(),a.forEach(function(c){typeof t[c]=="string"&&isRegExp$1(e[c])&&RegExpPrototypeTest(e[c],t[c])||compareExceptionKey(t,e,c,r,a,n)}),!0}return e.prototype!==void 0&&t instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function getActual(t){if(typeof t!="function")throw new ERR_INVALID_ARG_TYPE("fn","Function",t);try{t()}catch(e){return e}return NO_EXCEPTION_SENTINEL}function checkIsPromise(t){return isPromise(t)||t!==null&&_typeof$1(t)==="object"&&typeof t.then=="function"&&typeof t.catch=="function"}function waitForActual(t){return Promise.resolve().then(function(){var e;if(typeof t=="function"){if(e=t(),!checkIsPromise(e))throw new ERR_INVALID_RETURN_VALUE("instance of Promise","promiseFn",e)}else if(checkIsPromise(t))e=t;else throw new ERR_INVALID_ARG_TYPE("promiseFn",["Function","Promise"],t);return Promise.resolve().then(function(){return e}).then(function(){return NO_EXCEPTION_SENTINEL}).catch(function(r){return r})})}function expectsError(t,e,r,n){if(typeof r=="string"){if(arguments.length===4)throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],r);if(_typeof$1(e)==="object"&&e!==null){if(e.message===r)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error "'.concat(e,'" is identical to the message.'));n=r,r=void 0}else if(r!=null&&_typeof$1(r)!=="object"&&typeof r!="function")throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],r);if(e===NO_EXCEPTION_SENTINEL){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=n?": ".concat(n):".";var a=t.name==="rejects"?"rejection":"exception";innerFail({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(a).concat(o),stackStartFn:t})}if(r&&!expectedException$1(e,r,n,t))throw e}function expectsNoError(t,e,r,n){if(e!==NO_EXCEPTION_SENTINEL){if(typeof r=="string"&&(n=r,r=void 0),!r||expectedException$1(e,r)){var o=n?": ".concat(n):".",a=t.name==="doesNotReject"?"rejection":"exception";innerFail({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(a).concat(o,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}assert$3.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];expectsError.apply(void 0,[t,getActual(e)].concat(n))};assert$3.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return waitForActual(e).then(function(a){return expectsError.apply(void 0,[t,a].concat(n))})};assert$3.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];expectsNoError.apply(void 0,[t,getActual(e)].concat(n))};assert$3.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return waitForActual(e).then(function(a){return expectsNoError.apply(void 0,[t,a].concat(n))})};assert$3.ifError=function t(e){if(e!=null){var r="ifError got unwanted exception: ";_typeof$1(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?r+=e.constructor.name:r+=e.message:r+=inspect$2(e);var n=new AssertionError$1({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),o=e.stack;if(typeof o=="string"){var a=o.split(`
`);a.shift();for(var c=n.stack.split(`
`),u=0;u<a.length;u++){var gr=c.indexOf(a[u]);if(gr!==-1){c=c.slice(0,gr);break}}n.stack="".concat(c.join(`
`),`
`).concat(a.join(`
`))}throw n}};function internalMatch(t,e,r,n,o){if(!isRegExp$1(e))throw new ERR_INVALID_ARG_TYPE("regexp","RegExp",e);var a=o==="match";if(typeof t!="string"||RegExpPrototypeTest(e,t)!==a){if(r instanceof Error)throw r;var c=!r;r=r||(typeof t!="string"?'The "string" argument must be of type string. Received type '+"".concat(_typeof$1(t)," (").concat(inspect$2(t),")"):(a?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(inspect$2(e),`. Input:

`).concat(inspect$2(t),`
`));var u=new AssertionError$1({actual:t,expected:e,message:r,operator:o,stackStartFn:n});throw u.generatedMessage=c,u}}assert$3.match=function t(e,r,n){internalMatch(e,r,n,t,"match")};assert$3.doesNotMatch=function t(e,r,n){internalMatch(e,r,n,t,"doesNotMatch")};function strict(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];innerOk.apply(void 0,[strict,e.length].concat(e))}assert$3.strict=objectAssign(strict,assert$3,{equal:assert$3.strictEqual,deepEqual:assert$3.deepStrictEqual,notEqual:assert$3.notStrictEqual,notDeepEqual:assert$3.notDeepStrictEqual});assert$3.strict.strict=assert$3.strict;var assert$4=assert$6.exports;Object.defineProperty(types$6,"__esModule",{value:!0});types$6.isElementCollectionFixedSizeBeet=types$6.isFixableBeet=types$6.assertFixedSizeBeet=types$6.isFixedSizeBeet=types$6.BEET_TYPE_ARG_INNER=types$6.BEET_TYPE_ARG_LEN=types$6.BEET_PACKAGE=void 0;const assert_1$a=assert$6.exports;types$6.BEET_PACKAGE="@metaplex-foundation/beet";types$6.BEET_TYPE_ARG_LEN="len";types$6.BEET_TYPE_ARG_INNER="Beet<{innner}>";function isFixedSizeBeet(t){return Object.keys(t).includes("byteSize")}types$6.isFixedSizeBeet=isFixedSizeBeet;function assertFixedSizeBeet(t,e=`${t} should have been a fixed beet`){(0,assert_1$a.strict)(isFixedSizeBeet(t),e)}types$6.assertFixedSizeBeet=assertFixedSizeBeet;function isFixableBeet(t){return typeof t.toFixedFromData=="function"&&typeof t.toFixedFromValue=="function"}types$6.isFixableBeet=isFixableBeet;function isElementCollectionFixedSizeBeet(t){const e=Object.keys(t);return e.includes("length")&&e.includes("elementByteSize")&&e.includes("lenPrefixByteSize")}types$6.isElementCollectionFixedSizeBeet=isElementCollectionFixedSizeBeet;var numbers={};(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.numbersTypeMap=t.bool=t.i512=t.i256=t.i128=t.i64=t.i32=t.i16=t.i8=t.u512=t.u256=t.u128=t.u64=t.u32=t.u16=t.u8=void 0;const r=e(bn.exports),n=types$6;t.u8={write:function(c,u,gr){c.writeUInt8(gr,u)},read:function(c,u){return c.readUInt8(u)},byteSize:1,description:"u8"},t.u16={write:function(c,u,gr){c.writeUInt16LE(gr,u)},read:function(c,u){return c.readUInt16LE(u)},byteSize:2,description:"u16"},t.u32={write:function(c,u,gr){c.writeUInt32LE(gr,u)},read:function(c,u){return c.readUInt32LE(u)},byteSize:4,description:"u32"};function o(c,u){return{write:function(gr,br,_r){const vr=(r.default.isBN(_r)?_r:new r.default(_r)).toArray("le",this.byteSize);dist$3.Buffer.from(vr).copy(gr,br,0,this.byteSize)},read:function(gr,br){const _r=gr.slice(br,br+this.byteSize);return new r.default(_r,"le")},byteSize:c,description:u}}t.u64=o(8,"u64"),t.u128=o(16,"u128"),t.u256=o(32,"u256"),t.u512=o(64,"u512"),t.i8={write:function(c,u,gr){c.writeInt8(gr,u)},read:function(c,u){return c.readInt8(u)},byteSize:1,description:"i8"},t.i16={write:function(c,u,gr){c.writeInt16LE(gr,u)},read:function(c,u){return c.readInt16LE(u)},byteSize:2,description:"i16"},t.i32={write:function(c,u,gr){c.writeInt32LE(gr,u)},read:function(c,u){return c.readInt32LE(u)},byteSize:4,description:"i32"};function a(c,u){const gr=c*8;return{write:function(br,_r,Ar){const Tr=(r.default.isBN(Ar)?Ar:new r.default(Ar)).toTwos(gr).toArray("le",this.byteSize);dist$3.Buffer.from(Tr).copy(br,_r,0,this.byteSize)},read:function(br,_r){const Ar=br.slice(_r,_r+this.byteSize);return new r.default(Ar,"le").fromTwos(gr)},byteSize:c,description:u}}t.i64=a(8,"i64"),t.i128=a(16,"i128"),t.i256=a(32,"i256"),t.i512=a(64,"i512"),t.bool={write:function(c,u,gr){const br=gr?1:0;t.u8.write(c,u,br)},read:function(c,u){return t.u8.read(c,u)===1},byteSize:1,description:"bool"},t.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:n.BEET_PACKAGE,ts:"bignum",pack:n.BEET_PACKAGE}}})(numbers);var utils$3={},browser$2={exports:{}},s=1e3,m=s*60,h=m*60,d=h*24,w$1=d*7,y=d*365.25,ms=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return parse(t);if(r==="number"&&isFinite(t))return e.long?fmtLong(t):fmtShort(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function parse(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"weeks":case"week":case"w":return r*w$1;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort(t){var e=Math.abs(t);return e>=d?Math.round(t/d)+"d":e>=h?Math.round(t/h)+"h":e>=m?Math.round(t/m)+"m":e>=s?Math.round(t/s)+"s":t+"ms"}function fmtLong(t){var e=Math.abs(t);return e>=d?plural(t,e,d,"day"):e>=h?plural(t,e,h,"hour"):e>=m?plural(t,e,m,"minute"):e>=s?plural(t,e,s,"second"):t+" ms"}function plural(t,e,r,n){var o=e>=r*1.5;return Math.round(t/r)+" "+n+(o?"s":"")}function setup(t){r.debug=r,r.default=r,r.coerce=gr,r.disable=a,r.enable=o,r.enabled=c,r.humanize=ms,r.destroy=br,Object.keys(t).forEach(_r=>{r[_r]=t[_r]}),r.names=[],r.skips=[],r.formatters={};function e(_r){let Ar=0;for(let vr=0;vr<_r.length;vr++)Ar=(Ar<<5)-Ar+_r.charCodeAt(vr),Ar|=0;return r.colors[Math.abs(Ar)%r.colors.length]}r.selectColor=e;function r(_r){let Ar,vr=null,Tr,Or;function Ir(...xr){if(!Ir.enabled)return;const Lr=Ir,Fr=Number(new Date),Mr=Fr-(Ar||Fr);Lr.diff=Mr,Lr.prev=Ar,Lr.curr=Fr,Ar=Fr,xr[0]=r.coerce(xr[0]),typeof xr[0]!="string"&&xr.unshift("%O");let Hr=0;xr[0]=xr[0].replace(/%([a-zA-Z%])/g,(Kr,jr)=>{if(Kr==="%%")return"%";Hr++;const qr=r.formatters[jr];if(typeof qr=="function"){const tn=xr[Hr];Kr=qr.call(Lr,tn),xr.splice(Hr,1),Hr--}return Kr}),r.formatArgs.call(Lr,xr),(Lr.log||r.log).apply(Lr,xr)}return Ir.namespace=_r,Ir.useColors=r.useColors(),Ir.color=r.selectColor(_r),Ir.extend=n,Ir.destroy=r.destroy,Object.defineProperty(Ir,"enabled",{enumerable:!0,configurable:!1,get:()=>vr!==null?vr:(Tr!==r.namespaces&&(Tr=r.namespaces,Or=r.enabled(_r)),Or),set:xr=>{vr=xr}}),typeof r.init=="function"&&r.init(Ir),Ir}function n(_r,Ar){const vr=r(this.namespace+(typeof Ar>"u"?":":Ar)+_r);return vr.log=this.log,vr}function o(_r){r.save(_r),r.namespaces=_r,r.names=[],r.skips=[];let Ar;const vr=(typeof _r=="string"?_r:"").split(/[\s,]+/),Tr=vr.length;for(Ar=0;Ar<Tr;Ar++)!vr[Ar]||(_r=vr[Ar].replace(/\*/g,".*?"),_r[0]==="-"?r.skips.push(new RegExp("^"+_r.slice(1)+"$")):r.names.push(new RegExp("^"+_r+"$")))}function a(){const _r=[...r.names.map(u),...r.skips.map(u).map(Ar=>"-"+Ar)].join(",");return r.enable(""),_r}function c(_r){if(_r[_r.length-1]==="*")return!0;let Ar,vr;for(Ar=0,vr=r.skips.length;Ar<vr;Ar++)if(r.skips[Ar].test(_r))return!1;for(Ar=0,vr=r.names.length;Ar<vr;Ar++)if(r.names[Ar].test(_r))return!0;return!1}function u(_r){return _r.toString().substring(2,_r.toString().length-2).replace(/\.\*\?$/,"*")}function gr(_r){return _r instanceof Error?_r.stack||_r.message:_r}function br(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var common=setup;(function(t,e){e.formatArgs=n,e.save=o,e.load=a,e.useColors=r,e.storage=c(),e.destroy=(()=>{let gr=!1;return()=>{gr||(gr=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(gr){if(gr[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+gr[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const br="color: "+this.color;gr.splice(1,0,br,"color: inherit");let _r=0,Ar=0;gr[0].replace(/%[a-zA-Z%]/g,vr=>{vr!=="%%"&&(_r++,vr==="%c"&&(Ar=_r))}),gr.splice(Ar,0,br)}e.log=console.debug||console.log||(()=>{});function o(gr){try{gr?e.storage.setItem("debug",gr):e.storage.removeItem("debug")}catch{}}function a(){let gr;try{gr=e.storage.getItem("debug")}catch{}return!gr&&typeof dist$3.process<"u"&&"env"in dist$3.process&&(gr={}.DEBUG),gr}function c(){try{return localStorage}catch{}}t.exports=common(e);const{formatters:u}=t.exports;u.j=function(gr){try{return JSON.stringify(gr)}catch(br){return"[UnexpectedJSONParseError]: "+br.message}}})(browser$2,browser$2.exports);var colorNums={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},backgroundColorNums={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},open={},close={},colors={};Object.keys(colorNums).forEach(function(t){var e=open[t]="\x1B["+colorNums[t]+"m",r=close[t]="\x1B[39m";colors[t]=function(n){return e+n+r}});Object.keys(backgroundColorNums).forEach(function(t){var e=open[t]="\x1B["+backgroundColorNums[t]+"m",r=close[t]="\x1B[49m";colors[t]=function(n){return e+n+r}});var ansicolors=colors;colors.open=open;colors.close=close;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(utils$3,"__esModule",{value:!0});utils$3.UnreachableCaseError=utils$3.stringify=utils$3.bytes=utils$3.beetBytes=utils$3.logTrace=utils$3.logDebug=utils$3.logInfo=utils$3.logError=void 0;const debug_1$1=__importDefault$4(browser$2.exports),ansicolors_1$1=__importDefault$4(ansicolors),types_1$c=types$6,{brightBlack:brightBlack$1}=ansicolors_1$1.default;utils$3.logError=(0,debug_1$1.default)("beet:error");utils$3.logInfo=(0,debug_1$1.default)("beet:info");utils$3.logDebug=(0,debug_1$1.default)("beet:debug");utils$3.logTrace=(0,debug_1$1.default)("beet:trace");function beetBytes(t,e=!1){let r;if((0,types_1$c.isFixableBeet)(t))r="? B";else if((0,types_1$c.isElementCollectionFixedSizeBeet)(t)){const n=e?"length":t.length,o=t.lenPrefixByteSize;r=o>0?`${o} + (${t.elementByteSize} * ${n}) B  (${t.byteSize} B)`:`(${t.elementByteSize} * ${n}) B (${t.byteSize} B)`}else r=`${t.byteSize} B`;return brightBlack$1(r)}utils$3.beetBytes=beetBytes;function bytes(t){return brightBlack$1(`${t} B`)}utils$3.bytes=bytes;function stringify$1(t){return t.toString==="function"?t.toString():t}utils$3.stringify=stringify$1;class UnreachableCaseError$1 extends Error{constructor(e){super(`Unreachable case: ${e}`)}}utils$3.UnreachableCaseError=UnreachableCaseError$1;var beet_fixable={};Object.defineProperty(beet_fixable,"__esModule",{value:!0});beet_fixable.fixBeetFromValue=beet_fixable.fixBeetFromData=void 0;const types_1$b=types$6,utils_1$v=utils$3;function fixBeetFromData(t,e,r){if((0,types_1$b.isFixedSizeBeet)(t))return t;if((0,types_1$b.isFixableBeet)(t))return t.toFixedFromData(e,r);throw new utils_1$v.UnreachableCaseError(t)}beet_fixable.fixBeetFromData=fixBeetFromData;function fixBeetFromValue(t,e){if((0,types_1$b.isFixedSizeBeet)(t))return t;if((0,types_1$b.isFixableBeet)(t))return t.toFixedFromValue(e);throw new utils_1$v.UnreachableCaseError(t)}beet_fixable.fixBeetFromValue=fixBeetFromValue;Object.defineProperty(collections,"__esModule",{value:!0});collections.collectionsTypeMap=collections.uint8Array=collections.fixedSizeUint8Array=collections.fixedSizeBuffer=collections.array=collections.fixedSizeArray=collections.uniformFixedSizeArray=void 0;const types_1$a=types$6,assert_1$9=assert$6.exports,numbers_1$3=numbers,types_2$2=types$6,utils_1$u=utils$3,beet_fixable_1$3=beet_fixable;function uniformFixedSizeArray(t,e,r=!1){const n=t.byteSize*e,o=r?4+n:n;return{write:function(a,c,u){assert_1$9.strict.equal(u.length,e,`array length ${u.length} should match len ${e}`),r&&(numbers_1$3.u32.write(a,c,e),c+=4);for(let gr=0;gr<e;gr++)t.write(a,c+gr*t.byteSize,u[gr])},read:function(a,c){if(r){const gr=numbers_1$3.u32.read(a,c);assert_1$9.strict.equal(gr,e,"invalid byte size"),c+=4}const u=new Array(e);for(let gr=0;gr<e;gr++)u[gr]=t.read(a,c+gr*t.byteSize);return u},byteSize:o,length:e,elementByteSize:t.byteSize,lenPrefixByteSize:4,description:`Array<${t.description}>(${e})`}}collections.uniformFixedSizeArray=uniformFixedSizeArray;function fixedSizeArray(t,e){const r=t.length,n=r===0?"<EMPTY>":t[0].description;return{write:function(o,a,c){assert_1$9.strict.equal(c.length,r,`array length ${c.length} should match len ${r}`),numbers_1$3.u32.write(o,a,r);let u=a+4;for(let gr=0;gr<r;gr++){const br=t[gr];br.write(o,u,c[gr]),u+=br.byteSize}},read:function(o,a){const c=numbers_1$3.u32.read(o,a);assert_1$9.strict.equal(c,r,"invalid byte size");let u=a+4;const gr=new Array(r);for(let br=0;br<r;br++){const _r=t[br];gr[br]=_r.read(o,u),u+=_r.byteSize}return gr},byteSize:4+e,length:r,description:`Array<${n}>(${r})[ 4 + ${e} ]`}}collections.fixedSizeArray=fixedSizeArray;function array(t){return{toFixedFromData(e,r){const n=numbers_1$3.u32.read(e,r);(0,utils_1$u.logTrace)(`${this.description}[${n}]`);const o=r+4;let a=o;const c=new Array(n);for(let u=0;u<n;u++){const gr=(0,beet_fixable_1$3.fixBeetFromData)(t,e,a);c[u]=gr,a+=gr.byteSize}return fixedSizeArray(c,a-o)},toFixedFromValue(e){(0,assert_1$9.strict)(Array.isArray(e),`${e} should be an array`);let r=0;const n=new Array(e.length);for(let o=0;o<e.length;o++){const a=(0,beet_fixable_1$3.fixBeetFromValue)(t,e[o]);n[o]=a,r+=a.byteSize}return fixedSizeArray(n,r)},description:"array"}}collections.array=array;function fixedSizeBuffer(t){return{write:function(e,r,n){n.copy(e,r,0,t)},read:function(e,r){return e.slice(r,r+t)},byteSize:t,description:`Buffer(${t})`}}collections.fixedSizeBuffer=fixedSizeBuffer;function fixedSizeUint8Array(t,e=!1){const r=fixedSizeBuffer(t),n=e?t+4:t;return{write:function(o,a,c){assert_1$9.strict.equal(c.byteLength,t,`Uint8Array length ${c.byteLength} should match len ${t}`),e&&(numbers_1$3.u32.write(o,a,t),a+=4);const u=dist$3.Buffer.from(c);r.write(o,a,u)},read:function(o,a){if(e){const u=numbers_1$3.u32.read(o,a);assert_1$9.strict.equal(u,t,"invalid byte size"),a+=4}const c=r.read(o,a);return Uint8Array.from(c)},byteSize:n,description:`Uint8Array(${t})`}}collections.fixedSizeUint8Array=fixedSizeUint8Array;collections.uint8Array={toFixedFromData(t,e){const r=numbers_1$3.u32.read(t,e);return(0,utils_1$u.logTrace)(`${this.description}[${r}]`),fixedSizeUint8Array(r,!0)},toFixedFromValue(t){const e=t.byteLength;return fixedSizeUint8Array(e,!0)},description:"Uint8Array"};collections.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:types_2$2.BEET_PACKAGE,ts:"Array",arg:types_1$a.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:types_2$2.BEET_PACKAGE,ts:"Array",arg:types_1$a.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:types_2$2.BEET_PACKAGE,ts:"Array",arg:types_1$a.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:types_2$2.BEET_PACKAGE,ts:"Buffer",arg:types_1$a.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:types_2$2.BEET_PACKAGE,ts:"Uint8Array",arg:types_1$a.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:types_2$2.BEET_PACKAGE,ts:"Uint8Array",arg:types_1$a.BEET_TYPE_ARG_LEN}};var composites={};Object.defineProperty(composites,"__esModule",{value:!0});composites.compositesTypeMap=composites.coption=composites.coptionSome=composites.coptionNone=composites.isNoneBuffer=composites.isSomeBuffer=void 0;const assert_1$8=assert$6.exports,types_1$9=types$6,types_2$1=types$6,utils_1$t=utils$3,beet_fixable_1$2=beet_fixable,NONE=0,SOME=1;function isSomeBuffer(t,e){return t[e]===SOME}composites.isSomeBuffer=isSomeBuffer;function isNoneBuffer(t,e){return t[e]===NONE}composites.isNoneBuffer=isNoneBuffer;function coptionNone(t){return(0,utils_1$t.logTrace)(`coptionNone(${t})`),{write:function(e,r,n){(0,assert_1$8.strict)(n==null,"coptionNone can only handle `null` values"),e[r]=NONE},read:function(e,r){return(0,assert_1$8.strict)(isNoneBuffer(e,r),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${t})>`}}composites.coptionNone=coptionNone;function coptionSome(t){const e=1+t.byteSize,r={write:function(n,o,a){(0,types_1$9.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling write`),(0,assert_1$8.strict)(a!=null,"coptionSome cannot handle `null` values"),n[o]=SOME,t.write(n,o+1,a)},read:function(n,o){return(0,types_1$9.assertFixedSizeBeet)(t,`coption inner type ${t.description} needs to be fixed before calling read`),(0,assert_1$8.strict)(isSomeBuffer(n,o),"coptionSome can only handle `SOME` data"),t.read(n,o+1)},description:`COption<${t.description}>[1 + ${t.byteSize}]`,byteSize:e,inner:t};return(0,utils_1$t.logTrace)(r.description),r}composites.coptionSome=coptionSome;function coption(t){return{toFixedFromData(e,r){if(isSomeBuffer(e,r)){const n=(0,beet_fixable_1$2.fixBeetFromData)(t,e,r+1);return coptionSome(n)}else return(0,assert_1$8.strict)(isNoneBuffer(e,r),`Expected ${e} to hold a COption`),coptionNone(t.description)},toFixedFromValue(e){return e==null?coptionNone(t.description):coptionSome((0,beet_fixable_1$2.fixBeetFromValue)(t,e))},description:`COption<${t.description}>`}}composites.coption=coption;composites.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:types_2$1.BEET_PACKAGE,ts:"COption<Inner>",arg:types_1$9.BEET_TYPE_ARG_INNER,pack:types_2$1.BEET_PACKAGE}};var string={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringTypeMap=t.utf8String=t.fixedSizeUtf8String=void 0;const e=types$6,r=assert$6.exports,n=numbers,o=utils$3,a=c=>({write:function(u,gr,br){const _r=dist$3.Buffer.from(br,"utf8");r.strict.equal(_r.byteLength,c,`${br} has invalid byte size`),n.u32.write(u,gr,c),_r.copy(u,gr+4,0,c)},read:function(u,gr){const br=n.u32.read(u,gr);return r.strict.equal(br,c,"invalid byte size"),u.slice(gr+4,gr+4+c).toString("utf8")},elementByteSize:1,length:c,lenPrefixByteSize:4,byteSize:4+c,description:`Utf8String(4 + ${c})`});t.fixedSizeUtf8String=a,t.utf8String={toFixedFromData(c,u){const gr=n.u32.read(c,u);return(0,o.logTrace)(`${this.description}[${gr}]`),(0,t.fixedSizeUtf8String)(gr)},toFixedFromValue(c){const u=dist$3.Buffer.from(c).byteLength;return(0,t.fixedSizeUtf8String)(u)},description:"Utf8String"},t.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:e.BEET_PACKAGE,ts:"string",arg:e.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:e.BEET_PACKAGE,ts:"string"}}})(string);var enums={},struct$1={},readWrite={};Object.defineProperty(readWrite,"__esModule",{value:!0});readWrite.BeetReader=readWrite.BeetWriter=void 0;const assert_1$7=assert$6.exports;class BeetWriter{constructor(e){this.buf=dist$3.Buffer.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&assert_1$7.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,r){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,r),this._offset+=e.byteSize}writeStruct(e,r){for(const[n,o]of r){const a=e[n];this.write(o,a)}}}readWrite.BeetWriter=BeetWriter;class BeetReader{constructor(e,r=0){this.buffer=e,this._offset=r}get offset(){return this._offset}read(e){const r=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,r}readStruct(e){const r={};for(const[n,o]of e)r[n]=this.read(o);return r}}readWrite.BeetReader=BeetReader;Object.defineProperty(struct$1,"__esModule",{value:!0});struct$1.BeetArgsStruct=struct$1.isBeetStruct=struct$1.BeetStruct=void 0;const read_write_1=readWrite,utils_1$s=utils$3;class BeetStruct{constructor(e,r,n=BeetStruct.description){if(this.fields=e,this.construct=r,this.description=n,this.byteSize=this.getByteSize(),utils_1$s.logDebug.enabled){const o=e.map(([a,c])=>`${String(a)}: ${c.description} ${(0,utils_1$s.beetBytes)(c)}`).join(`
  `);(0,utils_1$s.logDebug)(`struct ${n} {
  ${o}
} ${(0,utils_1$s.beetBytes)(this)}`)}}read(e,r){const[n]=this.deserialize(e,r);return n}write(e,r,n){const[o,a]=this.serialize(n);o.copy(e,r,0,a)}deserialize(e,r=0){utils_1$s.logTrace.enabled&&((0,utils_1$s.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,utils_1$s.logTrace)(e),(0,utils_1$s.logTrace)(e.toJSON().data));const n=new read_write_1.BeetReader(e,r),o=n.readStruct(this.fields);return[this.construct(o),n.offset]}serialize(e,r=this.byteSize){(0,utils_1$s.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,r);const n=new read_write_1.BeetWriter(r);return n.writeStruct(e,this.fields),[n.buffer,n.offset]}getByteSize(){return this.fields.reduce((e,[r,n])=>e+n.byteSize,0)}get type(){return BeetStruct.TYPE}}struct$1.BeetStruct=BeetStruct;BeetStruct.description="BeetStruct";BeetStruct.TYPE="BeetStruct";function isBeetStruct(t){return t.type===BeetStruct.TYPE}struct$1.isBeetStruct=isBeetStruct;class BeetArgsStruct extends BeetStruct{constructor(e,r=BeetArgsStruct.description){super(e,n=>n,r)}}struct$1.BeetArgsStruct=BeetArgsStruct;BeetArgsStruct.description="BeetArgsStruct";var struct_fixable={},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(struct_fixable,"__esModule",{value:!0});struct_fixable.FixableBeetArgsStruct=struct_fixable.isFixableBeetStruct=struct_fixable.FixableBeetStruct=void 0;const beet_fixable_1$1=beet_fixable,struct_1$1=struct$1,types_1$8=types$6,assert_1$6=assert$6.exports,utils_1$r=utils$3,ansicolors_1=__importDefault$3(ansicolors),{brightBlack}=ansicolors_1.default;class FixableBeetStruct{constructor(e,r,n=FixableBeetStruct.description){this.fields=e,this.construct=r,this.description=n;let o=0;if(utils_1$r.logDebug.enabled){const a=e.map(([u,gr])=>((0,types_1$8.isFixedSizeBeet)(gr)&&(o+=gr.byteSize),`${u}: ${gr.description} ${(0,utils_1$r.beetBytes)(gr)}`)).join(`
  `),c=`> ${o} B`;(0,utils_1$r.logDebug)(`struct ${n} {
  ${a}
} ${brightBlack(c)}`)}}deserialize(e,r=0){return this.toFixedFromData(e,r).deserialize(e,r)}serialize(e,r){return this.toFixedFromValue(e).serialize(e,r)}toFixedFromData(e,r){let n=r;const o=new Array(this.fields.length);for(let a=0;a<this.fields.length;a++){const[c,u]=this.fields[a],gr=(0,beet_fixable_1$1.fixBeetFromData)(u,e,n);o[a]=[c,gr],n+=gr.byteSize}return this.description!==FixableBeetStruct.description?new struct_1$1.BeetStruct(o,this.construct,this.description):new struct_1$1.BeetStruct(o,this.construct)}toFixedFromValue(e){const r=Object.keys(e),n=new Array(this.fields.length);for(let o=0;o<this.fields.length;o++){const[a,c]=this.fields[o];(0,assert_1$6.strict)(r.includes(a),`Value with keys [ ${r} ] should include struct key '${a}' but doesn't.`);const u=e[a],gr=(0,beet_fixable_1$1.fixBeetFromValue)(c,u);n[o]=[a,gr]}return this.description!==FixableBeetStruct.description?new struct_1$1.BeetStruct(n,this.construct,this.description):new struct_1$1.BeetStruct(n,this.construct)}get type(){return FixableBeetStruct.TYPE}}struct_fixable.FixableBeetStruct=FixableBeetStruct;FixableBeetStruct.description="FixableBeetStruct";FixableBeetStruct.TYPE="FixableBeetStruct";function isFixableBeetStruct(t){return t.type===FixableBeetStruct.TYPE}struct_fixable.isFixableBeetStruct=isFixableBeetStruct;class FixableBeetArgsStruct extends FixableBeetStruct{constructor(e,r=FixableBeetArgsStruct.description){super(e,n=>n,r)}}struct_fixable.FixableBeetArgsStruct=FixableBeetArgsStruct;FixableBeetArgsStruct.description="FixableBeetArgsStruct";var unit={};Object.defineProperty(unit,"__esModule",{value:!0});unit.unitTypeMap=unit.unit=void 0;const types_1$7=types$6;unit.unit={write:function(t,e,r){},read:function(t,e){},byteSize:0,description:"unit"};unit.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:types_1$7.BEET_PACKAGE,ts:"void"}};Object.defineProperty(enums,"__esModule",{value:!0});enums.enumsTypeMap=enums.dataEnum=enums.uniformDataEnum=enums.fixedScalarEnum=void 0;const types_1$6=types$6,numbers_1$2=numbers,assert_1$5=assert$6.exports,struct_1=struct$1,struct_fixable_1=struct_fixable,unit_1=unit;function resolveEnumVariant(t,e){return e?`${t}`:t}function fixedScalarEnum(t){const e=Object.keys(t);return{write(r,n,o){const a=typeof o=="number",c=resolveEnumVariant(o,a);if(e.includes(c)||assert_1$5.strict.fail(`${o} should be a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),a)numbers_1$2.u8.write(r,n,o);else{const u=t[c];numbers_1$2.u8.write(r,n,u)}},read(r,n){const o=numbers_1$2.u8.read(r,n),a=typeof o=="number",c=resolveEnumVariant(o,a);return e.includes(c)||assert_1$5.strict.fail(`${o} should be a of a variant of the provided enum type, i.e. [ ${Object.values(t).join(", ")} ], but isn't`),a?o:t[c]},byteSize:numbers_1$2.u8.byteSize,description:"Enum"}}enums.fixedScalarEnum=fixedScalarEnum;function uniformDataEnum(t){return{write:function(e,r,n){numbers_1$2.u8.write(e,r,n.kind),t.write(e,r+1,n.data)},read:function(e,r){const n=numbers_1$2.u8.read(e,r),o=t.read(e,r+1);return{kind:n,data:o}},byteSize:1+t.byteSize,description:`UniformDataEnum<${t.description}>`}}enums.uniformDataEnum=uniformDataEnum;function enumDataVariantBeet(t,e,r){return{write(n,o,a){numbers_1$2.u8.write(n,o,e),t.write(n,o+numbers_1$2.u8.byteSize,a)},read(n,o){const a=t.read(n,o+numbers_1$2.u8.byteSize);return{__kind:r,...a}},byteSize:t.byteSize+numbers_1$2.u8.byteSize,description:`EnumData<${t.description}>`}}function dataEnum(t){for(const[e,r]of t)(0,assert_1$5.strict)((0,struct_1.isBeetStruct)(r)||(0,struct_fixable_1.isFixableBeetStruct)(r)||r===unit_1.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(e,r){const n=numbers_1$2.u8.read(e,r),o=t[n];(0,assert_1$5.strict)(o!=null,`Discriminant ${n} out of range for ${t.length} variants`);const[a,c]=o,u=(0,types_1$6.isFixedSizeBeet)(c)?c:c.toFixedFromData(e,r+1);return enumDataVariantBeet(u,n,a)},toFixedFromValue(e){if(e.__kind==null){const br=Object.keys(e).join(", "),_r=t.map(([Ar])=>Ar).join(", ");assert_1$5.strict.fail(`Value with fields [ ${br} ] is missing __kind, which needs to be set to one of [ ${_r} ]`)}const r=t.findIndex(([br])=>br===e.__kind);if(r<0){const br=t.map(([_r])=>_r).join(", ");assert_1$5.strict.fail(`${e.__kind} is not a valid kind, needs to be one of [ ${br} ]`)}const n=t[r],{__kind:o,...a}=e,[c,u]=n,gr=(0,types_1$6.isFixedSizeBeet)(u)?u:u.toFixedFromValue(a);return enumDataVariantBeet(gr,r,c)},description:`DataEnum<${t.length} variants>`}}enums.dataEnum=dataEnum;enums.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:types_1$6.BEET_PACKAGE,ts:"<TypeName>",arg:types_1$6.BEET_TYPE_ARG_INNER,pack:types_1$6.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:types_1$6.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:types_1$6.BEET_TYPE_ARG_INNER,pack:types_1$6.BEET_PACKAGE}};var aliases={};Object.defineProperty(aliases,"__esModule",{value:!0});aliases.aliasesTypeMap=aliases.bytes=void 0;const collections_1=collections;aliases.bytes=collections_1.uint8Array;aliases.aliasesTypeMap={bytes:collections_1.collectionsTypeMap.Uint8Array};var tuples={};Object.defineProperty(tuples,"__esModule",{value:!0});tuples.tuplesTypeMap=tuples.tuple=tuples.fixedSizeTuple=void 0;const types_1$5=types$6,assert_1$4=assert$6.exports,beet_fixable_1=beet_fixable;function fixedSizeTuple(t){const e=t.length,r=t.map(a=>a.description),n=t.map(a=>a.byteSize),o=n.reduce((a,c)=>a+c,0);return{write:function(a,c,u){assert_1$4.strict.equal(u.length,e,`tuple value element size ${u.length} should match len ${e}`);let gr=c;for(let br=0;br<e;br++){const _r=u[br],Ar=t[br];Ar.write(a,gr,_r),gr+=Ar.byteSize}},read:function(a,c){const u=[];let gr=c;for(let br=0;br<e;br++){const _r=t[br];u[br]=_r.read(a,gr),gr+=_r.byteSize}return u},byteSize:o,length:e,description:`FixedSizeTuple<${r.join(",")}>[ ${n.join(", ")} ]`}}tuples.fixedSizeTuple=fixedSizeTuple;function tuple(t){const e=t.length,r=t.map(n=>n.description);return{toFixedFromData(n,o){let a=o;const c=new Array(e);for(let u=0;u<e;u++){const gr=(0,beet_fixable_1.fixBeetFromData)(t[u],n,a);c[u]=gr,a+=gr.byteSize}return fixedSizeTuple(c)},toFixedFromValue(n){(0,assert_1$4.strict)(Array.isArray(n),`${n} should be an array of tuple values`),assert_1$4.strict.equal(n.length,e,`There should be ${e} tuple values, but there are ${n.length}`);const o=new Array(e);for(let a=0;a<n.length;a++){const c=(0,beet_fixable_1.fixBeetFromValue)(t[a],n[a]);o[a]=c}return fixedSizeTuple(o)},description:`Tuple<${r.join(",")}>`}}tuples.tuple=tuple;tuples.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:types_1$5.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:types_1$5.BEET_PACKAGE,ts:"[__tuple_elements__]"}};var maps={};Object.defineProperty(maps,"__esModule",{value:!0});maps.mapsTypeMap=maps.map=void 0;const types_1$4=types$6,numbers_1$1=numbers,utils_1$q=utils$3,assert_1$3=assert$6.exports;function fixedSizeMap(t,e,r,n){const o=(0,types_1$4.isFixedSizeBeet)(t),a=(0,types_1$4.isFixedSizeBeet)(e);function c(){if(o&&a){const br=t.byteSize+e.byteSize;return{elementByteSize:br,byteSize:4+n*br}}else if(o){let br=0;for(const[Ar,vr]of r.values())br+=vr.byteSize;return{elementByteSize:t.byteSize+Math.ceil(br/n),byteSize:4+t.byteSize*n+br}}else if(a){let br=0;for(const[Ar,vr]of r.values())br+=Ar.byteSize;return{elementByteSize:Math.ceil(br/n)+e.byteSize,byteSize:4+br+e.byteSize*n}}else{let br=0,_r=0;for(const[vr,Tr]of r.values())br+=vr.byteSize,_r+=Tr.byteSize;return{elementByteSize:Math.ceil(br/n+_r/n),byteSize:4+br+_r}}}const{elementByteSize:u,byteSize:gr}=c();return{write:function(br,_r,Ar){let vr=_r+4,Tr=0;for(const[Or,Ir]of Ar.entries()){let xr=o?t:null,Lr=a?e:null;if(xr==null||Lr==null){const Fr=r.get(Or);(0,assert_1$3.strict)(Fr!=null,`Should be able to find beet els for ${(0,utils_1$q.stringify)(Or)}, but could not`),xr??(xr=Fr[0]),Lr??(Lr=Fr[1])}xr.write(br,vr,Or),vr+=xr.byteSize,Lr.write(br,vr,Ir),vr+=Lr.byteSize,Tr++}numbers_1$1.u32.write(br,_r,Tr),assert_1$3.strict.equal(Tr,n,`Expected map to have size ${n}, but has ${Tr}.`)},read:function(br,_r){const Ar=numbers_1$1.u32.read(br,_r);assert_1$3.strict.equal(Ar,n,`Expected map to have size ${n}, but has ${Ar}.`);let vr=_r+4;const Tr=new Map;for(let Or=0;Or<Ar;Or++){const Ir=o?t:t.toFixedFromData(br,vr),xr=Ir.read(br,vr);vr+=Ir.byteSize;const Lr=a?e:e.toFixedFromData(br,vr),Fr=Lr.read(br,vr);vr+=Lr.byteSize,Tr.set(xr,Fr)}return Tr},elementByteSize:u,byteSize:gr,length:n,lenPrefixByteSize:4,description:`Map<${t.description}, ${e.description}>`}}function map(t,e){const r=(0,types_1$4.isFixedSizeBeet)(t),n=(0,types_1$4.isFixedSizeBeet)(e);return{toFixedFromData(o,a){const c=numbers_1$1.u32.read(o,a);let u=a+4;if(r&&n)return fixedSizeMap(t,e,new Map,c);const gr=new Map;for(let br=0;br<c;br++){const _r=r?t:t.toFixedFromData(o,u),Ar=_r.read(o,u);u+=_r.byteSize;const vr=n?e:e.toFixedFromData(o,u);u+=vr.byteSize,gr.set(Ar,[_r,vr])}return fixedSizeMap(t,e,gr,c)},toFixedFromValue(o){const a=o.size;if(r&&n)return fixedSizeMap(t,e,new Map,a);const c=new Map;for(const[u,gr]of o){const br=r?t:t.toFixedFromValue(u),_r=n?e:e.toFixedFromValue(gr);c.set(u,[br,_r])}return fixedSizeMap(t,e,c,a)},description:`FixableMap<${t.description}, ${e.description}>`}}maps.map=map;maps.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:types_1$4.BEET_PACKAGE,ts:"Map"}};var sets={};Object.defineProperty(sets,"__esModule",{value:!0});sets.setsTypeMap=sets.set=void 0;const types_1$3=types$6,numbers_1=numbers,utils_1$p=utils$3,assert_1$2=assert$6.exports;function fixedSizeSet(t,e,r){const n=(0,types_1$3.isFixedSizeBeet)(t);function o(){if(n){const u=t.byteSize;return{elementByteSize:u,byteSize:4+r*u}}else{let u=0;for(const br of e.values())u+=br.byteSize;return{elementByteSize:Math.ceil(u/r),byteSize:4+u}}}const{elementByteSize:a,byteSize:c}=o();return{write:function(u,gr,br){let _r=gr+4,Ar=0;for(const vr of br.keys()){let Tr=n?t:null;if(Tr==null){const Or=e.get(vr);(0,assert_1$2.strict)(Or!=null,`Should be able to find beet el for ${(0,utils_1$p.stringify)(vr)}, but could not`),Tr??(Tr=Or)}Tr.write(u,_r,vr),_r+=Tr.byteSize,Ar++}numbers_1.u32.write(u,gr,Ar),assert_1$2.strict.equal(Ar,r,`Expected set to have size ${r}, but has ${Ar}.`)},read:function(u,gr){const br=numbers_1.u32.read(u,gr);assert_1$2.strict.equal(br,r,`Expected set to have size ${r}, but has ${br}.`);let _r=gr+4;const Ar=new Set;for(let vr=0;vr<br;vr++){const Tr=n?t:t.toFixedFromData(u,_r),Or=Tr.read(u,_r);_r+=Tr.byteSize,Ar.add(Or)}return Ar},elementByteSize:a,byteSize:c,length:r,lenPrefixByteSize:4,description:`Set<${t.description}>`}}function set$1(t){const e=(0,types_1$3.isFixedSizeBeet)(t);return{toFixedFromData(r,n){const o=numbers_1.u32.read(r,n);let a=n+4;if(e)return fixedSizeSet(t,new Map,o);const c=new Map;for(let u=0;u<o;u++){const gr=e?t:t.toFixedFromData(r,a),br=gr.read(r,a);a+=gr.byteSize,c.set(br,gr)}return fixedSizeSet(t,c,o)},toFixedFromValue(r){const n=r.size;if(e)return fixedSizeSet(t,new Map,n);const o=new Map;for(const a of r){const c=e?t:t.toFixedFromValue(a);o.set(a,c)}return fixedSizeSet(t,o,n)},description:`FixableSet<${t.description}>`}}sets.set=set$1;sets.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:types_1$3.BEET_PACKAGE,ts:"Set"}};(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Tr,Or,Ir,xr){xr===void 0&&(xr=Ir);var Lr=Object.getOwnPropertyDescriptor(Or,Ir);(!Lr||("get"in Lr?!Or.__esModule:Lr.writable||Lr.configurable))&&(Lr={enumerable:!0,get:function(){return Or[Ir]}}),Object.defineProperty(Tr,xr,Lr)}:function(Tr,Or,Ir,xr){xr===void 0&&(xr=Ir),Tr[xr]=Or[Ir]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(Tr,Or){for(var Ir in Tr)Ir!=="default"&&!Object.prototype.hasOwnProperty.call(Or,Ir)&&e(Or,Tr,Ir)};Object.defineProperty(t,"__esModule",{value:!0}),t.supportedTypeMap=void 0;const n=collections,o=composites,a=numbers,c=string,u=enums,gr=aliases,br=tuples,_r=maps,Ar=unit,vr=sets;r(aliases,t),r(collections,t),r(composites,t),r(enums,t),r(maps,t),r(numbers,t),r(sets,t),r(string,t),r(tuples,t),r(unit,t),r(beet_fixable,t),r(readWrite,t),r(struct$1,t),r(struct_fixable,t),r(types$6,t),t.supportedTypeMap={...n.collectionsTypeMap,...c.stringTypeMap,...o.compositesTypeMap,...u.enumsTypeMap,...a.numbersTypeMap,...gr.aliasesTypeMap,...br.tuplesTypeMap,..._r.mapsTypeMap,...vr.setsTypeMap,...Ar.unitTypeMap}})(beet);var beetSolana={},keys$1={};Object.defineProperty(keys$1,"__esModule",{value:!0});keys$1.keysTypeMap=keys$1.publicKey=void 0;const web3_js_1$9=require$$0$2,beet_1$1=beet,BEET_SOLANA_PACKAGE="@metaplex-foundation/beet-solana",SOLANA_WEB3_PACKAGE="@solana/web3.js",uint8Array32=(0,beet_1$1.fixedSizeUint8Array)(32);keys$1.publicKey={write:function(t,e,r){const n=r.toBytes();uint8Array32.write(t,e,n)},read:function(t,e){const r=uint8Array32.read(t,e);return new web3_js_1$9.PublicKey(r)},byteSize:uint8Array32.byteSize,description:"PublicKey"};keys$1.keysTypeMap={publicKey:{beet:"publicKey",isFixable:!1,sourcePack:BEET_SOLANA_PACKAGE,ts:"PublicKey",pack:SOLANA_WEB3_PACKAGE}};var gpa={},utils$2={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(utils$2,"__esModule",{value:!0});utils$2.logTrace=utils$2.logDebug=utils$2.logInfo=utils$2.logError=void 0;const debug_1=__importDefault$2(browser$2.exports);utils$2.logError=(0,debug_1.default)("beet:error");utils$2.logInfo=(0,debug_1.default)("beet:info");utils$2.logDebug=(0,debug_1.default)("beet:debug");utils$2.logTrace=(0,debug_1.default)("beet:trace");var util$1={};function base(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=n}var c=t.length,u=t.charAt(0),gr=Math.log(c)/Math.log(256),br=Math.log(256)/Math.log(c);function _r(Tr){if(Tr instanceof Uint8Array||(ArrayBuffer.isView(Tr)?Tr=new Uint8Array(Tr.buffer,Tr.byteOffset,Tr.byteLength):Array.isArray(Tr)&&(Tr=Uint8Array.from(Tr))),!(Tr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(Tr.length===0)return"";for(var Or=0,Ir=0,xr=0,Lr=Tr.length;xr!==Lr&&Tr[xr]===0;)xr++,Or++;for(var Fr=(Lr-xr)*br+1>>>0,Mr=new Uint8Array(Fr);xr!==Lr;){for(var Hr=Tr[xr],Vr=0,Kr=Fr-1;(Hr!==0||Vr<Ir)&&Kr!==-1;Kr--,Vr++)Hr+=256*Mr[Kr]>>>0,Mr[Kr]=Hr%c>>>0,Hr=Hr/c>>>0;if(Hr!==0)throw new Error("Non-zero carry");Ir=Vr,xr++}for(var jr=Fr-Ir;jr!==Fr&&Mr[jr]===0;)jr++;for(var qr=u.repeat(Or);jr<Fr;++jr)qr+=t.charAt(Mr[jr]);return qr}function Ar(Tr){if(typeof Tr!="string")throw new TypeError("Expected String");if(Tr.length===0)return new Uint8Array;for(var Or=0,Ir=0,xr=0;Tr[Or]===u;)Ir++,Or++;for(var Lr=(Tr.length-Or)*gr+1>>>0,Fr=new Uint8Array(Lr);Tr[Or];){var Mr=e[Tr.charCodeAt(Or)];if(Mr===255)return;for(var Hr=0,Vr=Lr-1;(Mr!==0||Hr<xr)&&Vr!==-1;Vr--,Hr++)Mr+=c*Fr[Vr]>>>0,Fr[Vr]=Mr%256>>>0,Mr=Mr/256>>>0;if(Mr!==0)throw new Error("Non-zero carry");xr=Hr,Or++}for(var Kr=Lr-xr;Kr!==Lr&&Fr[Kr]===0;)Kr++;for(var jr=new Uint8Array(Ir+(Lr-Kr)),qr=Ir;Kr!==Lr;)jr[qr++]=Fr[Kr++];return jr}function vr(Tr){var Or=Ar(Tr);if(Or)return Or;throw new Error("Non-base"+c+" character")}return{encode:_r,decodeUnsafe:Ar,decode:vr}}var src=base;const basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET),__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(util$1,"__esModule",{value:!0});util$1.encodeFixedBeet=void 0;const bs58_1=__importDefault$1(bs58);function encodeFixedBeet(t,e){const r=dist$3.Buffer.alloc(t.byteSize);return t.write(r,0,e),bs58_1.default.encode(r)}util$1.encodeFixedBeet=encodeFixedBeet;Object.defineProperty(gpa,"__esModule",{value:!0});gpa.GpaBuilder=void 0;const beet_1=beet,assert_1$1=assert$6.exports,utils_1$o=utils$2,util_1$8=util$1;class GpaBuilder{constructor(e,r,n){this.programId=e,this.beets=r,this.accountSize=n,this.config={}}_addFilter(e){return this.config.filters==null&&(this.config.filters=[]),this.config.filters.push(e),this}_addInnerFilter(e,r,n){(0,utils_1$o.logTrace)(`gpa.addInnerFilter: ${e}.${r}`);const o=this.beets.get(e);(0,assert_1$1.strict)(o!=null,"Outer filter key needs to be an existing field name");const a=o.beet;let c=o.offset;const u=(0,beet_1.isFixedSizeBeet)(a)?a:a.toFixedFromValue(n);let gr;for(const[_r,Ar]of u.fields){if(_r===r){gr=Ar;break}c+=Ar.byteSize}(0,assert_1$1.strict)(gr!=null,`${r} is not a field of the ${e} struct`);const br=(0,util_1$8.encodeFixedBeet)(gr,n);return this._addFilter({memcmp:{offset:c,bytes:br}}),this}addInnerFilter(e,r){const n=e.split(".");assert_1$1.strict.equal(n.length,2,"inner filters can go only one level deep, i.e. 'outer.inner' is ok, but 'outer.inner.deep' is not");const[o,a]=n;return this._addInnerFilter(o,a,r)}addFilter(e,r){const n=this.beets.get(e);(0,assert_1$1.strict)(n!=null,"Filter key needs to be an existing field name");const o=(0,beet_1.isFixedSizeBeet)(n.beet)?n.beet:n.beet.toFixedFromValue(r),a=(0,util_1$8.encodeFixedBeet)(o,r);return this._addFilter({memcmp:{offset:n.offset,bytes:a}}),this}dataSize(e){return e=e??this.accountSize,(0,assert_1$1.strict)(e!=null,"for accounts of dynamic size the dataSize arg needs to be provided"),this._addFilter({dataSize:e})}run(e){return e.getProgramAccounts(this.programId,this.config)}static fromBeetFields(e,r){const n=new Map;let o=0,a=!1;for(const[u,gr]of r){if(n.set(u,{beet:gr,offset:o}),!(0,beet_1.isFixedSizeBeet)(gr)){a=!0;break}o+=gr.byteSize}const c=a?void 0:o;return new GpaBuilder(e,n,c)}static fromStruct(e,r){return GpaBuilder.fromBeetFields(e,r.fields)}}gpa.GpaBuilder=GpaBuilder;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(o,a,c,u){u===void 0&&(u=c);var gr=Object.getOwnPropertyDescriptor(a,c);(!gr||("get"in gr?!a.__esModule:gr.writable||gr.configurable))&&(gr={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,u,gr)}:function(o,a,c,u){u===void 0&&(u=c),o[u]=a[c]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&e(a,o,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.supportedTypeMap=void 0;const n=keys$1;r(keys$1,t),r(gpa,t),t.supportedTypeMap=n.keysTypeMap})(beetSolana);const batchDiscriminator=[156,194,70,44,22,88,137,44];class Batch{multisig;creator;index;bump;vaultIndex;vaultBump;size;executedTransactionIndex;constructor(e,r,n,o,a,c,u,gr){this.multisig=e,this.creator=r,this.index=n,this.bump=o,this.vaultIndex=a,this.vaultBump=c,this.size=u,this.executedTransactionIndex=gr}static fromArgs(e){return new Batch(e.multisig,e.creator,e.index,e.bump,e.vaultIndex,e.vaultBump,e.size,e.executedTransactionIndex)}static fromAccountInfo(e,r=0){return Batch.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const o=await e.getAccountInfo(r,n);if(o==null)throw new Error(`Unable to find Batch account at ${r}`);return Batch.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$2("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,batchBeet)}static deserialize(e,r=0){return batchBeet.deserialize(e,r)}serialize(){return batchBeet.serialize({accountDiscriminator:batchDiscriminator,...this})}static get byteSize(){return batchBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(Batch.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===Batch.byteSize}pretty(){return{multisig:this.multisig.toBase58(),creator:this.creator.toBase58(),index:(()=>{const e=this.index;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump,vaultIndex:this.vaultIndex,vaultBump:this.vaultBump,size:this.size,executedTransactionIndex:this.executedTransactionIndex}}}const batchBeet=new beet.BeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["creator",beetSolana.publicKey],["index",beet.u64],["bump",beet.u8],["vaultIndex",beet.u8],["vaultBump",beet.u8],["size",beet.u32],["executedTransactionIndex",beet.u32]],Batch.fromArgs,"Batch"),permissionsBeet=new beet.BeetArgsStruct([["mask",beet.u8]],"Permissions"),memberBeet=new beet.BeetArgsStruct([["key",beetSolana.publicKey],["permissions",permissionsBeet]],"Member");var Period;(function(t){t[t.OneTime=0]="OneTime",t[t.Day=1]="Day",t[t.Week=2]="Week",t[t.Month=3]="Month"})(Period||(Period={}));const periodBeet=beet.fixedScalarEnum(Period),configActionBeet=beet.dataEnum([["AddMember",new beet.BeetArgsStruct([["newMember",memberBeet]],'ConfigActionRecord["AddMember"]')],["RemoveMember",new beet.BeetArgsStruct([["oldMember",beetSolana.publicKey]],'ConfigActionRecord["RemoveMember"]')],["ChangeThreshold",new beet.BeetArgsStruct([["newThreshold",beet.u16]],'ConfigActionRecord["ChangeThreshold"]')],["SetTimeLock",new beet.BeetArgsStruct([["newTimeLock",beet.u32]],'ConfigActionRecord["SetTimeLock"]')],["AddSpendingLimit",new beet.FixableBeetArgsStruct([["createKey",beetSolana.publicKey],["vaultIndex",beet.u8],["mint",beetSolana.publicKey],["amount",beet.u64],["period",periodBeet],["members",beet.array(beetSolana.publicKey)],["destinations",beet.array(beetSolana.publicKey)]],'ConfigActionRecord["AddSpendingLimit"]')],["RemoveSpendingLimit",new beet.BeetArgsStruct([["spendingLimit",beetSolana.publicKey]],'ConfigActionRecord["RemoveSpendingLimit"]')],["SetRentCollector",new beet.FixableBeetArgsStruct([["newRentCollector",beet.coption(beetSolana.publicKey)]],'ConfigActionRecord["SetRentCollector"]')]]),configTransactionDiscriminator=[94,8,4,35,113,139,139,112];class ConfigTransaction{multisig;creator;index;bump;actions;constructor(e,r,n,o,a){this.multisig=e,this.creator=r,this.index=n,this.bump=o,this.actions=a}static fromArgs(e){return new ConfigTransaction(e.multisig,e.creator,e.index,e.bump,e.actions)}static fromAccountInfo(e,r=0){return ConfigTransaction.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const o=await e.getAccountInfo(r,n);if(o==null)throw new Error(`Unable to find ConfigTransaction account at ${r}`);return ConfigTransaction.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$2("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,configTransactionBeet)}static deserialize(e,r=0){return configTransactionBeet.deserialize(e,r)}serialize(){return configTransactionBeet.serialize({accountDiscriminator:configTransactionDiscriminator,...this})}static byteSize(e){const r=ConfigTransaction.fromArgs(e);return configTransactionBeet.toFixedFromValue({accountDiscriminator:configTransactionDiscriminator,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(ConfigTransaction.byteSize(e),n)}pretty(){return{multisig:this.multisig.toBase58(),creator:this.creator.toBase58(),index:(()=>{const e=this.index;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump,actions:this.actions}}}const configTransactionBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["creator",beetSolana.publicKey],["index",beet.u64],["bump",beet.u8],["actions",beet.array(configActionBeet)]],ConfigTransaction.fromArgs,"ConfigTransaction"),multisigDiscriminator=[224,116,121,186,68,161,79,236];class Multisig{createKey;configAuthority;threshold;timeLock;transactionIndex;staleTransactionIndex;rentCollector;bump;members;constructor(e,r,n,o,a,c,u,gr,br){this.createKey=e,this.configAuthority=r,this.threshold=n,this.timeLock=o,this.transactionIndex=a,this.staleTransactionIndex=c,this.rentCollector=u,this.bump=gr,this.members=br}static fromArgs(e){return new Multisig(e.createKey,e.configAuthority,e.threshold,e.timeLock,e.transactionIndex,e.staleTransactionIndex,e.rentCollector,e.bump,e.members)}static fromAccountInfo(e,r=0){return Multisig.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const o=await e.getAccountInfo(r,n);if(o==null)throw new Error(`Unable to find Multisig account at ${r}`);return Multisig.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$2("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,multisigBeet)}static deserialize(e,r=0){return multisigBeet.deserialize(e,r)}serialize(){return multisigBeet.serialize({accountDiscriminator:multisigDiscriminator,...this})}static byteSize(e){const r=Multisig.fromArgs(e);return multisigBeet.toFixedFromValue({accountDiscriminator:multisigDiscriminator,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(Multisig.byteSize(e),n)}pretty(){return{createKey:this.createKey.toBase58(),configAuthority:this.configAuthority.toBase58(),threshold:this.threshold,timeLock:this.timeLock,transactionIndex:(()=>{const e=this.transactionIndex;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),staleTransactionIndex:(()=>{const e=this.staleTransactionIndex;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),rentCollector:this.rentCollector,bump:this.bump,members:this.members}}}const multisigBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["createKey",beetSolana.publicKey],["configAuthority",beetSolana.publicKey],["threshold",beet.u16],["timeLock",beet.u32],["transactionIndex",beet.u64],["staleTransactionIndex",beet.u64],["rentCollector",beet.coption(beetSolana.publicKey)],["bump",beet.u8],["members",beet.array(memberBeet)]],Multisig.fromArgs,"Multisig"),programConfigDiscriminator=[196,210,90,231,144,149,140,63];class ProgramConfig{authority;multisigCreationFee;treasury;reserved;constructor(e,r,n,o){this.authority=e,this.multisigCreationFee=r,this.treasury=n,this.reserved=o}static fromArgs(e){return new ProgramConfig(e.authority,e.multisigCreationFee,e.treasury,e.reserved)}static fromAccountInfo(e,r=0){return ProgramConfig.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const o=await e.getAccountInfo(r,n);if(o==null)throw new Error(`Unable to find ProgramConfig account at ${r}`);return ProgramConfig.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$2("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,programConfigBeet)}static deserialize(e,r=0){return programConfigBeet.deserialize(e,r)}serialize(){return programConfigBeet.serialize({accountDiscriminator:programConfigDiscriminator,...this})}static get byteSize(){return programConfigBeet.byteSize}static async getMinimumBalanceForRentExemption(e,r){return e.getMinimumBalanceForRentExemption(ProgramConfig.byteSize,r)}static hasCorrectByteSize(e,r=0){return e.byteLength-r===ProgramConfig.byteSize}pretty(){return{authority:this.authority.toBase58(),multisigCreationFee:(()=>{const e=this.multisigCreationFee;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),treasury:this.treasury.toBase58(),reserved:this.reserved}}}const programConfigBeet=new beet.BeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["authority",beetSolana.publicKey],["multisigCreationFee",beet.u64],["treasury",beetSolana.publicKey],["reserved",beet.uniformFixedSizeArray(beet.u8,64)]],ProgramConfig.fromArgs,"ProgramConfig"),proposalStatusBeet=beet.dataEnum([["Draft",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Draft"]')],["Active",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Active"]')],["Rejected",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Rejected"]')],["Approved",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Approved"]')],["Executing",beet.unit],["Executed",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Executed"]')],["Cancelled",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Cancelled"]')]]),proposalDiscriminator=[26,94,189,187,116,136,53,33];class Proposal{multisig;transactionIndex;status;bump;approved;rejected;cancelled;constructor(e,r,n,o,a,c,u){this.multisig=e,this.transactionIndex=r,this.status=n,this.bump=o,this.approved=a,this.rejected=c,this.cancelled=u}static fromArgs(e){return new Proposal(e.multisig,e.transactionIndex,e.status,e.bump,e.approved,e.rejected,e.cancelled)}static fromAccountInfo(e,r=0){return Proposal.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const o=await e.getAccountInfo(r,n);if(o==null)throw new Error(`Unable to find Proposal account at ${r}`);return Proposal.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$2("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,proposalBeet)}static deserialize(e,r=0){return proposalBeet.deserialize(e,r)}serialize(){return proposalBeet.serialize({accountDiscriminator:proposalDiscriminator,...this})}static byteSize(e){const r=Proposal.fromArgs(e);return proposalBeet.toFixedFromValue({accountDiscriminator:proposalDiscriminator,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(Proposal.byteSize(e),n)}pretty(){return{multisig:this.multisig.toBase58(),transactionIndex:(()=>{const e=this.transactionIndex;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),status:this.status.__kind,bump:this.bump,approved:this.approved,rejected:this.rejected,cancelled:this.cancelled}}}const proposalBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["transactionIndex",beet.u64],["status",proposalStatusBeet],["bump",beet.u8],["approved",beet.array(beetSolana.publicKey)],["rejected",beet.array(beetSolana.publicKey)],["cancelled",beet.array(beetSolana.publicKey)]],Proposal.fromArgs,"Proposal"),spendingLimitDiscriminator=[10,201,27,160,218,195,222,152];class SpendingLimit{multisig;createKey;vaultIndex;mint;amount;period;remainingAmount;lastReset;bump;members;destinations;constructor(e,r,n,o,a,c,u,gr,br,_r,Ar){this.multisig=e,this.createKey=r,this.vaultIndex=n,this.mint=o,this.amount=a,this.period=c,this.remainingAmount=u,this.lastReset=gr,this.bump=br,this.members=_r,this.destinations=Ar}static fromArgs(e){return new SpendingLimit(e.multisig,e.createKey,e.vaultIndex,e.mint,e.amount,e.period,e.remainingAmount,e.lastReset,e.bump,e.members,e.destinations)}static fromAccountInfo(e,r=0){return SpendingLimit.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const o=await e.getAccountInfo(r,n);if(o==null)throw new Error(`Unable to find SpendingLimit account at ${r}`);return SpendingLimit.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$2("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,spendingLimitBeet)}static deserialize(e,r=0){return spendingLimitBeet.deserialize(e,r)}serialize(){return spendingLimitBeet.serialize({accountDiscriminator:spendingLimitDiscriminator,...this})}static byteSize(e){const r=SpendingLimit.fromArgs(e);return spendingLimitBeet.toFixedFromValue({accountDiscriminator:spendingLimitDiscriminator,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(SpendingLimit.byteSize(e),n)}pretty(){return{multisig:this.multisig.toBase58(),createKey:this.createKey.toBase58(),vaultIndex:this.vaultIndex,mint:this.mint.toBase58(),amount:(()=>{const e=this.amount;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),period:"Period."+Period[this.period],remainingAmount:(()=>{const e=this.remainingAmount;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),lastReset:(()=>{const e=this.lastReset;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump,members:this.members,destinations:this.destinations}}}const spendingLimitBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["createKey",beetSolana.publicKey],["vaultIndex",beet.u8],["mint",beetSolana.publicKey],["amount",beet.u64],["period",periodBeet],["remainingAmount",beet.u64],["lastReset",beet.i64],["bump",beet.u8],["members",beet.array(beetSolana.publicKey)],["destinations",beet.array(beetSolana.publicKey)]],SpendingLimit.fromArgs,"SpendingLimit"),multisigCompiledInstructionBeet=new beet.FixableBeetArgsStruct([["programIdIndex",beet.u8],["accountIndexes",beet.bytes],["data",beet.bytes]],"MultisigCompiledInstruction"),multisigMessageAddressTableLookupBeet=new beet.FixableBeetArgsStruct([["accountKey",beetSolana.publicKey],["writableIndexes",beet.bytes],["readonlyIndexes",beet.bytes]],"MultisigMessageAddressTableLookup"),vaultTransactionMessageBeet=new beet.FixableBeetArgsStruct([["numSigners",beet.u8],["numWritableSigners",beet.u8],["numWritableNonSigners",beet.u8],["accountKeys",beet.array(beetSolana.publicKey)],["instructions",beet.array(multisigCompiledInstructionBeet)],["addressTableLookups",beet.array(multisigMessageAddressTableLookupBeet)]],"VaultTransactionMessage"),vaultBatchTransactionDiscriminator=[196,121,46,36,12,19,252,7];class VaultBatchTransaction{bump;ephemeralSignerBumps;message;constructor(e,r,n){this.bump=e,this.ephemeralSignerBumps=r,this.message=n}static fromArgs(e){return new VaultBatchTransaction(e.bump,e.ephemeralSignerBumps,e.message)}static fromAccountInfo(e,r=0){return VaultBatchTransaction.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const o=await e.getAccountInfo(r,n);if(o==null)throw new Error(`Unable to find VaultBatchTransaction account at ${r}`);return VaultBatchTransaction.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$2("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,vaultBatchTransactionBeet)}static deserialize(e,r=0){return vaultBatchTransactionBeet.deserialize(e,r)}serialize(){return vaultBatchTransactionBeet.serialize({accountDiscriminator:vaultBatchTransactionDiscriminator,...this})}static byteSize(e){const r=VaultBatchTransaction.fromArgs(e);return vaultBatchTransactionBeet.toFixedFromValue({accountDiscriminator:vaultBatchTransactionDiscriminator,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(VaultBatchTransaction.byteSize(e),n)}pretty(){return{bump:this.bump,ephemeralSignerBumps:this.ephemeralSignerBumps,message:this.message}}}const vaultBatchTransactionBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["bump",beet.u8],["ephemeralSignerBumps",beet.bytes],["message",vaultTransactionMessageBeet]],VaultBatchTransaction.fromArgs,"VaultBatchTransaction"),vaultTransactionDiscriminator=[168,250,162,100,81,14,162,207];class VaultTransaction{multisig;creator;index;bump;vaultIndex;vaultBump;ephemeralSignerBumps;message;constructor(e,r,n,o,a,c,u,gr){this.multisig=e,this.creator=r,this.index=n,this.bump=o,this.vaultIndex=a,this.vaultBump=c,this.ephemeralSignerBumps=u,this.message=gr}static fromArgs(e){return new VaultTransaction(e.multisig,e.creator,e.index,e.bump,e.vaultIndex,e.vaultBump,e.ephemeralSignerBumps,e.message)}static fromAccountInfo(e,r=0){return VaultTransaction.deserialize(e.data,r)}static async fromAccountAddress(e,r,n){const o=await e.getAccountInfo(r,n);if(o==null)throw new Error(`Unable to find VaultTransaction account at ${r}`);return VaultTransaction.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$2("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,vaultTransactionBeet)}static deserialize(e,r=0){return vaultTransactionBeet.deserialize(e,r)}serialize(){return vaultTransactionBeet.serialize({accountDiscriminator:vaultTransactionDiscriminator,...this})}static byteSize(e){const r=VaultTransaction.fromArgs(e);return vaultTransactionBeet.toFixedFromValue({accountDiscriminator:vaultTransactionDiscriminator,...r}).byteSize}static async getMinimumBalanceForRentExemption(e,r,n){return r.getMinimumBalanceForRentExemption(VaultTransaction.byteSize(e),n)}pretty(){return{multisig:this.multisig.toBase58(),creator:this.creator.toBase58(),index:(()=>{const e=this.index;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump,vaultIndex:this.vaultIndex,vaultBump:this.vaultBump,ephemeralSignerBumps:this.ephemeralSignerBumps,message:this.message}}}const vaultTransactionBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["creator",beetSolana.publicKey],["index",beet.u64],["bump",beet.u8],["vaultIndex",beet.u8],["vaultBump",beet.u8],["ephemeralSignerBumps",beet.bytes],["message",vaultTransactionMessageBeet]],VaultTransaction.fromArgs,"VaultTransaction"),createErrorFromCodeLookup=new Map,createErrorFromNameLookup=new Map;class DuplicateMemberError extends Error{code=6e3;name="DuplicateMember";constructor(){super("Found multiple members with the same pubkey"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,DuplicateMemberError)}}createErrorFromCodeLookup.set(6e3,()=>new DuplicateMemberError);createErrorFromNameLookup.set("DuplicateMember",()=>new DuplicateMemberError);class EmptyMembersError extends Error{code=6001;name="EmptyMembers";constructor(){super("Members array is empty"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,EmptyMembersError)}}createErrorFromCodeLookup.set(6001,()=>new EmptyMembersError);createErrorFromNameLookup.set("EmptyMembers",()=>new EmptyMembersError);class TooManyMembersError extends Error{code=6002;name="TooManyMembers";constructor(){super("Too many members, can be up to 65535"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TooManyMembersError)}}createErrorFromCodeLookup.set(6002,()=>new TooManyMembersError);createErrorFromNameLookup.set("TooManyMembers",()=>new TooManyMembersError);class InvalidThresholdError extends Error{code=6003;name="InvalidThreshold";constructor(){super("Invalid threshold, must be between 1 and number of members with Vote permission"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidThresholdError)}}createErrorFromCodeLookup.set(6003,()=>new InvalidThresholdError);createErrorFromNameLookup.set("InvalidThreshold",()=>new InvalidThresholdError);class UnauthorizedError extends Error{code=6004;name="Unauthorized";constructor(){super("Attempted to perform an unauthorized action"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,UnauthorizedError)}}createErrorFromCodeLookup.set(6004,()=>new UnauthorizedError);createErrorFromNameLookup.set("Unauthorized",()=>new UnauthorizedError);class NotAMemberError extends Error{code=6005;name="NotAMember";constructor(){super("Provided pubkey is not a member of multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NotAMemberError)}}createErrorFromCodeLookup.set(6005,()=>new NotAMemberError);createErrorFromNameLookup.set("NotAMember",()=>new NotAMemberError);class InvalidTransactionMessageError extends Error{code=6006;name="InvalidTransactionMessage";constructor(){super("TransactionMessage is malformed."),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidTransactionMessageError)}}createErrorFromCodeLookup.set(6006,()=>new InvalidTransactionMessageError);createErrorFromNameLookup.set("InvalidTransactionMessage",()=>new InvalidTransactionMessageError);class StaleProposalError extends Error{code=6007;name="StaleProposal";constructor(){super("Proposal is stale"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,StaleProposalError)}}createErrorFromCodeLookup.set(6007,()=>new StaleProposalError);createErrorFromNameLookup.set("StaleProposal",()=>new StaleProposalError);class InvalidProposalStatusError extends Error{code=6008;name="InvalidProposalStatus";constructor(){super("Invalid proposal status"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidProposalStatusError)}}createErrorFromCodeLookup.set(6008,()=>new InvalidProposalStatusError);createErrorFromNameLookup.set("InvalidProposalStatus",()=>new InvalidProposalStatusError);class InvalidTransactionIndexError extends Error{code=6009;name="InvalidTransactionIndex";constructor(){super("Invalid transaction index"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidTransactionIndexError)}}createErrorFromCodeLookup.set(6009,()=>new InvalidTransactionIndexError);createErrorFromNameLookup.set("InvalidTransactionIndex",()=>new InvalidTransactionIndexError);class AlreadyApprovedError extends Error{code=6010;name="AlreadyApproved";constructor(){super("Member already approved the transaction"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,AlreadyApprovedError)}}createErrorFromCodeLookup.set(6010,()=>new AlreadyApprovedError);createErrorFromNameLookup.set("AlreadyApproved",()=>new AlreadyApprovedError);class AlreadyRejectedError extends Error{code=6011;name="AlreadyRejected";constructor(){super("Member already rejected the transaction"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,AlreadyRejectedError)}}createErrorFromCodeLookup.set(6011,()=>new AlreadyRejectedError);createErrorFromNameLookup.set("AlreadyRejected",()=>new AlreadyRejectedError);class AlreadyCancelledError extends Error{code=6012;name="AlreadyCancelled";constructor(){super("Member already cancelled the transaction"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,AlreadyCancelledError)}}createErrorFromCodeLookup.set(6012,()=>new AlreadyCancelledError);createErrorFromNameLookup.set("AlreadyCancelled",()=>new AlreadyCancelledError);class InvalidNumberOfAccountsError extends Error{code=6013;name="InvalidNumberOfAccounts";constructor(){super("Wrong number of accounts provided"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidNumberOfAccountsError)}}createErrorFromCodeLookup.set(6013,()=>new InvalidNumberOfAccountsError);createErrorFromNameLookup.set("InvalidNumberOfAccounts",()=>new InvalidNumberOfAccountsError);class InvalidAccountError extends Error{code=6014;name="InvalidAccount";constructor(){super("Invalid account provided"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidAccountError)}}createErrorFromCodeLookup.set(6014,()=>new InvalidAccountError);createErrorFromNameLookup.set("InvalidAccount",()=>new InvalidAccountError);class RemoveLastMemberError extends Error{code=6015;name="RemoveLastMember";constructor(){super("Cannot remove last member"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,RemoveLastMemberError)}}createErrorFromCodeLookup.set(6015,()=>new RemoveLastMemberError);createErrorFromNameLookup.set("RemoveLastMember",()=>new RemoveLastMemberError);class NoVotersError extends Error{code=6016;name="NoVoters";constructor(){super("Members don't include any voters"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NoVotersError)}}createErrorFromCodeLookup.set(6016,()=>new NoVotersError);createErrorFromNameLookup.set("NoVoters",()=>new NoVotersError);class NoProposersError extends Error{code=6017;name="NoProposers";constructor(){super("Members don't include any proposers"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NoProposersError)}}createErrorFromCodeLookup.set(6017,()=>new NoProposersError);createErrorFromNameLookup.set("NoProposers",()=>new NoProposersError);class NoExecutorsError extends Error{code=6018;name="NoExecutors";constructor(){super("Members don't include any executors"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NoExecutorsError)}}createErrorFromCodeLookup.set(6018,()=>new NoExecutorsError);createErrorFromNameLookup.set("NoExecutors",()=>new NoExecutorsError);class InvalidStaleTransactionIndexError extends Error{code=6019;name="InvalidStaleTransactionIndex";constructor(){super("`stale_transaction_index` must be <= `transaction_index`"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidStaleTransactionIndexError)}}createErrorFromCodeLookup.set(6019,()=>new InvalidStaleTransactionIndexError);createErrorFromNameLookup.set("InvalidStaleTransactionIndex",()=>new InvalidStaleTransactionIndexError);class NotSupportedForControlledError extends Error{code=6020;name="NotSupportedForControlled";constructor(){super("Instruction not supported for controlled multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NotSupportedForControlledError)}}createErrorFromCodeLookup.set(6020,()=>new NotSupportedForControlledError);createErrorFromNameLookup.set("NotSupportedForControlled",()=>new NotSupportedForControlledError);class TimeLockNotReleasedError extends Error{code=6021;name="TimeLockNotReleased";constructor(){super("Proposal time lock has not been released"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TimeLockNotReleasedError)}}createErrorFromCodeLookup.set(6021,()=>new TimeLockNotReleasedError);createErrorFromNameLookup.set("TimeLockNotReleased",()=>new TimeLockNotReleasedError);class NoActionsError extends Error{code=6022;name="NoActions";constructor(){super("Config transaction must have at least one action"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NoActionsError)}}createErrorFromCodeLookup.set(6022,()=>new NoActionsError);createErrorFromNameLookup.set("NoActions",()=>new NoActionsError);class MissingAccountError extends Error{code=6023;name="MissingAccount";constructor(){super("Missing account"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,MissingAccountError)}}createErrorFromCodeLookup.set(6023,()=>new MissingAccountError);createErrorFromNameLookup.set("MissingAccount",()=>new MissingAccountError);class InvalidMintError extends Error{code=6024;name="InvalidMint";constructor(){super("Invalid mint"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidMintError)}}createErrorFromCodeLookup.set(6024,()=>new InvalidMintError);createErrorFromNameLookup.set("InvalidMint",()=>new InvalidMintError);class InvalidDestinationError extends Error{code=6025;name="InvalidDestination";constructor(){super("Invalid destination"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidDestinationError)}}createErrorFromCodeLookup.set(6025,()=>new InvalidDestinationError);createErrorFromNameLookup.set("InvalidDestination",()=>new InvalidDestinationError);class SpendingLimitExceededError extends Error{code=6026;name="SpendingLimitExceeded";constructor(){super("Spending limit exceeded"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,SpendingLimitExceededError)}}createErrorFromCodeLookup.set(6026,()=>new SpendingLimitExceededError);createErrorFromNameLookup.set("SpendingLimitExceeded",()=>new SpendingLimitExceededError);class DecimalsMismatchError extends Error{code=6027;name="DecimalsMismatch";constructor(){super("Decimals don't match the mint"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,DecimalsMismatchError)}}createErrorFromCodeLookup.set(6027,()=>new DecimalsMismatchError);createErrorFromNameLookup.set("DecimalsMismatch",()=>new DecimalsMismatchError);class UnknownPermissionError extends Error{code=6028;name="UnknownPermission";constructor(){super("Member has unknown permission"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,UnknownPermissionError)}}createErrorFromCodeLookup.set(6028,()=>new UnknownPermissionError);createErrorFromNameLookup.set("UnknownPermission",()=>new UnknownPermissionError);class ProtectedAccountError extends Error{code=6029;name="ProtectedAccount";constructor(){super("Account is protected, it cannot be passed into a CPI as writable"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ProtectedAccountError)}}createErrorFromCodeLookup.set(6029,()=>new ProtectedAccountError);createErrorFromNameLookup.set("ProtectedAccount",()=>new ProtectedAccountError);class TimeLockExceedsMaxAllowedError extends Error{code=6030;name="TimeLockExceedsMaxAllowed";constructor(){super("Time lock exceeds the maximum allowed (90 days)"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TimeLockExceedsMaxAllowedError)}}createErrorFromCodeLookup.set(6030,()=>new TimeLockExceedsMaxAllowedError);createErrorFromNameLookup.set("TimeLockExceedsMaxAllowed",()=>new TimeLockExceedsMaxAllowedError);class IllegalAccountOwnerError extends Error{code=6031;name="IllegalAccountOwner";constructor(){super("Account is not owned by Multisig program"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,IllegalAccountOwnerError)}}createErrorFromCodeLookup.set(6031,()=>new IllegalAccountOwnerError);createErrorFromNameLookup.set("IllegalAccountOwner",()=>new IllegalAccountOwnerError);class RentReclamationDisabledError extends Error{code=6032;name="RentReclamationDisabled";constructor(){super("Rent reclamation is disabled for this multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,RentReclamationDisabledError)}}createErrorFromCodeLookup.set(6032,()=>new RentReclamationDisabledError);createErrorFromNameLookup.set("RentReclamationDisabled",()=>new RentReclamationDisabledError);class InvalidRentCollectorError extends Error{code=6033;name="InvalidRentCollector";constructor(){super("Invalid rent collector address"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidRentCollectorError)}}createErrorFromCodeLookup.set(6033,()=>new InvalidRentCollectorError);createErrorFromNameLookup.set("InvalidRentCollector",()=>new InvalidRentCollectorError);class ProposalForAnotherMultisigError extends Error{code=6034;name="ProposalForAnotherMultisig";constructor(){super("Proposal is for another multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ProposalForAnotherMultisigError)}}createErrorFromCodeLookup.set(6034,()=>new ProposalForAnotherMultisigError);createErrorFromNameLookup.set("ProposalForAnotherMultisig",()=>new ProposalForAnotherMultisigError);class TransactionForAnotherMultisigError extends Error{code=6035;name="TransactionForAnotherMultisig";constructor(){super("Transaction is for another multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TransactionForAnotherMultisigError)}}createErrorFromCodeLookup.set(6035,()=>new TransactionForAnotherMultisigError);createErrorFromNameLookup.set("TransactionForAnotherMultisig",()=>new TransactionForAnotherMultisigError);class TransactionNotMatchingProposalError extends Error{code=6036;name="TransactionNotMatchingProposal";constructor(){super("Transaction doesn't match proposal"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TransactionNotMatchingProposalError)}}createErrorFromCodeLookup.set(6036,()=>new TransactionNotMatchingProposalError);createErrorFromNameLookup.set("TransactionNotMatchingProposal",()=>new TransactionNotMatchingProposalError);class TransactionNotLastInBatchError extends Error{code=6037;name="TransactionNotLastInBatch";constructor(){super("Transaction is not last in batch"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TransactionNotLastInBatchError)}}createErrorFromCodeLookup.set(6037,()=>new TransactionNotLastInBatchError);createErrorFromNameLookup.set("TransactionNotLastInBatch",()=>new TransactionNotLastInBatchError);class BatchNotEmptyError extends Error{code=6038;name="BatchNotEmpty";constructor(){super("Batch is not empty"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,BatchNotEmptyError)}}createErrorFromCodeLookup.set(6038,()=>new BatchNotEmptyError);createErrorFromNameLookup.set("BatchNotEmpty",()=>new BatchNotEmptyError);class SpendingLimitInvalidAmountError extends Error{code=6039;name="SpendingLimitInvalidAmount";constructor(){super("Invalid SpendingLimit amount"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,SpendingLimitInvalidAmountError)}}createErrorFromCodeLookup.set(6039,()=>new SpendingLimitInvalidAmountError);createErrorFromNameLookup.set("SpendingLimitInvalidAmount",()=>new SpendingLimitInvalidAmountError);function errorFromCode(t){const e=createErrorFromCodeLookup.get(t);return e!=null?e():null}new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"BatchAccountsCloseInstructionArgs");const batchAddTransactionArgsBeet=new beet.FixableBeetArgsStruct([["ephemeralSigners",beet.u8],["transactionMessage",beet.bytes]],"BatchAddTransactionArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",batchAddTransactionArgsBeet]],"BatchAddTransactionInstructionArgs");const batchCreateArgsBeet=new beet.FixableBeetArgsStruct([["vaultIndex",beet.u8],["memo",beet.coption(beet.utf8String)]],"BatchCreateArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",batchCreateArgsBeet]],"BatchCreateInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"BatchExecuteTransactionInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"ConfigTransactionAccountsCloseInstructionArgs");const configTransactionCreateArgsBeet=new beet.FixableBeetArgsStruct([["actions",beet.array(configActionBeet)],["memo",beet.coption(beet.utf8String)]],"ConfigTransactionCreateArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",configTransactionCreateArgsBeet]],"ConfigTransactionCreateInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"ConfigTransactionExecuteInstructionArgs");const multisigAddMemberArgsBeet=new beet.FixableBeetArgsStruct([["newMember",memberBeet],["memo",beet.coption(beet.utf8String)]],"MultisigAddMemberArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigAddMemberArgsBeet]],"MultisigAddMemberInstructionArgs");const multisigAddSpendingLimitArgsBeet=new beet.FixableBeetArgsStruct([["createKey",beetSolana.publicKey],["vaultIndex",beet.u8],["mint",beetSolana.publicKey],["amount",beet.u64],["period",periodBeet],["members",beet.array(beetSolana.publicKey)],["destinations",beet.array(beetSolana.publicKey)],["memo",beet.coption(beet.utf8String)]],"MultisigAddSpendingLimitArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigAddSpendingLimitArgsBeet]],"MultisigAddSpendingLimitInstructionArgs");const multisigChangeThresholdArgsBeet=new beet.FixableBeetArgsStruct([["newThreshold",beet.u16],["memo",beet.coption(beet.utf8String)]],"MultisigChangeThresholdArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigChangeThresholdArgsBeet]],"MultisigChangeThresholdInstructionArgs");const multisigCreateArgsBeet=new beet.FixableBeetArgsStruct([["configAuthority",beet.coption(beetSolana.publicKey)],["threshold",beet.u16],["members",beet.array(memberBeet)],["timeLock",beet.u32],["memo",beet.coption(beet.utf8String)]],"MultisigCreateArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigCreateArgsBeet]],"MultisigCreateInstructionArgs");const multisigCreateArgsV2Beet=new beet.FixableBeetArgsStruct([["configAuthority",beet.coption(beetSolana.publicKey)],["threshold",beet.u16],["members",beet.array(memberBeet)],["timeLock",beet.u32],["rentCollector",beet.coption(beetSolana.publicKey)],["memo",beet.coption(beet.utf8String)]],"MultisigCreateArgsV2");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigCreateArgsV2Beet]],"MultisigCreateV2InstructionArgs");const multisigRemoveMemberArgsBeet=new beet.FixableBeetArgsStruct([["oldMember",beetSolana.publicKey],["memo",beet.coption(beet.utf8String)]],"MultisigRemoveMemberArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigRemoveMemberArgsBeet]],"MultisigRemoveMemberInstructionArgs");const multisigRemoveSpendingLimitArgsBeet=new beet.FixableBeetArgsStruct([["memo",beet.coption(beet.utf8String)]],"MultisigRemoveSpendingLimitArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigRemoveSpendingLimitArgsBeet]],"MultisigRemoveSpendingLimitInstructionArgs");const multisigSetConfigAuthorityArgsBeet=new beet.FixableBeetArgsStruct([["configAuthority",beetSolana.publicKey],["memo",beet.coption(beet.utf8String)]],"MultisigSetConfigAuthorityArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigSetConfigAuthorityArgsBeet]],"MultisigSetConfigAuthorityInstructionArgs");const multisigSetRentCollectorArgsBeet=new beet.FixableBeetArgsStruct([["rentCollector",beet.coption(beetSolana.publicKey)],["memo",beet.coption(beet.utf8String)]],"MultisigSetRentCollectorArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigSetRentCollectorArgsBeet]],"MultisigSetRentCollectorInstructionArgs");const multisigSetTimeLockArgsBeet=new beet.FixableBeetArgsStruct([["timeLock",beet.u32],["memo",beet.coption(beet.utf8String)]],"MultisigSetTimeLockArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigSetTimeLockArgsBeet]],"MultisigSetTimeLockInstructionArgs");const programConfigInitArgsBeet=new beet.BeetArgsStruct([["authority",beetSolana.publicKey],["multisigCreationFee",beet.u64],["treasury",beetSolana.publicKey]],"ProgramConfigInitArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",programConfigInitArgsBeet]],"ProgramConfigInitInstructionArgs");const programConfigSetAuthorityArgsBeet=new beet.BeetArgsStruct([["newAuthority",beetSolana.publicKey]],"ProgramConfigSetAuthorityArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",programConfigSetAuthorityArgsBeet]],"ProgramConfigSetAuthorityInstructionArgs");const programConfigSetMultisigCreationFeeArgsBeet=new beet.BeetArgsStruct([["newMultisigCreationFee",beet.u64]],"ProgramConfigSetMultisigCreationFeeArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",programConfigSetMultisigCreationFeeArgsBeet]],"ProgramConfigSetMultisigCreationFeeInstructionArgs");const programConfigSetTreasuryArgsBeet=new beet.BeetArgsStruct([["newTreasury",beetSolana.publicKey]],"ProgramConfigSetTreasuryArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",programConfigSetTreasuryArgsBeet]],"ProgramConfigSetTreasuryInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"ProposalActivateInstructionArgs");const proposalVoteArgsBeet=new beet.FixableBeetArgsStruct([["memo",beet.coption(beet.utf8String)]],"ProposalVoteArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",proposalVoteArgsBeet]],"ProposalApproveInstructionArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",proposalVoteArgsBeet]],"ProposalCancelInstructionArgs");const proposalCreateArgsBeet=new beet.BeetArgsStruct([["transactionIndex",beet.u64],["draft",beet.bool]],"ProposalCreateArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",proposalCreateArgsBeet]],"ProposalCreateInstructionArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",proposalVoteArgsBeet]],"ProposalRejectInstructionArgs");const spendingLimitUseArgsBeet=new beet.FixableBeetArgsStruct([["amount",beet.u64],["decimals",beet.u8],["memo",beet.coption(beet.utf8String)]],"SpendingLimitUseArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",spendingLimitUseArgsBeet]],"SpendingLimitUseInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"VaultBatchTransactionAccountCloseInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"VaultTransactionAccountsCloseInstructionArgs");const vaultTransactionCreateArgsBeet=new beet.FixableBeetArgsStruct([["vaultIndex",beet.u8],["ephemeralSigners",beet.u8],["transactionMessage",beet.bytes],["memo",beet.coption(beet.utf8String)]],"VaultTransactionCreateArgs"),vaultTransactionCreateStruct=new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",vaultTransactionCreateArgsBeet]],"VaultTransactionCreateInstructionArgs"),vaultTransactionCreateInstructionDiscriminator=[48,250,78,168,208,226,218,211];function createVaultTransactionCreateInstruction(t,e,r=new PublicKey$2("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){const[n]=vaultTransactionCreateStruct.serialize({instructionDiscriminator:vaultTransactionCreateInstructionDiscriminator,...e}),o=[{pubkey:t.multisig,isWritable:!0,isSigner:!1},{pubkey:t.transaction,isWritable:!0,isSigner:!1},{pubkey:t.creator,isWritable:!1,isSigner:!0},{pubkey:t.rentPayer,isWritable:!0,isSigner:!0},{pubkey:t.systemProgram??SystemProgram$2.programId,isWritable:!1,isSigner:!1}];if(t.anchorRemainingAccounts!=null)for(const c of t.anchorRemainingAccounts)o.push(c);return new TransactionInstruction$2({programId:r,keys:o,data:n})}new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"VaultTransactionExecuteInstructionArgs");var Vote;(function(t){t[t.Approve=0]="Approve",t[t.Reject=1]="Reject",t[t.Cancel=2]="Cancel"})(Vote||(Vote={}));beet.fixedScalarEnum(Vote);const PROGRAM_ADDRESS="SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf",PROGRAM_ID=new PublicKey$2(PROGRAM_ADDRESS);var cusper={},resolveError={},parseError={};Object.defineProperty(parseError,"__esModule",{value:!0});parseError.errorCodeFromLogs=void 0;const errorLineRx=/Custom program error: (0x[a-f0-9]+)/i;function errorCodeFromLogs(t){for(const e of t){const r=e.match(errorLineRx);if(r==null)continue;const n=r[1];try{return parseInt(n)}catch{}}return null}parseError.errorCodeFromLogs=errorCodeFromLogs;var anchor$1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LangErrorMessage=t.LangErrorCode=void 0,t.LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,StateInvalidAddress:4e3,Deprecated:5e3},t.LangErrorMessage=new Map([[t.LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[t.LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[t.LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[t.LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[t.LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[t.LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[t.LangErrorCode.ConstraintMut,"A mut constraint was violated"],[t.LangErrorCode.ConstraintHasOne,"A has_one constraint was violated"],[t.LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[t.LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[t.LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[t.LangErrorCode.ConstraintRentExempt,"A rent exempt constraint was violated"],[t.LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[t.LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[t.LangErrorCode.ConstraintState,"A state constraint was violated"],[t.LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[t.LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[t.LangErrorCode.ConstraintClose,"A close constraint was violated"],[t.LangErrorCode.ConstraintAddress,"An address constraint was violated"],[t.LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[t.LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[t.LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[t.LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[t.LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[t.LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[t.LangErrorCode.ConstraintSpace,"A space constraint was violated"],[t.LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[t.LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[t.LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[t.LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[t.LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[t.LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[t.LangErrorCode.AccountNotMutable,"The given account is not mutable"],[t.LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[t.LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[t.LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[t.LangErrorCode.AccountNotSigner,"The given account did not sign"],[t.LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[t.LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[t.LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[t.LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[t.LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]])})(anchor$1);var tokenLending={};Object.defineProperty(tokenLending,"__esModule",{value:!0});tokenLending.tokenLendingErrors=void 0;tokenLending.tokenLendingErrors=new Map([[0,{code:0,message:'Failed to unpack instruction data"',name:"InstructionUnpackError"}],[1,{code:1,message:'Account is already initialized"',name:"AlreadyInitialized"}],[2,{code:2,message:'Lamport balance below rent-exempt threshold"',name:"NotRentExempt"}],[3,{code:3,message:'Market authority is invalid"',name:"InvalidMarketAuthority"}],[4,{code:4,message:'Market owner is invalid"',name:"InvalidMarketOwner"}],[5,{code:5,message:'Input account owner is not the program address"',name:"InvalidAccountOwner"}],[6,{code:6,message:'Input token account is not owned by the correct token program id"',name:"InvalidTokenOwner"}],[7,{code:7,message:'Input token account is not valid"',name:"InvalidTokenAccount"}],[8,{code:8,message:'Input token mint account is not valid"',name:"InvalidTokenMint"}],[9,{code:9,message:'Input token program account is not valid"',name:"InvalidTokenProgram"}],[10,{code:10,message:'Input amount is invalid"',name:"InvalidAmount"}],[11,{code:11,message:'Input config value is invalid"',name:"InvalidConfig"}],[12,{code:12,message:'Input account must be a signer"',name:"InvalidSigner"}],[13,{code:13,message:'Invalid account input"',name:"InvalidAccountInput"}],[14,{code:14,message:'Math operation overflow"',name:"MathOverflow"}],[15,{code:15,message:'Token initialize mint failed"',name:"TokenInitializeMintFailed"}],[16,{code:16,message:'Token initialize account failed"',name:"TokenInitializeAccountFailed"}],[17,{code:17,message:'Token transfer failed"',name:"TokenTransferFailed"}],[18,{code:18,message:'Token mint to failed"',name:"TokenMintToFailed"}],[19,{code:19,message:'Token burn failed"',name:"TokenBurnFailed"}],[20,{code:20,message:'Insufficient liquidity available"',name:"InsufficientLiquidity"}],[21,{code:21,message:'Input reserve has collateral disabled"',name:"ReserveCollateralDisabled"}],[22,{code:22,message:'Reserve state needs to be refreshed"',name:"ReserveStale"}],[23,{code:23,message:'Withdraw amount too small"',name:"WithdrawTooSmall"}],[24,{code:24,message:'Withdraw amount too large"',name:"WithdrawTooLarge"}],[25,{code:25,message:'Borrow amount too small to receive liquidity after fees"',name:"BorrowTooSmall"}],[26,{code:26,message:'Borrow amount too large for deposited collateral"',name:"BorrowTooLarge"}],[27,{code:27,message:'Repay amount too small to transfer liquidity"',name:"RepayTooSmall"}],[28,{code:28,message:'Liquidation amount too small to receive collateral"',name:"LiquidationTooSmall"}],[29,{code:29,message:'Cannot liquidate healthy obligations"',name:"ObligationHealthy"}],[30,{code:30,message:'Obligation state needs to be refreshed"',name:"ObligationStale"}],[31,{code:31,message:'Obligation reserve limit exceeded"',name:"ObligationReserveLimit"}],[32,{code:32,message:'Obligation owner is invalid"',name:"InvalidObligationOwner"}],[33,{code:33,message:'Obligation deposits are empty"',name:"ObligationDepositsEmpty"}],[34,{code:34,message:'Obligation borrows are empty"',name:"ObligationBorrowsEmpty"}],[35,{code:35,message:'Obligation deposits have zero value"',name:"ObligationDepositsZero"}],[36,{code:36,message:'Obligation borrows have zero value"',name:"ObligationBorrowsZero"}],[37,{code:37,message:'Invalid obligation collateral"',name:"InvalidObligationCollateral"}],[38,{code:38,message:'Invalid obligation liquidity"',name:"InvalidObligationLiquidity"}],[39,{code:39,message:'Obligation collateral is empty"',name:"ObligationCollateralEmpty"}],[40,{code:40,message:'Obligation liquidity is empty"',name:"ObligationLiquidityEmpty"}],[41,{code:41,message:'Interest rate is negative"',name:"NegativeInterestRate"}],[42,{code:42,message:'Input oracle config is invalid"',name:"InvalidOracleConfig"}],[43,{code:43,message:'Input flash loan receiver program account is not valid"',name:"InvalidFlashLoanReceiverProgram"}],[44,{code:44,message:'Not enough liquidity after flash loan"',name:"NotEnoughLiquidityAfterFlashLoan"}]]);var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$2(e,t,r);return __setModuleDefault$2(e,t),e};Object.defineProperty(resolveError,"__esModule",{value:!0});resolveError.TokenLendingError=resolveError.AnchorError=resolveError.CustomProgramError=resolveError.CusperUnknownError=resolveError.initCusper=resolveError.ErrorResolver=void 0;const parse_error_1=parseError,anchor=__importStar$2(anchor$1),token_lending_1=tokenLending;class ErrorResolver{constructor(e){this.resolveErrorFromCode=e}errorFromCode(e,r,n=!0){let o=this.resolveErrorFromCode!=null?this.resolveErrorFromCode(e):null;if(o!=null)return this.passPreparedError(o,r??this.errorFromCode);if(o=AnchorError.fromCode(e),o!=null)return this.passPreparedError(o,r??this.errorFromCode);if(o=TokenLendingError.fromCode(e),o!=null)return this.passPreparedError(o,r??this.errorFromCode);if(n)return o=new CusperUnknownError(e,"CusperUnknownError","cusper does not know this error"),this.passPreparedError(o,r??this.errorFromCode)}errorFromProgramLogs(e,r=!0){const n=(0,parse_error_1.errorCodeFromLogs)(e);return n==null?null:this.errorFromCode(n,this.errorFromProgramLogs,r)}throwError(e){const r=e.logs!=null&&this.errorFromProgramLogs(e.logs,!0)||new CusperUnknownError(-1,"Error created without logs and thus without error code");throw this.passPreparedError(r,this.throwError)}passPreparedError(e,r){return e==null?null:(typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(e,r),e)}}resolveError.ErrorResolver=ErrorResolver;function initCusper(t){return new ErrorResolver(t)}resolveError.initCusper=initCusper;class CusperUnknownError extends Error{constructor(e,...r){super(...r),this.code=e,this.name="CusperUnknownError"}}resolveError.CusperUnknownError=CusperUnknownError;class CustomProgramError extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`CustomProgramError#${r}`}}resolveError.CustomProgramError=CustomProgramError;class AnchorError extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`AnchorError#${r}`}static fromCode(e){const r=AnchorError.errorMap.get(e);return r!=null?new AnchorError(r.code,r.name,r.message):null}toString(){return`${this.name}: ${this.message}`}}resolveError.AnchorError=AnchorError;AnchorError.errorMap=Object.entries(anchor.LangErrorCode).reduce((t,[e,r])=>(t.set(r,{code:r,name:e,message:anchor.LangErrorMessage.get(r)}),t),new Map);class TokenLendingError extends Error{constructor(e,r,...n){super(...n),this.code=e,this.name=`TokenLendingError#${r}`}static fromCode(e){const r=TokenLendingError.errorMap.get(e);return r!=null?new TokenLendingError(r.code,r.name,r.message):null}toString(){return`${this.name}: ${this.message}`}}resolveError.TokenLendingError=TokenLendingError;TokenLendingError.errorMap=token_lending_1.tokenLendingErrors;var types$4={};Object.defineProperty(types$4,"__esModule",{value:!0});(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a),Object.defineProperty(n,c,{enumerable:!0,get:function(){return o[a]}})}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(resolveError,t),r(types$4,t)})(cusper);cusper.initCusper(errorFromCode);var invariant$1=function(t,e,r,n,o,a,c,u){if(!t){var gr;if(e===void 0)gr=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var br=[r,n,o,a,c,u],_r=0;gr=new Error(e.replace(/%s/g,function(){return br[_r++]})),gr.name="Invariant Violation"}throw gr.framesToPop=1,gr}},browser$1=invariant$1;function fixedSizeSmallArray(t,e,r){const n=e.length,o=n===0?"<EMPTY>":e[0].description;return{write:function(a,c,u){browser$1(u.length===n,`array length ${u.length} should match len ${n}`),t.write(a,c,n);let gr=c+t.byteSize;for(let br=0;br<n;br++){const _r=e[br];_r.write(a,gr,u[br]),gr+=_r.byteSize}},read:function(a,c){const u=t.read(a,c);browser$1(u===n,"invalid byte size");let gr=c+t.byteSize;const br=new Array(n);for(let _r=0;_r<n;_r++){const Ar=e[_r];br[_r]=Ar.read(a,gr),gr+=Ar.byteSize}return br},byteSize:t.byteSize+r,length:n,description:`Array<${o}>(${n})[ ${t.byteSize} + ${r} ]`}}function smallArray(t,e){return{toFixedFromData(r,n){const o=t.read(r,n),a=n+t.byteSize;let c=a;const u=new Array(o);for(let gr=0;gr<o;gr++){const br=beet.fixBeetFromData(e,r,c);u[gr]=br,c+=br.byteSize}return fixedSizeSmallArray(t,u,c-a)},toFixedFromValue(r){browser$1(Array.isArray(r),`${r} should be an array`);let n=0;const o=new Array(r.length);for(let a=0;a<r.length;a++){const c=beet.fixBeetFromValue(e,r[a]);o[a]=c,n+=c.byteSize}return fixedSizeSmallArray(t,o,n)},description:"smallArray"}}const compiledMsInstructionBeet=new beet.FixableBeetArgsStruct([["programIdIndex",beet.u8],["accountIndexes",smallArray(beet.u8,beet.u8)],["data",smallArray(beet.u16,beet.u8)]],"CompiledMsInstruction"),messageAddressTableLookupBeet=new beet.FixableBeetArgsStruct([["accountKey",beetSolana.publicKey],["writableIndexes",smallArray(beet.u8,beet.u8)],["readonlyIndexes",smallArray(beet.u8,beet.u8)]],"MessageAddressTableLookup"),transactionMessageBeet=new beet.FixableBeetArgsStruct([["numSigners",beet.u8],["numWritableSigners",beet.u8],["numWritableNonSigners",beet.u8],["accountKeys",smallArray(beet.u8,beetSolana.publicKey)],["instructions",smallArray(beet.u8,compiledMsInstructionBeet)],["addressTableLookups",smallArray(beet.u8,messageAddressTableLookupBeet)]],"TransactionMessage");class CompiledKeys$2{payer;keyMetaMap;constructor(e,r){this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,o=c=>{const u=c.toBase58();let gr=n.get(u);return gr===void 0&&(gr={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,gr)),gr},a=o(r);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!1;for(const u of c.keys){const gr=o(u.pubkey);gr.isSigner||=u.isSigner,gr.isWritable||=u.isWritable}}return new CompiledKeys$2(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$4(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,gr])=>gr.isSigner&&gr.isWritable),n=e.filter(([,gr])=>gr.isSigner&&!gr.isWritable),o=e.filter(([,gr])=>!gr.isSigner&&gr.isWritable),a=e.filter(([,gr])=>!gr.isSigner&&!gr.isWritable),c={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:a.length};{assert$4(r.length>0,"Expected at least one writable signer key");const[gr]=r[0];assert$4(gr===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...r.map(([gr])=>new PublicKey$2(gr)),...n.map(([gr])=>new PublicKey$2(gr)),...o.map(([gr])=>new PublicKey$2(gr)),...a.map(([gr])=>new PublicKey$2(gr))];return[c,u]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(r.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:a}]}drainKeysFoundInLookupTable(e,r){const n=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(r(c)){const u=new PublicKey$2(a),gr=e.findIndex(br=>br.equals(u));gr>=0&&(assert$4(gr<256,"Max lookup table index exceeded"),n.push(gr),o.push(u),this.keyMetaMap.delete(a))}return[n,o]}}function compileToWrappedMessageV0({payerKey:t,recentBlockhash:e,instructions:r,addressLookupTableAccounts:n}){const o=CompiledKeys$2.compile(r,t),a=new Array,c={writable:[],readonly:[]},u=n||[];for(const vr of u){const Tr=o.extractTableLookup(vr);if(Tr!==void 0){const[Or,{writable:Ir,readonly:xr}]=Tr;a.push(Or),c.writable.push(...Ir),c.readonly.push(...xr)}}const[gr,br]=o.getMessageComponents(),Ar=new MessageAccountKeys$2(br,c).compileInstructions(r);return new MessageV0$1({header:gr,staticAccountKeys:br,recentBlockhash:e,compiledInstructions:Ar,addressTableLookups:a})}function toUtfBytes(t){return new TextEncoder().encode(t)}function toU8Bytes(t){const e=bufferPolyfill.Buffer.alloc(1);return beet.u8.write(e,0,t),e}function toU64Bytes(t){const e=bufferPolyfill.Buffer.alloc(8);return beet.u64.write(e,0,t),e}function transactionMessageToMultisigTransactionMessageBytes({message:t,addressLookupTableAccounts:e,vaultPda:r}){const n=compileToWrappedMessageV0({payerKey:t.payerKey,recentBlockhash:t.recentBlockhash,instructions:t.instructions,addressLookupTableAccounts:e}),[o]=transactionMessageBeet.serialize({numSigners:n.header.numRequiredSignatures,numWritableSigners:n.header.numRequiredSignatures-n.header.numReadonlySignedAccounts,numWritableNonSigners:n.staticAccountKeys.length-n.header.numRequiredSignatures-n.header.numReadonlyUnsignedAccounts,accountKeys:n.staticAccountKeys,instructions:n.compiledInstructions.map(a=>({programIdIndex:a.programIdIndex,accountIndexes:a.accountKeyIndexes,data:Array.from(a.data)})),addressTableLookups:n.addressTableLookups});return o}const SEED_PREFIX=toUtfBytes("multisig");toUtfBytes("program_config");toUtfBytes("multisig");const SEED_VAULT=toUtfBytes("vault"),SEED_TRANSACTION=toUtfBytes("transaction");toUtfBytes("proposal");toUtfBytes("batch_transaction");toUtfBytes("ephemeral_signer");toUtfBytes("spending_limit");function getVaultPda({multisigPda:t,index:e,programId:r=PROGRAM_ID}){return browser$1(e>=0&&e<256,"Invalid vault index"),PublicKey$2.findProgramAddressSync([SEED_PREFIX,t.toBytes(),SEED_VAULT,toU8Bytes(e)],r)}function getTransactionPda({multisigPda:t,index:e,programId:r=PROGRAM_ID}){return PublicKey$2.findProgramAddressSync([SEED_PREFIX,t.toBytes(),SEED_TRANSACTION,toU64Bytes(e)],r)}const TOKEN_PROGRAM_ID$1=new PublicKey$3("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),TOKEN_2022_PROGRAM_ID=new PublicKey$3("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),ASSOCIATED_TOKEN_PROGRAM_ID$1=new PublicKey$3("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),NATIVE_MINT$1=new PublicKey$3("So11111111111111111111111111111111111111112"),NATIVE_MINT_2022=new PublicKey$3("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function programSupportsExtensions(t){return t!==TOKEN_PROGRAM_ID$1}const encodeDecode$2=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},bigInt$2=t=>e=>{const r=blob$2(t,e),{encode:n,decode:o}=encodeDecode$2(r),a=r;return a.decode=(c,u)=>{const gr=o(c,u);return toBigIntLE_1(dist$3.Buffer.from(gr))},a.encode=(c,u,gr)=>{const br=toBufferLE_1(c,t);return n(br,u,gr)},a},u64$3=bigInt$2(8),bool=t=>{const e=u8$2(t),{encode:r,decode:n}=encodeDecode$2(e),o=e;return o.decode=(a,c)=>!!n(a,c),o.encode=(a,c,u)=>{const gr=Number(a);return r(gr,c,u)},o},publicKey$3=t=>{const e=blob$2(32,t),{encode:r,decode:n}=encodeDecode$2(e),o=e;return o.decode=(a,c)=>{const u=n(a,c);return new PublicKey$3(u)},o.encode=(a,c,u)=>{const gr=a.toBuffer();return r(gr,c,u)},o};class TokenError extends Error{constructor(e){super(e)}}class TokenAccountNotFoundError extends TokenError{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class TokenInvalidAccountError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class TokenInvalidAccountOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class TokenInvalidAccountSizeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class TokenInvalidMintError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class TokenInvalidOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}class TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}class TokenInvalidInstructionProgramError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}class TokenInvalidInstructionKeysError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}class TokenInvalidInstructionDataError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}class TokenInvalidInstructionTypeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}class TokenUnsupportedInstructionError extends TokenError{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}var AccountType;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Mint=1]="Mint",t[t.Account=2]="Account"})(AccountType||(AccountType={}));const ACCOUNT_TYPE_SIZE=1,MultisigLayout$1=struct$3([u8$2("m"),u8$2("n"),bool("isInitialized"),publicKey$3("signer1"),publicKey$3("signer2"),publicKey$3("signer3"),publicKey$3("signer4"),publicKey$3("signer5"),publicKey$3("signer6"),publicKey$3("signer7"),publicKey$3("signer8"),publicKey$3("signer9"),publicKey$3("signer10"),publicKey$3("signer11")]),MULTISIG_SIZE=MultisigLayout$1.span;async function getMultisig(t,e,r,n=TOKEN_PROGRAM_ID$1){const o=await t.getAccountInfo(e,r);return unpackMultisig(e,o,n)}function unpackMultisig(t,e,r=TOKEN_PROGRAM_ID$1){if(!e)throw new TokenAccountNotFoundError;if(!e.owner.equals(r))throw new TokenInvalidAccountOwnerError;if(e.data.length!=MULTISIG_SIZE)throw new TokenInvalidAccountSizeError;const n=MultisigLayout$1.decode(e.data);return{address:t,...n}}async function getMinimumBalanceForRentExemptMultisig(t,e){return await t.getMinimumBalanceForRentExemption(MULTISIG_SIZE,e)}var AccountState;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initialized=1]="Initialized",t[t.Frozen=2]="Frozen"})(AccountState||(AccountState={}));const AccountLayout$1=struct$3([publicKey$3("mint"),publicKey$3("owner"),u64$3("amount"),u32$2("delegateOption"),publicKey$3("delegate"),u8$2("state"),u32$2("isNativeOption"),u64$3("isNative"),u64$3("delegatedAmount"),u32$2("closeAuthorityOption"),publicKey$3("closeAuthority")]),ACCOUNT_SIZE=AccountLayout$1.span;async function getAccount(t,e,r,n=TOKEN_PROGRAM_ID$1){const o=await t.getAccountInfo(e,r);return unpackAccount(e,o,n)}async function getMultipleAccounts(t,e,r,n=TOKEN_PROGRAM_ID$1){const o=await t.getMultipleAccountsInfo(e,r);return e.map((a,c)=>unpackAccount(a,o[c],n))}async function getMinimumBalanceForRentExemptAccount(t,e){return await getMinimumBalanceForRentExemptAccountWithExtensions(t,[],e)}async function getMinimumBalanceForRentExemptAccountWithExtensions(t,e,r){const n=getAccountLen(e);return await t.getMinimumBalanceForRentExemption(n,r)}function unpackAccount(t,e,r=TOKEN_PROGRAM_ID$1){if(!e)throw new TokenAccountNotFoundError;if(!e.owner.equals(r))throw new TokenInvalidAccountOwnerError;if(e.data.length<ACCOUNT_SIZE)throw new TokenInvalidAccountSizeError;const n=AccountLayout$1.decode(e.data.slice(0,ACCOUNT_SIZE));let o=dist$3.Buffer.alloc(0);if(e.data.length>ACCOUNT_SIZE){if(e.data.length===MULTISIG_SIZE)throw new TokenInvalidAccountSizeError;if(e.data[ACCOUNT_SIZE]!=AccountType.Account)throw new TokenInvalidAccountError;o=e.data.slice(ACCOUNT_SIZE+ACCOUNT_TYPE_SIZE)}return{address:t,mint:n.mint,owner:n.owner,amount:n.amount,delegate:n.delegateOption?n.delegate:null,delegatedAmount:n.delegatedAmount,isInitialized:n.state!==AccountState.Uninitialized,isFrozen:n.state===AccountState.Frozen,isNative:!!n.isNativeOption,rentExemptReserve:n.isNativeOption?n.isNative:null,closeAuthority:n.closeAuthorityOption?n.closeAuthority:null,tlvData:o}}const MintLayout$1=struct$3([u32$2("mintAuthorityOption"),publicKey$3("mintAuthority"),u64$3("supply"),u8$2("decimals"),bool("isInitialized"),u32$2("freezeAuthorityOption"),publicKey$3("freezeAuthority")]),MINT_SIZE=MintLayout$1.span;async function getMint(t,e,r,n=TOKEN_PROGRAM_ID$1){const o=await t.getAccountInfo(e,r);return unpackMint(e,o,n)}function unpackMint(t,e,r=TOKEN_PROGRAM_ID$1){if(!e)throw new TokenAccountNotFoundError;if(!e.owner.equals(r))throw new TokenInvalidAccountOwnerError;if(e.data.length<MINT_SIZE)throw new TokenInvalidAccountSizeError;const n=MintLayout$1.decode(e.data.slice(0,MINT_SIZE));let o=dist$3.Buffer.alloc(0);if(e.data.length>MINT_SIZE){if(e.data.length<=ACCOUNT_SIZE)throw new TokenInvalidAccountSizeError;if(e.data.length===MULTISIG_SIZE)throw new TokenInvalidAccountSizeError;if(e.data[ACCOUNT_SIZE]!=AccountType.Mint)throw new TokenInvalidMintError;o=e.data.slice(ACCOUNT_SIZE+ACCOUNT_TYPE_SIZE)}return{address:t,mintAuthority:n.mintAuthorityOption?n.mintAuthority:null,supply:n.supply,decimals:n.decimals,isInitialized:n.isInitialized,freezeAuthority:n.freezeAuthorityOption?n.freezeAuthority:null,tlvData:o}}async function getMinimumBalanceForRentExemptMint(t,e){return await getMinimumBalanceForRentExemptMintWithExtensions(t,[],e)}async function getMinimumBalanceForRentExemptMintWithExtensions(t,e,r){const n=getMintLen(e);return await t.getMinimumBalanceForRentExemption(n,r)}async function getAssociatedTokenAddress$1(t,e,r=!1,n=TOKEN_PROGRAM_ID$1,o=ASSOCIATED_TOKEN_PROGRAM_ID$1){if(!r&&!PublicKey$3.isOnCurve(e.toBuffer()))throw new TokenOwnerOffCurveError;const[a]=await PublicKey$3.findProgramAddress([e.toBuffer(),n.toBuffer(),t.toBuffer()],o);return a}function getAssociatedTokenAddressSync(t,e,r=!1,n=TOKEN_PROGRAM_ID$1,o=ASSOCIATED_TOKEN_PROGRAM_ID$1){if(!r&&!PublicKey$3.isOnCurve(e.toBuffer()))throw new TokenOwnerOffCurveError;const[a]=PublicKey$3.findProgramAddressSync([e.toBuffer(),n.toBuffer(),t.toBuffer()],o);return a}const CpiGuardLayout=struct$3([bool("lockCpi")]),CPI_GUARD_SIZE=CpiGuardLayout.span;function getCpiGuard(t){const e=getExtensionData(ExtensionType.CpiGuard,t.tlvData);return e!==null?CpiGuardLayout.decode(e):null}const DefaultAccountStateLayout=struct$3([u8$2("state")]),DEFAULT_ACCOUNT_STATE_SIZE=DefaultAccountStateLayout.span;function getDefaultAccountState(t){const e=getExtensionData(ExtensionType.DefaultAccountState,t.tlvData);return e!==null?DefaultAccountStateLayout.decode(e):null}const ImmutableOwnerLayout=struct$3([]),IMMUTABLE_OWNER_SIZE=ImmutableOwnerLayout.span;function getImmutableOwner(t){const e=getExtensionData(ExtensionType.ImmutableOwner,t.tlvData);return e!==null?ImmutableOwnerLayout.decode(e):null}const InterestBearingMintConfigStateLayout=struct$3([publicKey$3("rateAuthority"),ns64$1("initializationTimestamp"),s16("preUpdateAverageRate"),ns64$1("lastUpdateTimestamp"),s16("currentRate")]),INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=InterestBearingMintConfigStateLayout.span;function getInterestBearingMintConfigState(t){const e=getExtensionData(ExtensionType.InterestBearingConfig,t.tlvData);return e!==null?InterestBearingMintConfigStateLayout.decode(e):null}const MemoTransferLayout=struct$3([bool("requireIncomingTransferMemos")]),MEMO_TRANSFER_SIZE=MemoTransferLayout.span;function getMemoTransfer(t){const e=getExtensionData(ExtensionType.MemoTransfer,t.tlvData);return e!==null?MemoTransferLayout.decode(e):null}const MintCloseAuthorityLayout=struct$3([publicKey$3("closeAuthority")]),MINT_CLOSE_AUTHORITY_SIZE=MintCloseAuthorityLayout.span;function getMintCloseAuthority(t){const e=getExtensionData(ExtensionType.MintCloseAuthority,t.tlvData);return e!==null?MintCloseAuthorityLayout.decode(e):null}const NonTransferableLayout=struct$3([]),NON_TRANSFERABLE_SIZE=NonTransferableLayout.span,NON_TRANSFERABLE_ACCOUNT_SIZE=NonTransferableLayout.span;function getNonTransferable(t){const e=getExtensionData(ExtensionType.NonTransferable,t.tlvData);return e!==null?NonTransferableLayout.decode(e):null}function getNonTransferableAccount(t){const e=getExtensionData(ExtensionType.NonTransferableAccount,t.tlvData);return e!==null?NonTransferableLayout.decode(e):null}const PermanentDelegateLayout=struct$3([publicKey$3("delegate")]),PERMANENT_DELEGATE_SIZE=PermanentDelegateLayout.span;function getPermanentDelegate(t){const e=getExtensionData(ExtensionType.PermanentDelegate,t.tlvData);return e!==null?PermanentDelegateLayout.decode(e):null}const MAX_FEE_BASIS_POINTS=1e4,ONE_IN_BASIS_POINTS=MAX_FEE_BASIS_POINTS;function transferFeeLayout(t){return struct$3([u64$3("epoch"),u64$3("maximumFee"),u16("transferFeeBasisPoints")],t)}const TransferFeeConfigLayout=struct$3([publicKey$3("transferFeeConfigAuthority"),publicKey$3("withdrawWithheldAuthority"),u64$3("withheldAmount"),transferFeeLayout("olderTransferFee"),transferFeeLayout("newerTransferFee")]),TRANSFER_FEE_CONFIG_SIZE=TransferFeeConfigLayout.span,TransferFeeAmountLayout=struct$3([u64$3("withheldAmount")]),TRANSFER_FEE_AMOUNT_SIZE=TransferFeeAmountLayout.span;function getTransferFeeConfig(t){const e=getExtensionData(ExtensionType.TransferFeeConfig,t.tlvData);return e!==null?TransferFeeConfigLayout.decode(e):null}function getTransferFeeAmount(t){const e=getExtensionData(ExtensionType.TransferFeeAmount,t.tlvData);return e!==null?TransferFeeAmountLayout.decode(e):null}var ExtensionType;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.TransferFeeConfig=1]="TransferFeeConfig",t[t.TransferFeeAmount=2]="TransferFeeAmount",t[t.MintCloseAuthority=3]="MintCloseAuthority",t[t.ConfidentialTransferMint=4]="ConfidentialTransferMint",t[t.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",t[t.DefaultAccountState=6]="DefaultAccountState",t[t.ImmutableOwner=7]="ImmutableOwner",t[t.MemoTransfer=8]="MemoTransfer",t[t.NonTransferable=9]="NonTransferable",t[t.InterestBearingConfig=10]="InterestBearingConfig",t[t.CpiGuard=11]="CpiGuard",t[t.PermanentDelegate=12]="PermanentDelegate",t[t.NonTransferableAccount=13]="NonTransferableAccount"})(ExtensionType||(ExtensionType={}));const TYPE_SIZE=2,LENGTH_SIZE=2;function getTypeLen(t){switch(t){case ExtensionType.Uninitialized:return 0;case ExtensionType.TransferFeeConfig:return TRANSFER_FEE_CONFIG_SIZE;case ExtensionType.TransferFeeAmount:return TRANSFER_FEE_AMOUNT_SIZE;case ExtensionType.MintCloseAuthority:return MINT_CLOSE_AUTHORITY_SIZE;case ExtensionType.ConfidentialTransferMint:return 97;case ExtensionType.ConfidentialTransferAccount:return 286;case ExtensionType.CpiGuard:return CPI_GUARD_SIZE;case ExtensionType.DefaultAccountState:return DEFAULT_ACCOUNT_STATE_SIZE;case ExtensionType.ImmutableOwner:return IMMUTABLE_OWNER_SIZE;case ExtensionType.MemoTransfer:return MEMO_TRANSFER_SIZE;case ExtensionType.NonTransferable:return NON_TRANSFERABLE_SIZE;case ExtensionType.InterestBearingConfig:return INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case ExtensionType.PermanentDelegate:return PERMANENT_DELEGATE_SIZE;case ExtensionType.NonTransferableAccount:return NON_TRANSFERABLE_ACCOUNT_SIZE;default:throw Error(`Unknown extension type: ${t}`)}}function isMintExtension(t){switch(t){case ExtensionType.TransferFeeConfig:case ExtensionType.MintCloseAuthority:case ExtensionType.ConfidentialTransferMint:case ExtensionType.DefaultAccountState:case ExtensionType.NonTransferable:case ExtensionType.InterestBearingConfig:case ExtensionType.PermanentDelegate:return!0;case ExtensionType.Uninitialized:case ExtensionType.TransferFeeAmount:case ExtensionType.ConfidentialTransferAccount:case ExtensionType.ImmutableOwner:case ExtensionType.MemoTransfer:case ExtensionType.CpiGuard:case ExtensionType.NonTransferableAccount:return!1;default:throw Error(`Unknown extension type: ${t}`)}}function isAccountExtension(t){switch(t){case ExtensionType.TransferFeeAmount:case ExtensionType.ConfidentialTransferAccount:case ExtensionType.ImmutableOwner:case ExtensionType.MemoTransfer:case ExtensionType.CpiGuard:case ExtensionType.NonTransferableAccount:return!0;case ExtensionType.Uninitialized:case ExtensionType.TransferFeeConfig:case ExtensionType.MintCloseAuthority:case ExtensionType.ConfidentialTransferMint:case ExtensionType.DefaultAccountState:case ExtensionType.NonTransferable:case ExtensionType.InterestBearingConfig:case ExtensionType.PermanentDelegate:return!1;default:throw Error(`Unknown extension type: ${t}`)}}function getAccountTypeOfMintType(t){switch(t){case ExtensionType.TransferFeeConfig:return ExtensionType.TransferFeeAmount;case ExtensionType.ConfidentialTransferMint:return ExtensionType.ConfidentialTransferAccount;case ExtensionType.NonTransferable:return ExtensionType.NonTransferableAccount;case ExtensionType.TransferFeeAmount:case ExtensionType.ConfidentialTransferAccount:case ExtensionType.CpiGuard:case ExtensionType.DefaultAccountState:case ExtensionType.ImmutableOwner:case ExtensionType.MemoTransfer:case ExtensionType.MintCloseAuthority:case ExtensionType.Uninitialized:case ExtensionType.InterestBearingConfig:case ExtensionType.PermanentDelegate:case ExtensionType.NonTransferableAccount:return ExtensionType.Uninitialized}}function getLen(t,e){if(t.length===0)return e;{const r=ACCOUNT_SIZE+ACCOUNT_TYPE_SIZE+t.filter((n,o)=>o===t.indexOf(n)).map(n=>getTypeLen(n)+TYPE_SIZE+LENGTH_SIZE).reduce((n,o)=>n+o);return r===MULTISIG_SIZE?r+TYPE_SIZE:r}}function getMintLen(t){return getLen(t,MINT_SIZE)}function getAccountLen(t){return getLen(t,ACCOUNT_SIZE)}function getExtensionData(t,e){let r=0;for(;r+TYPE_SIZE+LENGTH_SIZE<=e.length;){const n=e.readUInt16LE(r),o=e.readUInt16LE(r+TYPE_SIZE),a=r+TYPE_SIZE+LENGTH_SIZE;if(n==t)return e.slice(a,a+o);r=a+o}return null}function getExtensionTypes(t){const e=[];let r=0;for(;r<t.length;){const n=t.readUInt16LE(r);e.push(n);const o=t.readUInt16LE(r+TYPE_SIZE);r+=TYPE_SIZE+LENGTH_SIZE+o}return e}function getAccountLenForMint(t){const r=getExtensionTypes(t.tlvData).map(getAccountTypeOfMintType);return getAccountLen(r)}function createAssociatedTokenAccountInstruction$1(t,e,r,n,o=TOKEN_PROGRAM_ID$1,a=ASSOCIATED_TOKEN_PROGRAM_ID$1){return buildAssociatedTokenAccountInstruction(t,e,r,n,dist$3.Buffer.alloc(0),o,a)}function createAssociatedTokenAccountIdempotentInstruction(t,e,r,n,o=TOKEN_PROGRAM_ID$1,a=ASSOCIATED_TOKEN_PROGRAM_ID$1){return buildAssociatedTokenAccountInstruction(t,e,r,n,dist$3.Buffer.from([1]),o,a)}function buildAssociatedTokenAccountInstruction(t,e,r,n,o,a=TOKEN_PROGRAM_ID$1,c=ASSOCIATED_TOKEN_PROGRAM_ID$1){const u=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:SystemProgram$3.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new TransactionInstruction$3({keys:u,programId:c,data:o})}function vaultTransactionCreate({multisigPda:t,transactionIndex:e,creator:r,rentPayer:n,vaultIndex:o,ephemeralSigners:a,transactionMessage:c,addressLookupTableAccounts:u,memo:gr,programId:br=PROGRAM_ID}){const[_r]=getVaultPda({multisigPda:t,index:o,programId:br}),[Ar]=getTransactionPda({multisigPda:t,index:e,programId:br}),vr=transactionMessageToMultisigTransactionMessageBytes({message:c,addressLookupTableAccounts:u,vaultPda:_r});return createVaultTransactionCreateInstruction({multisig:t,transaction:Ar,creator:r,rentPayer:n??r},{args:{vaultIndex:o,ephemeralSigners:a,transactionMessage:vr,memo:gr??null}},br)}const useSizeDefaults={xs:18,sm:24,md:32,lg:38,xl:46},useSizeProps={size:String};function useSize(t,e=useSizeDefaults){return computed$1(()=>t.size!==void 0?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null)}const createComponent=t=>markRaw(defineComponent(t)),createDirective=t=>markRaw(t);function hSlot(t,e){return t!==void 0&&t()||e}function hUniqueSlot(t,e){if(t!==void 0){const r=t();if(r!=null)return r.slice()}return e}function hMergeSlot(t,e){return t!==void 0?e.concat(t()):e}function hMergeSlotSafely(t,e){return t===void 0?e:e!==void 0?e.concat(t()):t()}function hDir(t,e,r,n,o,a){e.key=n+o;const c=h$1(t,e,r);return o===!0?withDirectives(c,a()):c}const defaultViewBox="0 0 24 24",sameFn=t=>t,ionFn=t=>`ionicons ${t}`,libMap={"mdi-":t=>`mdi ${t}`,"icon-":sameFn,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":ionFn,"ion-ios":ionFn,"ion-logo":ionFn,"iconfont ":sameFn,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`},matMap={o_:"-outlined",r_:"-round",s_:"-sharp"},symMap={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},libRE=new RegExp("^("+Object.keys(libMap).join("|")+")"),matRE=new RegExp("^("+Object.keys(matMap).join("|")+")"),symRE=new RegExp("^("+Object.keys(symMap).join("|")+")"),mRE=/^[Mm]\s?[-+]?\.?\d/,imgRE=/^img:/,svgUseRE=/^svguse:/,ionRE=/^ion-/,faRE=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var QIcon=createComponent({name:"QIcon",props:{...useSizeProps,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:r}}=getCurrentInstance(),n=useSize(t),o=computed$1(()=>"q-icon"+(t.left===!0?" on-left":"")+(t.right===!0?" on-right":"")+(t.color!==void 0?` text-${t.color}`:"")),a=computed$1(()=>{let c,u=t.name;if(u==="none"||!u)return{none:!0};if(r.iconMapFn!==null){const _r=r.iconMapFn(u);if(_r!==void 0)if(_r.icon!==void 0){if(u=_r.icon,u==="none"||!u)return{none:!0}}else return{cls:_r.cls,content:_r.content!==void 0?_r.content:" "}}if(mRE.test(u)===!0){const[_r,Ar=defaultViewBox]=u.split("|");return{svg:!0,viewBox:Ar,nodes:_r.split("&&").map(vr=>{const[Tr,Or,Ir]=vr.split("@@");return h$1("path",{style:Or,d:Tr,transform:Ir})})}}if(imgRE.test(u)===!0)return{img:!0,src:u.substring(4)};if(svgUseRE.test(u)===!0){const[_r,Ar=defaultViewBox]=u.split("|");return{svguse:!0,src:_r.substring(7),viewBox:Ar}}let gr=" ";const br=u.match(libRE);if(br!==null)c=libMap[br[1]](u);else if(faRE.test(u)===!0)c=u;else if(ionRE.test(u)===!0)c=`ionicons ion-${r.platform.is.ios===!0?"ios":"md"}${u.substring(3)}`;else if(symRE.test(u)===!0){c="notranslate material-symbols";const _r=u.match(symRE);_r!==null&&(u=u.substring(6),c+=symMap[_r[1]]),gr=u}else{c="notranslate material-icons";const _r=u.match(matRE);_r!==null&&(u=u.substring(2),c+=matMap[_r[1]]),gr=u}return{cls:c,content:gr}});return()=>{const c={class:o.value,style:n.value,"aria-hidden":"true",role:"presentation"};return a.value.none===!0?h$1(t.tag,c,hSlot(e.default)):a.value.img===!0?h$1("span",c,hMergeSlot(e.default,[h$1("img",{src:a.value.src})])):a.value.svg===!0?h$1("span",c,hMergeSlot(e.default,[h$1("svg",{viewBox:a.value.viewBox||"0 0 24 24"},a.value.nodes)])):a.value.svguse===!0?h$1("span",c,hMergeSlot(e.default,[h$1("svg",{viewBox:a.value.viewBox},[h$1("use",{"xlink:href":a.value.src})])])):(a.value.cls!==void 0&&(c.class+=" "+a.value.cls),h$1(t.tag,c,hMergeSlot(e.default,[a.value.content])))}}}),QAvatar=createComponent({name:"QAvatar",props:{...useSizeProps,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(t,{slots:e}){const r=useSize(t),n=computed$1(()=>"q-avatar"+(t.color?` bg-${t.color}`:"")+(t.textColor?` text-${t.textColor} q-chip--colored`:"")+(t.square===!0?" q-avatar--square":t.rounded===!0?" rounded-borders":"")),o=computed$1(()=>t.fontSize?{fontSize:t.fontSize}:null);return()=>{const a=t.icon!==void 0?[h$1(QIcon,{name:t.icon})]:void 0;return h$1("div",{class:n.value,style:r.value},[h$1("div",{class:"q-avatar__content row flex-center overflow-hidden",style:o.value},hMergeSlotSafely(e.default,a))])}}});const useSpinnerProps={size:{type:[Number,String],default:"1em"},color:String};function useSpinner(t){return{cSize:computed$1(()=>t.size in useSizeDefaults?`${useSizeDefaults[t.size]}px`:t.size),classes:computed$1(()=>"q-spinner"+(t.color?` text-${t.color}`:""))}}var QSpinner=createComponent({name:"QSpinner",props:{...useSpinnerProps,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:r}=useSpinner(t);return()=>h$1("svg",{class:r.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[h$1("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}});function css(t,e){const r=t.style;for(const n in e)r[n]=e[n]}function getElement(t){if(t==null)return;if(typeof t=="string")try{return document.querySelector(t)||void 0}catch{return}const e=unref(t);if(e)return e.$el||e}function childHasFocus(t,e){if(t==null||t.contains(e)===!0)return!0;for(let r=t.nextElementSibling;r!==null;r=r.nextElementSibling)if(r.contains(e))return!0;return!1}function throttle(t,e=250){let r=!1,n;return function(){return r===!1&&(r=!0,setTimeout(()=>{r=!1},e),n=t.apply(this,arguments)),n}}function showRipple(t,e,r,n){r.modifiers.stop===!0&&stop(t);const o=r.modifiers.color;let a=r.modifiers.center;a=a===!0||n===!0;const c=document.createElement("span"),u=document.createElement("span"),gr=position(t),{left:br,top:_r,width:Ar,height:vr}=e.getBoundingClientRect(),Tr=Math.sqrt(Ar*Ar+vr*vr),Or=Tr/2,Ir=`${(Ar-Tr)/2}px`,xr=a?Ir:`${gr.left-br-Or}px`,Lr=`${(vr-Tr)/2}px`,Fr=a?Lr:`${gr.top-_r-Or}px`;u.className="q-ripple__inner",css(u,{height:`${Tr}px`,width:`${Tr}px`,transform:`translate3d(${xr},${Fr},0) scale3d(.2,.2,1)`,opacity:0}),c.className=`q-ripple${o?" text-"+o:""}`,c.setAttribute("dir","ltr"),c.appendChild(u),e.appendChild(c);const Mr=()=>{c.remove(),clearTimeout(Hr)};r.abort.push(Mr);let Hr=setTimeout(()=>{u.classList.add("q-ripple__inner--enter"),u.style.transform=`translate3d(${Ir},${Lr},0) scale3d(1,1,1)`,u.style.opacity=.2,Hr=setTimeout(()=>{u.classList.remove("q-ripple__inner--enter"),u.classList.add("q-ripple__inner--leave"),u.style.opacity=0,Hr=setTimeout(()=>{c.remove(),r.abort.splice(r.abort.indexOf(Mr),1)},275)},250)},50)}function updateModifiers(t,{modifiers:e,value:r,arg:n}){const o=Object.assign({},t.cfg.ripple,e,r);t.modifiers={early:o.early===!0,stop:o.stop===!0,center:o.center===!0,color:o.color||n,keyCodes:[].concat(o.keyCodes||13)}}var Ripple=createDirective({name:"ripple",beforeMount(t,e){const r=e.instance.$.appContext.config.globalProperties.$q.config||{};if(r.ripple===!1)return;const n={cfg:r,enabled:e.value!==!1,modifiers:{},abort:[],start(o){n.enabled===!0&&o.qSkipRipple!==!0&&o.type===(n.modifiers.early===!0?"pointerdown":"click")&&showRipple(o,t,n,o.qKeyEvent===!0)},keystart:throttle(o=>{n.enabled===!0&&o.qSkipRipple!==!0&&isKeyCode(o,n.modifiers.keyCodes)===!0&&o.type===`key${n.modifiers.early===!0?"down":"up"}`&&showRipple(o,t,n,!0)},300)};updateModifiers(n,e),t.__qripple=n,addEvt(n,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const r=t.__qripple;r!==void 0&&(r.enabled=e.value!==!1,r.enabled===!0&&Object(e.value)===e.value&&updateModifiers(r,e))}},beforeUnmount(t){const e=t.__qripple;e!==void 0&&(e.abort.forEach(r=>{r()}),cleanEvt(e,"main"),delete t._qripple)}});const alignMap={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},alignValues=Object.keys(alignMap),useAlignProps={align:{type:String,validator:t=>alignValues.includes(t)}};function useAlign(t){return computed$1(()=>{const e=t.align===void 0?t.vertical===!0?"stretch":"left":t.align;return`${t.vertical===!0?"items":"justify"}-${alignMap[e]}`})}function getParentProxy(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;for(;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function fillNormalizedVNodes(t,e){typeof e.type=="symbol"?Array.isArray(e.children)===!0&&e.children.forEach(r=>{fillNormalizedVNodes(t,r)}):t.add(e)}function getNormalizedVNodes(t){const e=new Set;return t.forEach(r=>{fillNormalizedVNodes(e,r)}),Array.from(e)}function vmHasRouter(t){return t.appContext.config.globalProperties.$router!==void 0}function vmIsDestroyed(t){return t.isUnmounted===!0||t.isDeactivated===!0}function getOriginalPath$1(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function isSameRouteRecord$1(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function includesParams$1(t,e){for(const r in e){const n=e[r],o=t[r];if(typeof n=="string"){if(n!==o)return!1}else if(Array.isArray(o)===!1||o.length!==n.length||n.some((a,c)=>a!==o[c]))return!1}return!0}function isEquivalentArray$1(t,e){return Array.isArray(e)===!0?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function isSameRouteLocationParamsValue$1(t,e){return Array.isArray(t)===!0?isEquivalentArray$1(t,e):Array.isArray(e)===!0?isEquivalentArray$1(e,t):t===e}function isSameRouteLocationParams$1(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(isSameRouteLocationParamsValue$1(t[r],e[r])===!1)return!1;return!0}const useRouterLinkProps={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function useRouterLink({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const r=getCurrentInstance(),{props:n,proxy:o,emit:a}=r,c=vmHasRouter(r),u=computed$1(()=>n.disable!==!0&&n.href!==void 0),gr=computed$1(e===!0?()=>c===!0&&n.disable!==!0&&u.value!==!0&&n.to!==void 0&&n.to!==null&&n.to!=="":()=>c===!0&&u.value!==!0&&n.to!==void 0&&n.to!==null&&n.to!==""),br=computed$1(()=>gr.value===!0?Fr(n.to):null),_r=computed$1(()=>br.value!==null),Ar=computed$1(()=>u.value===!0||_r.value===!0),vr=computed$1(()=>n.type==="a"||Ar.value===!0?"a":n.tag||t||"div"),Tr=computed$1(()=>u.value===!0?{href:n.href,target:n.target}:_r.value===!0?{href:br.value.href,target:n.target}:{}),Or=computed$1(()=>{if(_r.value===!1)return-1;const{matched:Vr}=br.value,{length:Kr}=Vr,jr=Vr[Kr-1];if(jr===void 0)return-1;const qr=o.$route.matched;if(qr.length===0)return-1;const tn=qr.findIndex(isSameRouteRecord$1.bind(null,jr));if(tn>-1)return tn;const en=getOriginalPath$1(Vr[Kr-2]);return Kr>1&&getOriginalPath$1(jr)===en&&qr[qr.length-1].path!==en?qr.findIndex(isSameRouteRecord$1.bind(null,Vr[Kr-2])):tn}),Ir=computed$1(()=>_r.value===!0&&Or.value!==-1&&includesParams$1(o.$route.params,br.value.params)),xr=computed$1(()=>Ir.value===!0&&Or.value===o.$route.matched.length-1&&isSameRouteLocationParams$1(o.$route.params,br.value.params)),Lr=computed$1(()=>_r.value===!0?xr.value===!0?` ${n.exactActiveClass} ${n.activeClass}`:n.exact===!0?"":Ir.value===!0?` ${n.activeClass}`:"":"");function Fr(Vr){try{return o.$router.resolve(Vr)}catch{}return null}function Mr(Vr,{returnRouterError:Kr,to:jr=n.to,replace:qr=n.replace}={}){if(n.disable===!0)return Vr.preventDefault(),Promise.resolve(!1);if(Vr.metaKey||Vr.altKey||Vr.ctrlKey||Vr.shiftKey||Vr.button!==void 0&&Vr.button!==0||n.target==="_blank")return Promise.resolve(!1);Vr.preventDefault();const tn=o.$router[qr===!0?"replace":"push"](jr);return Kr===!0?tn:tn.then(()=>{}).catch(()=>{})}function Hr(Vr){if(_r.value===!0){const Kr=jr=>Mr(Vr,jr);a("click",Vr,Kr),Vr.defaultPrevented!==!0&&Kr()}else a("click",Vr)}return{hasRouterLink:_r,hasHrefLink:u,hasLink:Ar,linkTag:vr,resolvedLink:br,linkIsActive:Ir,linkIsExactActive:xr,linkClass:Lr,linkAttrs:Tr,getLink:Fr,navigateToRouterLink:Mr,navigateOnClick:Hr}}const btnPadding={none:0,xs:4,sm:8,md:16,lg:24,xl:32},defaultSizes={xs:8,sm:10,md:14,lg:20,xl:24},formTypes=["button","submit","reset"],mediaTypeRE=/[^\s]\/[^\s]/,btnDesignOptions=["flat","outline","push","unelevated"],getBtnDesign=(t,e)=>t.flat===!0?"flat":t.outline===!0?"outline":t.push===!0?"push":t.unelevated===!0?"unelevated":e,getBtnDesignAttr=t=>{const e=getBtnDesign(t);return e!==void 0?{[e]:!0}:{}},useBtnProps={...useSizeProps,...useRouterLinkProps,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...btnDesignOptions.reduce((t,e)=>(t[e]=Boolean)&&t,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...useAlignProps.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function useBtn(t){const e=useSize(t,defaultSizes),r=useAlign(t),{hasRouterLink:n,hasLink:o,linkTag:a,linkAttrs:c,navigateOnClick:u}=useRouterLink({fallbackTag:"button"}),gr=computed$1(()=>{const xr=t.fab===!1&&t.fabMini===!1?e.value:{};return t.padding!==void 0?Object.assign({},xr,{padding:t.padding.split(/\s+/).map(Lr=>Lr in btnPadding?btnPadding[Lr]+"px":Lr).join(" "),minWidth:"0",minHeight:"0"}):xr}),br=computed$1(()=>t.rounded===!0||t.fab===!0||t.fabMini===!0),_r=computed$1(()=>t.disable!==!0&&t.loading!==!0),Ar=computed$1(()=>_r.value===!0?t.tabindex||0:-1),vr=computed$1(()=>getBtnDesign(t,"standard")),Tr=computed$1(()=>{const xr={tabindex:Ar.value};return o.value===!0?Object.assign(xr,c.value):formTypes.includes(t.type)===!0&&(xr.type=t.type),a.value==="a"?(t.disable===!0?xr["aria-disabled"]="true":xr.href===void 0&&(xr.role="button"),n.value!==!0&&mediaTypeRE.test(t.type)===!0&&(xr.type=t.type)):t.disable===!0&&(xr.disabled="",xr["aria-disabled"]="true"),t.loading===!0&&t.percentage!==void 0&&Object.assign(xr,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.percentage}),xr}),Or=computed$1(()=>{let xr;t.color!==void 0?t.flat===!0||t.outline===!0?xr=`text-${t.textColor||t.color}`:xr=`bg-${t.color} text-${t.textColor||"white"}`:t.textColor&&(xr=`text-${t.textColor}`);const Lr=t.round===!0?"round":`rectangle${br.value===!0?" q-btn--rounded":t.square===!0?" q-btn--square":""}`;return`q-btn--${vr.value} q-btn--${Lr}`+(xr!==void 0?" "+xr:"")+(_r.value===!0?" q-btn--actionable q-focusable q-hoverable":t.disable===!0?" disabled":"")+(t.fab===!0?" q-btn--fab":t.fabMini===!0?" q-btn--fab-mini":"")+(t.noCaps===!0?" q-btn--no-uppercase":"")+(t.dense===!0?" q-btn--dense":"")+(t.stretch===!0?" no-border-radius self-stretch":"")+(t.glossy===!0?" glossy":"")+(t.square?" q-btn--square":"")}),Ir=computed$1(()=>r.value+(t.stack===!0?" column":" row")+(t.noWrap===!0?" no-wrap text-no-wrap":"")+(t.loading===!0?" q-btn__content--hidden":""));return{classes:Or,style:gr,innerClasses:Ir,attributes:Tr,hasLink:o,linkTag:a,navigateOnClick:u,isActionable:_r}}const{passiveCapture}=listenOpts;let touchTarget=null,keyboardTarget=null,mouseTarget=null;var QBtn=createComponent({name:"QBtn",props:{...useBtnProps,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:r}){const{proxy:n}=getCurrentInstance(),{classes:o,style:a,innerClasses:c,attributes:u,hasLink:gr,linkTag:br,navigateOnClick:_r,isActionable:Ar}=useBtn(t),vr=ref(null),Tr=ref(null);let Or=null,Ir,xr=null;const Lr=computed$1(()=>t.label!==void 0&&t.label!==null&&t.label!==""),Fr=computed$1(()=>t.disable===!0||t.ripple===!1?!1:{keyCodes:gr.value===!0?[13,32]:[13],...t.ripple===!0?{}:t.ripple}),Mr=computed$1(()=>({center:t.round})),Hr=computed$1(()=>{const Rr=Math.max(0,Math.min(100,t.percentage));return Rr>0?{transition:"transform 0.6s",transform:`translateX(${Rr-100}%)`}:{}}),Vr=computed$1(()=>{if(t.loading===!0)return{onMousedown:Ur,onTouchstart:Ur,onClick:Ur,onKeydown:Ur,onKeyup:Ur};if(Ar.value===!0){const Rr={onClick:jr,onKeydown:qr,onMousedown:en};if(n.$q.platform.has.touch===!0){const Pr=t.onTouchstart!==void 0?"":"Passive";Rr[`onTouchstart${Pr}`]=tn}return Rr}return{onClick:stopAndPrevent}}),Kr=computed$1(()=>({ref:vr,class:"q-btn q-btn-item non-selectable no-outline "+o.value,style:a.value,...u.value,...Vr.value}));function jr(Rr){if(vr.value!==null){if(Rr!==void 0){if(Rr.defaultPrevented===!0)return;const Pr=document.activeElement;if(t.type==="submit"&&Pr!==document.body&&vr.value.contains(Pr)===!1&&Pr.contains(vr.value)===!1){vr.value.focus();const Dr=()=>{document.removeEventListener("keydown",stopAndPrevent,!0),document.removeEventListener("keyup",Dr,passiveCapture),vr.value!==null&&vr.value.removeEventListener("blur",Dr,passiveCapture)};document.addEventListener("keydown",stopAndPrevent,!0),document.addEventListener("keyup",Dr,passiveCapture),vr.value.addEventListener("blur",Dr,passiveCapture)}}_r(Rr)}}function qr(Rr){vr.value!==null&&(r("keydown",Rr),isKeyCode(Rr,[13,32])===!0&&keyboardTarget!==vr.value&&(keyboardTarget!==null&&cn(),Rr.defaultPrevented!==!0&&(vr.value.focus(),keyboardTarget=vr.value,vr.value.classList.add("q-btn--active"),document.addEventListener("keyup",sn,!0),vr.value.addEventListener("blur",sn,passiveCapture)),stopAndPrevent(Rr)))}function tn(Rr){vr.value!==null&&(r("touchstart",Rr),Rr.defaultPrevented!==!0&&(touchTarget!==vr.value&&(touchTarget!==null&&cn(),touchTarget=vr.value,Or=Rr.target,Or.addEventListener("touchcancel",sn,passiveCapture),Or.addEventListener("touchend",sn,passiveCapture)),Ir=!0,xr!==null&&clearTimeout(xr),xr=setTimeout(()=>{xr=null,Ir=!1},200)))}function en(Rr){vr.value!==null&&(Rr.qSkipRipple=Ir===!0,r("mousedown",Rr),Rr.defaultPrevented!==!0&&mouseTarget!==vr.value&&(mouseTarget!==null&&cn(),mouseTarget=vr.value,vr.value.classList.add("q-btn--active"),document.addEventListener("mouseup",sn,passiveCapture)))}function sn(Rr){if(vr.value!==null&&!(Rr!==void 0&&Rr.type==="blur"&&document.activeElement===vr.value)){if(Rr!==void 0&&Rr.type==="keyup"){if(keyboardTarget===vr.value&&isKeyCode(Rr,[13,32])===!0){const Pr=new MouseEvent("click",Rr);Pr.qKeyEvent=!0,Rr.defaultPrevented===!0&&prevent(Pr),Rr.cancelBubble===!0&&stop(Pr),vr.value.dispatchEvent(Pr),stopAndPrevent(Rr),Rr.qKeyEvent=!0}r("keyup",Rr)}cn()}}function cn(Rr){const Pr=Tr.value;Rr!==!0&&(touchTarget===vr.value||mouseTarget===vr.value)&&Pr!==null&&Pr!==document.activeElement&&(Pr.setAttribute("tabindex",-1),Pr.focus()),touchTarget===vr.value&&(Or!==null&&(Or.removeEventListener("touchcancel",sn,passiveCapture),Or.removeEventListener("touchend",sn,passiveCapture)),touchTarget=Or=null),mouseTarget===vr.value&&(document.removeEventListener("mouseup",sn,passiveCapture),mouseTarget=null),keyboardTarget===vr.value&&(document.removeEventListener("keyup",sn,!0),vr.value!==null&&vr.value.removeEventListener("blur",sn,passiveCapture),keyboardTarget=null),vr.value!==null&&vr.value.classList.remove("q-btn--active")}function Ur(Rr){stopAndPrevent(Rr),Rr.qSkipRipple=!0}return onBeforeUnmount(()=>{cn(!0)}),Object.assign(n,{click:jr}),()=>{let Rr=[];t.icon!==void 0&&Rr.push(h$1(QIcon,{name:t.icon,left:t.stack===!1&&Lr.value===!0,role:"img","aria-hidden":"true"})),Lr.value===!0&&Rr.push(h$1("span",{class:"block"},[t.label])),Rr=hMergeSlot(e.default,Rr),t.iconRight!==void 0&&t.round===!1&&Rr.push(h$1(QIcon,{name:t.iconRight,right:t.stack===!1&&Lr.value===!0,role:"img","aria-hidden":"true"}));const Pr=[h$1("span",{class:"q-focus-helper",ref:Tr})];return t.loading===!0&&t.percentage!==void 0&&Pr.push(h$1("span",{class:"q-btn__progress absolute-full overflow-hidden"+(t.darkPercentage===!0?" q-btn__progress--dark":"")},[h$1("span",{class:"q-btn__progress-indicator fit block",style:Hr.value})])),Pr.push(h$1("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+c.value},Rr)),t.loading!==null&&Pr.push(h$1(Transition,{name:"q-transition--fade"},()=>t.loading===!0?[h$1("span",{key:"loading",class:"absolute-full flex flex-center"},e.loading!==void 0?e.loading():[h$1(QSpinner)])]:null)),withDirectives(h$1(br.value,Kr.value,Pr),[[Ripple,Fr.value,void 0,Mr.value]])}}});let portalIndex=1,target=document.body;function createGlobalNode(t,e){const r=document.createElement("div");if(r.id=e!==void 0?`q-portal--${e}--${portalIndex++}`:t,globalConfig.globalNodes!==void 0){const n=globalConfig.globalNodes.class;n!==void 0&&(r.className=n)}return target.appendChild(r),r}function removeGlobalNode(t){t.remove()}let uid=0;const defaults={},groups={},notificationsList={},positionClass={},emptyRE=/^\s*$/,notifRefs=[],positionList=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],badgePositions=["top-left","top-right","bottom-left","bottom-right"],notifTypes={positive:{icon:t=>t.iconSet.type.positive,color:"positive"},negative:{icon:t=>t.iconSet.type.negative,color:"negative"},warning:{icon:t=>t.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:t=>t.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function addNotification(t,e,r){if(!t)return logError("parameter required");let n;const o={textColor:"white"};if(t.ignoreDefaults!==!0&&Object.assign(o,defaults),isObject$7(t)===!1&&(o.type&&Object.assign(o,notifTypes[o.type]),t={message:t}),Object.assign(o,notifTypes[t.type||o.type],t),typeof o.icon=="function"&&(o.icon=o.icon(e)),o.spinner?(o.spinner===!0&&(o.spinner=QSpinner),o.spinner=markRaw(o.spinner)):o.spinner=!1,o.meta={hasMedia:Boolean(o.spinner!==!1||o.icon||o.avatar),hasText:hasContent(o.message)||hasContent(o.caption)},o.position){if(positionList.includes(o.position)===!1)return logError("wrong position",t)}else o.position="bottom";if(o.timeout===void 0)o.timeout=5e3;else{const gr=parseInt(o.timeout,10);if(isNaN(gr)||gr<0)return logError("wrong timeout",t);o.timeout=gr}o.timeout===0?o.progress=!1:o.progress===!0&&(o.meta.progressClass="q-notification__progress"+(o.progressClass?` ${o.progressClass}`:""),o.meta.progressStyle={animationDuration:`${o.timeout+1e3}ms`});const a=(Array.isArray(t.actions)===!0?t.actions:[]).concat(t.ignoreDefaults!==!0&&Array.isArray(defaults.actions)===!0?defaults.actions:[]).concat(notifTypes[t.type]!==void 0&&Array.isArray(notifTypes[t.type].actions)===!0?notifTypes[t.type].actions:[]),{closeBtn:c}=o;if(c&&a.push({label:typeof c=="string"?c:e.lang.label.close}),o.actions=a.map(({handler:gr,noDismiss:br,..._r})=>({flat:!0,..._r,onClick:typeof gr=="function"?()=>{gr(),br!==!0&&u()}:()=>{u()}})),o.multiLine===void 0&&(o.multiLine=o.actions.length>1),Object.assign(o.meta,{class:`q-notification row items-stretch q-notification--${o.multiLine===!0?"multi-line":"standard"}`+(o.color!==void 0?` bg-${o.color}`:"")+(o.textColor!==void 0?` text-${o.textColor}`:"")+(o.classes!==void 0?` ${o.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(o.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(o.multiLine===!0?"":" col"),leftClass:o.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...o.attrs}}),o.group===!1?(o.group=void 0,o.meta.group=void 0):((o.group===void 0||o.group===!0)&&(o.group=[o.message,o.caption,o.multiline].concat(o.actions.map(gr=>`${gr.label}*${gr.icon}`)).join("|")),o.meta.group=o.group+"|"+o.position),o.actions.length===0?o.actions=void 0:o.meta.actionsClass="q-notification__actions row items-center "+(o.multiLine===!0?"justify-end":"col-auto")+(o.meta.hasMedia===!0?" q-notification__actions--with-media":""),r!==void 0){r.notif.meta.timer&&(clearTimeout(r.notif.meta.timer),r.notif.meta.timer=void 0),o.meta.uid=r.notif.meta.uid;const gr=notificationsList[o.position].value.indexOf(r.notif);notificationsList[o.position].value[gr]=o}else{const gr=groups[o.meta.group];if(gr===void 0){if(o.meta.uid=uid++,o.meta.badge=1,["left","right","center"].indexOf(o.position)!==-1)notificationsList[o.position].value.splice(Math.floor(notificationsList[o.position].value.length/2),0,o);else{const br=o.position.indexOf("top")>-1?"unshift":"push";notificationsList[o.position].value[br](o)}o.group!==void 0&&(groups[o.meta.group]=o)}else{if(gr.meta.timer&&(clearTimeout(gr.meta.timer),gr.meta.timer=void 0),o.badgePosition!==void 0){if(badgePositions.includes(o.badgePosition)===!1)return logError("wrong badgePosition",t)}else o.badgePosition=`top-${o.position.indexOf("left")>-1?"right":"left"}`;o.meta.uid=gr.meta.uid,o.meta.badge=gr.meta.badge+1,o.meta.badgeClass=`q-notification__badge q-notification__badge--${o.badgePosition}`+(o.badgeColor!==void 0?` bg-${o.badgeColor}`:"")+(o.badgeTextColor!==void 0?` text-${o.badgeTextColor}`:"")+(o.badgeClass?` ${o.badgeClass}`:"");const br=notificationsList[o.position].value.indexOf(gr);notificationsList[o.position].value[br]=groups[o.meta.group]=o}}const u=()=>{removeNotification(o),n=void 0};if(o.timeout>0&&(o.meta.timer=setTimeout(()=>{o.meta.timer=void 0,u()},o.timeout+1e3)),o.group!==void 0)return gr=>{gr!==void 0?logError("trying to update a grouped one which is forbidden",t):u()};if(n={dismiss:u,config:t,notif:o},r!==void 0){Object.assign(r,n);return}return gr=>{if(n!==void 0)if(gr===void 0)n.dismiss();else{const br=Object.assign({},n.config,gr,{group:!1,position:o.position});addNotification(br,e,n)}}}function removeNotification(t){t.meta.timer&&(clearTimeout(t.meta.timer),t.meta.timer=void 0);const e=notificationsList[t.position].value.indexOf(t);if(e!==-1){t.group!==void 0&&delete groups[t.meta.group];const r=notifRefs[""+t.meta.uid];if(r){const{width:n,height:o}=getComputedStyle(r);r.style.left=`${r.offsetLeft}px`,r.style.width=n,r.style.height=o}notificationsList[t.position].value.splice(e,1),typeof t.onDismiss=="function"&&t.onDismiss()}}function hasContent(t){return t!=null&&emptyRE.test(t)!==!0}function logError(t,e){return console.error(`Notify: ${t}`,e),!1}function getComponent(){return createComponent({name:"QNotifications",devtools:{hide:!0},setup(){return()=>h$1("div",{class:"q-notifications"},positionList.map(t=>h$1(TransitionGroup,{key:t,class:positionClass[t],tag:"div",name:`q-notification--${t}`},()=>notificationsList[t].value.map(e=>{const r=e.meta,n=[];if(r.hasMedia===!0&&(e.spinner!==!1?n.push(h$1(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+r.leftClass,color:e.spinnerColor,size:e.spinnerSize})):e.icon?n.push(h$1(QIcon,{class:"q-notification__icon q-notification__icon--"+r.leftClass,name:e.icon,color:e.iconColor,size:e.iconSize,role:"img"})):e.avatar&&n.push(h$1(QAvatar,{class:"q-notification__avatar q-notification__avatar--"+r.leftClass},()=>h$1("img",{src:e.avatar,"aria-hidden":"true"})))),r.hasText===!0){let a;const c={class:"q-notification__message col"};if(e.html===!0)c.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const u=[e.message];a=e.caption?[h$1("div",u),h$1("div",{class:"q-notification__caption"},[e.caption])]:u}n.push(h$1("div",c,a))}const o=[h$1("div",{class:r.contentClass},n)];return e.progress===!0&&o.push(h$1("div",{key:`${r.uid}|p|${r.badge}`,class:r.progressClass,style:r.progressStyle})),e.actions!==void 0&&o.push(h$1("div",{class:r.actionsClass},e.actions.map(a=>h$1(QBtn,a)))),r.badge>1&&o.push(h$1("div",{key:`${r.uid}|${r.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[r.badge])),h$1("div",{ref:a=>{notifRefs[""+r.uid]=a},key:r.uid,class:r.class,...r.attrs},[h$1("div",{class:r.wrapperClass},o)])}))))}})}var Notify={setDefaults(t){isObject$7(t)===!0&&Object.assign(defaults,t)},registerType(t,e){isObject$7(e)===!0&&(notifTypes[t]=e)},install({$q:t,parentApp:e}){if(t.notify=this.create=r=>addNotification(r,t),t.notify.setDefaults=this.setDefaults,t.notify.registerType=this.registerType,t.config.notify!==void 0&&this.setDefaults(t.config.notify),this.__installed!==!0){positionList.forEach(n=>{notificationsList[n]=ref([]);const o=["left","center","right"].includes(n)===!0?"center":n.indexOf("top")>-1?"top":"bottom",a=n.indexOf("left")>-1?"start":n.indexOf("right")>-1?"end":"center",c=["left","right"].includes(n)?`items-${n==="left"?"start":"end"} justify-center`:n==="center"?"flex-center":`items-${a}`;positionClass[n]=`q-notifications__list q-notifications__list--${o} fixed column no-wrap ${c}`});const r=createGlobalNode("q-notify");createChildApp(getComponent(),e).mount(r)}}};async function handle_confirmation(t){const e=Notify.create({group:!1,timeout:10,spinner:!0,message:"Confirming tx..."}),r=await useRPCStore().connection.getLatestBlockhash();return await useRPCStore().connection.confirmTransaction({signature:t,blockhash:r.blockhash,lastValidBlockHeight:r.lastValidBlockHeight},"confirmed"),e({icon:"done",spinner:!1,color:"green",badgePosition:"bottom-right",message:"Signature confirmed!",timeout:2500}),!0}const version$2="0.5.6",name$2="proxy_rewarder",instructions$2=[{name:"registerLocker",docs:["Registers a Locker from the locked_voter program"],accounts:[{name:"admin",isMut:!0,isSigner:!0,docs:["Admin key"]},{name:"locker",isMut:!1,isSigner:!1,docs:["[locked_voter::Locker]."]},{name:"registeredLocker",isMut:!0,isSigner:!1,docs:["New RegisteredLocker account"],pda:{seeds:[{kind:"const",type:"string",value:"RegisteredLocker"},{kind:"account",type:"publicKey",account:"Locker",path:"locker"}]}},{name:"tokenMint",isMut:!1,isSigner:!1,docs:["The token mint that matches the Locker token mint (ie POLIS)"]},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1,docs:["The treasury token account holding all tokens to reward users"],pda:{seeds:[{kind:"const",type:"string",value:"TreasuryTokenAccount"},{kind:"account",type:"publicKey",account:"Locker",path:"locker"}]}},{name:"treasuryAuthority",isMut:!0,isSigner:!1,docs:["The treasury authority PDA     /// CHECK: pda token account authority"],pda:{seeds:[{kind:"const",type:"string",value:"TreasuryAuthority"},{kind:"account",type:"publicKey",account:"Locker",path:"locker"}]}},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"updateRegisteredLocker",docs:["Updates `rewards` arrays in registered_locker [proxy_rewarder::registered_locker]."],accounts:[{name:"admin",isMut:!1,isSigner:!0,docs:["Admin key"]},{name:"locker",isMut:!1,isSigner:!1,docs:["The [locked_voter::locker] being exited from."]},{name:"registeredLocker",isMut:!0,isSigner:!1,docs:["RegisteredLocker account"],pda:{seeds:[{kind:"const",type:"string",value:"RegisteredLocker"},{kind:"account",type:"publicKey",account:"Locker",path:"locker"}]}}],args:[{name:"era",type:"u16"},{name:"index",type:"u16"},{name:"periodRewardAmount",type:"u64"}]},{name:"newProxyEscrow",accounts:[{name:"escrowOwner",isMut:!0,isSigner:!0,docs:["[Owner]."]},{name:"proxyEscrow",isMut:!0,isSigner:!1,docs:["[Escrow]."],pda:{seeds:[{kind:"const",type:"string",value:"ProxyEscrow"},{kind:"account",type:"publicKey",path:"escrow_owner"}]}},{name:"payer",isMut:!0,isSigner:!0,docs:["Payer of the initialization."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"newProxy",docs:["Creates a new [Proxy] for an account.","","A Reward Escrow, or [Escrow] for short, is an agreement between a users=>proxy (known as the `authority`) and the Reward Program to","reward POLIS over specific periods of time. (curve)","proportional to the amount of stakers."],accounts:[{name:"proxyEscrow",isMut:!0,isSigner:!1,docs:["[ProxyEscrow]."]},{name:"proxy",isMut:!0,isSigner:!1,docs:["[Proxy]."],pda:{seeds:[{kind:"const",type:"string",value:"Proxy"},{kind:"account",type:"publicKey",account:"ProxyEscrow",path:"proxy_escrow"},{kind:"account",type:"publicKey",path:"proxy_owner"}]}},{name:"tokenMint",isMut:!1,isSigner:!1,docs:["Mint of the token that can be used to join the [LockedVoter::Locker]."]},{name:"proxyOwner",isMut:!0,isSigner:!0,docs:["Authority of the [Proxy] to be created."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"proxyLock",docs:["Locks `amount` of POLIS into the [LockedVoter::Escrow]."],accounts:[{name:"locker",isMut:!0,isSigner:!1,docs:["[locked_voter::Locker]."]},{name:"escrow",isMut:!0,isSigner:!1},{name:"userTokenAccount",isMut:!0,isSigner:!1,docs:["The source of deposited tokens."]},{name:"proxyTokenAccount",isMut:!0,isSigner:!1,docs:["Token account used to transfer governance tokens into [locked_voter::lock] escrow"]},{name:"escrowTokenAccount",isMut:!0,isSigner:!1,docs:["Token account held by the [locked_voter::Escrow]."]},{name:"proxy",isMut:!0,isSigner:!1,docs:["Authority of the [locked_voter::escrow]."],pda:{seeds:[{kind:"const",type:"string",value:"Proxy"},{kind:"account",type:"publicKey",account:"Proxy",path:"proxy.escrow"},{kind:"account",type:"publicKey",path:"payer"}]}},{name:"payer",isMut:!0,isSigner:!0,docs:["Payer of the initialization."]},{name:"lockedVoterProgram",isMut:!1,isSigner:!1,docs:["The [LockedVoter] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token program."]},{name:"instructionsSysvar",isMut:!1,isSigner:!1},{name:"whitelistEntry",isMut:!1,isSigner:!1,docs:["Whitelist entry."]},{name:"registeredLocker",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"},{name:"duration",type:"i64"}]},{name:"proxyExit",docs:["Exits the POLIS DAO; i.e., withdraws all staked tokens in an [Escrow] if the [Escrow] is unlocked."],accounts:[{name:"locker",isMut:!0,isSigner:!1,docs:["The [locked_voter::locker] being exited from."]},{name:"escrow",isMut:!0,isSigner:!1,docs:["The [locked_voter::Escrow] that is being closed."]},{name:"proxy",isMut:!0,isSigner:!1,docs:["Authority of the [locked_voter::Escrow]."],pda:{seeds:[{kind:"const",type:"string",value:"Proxy"},{kind:"account",type:"publicKey",account:"Proxy",path:"proxy.escrow"},{kind:"account",type:"publicKey",path:"payer"}]}},{name:"escrowTokenAccount",isMut:!0,isSigner:!1,docs:["Tokens locked up in the [locked_voter::Escrow]."]},{name:"proxyTokenAccount",isMut:!0,isSigner:!1,docs:["Destination for the tokens to unlock."]},{name:"userTokenAccount",isMut:!0,isSigner:!1,docs:["Final destination for the tokens to unlock."]},{name:"payer",isMut:!0,isSigner:!0,docs:["The payer to receive the rent refund."]},{name:"lockedVoterProgram",isMut:!1,isSigner:!1,docs:["The [LockedVoter] program."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token program."]},{name:"registeredLocker",isMut:!1,isSigner:!1}],args:[]},{name:"claimRewards",docs:["Proxy Activates a proposal.","Proxy Casts a vote.","Claims POLIS Rewards; i.e., withdraws reward tokens from a treasury if the [snapshots::escrow_history] is confirmed."],accounts:[{name:"escrow",isMut:!1,isSigner:!1,docs:["The [locked_voter::Escrow] being validated from."]},{name:"locker",isMut:!1,isSigner:!1,docs:["The [locked_voter::locker] being exited from."]},{name:"proxy",isMut:!1,isSigner:!1,docs:["Authority of the [locked_voter::Escrow]."]},{name:"proxyEscrow",isMut:!0,isSigner:!1,docs:["[proxy_rewarder::proxy_escrow]."]},{name:"escrowHistory",isMut:!1,isSigner:!1,docs:["The [snapshots::escrow_history] to read and validate."]},{name:"lockerHistory",isMut:!1,isSigner:!1,docs:["The [snapshots::locker_history] to read and validate."]},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1,docs:["Treasury tokens in the [proxy_rewarder::treasury_token_account]. The treasury token account holding all tokens to reward users"],pda:{seeds:[{kind:"const",type:"string",value:"TreasuryTokenAccount"},{kind:"account",type:"publicKey",account:"Locker",path:"locker"}]}},{name:"registeredLocker",isMut:!1,isSigner:!1,docs:["RegisteredLocker account"]},{name:"treasuryAuthority",isMut:!1,isSigner:!1,docs:["The treasury authority PDA"],pda:{seeds:[{kind:"const",type:"string",value:"TreasuryAuthority"},{kind:"account",type:"publicKey",account:"Locker",path:"locker"}]}},{name:"userTokenAccount",isMut:!0,isSigner:!1,docs:["Final destination for the tokens to unlock."]},{name:"escrowOwner",isMut:!1,isSigner:!0,docs:["[Owner]"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token program."]}],args:[]}],accounts$2=[{name:"Proxy",type:{kind:"struct",fields:[{name:"escrow",docs:["The [Escrow] that this [Proxy] is part of."],type:"publicKey"},{name:"owner",docs:["The key of the account that is authorized to cpi via this [Proxy]."],type:"publicKey"},{name:"tokenMint",docs:["Mint of the token that must be locked in the [LockedVoter::Locker]."],type:"publicKey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"proxyTokenAccount",docs:["The token account holding the proxy tokens."],type:"publicKey"}]}},{name:"ProxyEscrow",docs:["records rewards state on a user."],type:{kind:"struct",fields:[{name:"escrowOwner",docs:["The key of the account that is authorized to withdraw from the [Treasury]."],type:"publicKey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"amount",docs:["Amount of tokens staked."],type:"u64"},{name:"escrowStartedAt",docs:["When the [proxy_escrow::escrow_owner] started their escrow."],type:"i64"},{name:"escrowEndsAt",docs:["When the escrow unlocks; i.e. the [proxy_escrow::escrow_owner] is scheduled to be allowed to withdraw their governance tokens."],type:"i64"},{name:"rewardsLastClaimedAt",docs:["When the [proxy_escrow::escrow_owner] last claimed rewards from [Treasury]."],type:"i64"},{name:"amountClaimed",docs:["Amount of tokens claimed."],type:"u64"}]}},{name:"RegisteredLocker",docs:["Registered locker - needs to be created to earn rewards",'PDA unique to ["RegisteredLocker", locker.key]',"reprc- pack"],type:{kind:"struct",fields:[{name:"admin",docs:["The key of the admin account that is managing the registered locker"],type:"publicKey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"tokenMint",docs:["The token mint aligned with the locker and for rewards paid to users"],type:"publicKey"},{name:"locker",docs:["The locker account on the locked_voter program being registered"],type:"publicKey"},{name:"padding",docs:["Padding for aligning the struct to an 8-byte boundary."],type:{array:["u8",7]}},{name:"rewardAmountPaidPerPeriodEra0",docs:["All tracked historical reward rate totals per period per era allocated to users."],type:{array:["u64",256]}},{name:"rewardAmountPaidPerPeriodEra1",type:{array:["u64",256]}},{name:"rewardAmountPaidPerPeriodEra2",type:{array:["u64",256]}}]}},{name:"TreasuryAuthority",docs:["Treasury Authority - PDA who has authority to withdraw rewards from the treasury."],type:{kind:"struct",fields:[{name:"locker",docs:["The locker account on the locked_voter program being registered"],type:"publicKey"},{name:"bump",docs:["Bump seed."],type:"u8"}]}}],events$1=[{name:"ClaimRewardsEvent",fields:[{name:"escrowOwner",type:"publicKey",index:!1},{name:"locker",type:"publicKey",index:!1},{name:"tokenMint",type:"publicKey",index:!1},{name:"amountClaimed",type:"u64",index:!1},{name:"prevRewardsLastClaimedAt",type:"i64",index:!1},{name:"rewardsLastClaimedAt",type:"i64",index:!1}]},{name:"NewProxyEscrowEvent",fields:[{name:"proxyEscrow",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"NewProxyEvent",fields:[{name:"proxy",type:"publicKey",index:!1},{name:"proxyOwner",type:"publicKey",index:!1},{name:"proxyEscrow",type:"publicKey",index:!1},{name:"tokenMint",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"ProxyExitEscrowEvent",fields:[{name:"escrowOwner",type:"publicKey",index:!1},{name:"locker",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1},{name:"lockerSupply",type:"u64",index:!1},{name:"releasedAmount",type:"u64",index:!1}]},{name:"ProxyLockEvent",fields:[{name:"locker",type:"publicKey",index:!1},{name:"escrowOwner",type:"publicKey",index:!1},{name:"tokenMint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"lockerSupply",type:"u64",index:!1},{name:"duration",type:"i64",index:!1},{name:"prevEscrowEndsAt",type:"i64",index:!1},{name:"nextEscrowEndsAt",type:"i64",index:!1},{name:"nextEscrowStartedAt",type:"i64",index:!1}]}],errors$2=[{code:6e3,name:"ProgramNotWhitelisted",msg:"CPI caller not whitelisted to invoke lock instruction."},{code:6001,name:"LockupDurationTooShort",msg:"Lockup duration must at least be the min stake duration."},{code:6002,name:"LockupDurationTooLong",msg:"Lockup duration must at most be the max stake duration."},{code:6003,name:"RefreshCannotShorten",msg:"A voting escrow refresh cannot shorten the escrow time remaining."},{code:6004,name:"EscrowNotEnded",msg:"Escrow has not ended."},{code:6005,name:"MustProvideWhitelist",msg:"Program whitelist enabled; please provide whitelist entry and instructions sysvar"},{code:6006,name:"EscrowOwnerNotWhitelisted",msg:"CPI caller not whitelisted for escrow owner to invoke lock instruction."},{code:6007,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6008,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6009,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6010,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6011,name:"EraMismatch",msg:"Era mismatch."},{code:6012,name:"WrongPDA",msg:"Wrong PDA proxy exit."},{code:6013,name:"YouHaveNoPendingRewards",msg:"You have no claimable rewards."},{code:6014,name:"MustCallProxyLockWithWhitelist",msg:"Must call `proxy_lock_with_whitelist` to lock via CPI."},{code:6015,name:"RewardsNotReady",msg:"rewards_last_claimed_at > now"},{code:6016,name:"InvalidAdmin",msg:"locker.base != to the admin signer"}],metadata$2={address:"gateVwTnKyFrE8nxUUgfzoZTPKgJQZUbLsEidpG4Dp2"};var proxy_rewarder_idl={version:version$2,name:name$2,instructions:instructions$2,accounts:accounts$2,events:events$1,errors:errors$2,metadata:metadata$2};const version$1="0.1.1",name$1="locked_voter",instructions$1=[{name:"newLocker",docs:["Creates a new [Locker]."],accounts:[{name:"base",isMut:!1,isSigner:!0,docs:["Base."]},{name:"locker",isMut:!0,isSigner:!1,docs:["[Locker]."],pda:{seeds:[{kind:"const",type:"string",value:"Locker"},{kind:"account",type:"publicKey",path:"base"}]}},{name:"tokenMint",isMut:!1,isSigner:!1,docs:["Mint of the token that can be used to join the [Locker]."]},{name:"governor",isMut:!1,isSigner:!1,docs:["[Governor] associated with the [Locker]."]},{name:"payer",isMut:!0,isSigner:!0,docs:["Payer of the initialization."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["System program."]}],args:[{name:"bump",type:"u8"},{name:"params",type:{defined:"LockerParams"}}]},{name:"newEscrow",docs:["Creates a new [Escrow] for an account.","","A Vote Escrow, or [Escrow] for short, is an agreement between an account (known as the `authority`) and the DAO to","lock up tokens for a specific period of time, in exchange for voting rights","linearly proportional to the amount of votes given."],accounts:[{name:"locker",isMut:!1,isSigner:!1,docs:["[Locker]."]},{name:"escrow",isMut:!0,isSigner:!1,docs:["[Escrow]."],pda:{seeds:[{kind:"const",type:"string",value:"Escrow"},{kind:"account",type:"publicKey",account:"Locker",path:"locker"},{kind:"account",type:"publicKey",path:"escrow_owner"}]}},{name:"escrowOwner",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0,docs:["Payer of the initialization."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"lock",docs:["Stakes `amount` tokens into the [Escrow].","WARNING: if the program has a whitelist, one should use [crate::locked_voter::lock_with_whitelist] instead.","This version of the instruction is deprecated."],accounts:[{name:"locker",isMut:!0,isSigner:!1,docs:["[Locker]."]},{name:"escrow",isMut:!0,isSigner:!1,docs:["[Escrow]."]},{name:"escrowTokens",isMut:!0,isSigner:!1,docs:["Token account held by the [Escrow]."]},{name:"escrowOwner",isMut:!1,isSigner:!0,docs:["Authority of the [Escrow] and [Self::source_tokens]."]},{name:"sourceTokens",isMut:!0,isSigner:!1,docs:["The source of deposited tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token program."]}],args:[{name:"amount",type:"u64"},{name:"duration",type:"i64"}]},{name:"lockWithWhitelistEntry",docs:["Stakes `amount` tokens into the [Escrow], if there is a whitelist.","Stakes `amount` tokens into the [Escrow] via CPI by using the provided [LockerWhitelistEntry]."],accounts:[{name:"lock",accounts:[{name:"locker",isMut:!0,isSigner:!1,docs:["[Locker]."]},{name:"escrow",isMut:!0,isSigner:!1,docs:["[Escrow]."]},{name:"escrowTokens",isMut:!0,isSigner:!1,docs:["Token account held by the [Escrow]."]},{name:"escrowOwner",isMut:!1,isSigner:!0,docs:["Authority of the [Escrow] and [Self::source_tokens]."]},{name:"sourceTokens",isMut:!0,isSigner:!1,docs:["The source of deposited tokens."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token program."]}]},{name:"instructionsSysvar",isMut:!1,isSigner:!1},{name:"whitelistEntry",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"},{name:"duration",type:"i64"}]},{name:"exit",docs:["Stakes `amount` tokens into the [Escrow] if there is no whitelist.","Exits the DAO; i.e., withdraws all staked tokens in an [Escrow] if the [Escrow] is unlocked."],accounts:[{name:"locker",isMut:!0,isSigner:!1,docs:["The [Locker] being exited from."]},{name:"escrow",isMut:!0,isSigner:!1,docs:["The [Escrow] that is being closed."]},{name:"escrowOwner",isMut:!1,isSigner:!0,docs:["Authority of the [Escrow]."]},{name:"escrowTokens",isMut:!0,isSigner:!1,docs:["Tokens locked up in the [Escrow]."]},{name:"destinationTokens",isMut:!0,isSigner:!1,docs:["Destination for the tokens to unlock."]},{name:"payer",isMut:!0,isSigner:!0,docs:["The payer to receive the rent refund."]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token program."]}],args:[]},{name:"activateProposal",docs:["Activates a proposal."],accounts:[{name:"locker",isMut:!1,isSigner:!1,docs:["The [Locker]."]},{name:"governor",isMut:!1,isSigner:!1,docs:["The [Governor]."]},{name:"proposal",isMut:!0,isSigner:!1,docs:["The [Proposal]."]},{name:"escrow",isMut:!1,isSigner:!1,docs:["The user's [Escrow]."]},{name:"escrowOwner",isMut:!1,isSigner:!0,docs:["The [Escrow]'s owner."]},{name:"governProgram",isMut:!1,isSigner:!1,docs:["The [govern] program."]}],args:[]},{name:"castVote",docs:["Casts a vote."],accounts:[{name:"locker",isMut:!1,isSigner:!1,docs:["The [Locker]."]},{name:"escrow",isMut:!1,isSigner:!1,docs:["The [Escrow] that is voting."]},{name:"voteDelegate",isMut:!1,isSigner:!0,docs:["Vote delegate of the [Escrow]."]},{name:"proposal",isMut:!0,isSigner:!1,docs:["The [Proposal] being voted on."]},{name:"vote",isMut:!0,isSigner:!1,docs:["The [Vote]."]},{name:"governor",isMut:!1,isSigner:!1,docs:["The [Governor]."]},{name:"governProgram",isMut:!1,isSigner:!1,docs:["The [govern] program."]}],args:[{name:"side",type:"u8"}]},{name:"setVoteDelegate",docs:["Delegate escrow vote."],accounts:[{name:"escrow",isMut:!0,isSigner:!1,docs:["The [Escrow]."]},{name:"escrowOwner",isMut:!1,isSigner:!0,docs:["The owner of the [Escrow]."]}],args:[{name:"newDelegate",type:"publicKey"}]},{name:"setLockerParams",docs:["Set locker params."],accounts:[{name:"locker",isMut:!0,isSigner:!1,docs:["The [Locker]."]},{name:"governor",isMut:!1,isSigner:!1,docs:["The [Governor]."]},{name:"smartWallet",isMut:!1,isSigner:!0,docs:["The smart wallet on the [Governor]."]}],args:[{name:"params",type:{defined:"LockerParams"}}]},{name:"approveProgramLockPrivilege",docs:["Creates a new [LockerWhitelistEntry] to whitelist program from CPI."],accounts:[{name:"locker",isMut:!1,isSigner:!1,docs:["The [Locker]."]},{name:"whitelistEntry",isMut:!0,isSigner:!1,docs:["[LockerWhitelistEntry]."],pda:{seeds:[{kind:"const",type:"string",value:"LockerWhitelistEntry"},{kind:"account",type:"publicKey",account:"Locker",path:"locker"},{kind:"account",type:"publicKey",path:"executable_id"},{kind:"account",type:"publicKey",path:"whitelisted_owner"}]}},{name:"governor",isMut:!1,isSigner:!1,docs:["Governor for the [Locker]."]},{name:"smartWallet",isMut:!1,isSigner:!0,docs:["Smart wallet on the [Governor]."]},{name:"executableId",isMut:!1,isSigner:!1},{name:"whitelistedOwner",isMut:!1,isSigner:!1},{name:"payer",isMut:!0,isSigner:!0,docs:["Payer of the initialization."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"revokeProgramLockPrivilege",docs:["Close a [LockerWhitelistEntry] revoking program's CPI privilege."],accounts:[{name:"locker",isMut:!1,isSigner:!1,docs:["The [Locker]."]},{name:"whitelistEntry",isMut:!0,isSigner:!1,docs:["[LockerWhitelistEntry]."]},{name:"governor",isMut:!1,isSigner:!1,docs:["Governor for the [Locker]."]},{name:"smartWallet",isMut:!1,isSigner:!0,docs:["Smart wallet on the [Governor]."]},{name:"payer",isMut:!0,isSigner:!0,docs:["Payer of the initialization."]}],args:[]}],accounts$1=[{name:"Locker",docs:["A group of [Escrow]s."],type:{kind:"struct",fields:[{name:"base",docs:["Base account used to generate signer seeds."],type:"publicKey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"tokenMint",docs:["Mint of the token that must be locked in the [Locker]."],type:"publicKey"},{name:"lockedSupply",docs:["Total number of tokens locked in [Escrow]s."],type:"u64"},{name:"governor",docs:["Governor associated with the [Locker]."],type:"publicKey"},{name:"params",docs:["Mutable parameters of how a [Locker] should behave."],type:{defined:"LockerParams"}}]}},{name:"LockerWhitelistEntry",docs:["An entry in the [Locker]'s whitelist.","","The whitelist controls which programs are allowed to stake tokens into the system."],type:{kind:"struct",fields:[{name:"bump",docs:["Bump seed."],type:"u8"},{name:"locker",docs:["[Locker] this whitelist entry belongs to."],type:"publicKey"},{name:"programId",docs:["Key of the program_id allowed to call the `lock` CPI."],type:"publicKey"},{name:"owner",docs:["The account authorized to be the [Escrow::owner] with this CPI.","If set to [anchor_lang::solana_program::system_program::ID],","all accounts are allowed to be the [Escrow::owner]."],type:"publicKey"}]}},{name:"Escrow",docs:["Locks tokens on behalf of a user."],type:{kind:"struct",fields:[{name:"locker",docs:["The [Locker] that this [Escrow] is part of."],type:"publicKey"},{name:"owner",docs:["The key of the account that is authorized to stake into/withdraw from this [Escrow]."],type:"publicKey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"tokens",docs:["The token account holding the escrow tokens."],type:"publicKey"},{name:"amount",docs:["Amount of tokens staked."],type:"u64"},{name:"escrowStartedAt",docs:["When the [Escrow::owner] started their escrow."],type:"i64"},{name:"escrowEndsAt",docs:["When the escrow unlocks; i.e. the [Escrow::owner] is scheduled to be allowed to withdraw their tokens."],type:"i64"},{name:"voteDelegate",docs:["Account that is authorized to vote on behalf of this [Escrow].","Defaults to the [Escrow::owner]."],type:"publicKey"}]}}],types$3=[{name:"LockerParams",docs:["Contains parameters for the [Locker]."],type:{kind:"struct",fields:[{name:"whitelistEnabled",docs:["Whether or not the locking whitelist system is enabled."],type:"bool"},{name:"maxStakeVoteMultiplier",docs:["The weight of a maximum vote lock relative to the total number of tokens locked.","For example, veCRV is 10 because 1 CRV locked for 4 years = 10 veCRV."],type:"u8"},{name:"minStakeDuration",docs:["Minimum staking duration."],type:"u64"},{name:"maxStakeDuration",docs:["Maximum staking duration."],type:"u64"},{name:"proposalActivationMinVotes",docs:["Minimum number of votes required to activate a proposal."],type:"u64"}]}}],events=[{name:"ApproveLockPrivilegeEvent",fields:[{name:"locker",type:"publicKey",index:!1},{name:"programId",type:"publicKey",index:!1},{name:"owner",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"ExitEscrowEvent",fields:[{name:"escrowOwner",type:"publicKey",index:!1},{name:"locker",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1},{name:"lockerSupply",type:"u64",index:!1},{name:"releasedAmount",type:"u64",index:!1}]},{name:"LockEvent",fields:[{name:"locker",type:"publicKey",index:!1},{name:"escrowOwner",type:"publicKey",index:!1},{name:"tokenMint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"lockerSupply",type:"u64",index:!1},{name:"duration",type:"i64",index:!1},{name:"prevEscrowEndsAt",type:"i64",index:!1},{name:"nextEscrowEndsAt",type:"i64",index:!1},{name:"nextEscrowStartedAt",type:"i64",index:!1}]},{name:"NewEscrowEvent",fields:[{name:"escrow",type:"publicKey",index:!1},{name:"escrowOwner",type:"publicKey",index:!1},{name:"locker",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"NewLockerEvent",fields:[{name:"governor",type:"publicKey",index:!1},{name:"locker",type:"publicKey",index:!1},{name:"tokenMint",type:"publicKey",index:!1},{name:"params",type:{defined:"LockerParams"},index:!1}]},{name:"RevokeLockPrivilegeEvent",fields:[{name:"locker",type:"publicKey",index:!1},{name:"programId",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"LockerSetParamsEvent",fields:[{name:"locker",type:"publicKey",index:!1},{name:"prevParams",type:{defined:"LockerParams"},index:!1},{name:"params",type:{defined:"LockerParams"},index:!1}]},{name:"SetVoteDelegateEvent",fields:[{name:"escrowOwner",type:"publicKey",index:!1},{name:"oldDelegate",type:"publicKey",index:!1},{name:"newDelegate",type:"publicKey",index:!1}]}],errors$1=[{code:6e3,name:"ProgramNotWhitelisted",msg:"CPI caller not whitelisted to invoke lock instruction."},{code:6001,name:"LockupDurationTooShort",msg:"Lockup duration must at least be the min stake duration."},{code:6002,name:"LockupDurationTooLong",msg:"Lockup duration must at most be the max stake duration."},{code:6003,name:"RefreshCannotShorten",msg:"A voting escrow refresh cannot shorten the escrow time remaining."},{code:6004,name:"EscrowNotEnded",msg:"Escrow has not ended."},{code:6005,name:"MustProvideWhitelist",msg:"Program whitelist enabled; please provide whitelist entry and instructions sysvar or use the 'lock_with_whitelist' instruction."},{code:6006,name:"EscrowOwnerNotWhitelisted",msg:"CPI caller not whitelisted for escrow owner to invoke lock instruction."},{code:6007,name:"MustCallLockWithWhitelistEntry",msg:"Must call `lock_with_whitelist_entry` to lock via CPI."},{code:6008,name:"MustCallLockPermissionless",msg:"Must call `lock_permissionless` since this DAO does not have a CPI whitelist."}],metadata$1={address:"Lock7kBijGCQLEFAmXcengzXKA88iDNQPriQ7TbgeyG"};var locked_voter_idl={version:version$1,name:name$1,instructions:instructions$1,accounts:accounts$1,types:types$3,events,errors:errors$1,metadata:metadata$1};const version="0.1.1",name="snapshots",instructions=[{name:"createEscrowHistory",docs:["Creates a [EscrowHistory]."],accounts:[{name:"escrow",isMut:!1,isSigner:!1,docs:["The [Escrow]."]},{name:"escrowHistory",isMut:!0,isSigner:!1,docs:["The [EscrowHistory] to be created."],pda:{seeds:[{kind:"const",type:"string",value:"EscrowHistory"},{kind:"account",type:"publicKey",account:"Escrow",path:"escrow"},{kind:"arg",type:"u16",path:"era"}]}},{name:"payer",isMut:!0,isSigner:!0,docs:["Payer."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["[System] program."]}],args:[{name:"era",type:"u16"}]},{name:"createLockerHistory",docs:["Creates a [LockerHistory]."],accounts:[{name:"locker",isMut:!1,isSigner:!1,docs:["The [Locker]."]},{name:"lockerHistory",isMut:!0,isSigner:!1,docs:["The [LockerHistory] to be created."],pda:{seeds:[{kind:"const",type:"string",value:"LockerHistory"},{kind:"account",type:"publicKey",account:"Locker",path:"locker"},{kind:"arg",type:"u16",path:"era"}]}},{name:"payer",isMut:!0,isSigner:!0,docs:["Payer."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["[System] program."]}],args:[{name:"era",type:"u16"}]},{name:"sync",docs:["Synchronize an [locked_voter::Escrow] with the [LockerHistory]/[EscrowHistory]."],accounts:[{name:"locker",isMut:!1,isSigner:!1,docs:["The [Locker]."]},{name:"escrow",isMut:!1,isSigner:!1,docs:["The [Escrow]."]},{name:"lockerHistory",isMut:!0,isSigner:!1,docs:["The [LockerHistory] to sync."]},{name:"escrowHistory",isMut:!0,isSigner:!1,docs:["The [EscrowHistory] to sync."]}],args:[]}],accounts=[{name:"LockerHistory",docs:["Stores the total number of veTokens in circulation for each period.","","The [LockerHistory] account stores 256 periods, each 3 days each.","For a 5-year [locked_voter::Locker], there will be at least 3 of these accounts existing","at any given time, since the maximum lock period is 5 years."],type:{kind:"struct",fields:[{name:"locker",docs:["The [locked_voter::Locker] being tracked."],type:"publicKey"},{name:"era",docs:["The era. Multiplying this by [ERA_NUM_PERIODS] * [PERIOD_SECONDS];"],type:"u16"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"padding",docs:["Padding for aligning the struct to an 8-byte boundary."],type:{array:["u8",5]}},{name:"veBalances",docs:["The sum of all tracked historical vote escrow balances."],type:{array:["u64",256]}},{name:"veCounts",docs:["Number of voters with non-zero balances at each epoch."],type:{array:["u64",256]}}]}},{name:"EscrowHistory",docs:["Stores the total veToken balance of an [locked_voter::Escrow]","for the given epochs.","","Any time someone refreshes and/or modifies their vote [locked_voter::Escrow], they","should refresh their [EscrowHistory] accounts."],type:{kind:"struct",fields:[{name:"escrow",docs:["The [locked_voter::Escrow] being tracked."],type:"publicKey"},{name:"era",docs:["The era."],type:"u16"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"padding",docs:["Padding for aligning the struct to an 8-byte boundary."],type:{array:["u8",5]}},{name:"veBalances",docs:["All tracked historical vote escrow balances for this [locked_voter::Escrow]."],type:{array:["u64",256]}}]}}],errors=[{code:6e3,name:"LockerEscrowMismatch",msg:"Locker/escrow mismatch."},{code:6001,name:"EraMismatch",msg:"Era mismatch."},{code:6002,name:"EscrowBalanceDecreased",msg:"Escrow balances cannot decrease."}],metadata={address:"snapNQkxsiqDWdbNfz8KVB7e3NPzLwtHHA6WV8kKgUc"};var snapshot_idl={version,name,instructions,accounts,errors,metadata},dist={},atlasStaking={},instruction_builders$1={},baseParams={};Object.defineProperty(baseParams,"__esModule",{value:!0});var cancelUnstake={},utils$1={},getStakingProgram$1={},camelcase={exports:{}};const preserveCamelCase=t=>{let e=!1,r=!1,n=!1;for(let o=0;o<t.length;o++){const a=t[o];e&&/[a-zA-Z]/.test(a)&&a.toUpperCase()===a?(t=t.slice(0,o)+"-"+t.slice(o),e=!1,n=r,r=!0,o++):r&&n&&/[a-zA-Z]/.test(a)&&a.toLowerCase()===a?(t=t.slice(0,o-1)+"-"+t.slice(o-1),n=r,r=!1,e=!0):(e=a.toLowerCase()===a&&a.toUpperCase()!==a,n=r,r=a.toUpperCase()===a&&a.toLowerCase()!==a)}return t},camelCase=(t,e)=>{if(!(typeof t=="string"||Array.isArray(t)))throw new TypeError("Expected the input to be `string | string[]`");e=Object.assign({pascalCase:!1},e);const r=o=>e.pascalCase?o.charAt(0).toUpperCase()+o.slice(1):o;return Array.isArray(t)?t=t.map(o=>o.trim()).filter(o=>o.length).join("-"):t=t.trim(),t.length===0?"":t.length===1?e.pascalCase?t.toUpperCase():t.toLowerCase():(t!==t.toLowerCase()&&(t=preserveCamelCase(t)),t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(o,a)=>a.toUpperCase()).replace(/\d+(\w|$)/g,o=>o.toUpperCase()),r(t))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var l=camelcase.exports,sha256={exports:{}};(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof dist$3.process=="object"&&dist$3.process.versions&&dist$3.process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(o){return e.create().update(o)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(o){return new HmacSha256(o,t)},e.update=function(o,a){return e.create(o).update(a)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if(r!=="string"){if(r==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,o=0,a,c=t.length,u=this.blocks;o<c;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),e)for(a=this.start;o<c&&a<64;++o)u[a>>2]|=t[o]<<SHIFT[a++&3];else for(a=this.start;o<c&&a<64;++o)n=t.charCodeAt(o),n<128?u[a>>2]|=n<<SHIFT[a++&3]:n<2048?(u[a>>2]|=(192|n>>6)<<SHIFT[a++&3],u[a>>2]|=(128|n&63)<<SHIFT[a++&3]):n<55296||n>=57344?(u[a>>2]|=(224|n>>12)<<SHIFT[a++&3],u[a>>2]|=(128|n>>6&63)<<SHIFT[a++&3],u[a>>2]|=(128|n&63)<<SHIFT[a++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++o)&1023),u[a>>2]|=(240|n>>18)<<SHIFT[a++&3],u[a>>2]|=(128|n>>12&63)<<SHIFT[a++&3],u[a>>2]|=(128|n>>6&63)<<SHIFT[a++&3],u[a>>2]|=(128|n&63)<<SHIFT[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=u[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,a=this.h5,c=this.h6,u=this.h7,gr=this.blocks,br,_r,Ar,vr,Tr,Or,Ir,xr,Lr,Fr,Mr;for(br=16;br<64;++br)Tr=gr[br-15],_r=(Tr>>>7|Tr<<25)^(Tr>>>18|Tr<<14)^Tr>>>3,Tr=gr[br-2],Ar=(Tr>>>17|Tr<<15)^(Tr>>>19|Tr<<13)^Tr>>>10,gr[br]=gr[br-16]+_r+gr[br-7]+Ar<<0;for(Mr=e&r,br=0;br<64;br+=4)this.first?(this.is224?(xr=300032,Tr=gr[0]-1413257819,u=Tr-150054599<<0,n=Tr+24177077<<0):(xr=704751109,Tr=gr[0]-210244248,u=Tr-1521486534<<0,n=Tr+143694565<<0),this.first=!1):(_r=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),Ar=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),xr=t&e,vr=xr^t&r^Mr,Ir=o&a^~o&c,Tr=u+Ar+Ir+K[br]+gr[br],Or=_r+vr,u=n+Tr<<0,n=Tr+Or<<0),_r=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),Ar=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),Lr=n&t,vr=Lr^n&e^xr,Ir=u&o^~u&a,Tr=c+Ar+Ir+K[br+1]+gr[br+1],Or=_r+vr,c=r+Tr<<0,r=Tr+Or<<0,_r=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),Ar=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),Fr=r&n,vr=Fr^r&t^Lr,Ir=c&u^~c&o,Tr=a+Ar+Ir+K[br+2]+gr[br+2],Or=_r+vr,a=e+Tr<<0,e=Tr+Or<<0,_r=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),Ar=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),Mr=e&r,vr=Mr^e&n^Fr,Ir=a&c^~a&u,Tr=o+Ar+Ir+K[br+3]+gr[br+3],Or=_r+vr,o=t+Tr<<0,t=Tr+Or<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+o<<0,this.h5=this.h5+a<<0,this.h6=this.h6+c<<0,this.h7=this.h7+u<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,a=this.h5,c=this.h6,u=this.h7,gr=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15];return this.is224||(gr+=HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]),gr},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,o=this.h4,a=this.h5,c=this.h6,u=this.h7,gr=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,o>>24&255,o>>16&255,o>>8&255,o&255,a>>24&255,a>>16&255,a>>8&255,a&255,c>>24&255,c>>16&255,c>>8&255,c&255];return this.is224||gr.push(u>>24&255,u>>16&255,u>>8&255,u&255),gr},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,r){var n,o=typeof t;if(o==="string"){var a=[],c=t.length,u=0,gr;for(n=0;n<c;++n)gr=t.charCodeAt(n),gr<128?a[u++]=gr:gr<2048?(a[u++]=192|gr>>6,a[u++]=128|gr&63):gr<55296||gr>=57344?(a[u++]=224|gr>>12,a[u++]=128|gr>>6&63,a[u++]=128|gr&63):(gr=65536+((gr&1023)<<10|t.charCodeAt(++n)&1023),a[u++]=240|gr>>18,a[u++]=128|gr>>12&63,a[u++]=128|gr>>6&63,a[u++]=128|gr&63);t=a}else if(o==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var br=[],_r=[];for(n=0;n<64;++n){var Ar=t[n]||0;br[n]=92^Ar,_r[n]=54^Ar}Sha256.call(this,e,r),this.update(_r),this.oKeyPad=br,this.inner=!0,this.sharedMemory=r}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var lib={};(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(en){return en&&en.__esModule?en:{default:en}};Object.defineProperty(t,"__esModule",{value:!0}),t.map=t.array=t.rustEnum=t.str=t.vecU8=t.tagged=t.vec=t.bool=t.option=t.publicKey=t.i128=t.u128=t.i64=t.u64=t.struct=t.f64=t.f32=t.i32=t.u32=t.i16=t.u16=t.i8=t.u8=void 0;const r=Layout$2,n=require$$0$2,o=e(bn.exports);var a=Layout$2;Object.defineProperty(t,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(t,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(t,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(t,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(t,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(t,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(t,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(t,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(t,"struct",{enumerable:!0,get:function(){return a.struct}});class c extends r.Layout{constructor(sn,cn,Ur){super(sn,Ur),this.blob=r.blob(sn),this.signed=cn}decode(sn,cn=0){const Ur=new o.default(this.blob.decode(sn,cn),10,"le");return this.signed?Ur.fromTwos(this.span*8).clone():Ur}encode(sn,cn,Ur=0){return this.signed&&(sn=sn.toTwos(this.span*8)),this.blob.encode(sn.toArrayLike(dist$3.Buffer,"le",this.span),cn,Ur)}}function u(en){return new c(8,!1,en)}t.u64=u;function gr(en){return new c(8,!0,en)}t.i64=gr;function br(en){return new c(16,!1,en)}t.u128=br;function _r(en){return new c(16,!0,en)}t.i128=_r;class Ar extends r.Layout{constructor(sn,cn,Ur,Rr){super(sn.span,Rr),this.layout=sn,this.decoder=cn,this.encoder=Ur}decode(sn,cn){return this.decoder(this.layout.decode(sn,cn))}encode(sn,cn,Ur){return this.layout.encode(this.encoder(sn),cn,Ur)}getSpan(sn,cn){return this.layout.getSpan(sn,cn)}}function vr(en){return new Ar(r.blob(32),sn=>new n.PublicKey(sn),sn=>sn.toBuffer(),en)}t.publicKey=vr;class Tr extends r.Layout{constructor(sn,cn){super(-1,cn),this.layout=sn,this.discriminator=r.u8()}encode(sn,cn,Ur=0){return sn==null?this.discriminator.encode(0,cn,Ur):(this.discriminator.encode(1,cn,Ur),this.layout.encode(sn,cn,Ur+1)+1)}decode(sn,cn=0){const Ur=this.discriminator.decode(sn,cn);if(Ur===0)return null;if(Ur===1)return this.layout.decode(sn,cn+1);throw new Error("Invalid option "+this.property)}getSpan(sn,cn=0){const Ur=this.discriminator.decode(sn,cn);if(Ur===0)return 1;if(Ur===1)return this.layout.getSpan(sn,cn+1)+1;throw new Error("Invalid option "+this.property)}}function Or(en,sn){return new Tr(en,sn)}t.option=Or;function Ir(en){return new Ar(r.u8(),xr,Lr,en)}t.bool=Ir;function xr(en){if(en===0)return!1;if(en===1)return!0;throw new Error("Invalid bool: "+en)}function Lr(en){return en?1:0}function Fr(en,sn){const cn=r.u32("length"),Ur=r.struct([cn,r.seq(en,r.offset(cn,-cn.span),"values")]);return new Ar(Ur,({values:Rr})=>Rr,Rr=>({values:Rr}),sn)}t.vec=Fr;function Mr(en,sn,cn){const Ur=r.struct([u("tag"),sn.replicate("data")]);function Rr({tag:Pr,data:Dr}){if(!Pr.eq(en))throw new Error("Invalid tag, expected: "+en.toString("hex")+", got: "+Pr.toString("hex"));return Dr}return new Ar(Ur,Rr,Pr=>({tag:en,data:Pr}),cn)}t.tagged=Mr;function Hr(en){const sn=r.u32("length"),cn=r.struct([sn,r.blob(r.offset(sn,-sn.span),"data")]);return new Ar(cn,({data:Ur})=>Ur,Ur=>({data:Ur}),en)}t.vecU8=Hr;function Vr(en){return new Ar(Hr(),sn=>sn.toString("utf-8"),sn=>dist$3.Buffer.from(sn,"utf-8"),en)}t.str=Vr;function Kr(en,sn,cn){const Ur=r.union(cn??r.u8(),sn);return en.forEach((Rr,Pr)=>Ur.addVariant(Pr,Rr,Rr.property)),Ur}t.rustEnum=Kr;function jr(en,sn,cn){const Ur=r.struct([r.seq(en,sn,"values")]);return new Ar(Ur,({values:Rr})=>Rr,Rr=>({values:Rr}),cn)}t.array=jr;class qr extends r.Layout{constructor(sn,cn,Ur){super(sn.span+cn.span,Ur),this.keyLayout=sn,this.valueLayout=cn}decode(sn,cn){cn=cn||0;const Ur=this.keyLayout.decode(sn,cn),Rr=this.valueLayout.decode(sn,cn+this.keyLayout.getSpan(sn,cn));return[Ur,Rr]}encode(sn,cn,Ur){Ur=Ur||0;const Rr=this.keyLayout.encode(sn[0],cn,Ur),Pr=this.valueLayout.encode(sn[1],cn,Ur+Rr);return Rr+Pr}getSpan(sn,cn){return this.keyLayout.getSpan(sn,cn)+this.valueLayout.getSpan(sn,cn)}}function tn(en,sn,cn){const Ur=r.u32("length"),Rr=r.struct([Ur,r.seq(new qr(en,sn),r.offset(Ur,-Ur.span),"values")]);return new Ar(Rr,({values:Pr})=>new Map(Pr),Pr=>({values:Array.from(Pr.entries())}),cn)}t.map=tn})(lib);var g=Object.freeze({__proto__:null,encode:function(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"0x")},decode:function(t){t.indexOf("0x")===0&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return e===null?bufferPolyfill.Buffer.from([]):bufferPolyfill.Buffer.from(e.map(r=>parseInt(r,16)))}});function w(t){return new TextDecoder("utf-8").decode(t)}function v(t){return new TextEncoder().encode(t)}var b=Object.freeze({__proto__:null,decode:w,encode:v});function A(t){return bs58$3.encode(t)}var _=Object.freeze({__proto__:null,encode:A,decode:function(t){return bs58$3.decode(t)}});function E(t){return bufferPolyfill.Buffer.from(toByteArray_1(t))}var S=Object.freeze({__proto__:null,encode:function(t){return fromByteArray_1(t)},decode:E}),I=Object.freeze({__proto__:null,hex:g,utf8:b,bs58:_,base64:S});function k(t){const e=new Map;return t.errors&&t.errors.forEach(r=>{var n;let o=(n=r.msg)!==null&&n!==void 0?n:r.name;e.set(r.code,o)}),e}function x(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const r={};let n=0;return t.args.forEach(o=>{r[o.name]=e[n],n+=1}),r}function M(t,e={}){t.forEach(r=>{if("accounts"in r)M(r.accounts,e[r.name]);else if(e[r.name]===void 0)throw new Error(`Invalid arguments: ${r.name} not provided.`)})}function P(t){return t instanceof PublicKey$3?t:new PublicKey$3(t)}class T extends TypeError{constructor(e,r){let n;const{message:o,...a}=e,{path:c}=e;super(c.length===0?o:"At path: "+c.join(".")+" -- "+o),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var u;return(u=n)!=null?u:n=[e,...r()]}}}function C(t){return typeof t=="object"&&t!=null}function L(t){return typeof t=="string"?JSON.stringify(t):""+t}function O(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:o,branch:a}=e,{type:c}=r,{refinement:u,message:gr="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+L(n)+"`"}=t;return{value:n,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...t,message:gr}}function*B(t,e,r,n){var o;C(o=t)&&typeof o[Symbol.iterator]=="function"||(t=[t]);for(const a of t){const c=O(a,e,r,n);c&&(yield c)}}function*D(t,e,r={}){const{path:n=[],branch:o=[t],coerce:a=!1,mask:c=!1}=r,u={path:n,branch:o};if(a&&(t=e.coercer(t,u),c&&e.type!=="type"&&C(e.schema)&&C(t)&&!Array.isArray(t)))for(const br in t)e.schema[br]===void 0&&delete t[br];let gr=!0;for(const br of e.validator(t,u))gr=!1,yield[br,void 0];for(let[br,_r,Ar]of e.entries(t,u)){const vr=D(_r,Ar,{path:br===void 0?n:[...n,br],branch:br===void 0?o:[...o,_r],coerce:a,mask:c});for(const Tr of vr)Tr[0]?(gr=!1,yield[Tr[0],void 0]):a&&(_r=Tr[1],br===void 0?t=_r:t instanceof Map?t.set(br,_r):t instanceof Set?t.add(_r):C(t)&&(t[br]=_r))}if(gr)for(const br of e.refiner(t,u))gr=!1,yield[br,void 0];gr&&(yield[void 0,t])}class z{constructor(e){const{type:r,schema:n,validator:o,refiner:a,coercer:c=gr=>gr,entries:u=function*(){}}=e;this.type=r,this.schema=n,this.entries=u,this.coercer=c,this.validator=o?(gr,br)=>B(o(gr,br),br,this,gr):()=>[],this.refiner=a?(gr,br)=>B(a(gr,br),br,this,gr):()=>[]}assert(e){return function(r,n){const o=R(r,n);if(o[0])throw o[0]}(e,this)}create(e){return N(e,this)}is(e){return j(e,this)}mask(e){return function(r,n){const o=R(r,n,{coerce:!0,mask:!0});if(o[0])throw o[0];return o[1]}(e,this)}validate(e,r={}){return R(e,this,r)}}function N(t,e){const r=R(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function j(t,e){return!R(t,e)[0]}function R(t,e,r={}){const n=D(t,e,r),o=function(a){const{done:c,value:u}=a.next();return c?void 0:u}(n);return o[0]?[new T(o[0],function*(){for(const a of n)a[0]&&(yield a[0])}),void 0]:[void 0,o[1]]}function U(t,e){return new z({type:t,schema:null,validator:e})}function V(t){return new z({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+L(e)})}function $(t){const e=L(t),r=typeof t;return new z({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+L(n)})}function q(t){return new z({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function K(){return U("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+L(t))}function F(t){return new z({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function W(){return U("string",t=>typeof t=="string"||"Expected a string, but received: "+L(t))}function G(t){const e=Object.keys(t);return new z({type:"type",schema:t,*entries(r){if(C(r))for(const n of e)yield[n,r[n],t[n]]},validator:r=>C(r)||"Expected an object, but received: "+L(r)})}function H(t){const e=t.map(r=>r.type).join(" | ");return new z({type:"union",schema:null,validator(r,n){const o=[];for(const a of t){const[...c]=D(r,a,n),[u]=c;if(!u[0])return[];for(const[gr]of c)gr&&o.push(gr)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+L(r),...o]}})}function J(){return U("unknown",()=>!0)}async function Z(t,e,r){if(e.length<=99)return await Q(t,e,r);{const n=function(o,a){return Array.apply(0,new Array(Math.ceil(o.length/a))).map((c,u)=>o.slice(u*a,(u+1)*a))}(e,99);return(await Promise.all(n.map(o=>Q(t,o,r)))).flat()}}async function Q(t,e,r){const n=r??t.commitment;return(await t.getMultipleAccountsInfo(e,n)).map((o,a)=>o===null?null:{publicKey:e[a],account:o})}async function X(t,e,r,n,o){r&&r.length>0&&e.sign(...r);const a=e._compile(),c=a.serialize(),u=e._serialize(c).toString("base64"),gr={encoding:"base64",commitment:n??t.commitment};if(o){const Ar=(Array.isArray(o)?o:a.nonProgramIds()).map(vr=>vr.toBase58());gr.accounts={encoding:"base64",addresses:Ar}}r&&(gr.sigVerify=!0);const br=[u,gr],_r=N(await t._rpcRequest("simulateTransaction",br),rt);if("error"in _r){let Ar;if("data"in _r.error&&(Ar=_r.error.data.logs,Ar&&Array.isArray(Ar))){const vr=`
    `,Tr=vr+Ar.join(vr);console.error(_r.error.message,Tr)}throw new SendTransactionError$1("failed to simulate transaction: "+_r.error.message,Ar)}return _r.result}function Y(t){return function(e,r,n){return new z({...e,coercer:(o,a)=>j(o,r)?e.coercer(n(o,a),a):e.coercer(o,a)})}(et(t),tt,e=>"error"in e?e:{...e,result:N(e.result,t)})}const tt=et(J());function et(t){return H([G({jsonrpc:$("2.0"),id:W(),result:t}),G({jsonrpc:$("2.0"),id:W(),error:G({code:J(),message:W(),data:F(U("any",()=>!0))})})])}const rt=(nt=G({err:q(H([G({}),W()])),logs:q(V(W())),accounts:F(q(V(q(G({executable:U("boolean",t=>typeof t=="boolean"),owner:W(),lamports:K(),data:V(W()),rentEpoch:F(K())}))))),unitsConsumed:F(K())}),Y(G({context:G({slot:K()}),value:nt})));var nt,it=Object.freeze({__proto__:null,invoke:async function(t,e,r,n){t=P(t),n||(n=dt());const o=new Transaction$3;if(o.add(new TransactionInstruction$3({programId:t,keys:e??[],data:r})),n.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await n.sendAndConfirm(o,[])},getMultipleAccounts:Z,simulateTransaction:X});class ot{constructor(e,r,n){this.connection=e,this.wallet=r,this.opts=n}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,r){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,r,n){var o;n===void 0&&(n=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(r??[]).forEach(c=>{e.partialSign(c)});const a=e.serialize();try{return await at(this.connection,a,n)}catch(c){if(c instanceof ct){const u=await this.connection.getTransaction(A(e.signature),{commitment:"confirmed"});if(u){const gr=(o=u.meta)===null||o===void 0?void 0:o.logMessages;throw gr?new SendTransactionError$1(c.message,gr):c}throw c}throw c}}async sendAll(e,r){r===void 0&&(r=this.opts);const n=await this.connection.getRecentBlockhash(r.preflightCommitment);let o=e.map(u=>{var gr;let br=u.tx,_r=(gr=u.signers)!==null&&gr!==void 0?gr:[];return br.feePayer=this.wallet.publicKey,br.recentBlockhash=n.blockhash,_r.forEach(Ar=>{br.partialSign(Ar)}),br});const a=await this.wallet.signAllTransactions(o),c=[];for(let u=0;u<o.length;u+=1){const gr=a[u].serialize();c.push(await at(this.connection,gr,r))}return c}async simulate(e,r,n,o){e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const a=await X(this.connection,e,r,n,o);if(a.value.err)throw new st(a.value);return a.value}}class st extends Error{constructor(e,r){super(r),this.simulationResponse=e}}async function at(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},o=await t.sendRawTransaction(e,n),a=(await t.confirmTransaction(o,r&&r.commitment)).value;if(a.err)throw new ct(`Raw transaction ${o} failed (${JSON.stringify(a)})`);return o}class ct extends Error{constructor(e){super(e)}}function ut(t){lt=t}function dt(){return lt===null?ot.local():lt}let lt=null;const ht=new Set(["anchor-deprecated-state","debug-logs"]),ft=new Map;function pt(t){return ft.get(t)!==void 0}var mt=Object.freeze({__proto__:null,set:function(t){if(!ht.has(t))throw new Error("Invalid feature");ft.set(t,!0)},isSet:pt});class yt extends Error{constructor(e){super(e),this.name="IdlError"}}class gt{constructor(e){this.stack=e}static parse(e){var r;const n=/^Program (\w*) invoke/,o=/^Program \w* success/,a=[];for(let c=0;c<e.length;c++){if(o.exec(e[c])){a.pop();continue}const u=(r=n.exec(e[c]))===null||r===void 0?void 0:r[1];u&&a.push(new PublicKey$3(u))}return new gt(a)}}class wt extends Error{constructor(e,r,n,o,a,c){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=o,this.error={errorCode:e,errorMessage:r,comparedValues:c,origin:a},this._programErrorStack=gt.parse(o)}static parse(e){if(!e)return null;const r=e.findIndex(br=>br.startsWith("Program log: AnchorError"));if(r===-1)return null;const n=e[r],o=[n];let a;if(r+1<e.length){if(e[r+1]==="Program log: Left:"){const br=/^Program log: (.*)$/,_r=br.exec(e[r+2])[1],Ar=br.exec(e[r+4])[1];a=[new PublicKey$3(_r),new PublicKey$3(Ar)],o.push(...e.slice(r+1,r+5))}else if(e[r+1].startsWith("Program log: Left:")){const br=/^Program log: (Left|Right): (.*)$/,_r=br.exec(e[r+1])[2],Ar=br.exec(e[r+2])[2];o.push(...e.slice(r+1,r+3)),a=[_r,Ar]}}const c=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),u=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),gr=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(c){const[br,_r,Ar]=c.slice(1,4),vr={code:br,number:parseInt(_r)};return new wt(vr,Ar,o,e,void 0,a)}if(u){const[br,_r,Ar,vr,Tr]=u.slice(1,6),Or={code:Ar,number:parseInt(vr)},Ir={file:br,line:parseInt(_r)};return new wt(Or,Tr,o,e,Ir,a)}if(gr){const[br,_r,Ar,vr]=gr.slice(1,5),Tr=br,Or={code:_r,number:parseInt(Ar)};return new wt(Or,vr,o,e,Tr,a)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class vt extends Error{constructor(e,r,n){super(),this.code=e,this.msg=r,this.logs=n,n&&(this._programErrorStack=gt.parse(n))}static parse(e,r){const n=e.toString();let o,a;if(n.includes("custom program error:")){let u=n.split("custom program error: ");if(u.length!==2)return null;o=u[1]}else{const u=n.match(/"Custom":([0-9]+)}/g);if(!u||u.length>1)return null;o=u[0].match(/([0-9]+)/g)[0]}try{a=parseInt(o)}catch{return null}let c=r.get(a);return c!==void 0?new vt(a,c,e.logs):(c=_t.get(a),c!==void 0?new vt(a,c,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function bt(t,e){pt("debug-logs")&&console.log("Translating error:",t);const r=wt.parse(t.logs);if(r)return r;const n=vt.parse(t,e);if(n)return n;if(t.logs){const o={get:function(a,c){return c==="programErrorStack"?a.programErrorStack.stack:c==="program"?a.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=gt.parse(t.logs),new Proxy(t,o)}return t}const At={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},_t=new Map([[At.InstructionMissing,"8 byte instruction identifier not provided"],[At.InstructionFallbackNotFound,"Fallback functions are not supported"],[At.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[At.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[At.IdlInstructionStub,"The program was compiled without idl instructions"],[At.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[At.ConstraintMut,"A mut constraint was violated"],[At.ConstraintHasOne,"A has_one constraint was violated"],[At.ConstraintSigner,"A signer constraint was violated"],[At.ConstraintRaw,"A raw constraint was violated"],[At.ConstraintOwner,"An owner constraint was violated"],[At.ConstraintRentExempt,"A rent exemption constraint was violated"],[At.ConstraintSeeds,"A seeds constraint was violated"],[At.ConstraintExecutable,"An executable constraint was violated"],[At.ConstraintState,"A state constraint was violated"],[At.ConstraintAssociated,"An associated constraint was violated"],[At.ConstraintAssociatedInit,"An associated init constraint was violated"],[At.ConstraintClose,"A close constraint was violated"],[At.ConstraintAddress,"An address constraint was violated"],[At.ConstraintZero,"Expected zero account discriminant"],[At.ConstraintTokenMint,"A token mint constraint was violated"],[At.ConstraintTokenOwner,"A token owner constraint was violated"],[At.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[At.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[At.ConstraintMintDecimals,"A mint decimals constraint was violated"],[At.ConstraintSpace,"A space constraint was violated"],[At.RequireViolated,"A require expression was violated"],[At.RequireEqViolated,"A require_eq expression was violated"],[At.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[At.RequireNeqViolated,"A require_neq expression was violated"],[At.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[At.RequireGtViolated,"A require_gt expression was violated"],[At.RequireGteViolated,"A require_gte expression was violated"],[At.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[At.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[At.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[At.AccountDidNotDeserialize,"Failed to deserialize the account"],[At.AccountDidNotSerialize,"Failed to serialize the account"],[At.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[At.AccountNotMutable,"The given account is not mutable"],[At.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[At.InvalidProgramId,"Program ID was not as expected"],[At.InvalidProgramExecutable,"Program account is not executable"],[At.AccountNotSigner,"The given account did not sign"],[At.AccountNotSystemOwned,"The given account is not owned by the system program"],[At.AccountNotInitialized,"The program expected this account to be already initialized"],[At.AccountNotProgramData,"The given account is not a program data account"],[At.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[At.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[At.StateInvalidAddress,"The given state account does not have the correct address"],[At.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[At.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Et=function(){return Et=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Et.apply(this,arguments)};function St(t){return t.toLowerCase()}var It=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],kt=/[^A-Z0-9]+/gi;function xt(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce(function(n,o){return n.replace(o,r)},t)}function Mt(t,e){return e===void 0&&(e={}),function(r,n){n===void 0&&(n={});for(var o=n.splitRegexp,a=o===void 0?It:o,c=n.stripRegexp,u=c===void 0?kt:c,gr=n.transform,br=gr===void 0?St:gr,_r=n.delimiter,Ar=_r===void 0?" ":_r,vr=xt(xt(r,a,"$1\0$2"),u,"\0"),Tr=0,Or=vr.length;vr.charAt(Tr)==="\0";)Tr++;for(;vr.charAt(Or-1)==="\0";)Or--;return vr.slice(Tr,Or).split("\0").map(br).join(Ar)}(t,Et({delimiter:"."},e))}class Pt{static fieldLayout(e,r){const n=e.name!==void 0?l(e.name):void 0;switch(e.type){case"bool":return lib.bool(n);case"u8":return lib.u8(n);case"i8":return lib.i8(n);case"u16":return lib.u16(n);case"i16":return lib.i16(n);case"u32":return lib.u32(n);case"i32":return lib.i32(n);case"f32":return lib.f32(n);case"u64":return lib.u64(n);case"i64":return lib.i64(n);case"f64":return lib.f64(n);case"u128":return lib.u128(n);case"i128":return lib.i128(n);case"bytes":return lib.vecU8(n);case"string":return lib.str(n);case"publicKey":return lib.publicKey(n);default:if("vec"in e.type)return lib.vec(Pt.fieldLayout({name:void 0,type:e.type.vec},r),n);if("option"in e.type)return lib.option(Pt.fieldLayout({name:void 0,type:e.type.option},r),n);if("defined"in e.type){const o=e.type.defined;if(r===void 0)throw new yt("User defined types not provided");const a=r.filter(c=>c.name===o);if(a.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Pt.typeDefLayout(a[0],r,n)}if("array"in e.type){let o=e.type.array[0],a=e.type.array[1],c=Pt.fieldLayout({name:void 0,type:o},r);return lib.array(c,a,n)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,r=[],n){if(e.type.kind==="struct"){const o=e.type.fields.map(a=>Pt.fieldLayout(a,r));return lib.struct(o,n)}if(e.type.kind==="enum"){let o=e.type.variants.map(a=>{const c=l(a.name);if(a.fields===void 0)return lib.struct([],c);const u=a.fields.map(gr=>{if(!gr.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Pt.fieldLayout(gr,r)});return lib.struct(u,c)});return n!==void 0?lib.rustEnum(o).replicate(n):lib.rustEnum(o,n)}throw new Error(`Unknown type kint: ${e}`)}}class Tt{constructor(e){this.idl=e,this.ixLayout=Tt.parseIxLayout(e);const r=new Map;e.instructions.forEach(n=>{const o=Lt("global",n.name);r.set(bs58$3.encode(o),{layout:this.ixLayout.get(n.name),name:n.name})}),e.state&&e.state.methods.map(n=>{const o=Lt("state",n.name);r.set(bs58$3.encode(o),{layout:this.ixLayout.get(n.name),name:n.name})}),this.sighashLayouts=r}encode(e,r){return this._encode("global",e,r)}encodeState(e,r){return this._encode("state",e,r)}_encode(e,r,n){const o=bufferPolyfill.Buffer.alloc(1e3),a=l(r),c=this.ixLayout.get(a);if(!c)throw new Error(`Unknown method: ${a}`);const u=c.encode(n,o),gr=o.slice(0,u);return bufferPolyfill.Buffer.concat([Lt(e,r),gr])}static parseIxLayout(e){const r=(e.state?e.state.methods:[]).map(n=>{let o=n.args.map(c=>{var u,gr;return Pt.fieldLayout(c,Array.from([...(u=e.accounts)!==null&&u!==void 0?u:[],...(gr=e.types)!==null&&gr!==void 0?gr:[]]))});const a=l(n.name);return[a,lib.struct(o,a)]}).concat(e.instructions.map(n=>{let o=n.args.map(c=>{var u,gr;return Pt.fieldLayout(c,Array.from([...(u=e.accounts)!==null&&u!==void 0?u:[],...(gr=e.types)!==null&&gr!==void 0?gr:[]]))});const a=l(n.name);return[a,lib.struct(o,a)]}));return new Map(r)}decode(e,r="hex"){typeof e=="string"&&(e=r==="hex"?bufferPolyfill.Buffer.from(e,"hex"):bs58$3.decode(e));let n=bs58$3.encode(e.slice(0,8)),o=e.slice(8);const a=this.sighashLayouts.get(n);return a?{data:a.layout.decode(o),name:a.name}:null}format(e,r){return Ct.format(e,r,this.idl)}}class Ct{static format(e,r,n){const o=n.instructions.filter(u=>e.name===u.name)[0];if(o===void 0)return console.error("Invalid instruction given"),null;const a=o.args.map(u=>({name:u.name,type:Ct.formatIdlType(u.type),data:Ct.formatIdlData(u,e.data[u.name],n.types)})),c=Ct.flattenIdlAccounts(o.accounts);return{args:a,accounts:r.map((u,gr)=>gr<c.length?{name:c[gr].name,...u}:{name:void 0,...u})}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,r,n){if(typeof e.type=="string")return r.toString();if(e.type.hasOwnProperty("vec"))return"["+r.map(o=>this.formatIdlData({name:"",type:e.type.vec},o)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return r===null?"null":this.formatIdlData({name:"",type:e.type.option},r,n);if(e.type.hasOwnProperty("defined")){if(n===void 0)throw new Error("User defined types not provided");const o=n.filter(a=>a.name===e.type.defined);if(o.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Ct.formatIdlDataDefined(o[0],r,n)}return"unknown"}static formatIdlDataDefined(e,r,n){if(e.type.kind==="struct"){const o=e.type;return"{ "+Object.keys(r).map(a=>{const c=o.fields.filter(u=>u.name===a)[0];if(c===void 0)throw new Error("Unable to find type");return a+": "+Ct.formatIdlData(c,r[a],n)}).join(", ")+" }"}if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const o=e.type.variants,a=Object.keys(r)[0],c=r[a],u=Object.keys(c).map(br=>{var _r;const Ar=c[br],vr=(_r=o[a])===null||_r===void 0?void 0:_r.filter(Tr=>Tr.name===br)[0];if(vr===void 0)throw new Error("Unable to find variant");return br+": "+Ct.formatIdlData(vr,Ar,n)}).join(", "),gr=l(a,{pascalCase:!0});return u.length===0?gr:`${gr} { ${u} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,r){return e.map(n=>{const o=function(a){const c=a.replace(/([A-Z])/g," $1");return c.charAt(0).toUpperCase()+c.slice(1)}(n.name);if(n.hasOwnProperty("accounts")){const a=r?`${r} > ${o}`:o;return Ct.flattenIdlAccounts(n.accounts,a)}return{...n,name:r?`${r} > ${o}`:o}}).flat()}}function Lt(t,e){var r;let n=`${t}:${r===void 0&&(r={}),Mt(e,Et({delimiter:"_"},r))}`;return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(n)).slice(0,8)}function Ot(t,e){if(e.type.kind==="enum"){let r=e.type.variants.map(n=>n.fields===void 0?0:n.fields.map(o=>{if(typeof o!="object"||!("name"in o))throw new Error("Tuple enum variants not yet implemented.");return Bt(t,o.type)}).reduce((o,a)=>o+a));return Math.max(...r)+1}return e.type.fields===void 0?0:e.type.fields.map(r=>Bt(t,r.type)).reduce((r,n)=>r+n,0)}function Bt(t,e){var r,n;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Bt(t,e.option);if("coption"in e)return 4+Bt(t,e.coption);if("defined"in e){const o=(n=(r=t.types)===null||r===void 0?void 0:r.filter(a=>a.name===e.defined))!==null&&n!==void 0?n:[];if(o.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Ot(t,o[0])}if("array"in e){let o=e.array[0],a=e.array[1];return Bt(t,o)*a}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const Dt=8;class zt{constructor(e){if(e.accounts===void 0)return void(this.accountLayouts=new Map);const r=e.accounts.map(n=>[n.name,Pt.typeDefLayout(n,e.types)]);this.accountLayouts=new Map(r),this.idl=e}async encode(e,r){const n=bufferPolyfill.Buffer.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const a=o.encode(r,n);let c=n.slice(0,a),u=zt.accountDiscriminator(e);return bufferPolyfill.Buffer.concat([u,c])}decode(e,r){if(zt.accountDiscriminator(e).compare(r.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){const n=r.slice(8),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.decode(n)}memcmp(e,r){const n=zt.accountDiscriminator(e);return{offset:0,bytes:bs58$3.encode(r?bufferPolyfill.Buffer.concat([n,r]):n)}}size(e){var r;return 8+((r=Ot(this.idl,e))!==null&&r!==void 0?r:0)}static accountDiscriminator(e){return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(`account:${l(e,{pascalCase:!0})}`)).slice(0,8)}}class Nt{constructor(e){if(e.events===void 0)return void(this.layouts=new Map);const r=e.events.map(n=>{let o={name:n.name,type:{kind:"struct",fields:n.fields.map(a=>({name:a.name,type:a.type}))}};return[n.name,Pt.typeDefLayout(o,e.types)]});this.layouts=new Map(r),this.discriminators=new Map(e.events===void 0?[]:e.events.map(n=>[fromByteArray_1(jt(n.name)),n.name]))}decode(e){let r;try{r=bufferPolyfill.Buffer.from(toByteArray_1(e))}catch{return null}const n=fromByteArray_1(r.slice(0,8)),o=this.discriminators.get(n);if(o===void 0)return null;const a=this.layouts.get(o);if(!a)throw new Error(`Unknown event: ${o}`);return{data:a.decode(r.slice(8)),name:o}}}function jt(t){return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(`event:${t}`)).slice(0,8)}class Rt{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=Pt.typeDefLayout(e.state.struct,e.types)}async encode(e,r){const n=bufferPolyfill.Buffer.alloc(1e3),o=this.layout.encode(r,n),a=await Ut(e),c=n.slice(0,o);return bufferPolyfill.Buffer.concat([a,c])}decode(e){const r=e.slice(8);return this.layout.decode(r)}}async function Ut(t){let e=pt("anchor-deprecated-state")?"account":"state";return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(`${e}:${t}`)).slice(0,8)}class Vt{constructor(e){this.instruction=new Tt(e),this.accounts=new zt(e),this.events=new Nt(e),e.state&&(this.state=new Rt(e))}}var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:{};function qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class Kt{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}var Ft=Kt;class Wt extends Kt{isCount(){throw new Error("ExternalLayout is abstract")}}class Gt extends Wt{constructor(e,r,n){if(!(e instanceof Kt))throw new TypeError("layout must be a Layout");if(r===void 0)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Ht||this.layout instanceof Jt}decode(e,r){return r===void 0&&(r=0),this.layout.decode(e,r+this.offset)}encode(e,r,n){return n===void 0&&(n=0),this.layout.encode(e,r,n+this.offset)}}class Ht extends Kt{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class Jt extends Kt{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntBE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntBE(e,n,this.span),this.span}}const Zt=Math.pow(2,32);class Qt extends Kt{constructor(e){super(8,e)}decode(e,r){r===void 0&&(r=0);const n=e.readUInt32LE(r);return function(o,a){return o*Zt+a}(e.readUInt32LE(r+4),n)}encode(e,r,n){n===void 0&&(n=0);const o=function(a){const c=Math.floor(a/Zt);return{hi32:c,lo32:a-c*Zt}}(e);return r.writeUInt32LE(o.lo32,n),r.writeUInt32LE(o.hi32,n+4),8}}class Xt extends Kt{constructor(e,r,n){if(!Array.isArray(e)||!e.reduce((a,c)=>a&&c instanceof Kt,!0))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((a,c)=>a+c.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((o,a)=>{const c=a.getSpan(e,r);return r+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const o=n;let a=0,c=0;for(const u of this.fields){let gr=u.span;if(c=0<gr?gr:0,u.property!==void 0){const br=e[u.property];br!==void 0&&(c=u.encode(br,r,n),0>gr&&(gr=u.getSpan(r,n)))}a=n,n+=gr}return a+c-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class Yt{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class te extends Yt{constructor(e,r){if(!(e instanceof Wt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}class ee extends Kt{constructor(e,r,n){const o=e instanceof Ht||e instanceof Jt;if(o)e=new te(new Gt(e));else if(e instanceof Wt&&e.isCount())e=new te(e);else if(!(e instanceof Yt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Kt))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let a=-1;r&&(a=r.span,0<=a&&o&&(a+=e.layout.span)),super(a,n),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=r,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||e.hasOwnProperty(r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,r){let n;r===void 0&&(r=0);const o=this.discriminator,a=o.decode(e,r);let c=this.registry[a];if(c===void 0){let u=0;c=this.defaultLayout,this.usesPrefixDiscriminator&&(u=o.layout.span),n=this.makeDestinationObject(),n[o.property]=a,n[c.property]=this.defaultLayout.decode(e,r+u)}else n=c.decode(e,r);return n}encode(e,r,n){n===void 0&&(n=0);const o=this.getSourceVariant(e);if(o===void 0){const a=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=a.layout.span),a.encode(e[a.property],r,n),u+c.encode(e[c.property],r,n+u)}return o.encode(e,r,n)}addVariant(e,r,n){const o=new re(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r){let n=e;return dist$3.Buffer.isBuffer(e)&&(r===void 0&&(r=0),n=this.discriminator.decode(e,r)),this.registry[n]}}class re extends Kt{constructor(e,r,n,o){if(!(e instanceof ee))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Kt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=n?n.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,r+n)}decode(e,r){const n=this.makeDestinationObject();if(r===void 0&&(r=0),this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n){n===void 0&&(n=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let a=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),a+=this.layout.getSpan(r,n+o),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class ne extends Kt{constructor(e,r){if(!(e instanceof Wt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Wt||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof Wt&&(o=e.length),!dist$3.Buffer.isBuffer(e)||o!==e.length)throw new TypeError((a="Blob.encode",((c=this).property?a+"["+c.property+"]":a)+" requires (length "+o+") Buffer as src"));var a,c;if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof Wt&&this.length.encode(o,r,n),o}}var ie=t=>new Ht(1,t),oe=t=>new Qt(t),se=(t,e,r)=>new Xt(t,e,r),ae=(t,e)=>new ne(t,e);class ce{constructor(e){}encode(e,r){switch(l(e)){case"initializeMint":return function({decimals:n,mintAuthority:o,freezeAuthority:a}){return pe({initializeMint:{decimals:n,mintAuthority:o.toBuffer(),freezeAuthorityOption:!!a,freezeAuthority:(a||PublicKey$3.default).toBuffer()}})}(r);case"initializeAccount":return pe({initializeAccount:{}});case"initializeMultisig":return function({m:n}){return pe({initializeMultisig:{m:n}})}(r);case"transfer":return function({amount:n}){return pe({transfer:{amount:n}})}(r);case"approve":return function({amount:n}){return pe({approve:{amount:n}})}(r);case"revoke":return pe({revoke:{}});case"setAuthority":return function({authorityType:n,newAuthority:o}){return pe({setAuthority:{authorityType:n,newAuthority:o}})}(r);case"mintTo":return function({amount:n}){return pe({mintTo:{amount:n}})}(r);case"burn":return function({amount:n}){return pe({burn:{amount:n}})}(r);case"closeAccount":return pe({closeAccount:{}});case"freezeAccount":return pe({freezeAccount:{}});case"thawAccount":return pe({thawAccount:{}});case"transferChecked":return function({amount:n,decimals:o}){return pe({transferChecked:{amount:n,decimals:o}})}(r);case"approvedChecked":return function({amount:n,decimals:o}){return pe({approveChecked:{amount:n,decimals:o}})}(r);case"mintToChecked":return function({amount:n,decimals:o}){return pe({mintToChecked:{amount:n,decimals:o}})}(r);case"burnChecked":return function({amount:n,decimals:o}){return pe({burnChecked:{amount:n,decimals:o}})}(r);case"intializeAccount2":return function({authority:n}){return pe({initilaizeAccount2:{authority:n}})}(r);case"syncNative":return pe({syncNative:{}});case"initializeAccount3":return function({authority:n}){return pe({initializeAccount3:{authority:n}})}(r);case"initializeMultisig2":return function({m:n}){return pe({initializeMultisig2:{m:n}})}(r);case"initializeMint2":return function({decimals:n,mintAuthority:o,freezeAuthority:a}){return pe({encodeInitializeMint2:{decimals:n,mintAuthority:o,freezeAuthority:a}})}(r);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,r){throw new Error("SPL token does not have state")}}const ue=(de=ie("instruction"),new ee(de,le,he));var de,le,he;function fe(t){return ae(32,t)}function pe(t){let e=dist$3.Buffer.alloc(me),r=ue.encode(t,e);return e.slice(0,r)}ue.addVariant(0,se([ie("decimals"),ae(32,"mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint"),ue.addVariant(1,se([]),"initializeAccount"),ue.addVariant(2,se([ie("m")]),"initializeMultisig"),ue.addVariant(3,se([oe("amount")]),"transfer"),ue.addVariant(4,se([oe("amount")]),"approve"),ue.addVariant(5,se([]),"revoke"),ue.addVariant(6,se([ie("authorityType"),ie("newAuthorityOption"),fe("newAuthority")]),"setAuthority"),ue.addVariant(7,se([oe("amount")]),"mintTo"),ue.addVariant(8,se([oe("amount")]),"burn"),ue.addVariant(9,se([]),"closeAccount"),ue.addVariant(10,se([]),"freezeAccount"),ue.addVariant(11,se([]),"thawAccount"),ue.addVariant(12,se([oe("amount"),ie("decimals")]),"transferChecked"),ue.addVariant(13,se([oe("amount"),ie("decimals")]),"approvedChecked"),ue.addVariant(14,se([oe("amount"),ie("decimals")]),"mintToChecked"),ue.addVariant(15,se([oe("amount"),ie("decimals")]),"burnedChecked"),ue.addVariant(16,se([fe("authority")]),"InitializeAccount2"),ue.addVariant(17,se([]),"syncNative"),ue.addVariant(18,se([fe("authority")]),"initializeAccount3"),ue.addVariant(19,se([ie("m")]),"initializeMultisig2"),ue.addVariant(20,se([ie("decimals"),fe("mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint2");const me=Math.max(...Object.values(ue.registry).map(t=>t.span));class ye{constructor(e){}encode(e,r){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function ge(t){return new be(ae(8),e=>Se.fromBuffer(e),e=>e.toBuffer(),t)}function we(t){return new be(ae(32),e=>new PublicKey$3(e),e=>e.toBuffer(),t)}function ve(t,e){return new Ae(t,e)}class be extends Ft{constructor(e,r,n,o){super(e.span,o),this.layout=e,this.decoder=r,this.encoder=n}decode(e,r){return this.decoder(this.layout.decode(e,r))}encode(e,r,n){return this.layout.encode(this.encoder(e),r,n)}getSpan(e,r){return this.layout.getSpan(e,r)}}class Ae extends Ft{constructor(e,r){super(-1,r),this.layout=e,this.discriminator=(n=>new Ht(4,n))()}encode(e,r,n=0){return e==null?this.layout.span+this.discriminator.encode(0,r,n):(this.discriminator.encode(1,r,n),this.layout.encode(e,r,n+4)+4)}decode(e,r=0){const n=this.discriminator.decode(e,r);if(n===0)return null;if(n===1)return this.layout.decode(e,r+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,r=0){return this.layout.getSpan(e,r+4)+4}}function _e(t){if(t===0)return!1;if(t===1)return!0;throw new Error("Invalid bool: "+t)}function Ee(t){return t?1:0}class Se extends BN{toBuffer(){const e=super.toArray().reverse(),r=dist$3.Buffer.from(e);if(r.length===8)return r;if(r.length>=8)throw new Error("u64 too large");const n=dist$3.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new Se([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}class Ie{constructor(e){this.idl=e}async encode(e,r){switch(e){case"token":{const n=dist$3.Buffer.alloc(165),o=xe.encode(r,n);return n.slice(0,o)}case"mint":{const n=dist$3.Buffer.alloc(82),o=ke.encode(r,n);return n.slice(0,o)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,r){return this.decodeUnchecked(e,r)}decodeUnchecked(e,r){switch(e){case"token":return function(n){return xe.decode(n)}(r);case"mint":return function(n){return ke.decode(n)}(r);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,r){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var r;return(r=Ot(this.idl,e))!==null&&r!==void 0?r:0}}const ke=se([ve(we(),"mintAuthority"),ge("supply"),ie("decimals"),function(t){return new be(ie(),_e,Ee,t)}("isInitialized"),ve(we(),"freezeAuthority")]),xe=se([we("mint"),we("authority"),ge("amount"),ve(we(),"delegate"),ie("state"),ve(ge(),"isNative"),ge("delegatedAmount"),ve(we(),"closeAuthority")]);class Me{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Pe{constructor(e){this.instruction=new ce(e),this.accounts=new Ie(e),this.events=new Me(e),this.state=new ye(e)}}var Te=Object.freeze({__proto__:null,hash:function(t){return sha256.exports.sha256(t)}});function Ce(t,e,r){const n=bufferPolyfill.Buffer.concat([t.toBuffer(),bufferPolyfill.Buffer.from(e),r.toBuffer()]),o=sha256.exports.sha256.digest(n);return new PublicKey$3(bufferPolyfill.Buffer.from(o))}function Le(t,e){let r=bufferPolyfill.Buffer.alloc(0);t.forEach(function(a){if(a.length>32)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,Be(a)])}),r=bufferPolyfill.Buffer.concat([r,e.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);let n=sha256.exports.sha256(new Uint8Array(r)),o=new BN(n,16).toArray(void 0,32);if(PublicKey$3.isOnCurve(new Uint8Array(o)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$3(o)}function Oe(t,e){let r,n=255;for(;n!=0;){try{r=Le(t.concat(bufferPolyfill.Buffer.from([n])),e)}catch(o){if(o instanceof TypeError)throw o;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const Be=t=>t instanceof bufferPolyfill.Buffer?t:t instanceof Uint8Array?bufferPolyfill.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bufferPolyfill.Buffer.from(t);async function De(t,...e){let r=[bufferPolyfill.Buffer.from([97,110,99,104,111,114])];e.forEach(o=>{r.push(o instanceof bufferPolyfill.Buffer?o:P(o).toBuffer())});const[n]=await PublicKey$3.findProgramAddress(r,P(t));return n}var ze=Object.freeze({__proto__:null,createWithSeedSync:Ce,createProgramAddressSync:Le,findProgramAddressSync:Oe,associated:De});const Ne=new PublicKey$3("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),je=new PublicKey$3("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Re=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ne,ASSOCIATED_PROGRAM_ID:je,associatedAddress:async function({mint:t,owner:e}){return(await PublicKey$3.findProgramAddress([e.toBuffer(),Ne.toBuffer(),t.toBuffer()],je))[0]}}),Ue={exports:{}};(function(t,e){var r=typeof self<"u"?self:$t,n=function(){function a(){this.fetch=!1,this.DOMException=r.DOMException}return a.prototype=r,new a}();(function(a){(function(c){var u="URLSearchParams"in a,gr="Symbol"in a&&"iterator"in Symbol,br="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),_r="FormData"in a,Ar="ArrayBuffer"in a;if(Ar)var vr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Tr=ArrayBuffer.isView||function(Ur){return Ur&&vr.indexOf(Object.prototype.toString.call(Ur))>-1};function Or(Ur){if(typeof Ur!="string"&&(Ur=String(Ur)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Ur))throw new TypeError("Invalid character in header field name");return Ur.toLowerCase()}function Ir(Ur){return typeof Ur!="string"&&(Ur=String(Ur)),Ur}function xr(Ur){var Rr={next:function(){var Pr=Ur.shift();return{done:Pr===void 0,value:Pr}}};return gr&&(Rr[Symbol.iterator]=function(){return Rr}),Rr}function Lr(Ur){this.map={},Ur instanceof Lr?Ur.forEach(function(Rr,Pr){this.append(Pr,Rr)},this):Array.isArray(Ur)?Ur.forEach(function(Rr){this.append(Rr[0],Rr[1])},this):Ur&&Object.getOwnPropertyNames(Ur).forEach(function(Rr){this.append(Rr,Ur[Rr])},this)}function Fr(Ur){if(Ur.bodyUsed)return Promise.reject(new TypeError("Already read"));Ur.bodyUsed=!0}function Mr(Ur){return new Promise(function(Rr,Pr){Ur.onload=function(){Rr(Ur.result)},Ur.onerror=function(){Pr(Ur.error)}})}function Hr(Ur){var Rr=new FileReader,Pr=Mr(Rr);return Rr.readAsArrayBuffer(Ur),Pr}function Vr(Ur){if(Ur.slice)return Ur.slice(0);var Rr=new Uint8Array(Ur.byteLength);return Rr.set(new Uint8Array(Ur)),Rr.buffer}function Kr(){return this.bodyUsed=!1,this._initBody=function(Ur){var Rr;this._bodyInit=Ur,Ur?typeof Ur=="string"?this._bodyText=Ur:br&&Blob.prototype.isPrototypeOf(Ur)?this._bodyBlob=Ur:_r&&FormData.prototype.isPrototypeOf(Ur)?this._bodyFormData=Ur:u&&URLSearchParams.prototype.isPrototypeOf(Ur)?this._bodyText=Ur.toString():Ar&&br&&(Rr=Ur)&&DataView.prototype.isPrototypeOf(Rr)?(this._bodyArrayBuffer=Vr(Ur.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ar&&(ArrayBuffer.prototype.isPrototypeOf(Ur)||Tr(Ur))?this._bodyArrayBuffer=Vr(Ur):this._bodyText=Ur=Object.prototype.toString.call(Ur):this._bodyText="",this.headers.get("content-type")||(typeof Ur=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(Ur)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},br&&(this.blob=function(){var Ur=Fr(this);if(Ur)return Ur;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Fr(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Hr)}),this.text=function(){var Ur=Fr(this);if(Ur)return Ur;if(this._bodyBlob)return function(Rr){var Pr=new FileReader,Dr=Mr(Pr);return Pr.readAsText(Rr),Dr}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(Rr){for(var Pr=new Uint8Array(Rr),Dr=new Array(Pr.length),Yr=0;Yr<Pr.length;Yr++)Dr[Yr]=String.fromCharCode(Pr[Yr]);return Dr.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},_r&&(this.formData=function(){return this.text().then(tn)}),this.json=function(){return this.text().then(JSON.parse)},this}Lr.prototype.append=function(Ur,Rr){Ur=Or(Ur),Rr=Ir(Rr);var Pr=this.map[Ur];this.map[Ur]=Pr?Pr+", "+Rr:Rr},Lr.prototype.delete=function(Ur){delete this.map[Or(Ur)]},Lr.prototype.get=function(Ur){return Ur=Or(Ur),this.has(Ur)?this.map[Ur]:null},Lr.prototype.has=function(Ur){return this.map.hasOwnProperty(Or(Ur))},Lr.prototype.set=function(Ur,Rr){this.map[Or(Ur)]=Ir(Rr)},Lr.prototype.forEach=function(Ur,Rr){for(var Pr in this.map)this.map.hasOwnProperty(Pr)&&Ur.call(Rr,this.map[Pr],Pr,this)},Lr.prototype.keys=function(){var Ur=[];return this.forEach(function(Rr,Pr){Ur.push(Pr)}),xr(Ur)},Lr.prototype.values=function(){var Ur=[];return this.forEach(function(Rr){Ur.push(Rr)}),xr(Ur)},Lr.prototype.entries=function(){var Ur=[];return this.forEach(function(Rr,Pr){Ur.push([Pr,Rr])}),xr(Ur)},gr&&(Lr.prototype[Symbol.iterator]=Lr.prototype.entries);var jr=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function qr(Ur,Rr){var Pr,Dr,Yr=(Rr=Rr||{}).body;if(Ur instanceof qr){if(Ur.bodyUsed)throw new TypeError("Already read");this.url=Ur.url,this.credentials=Ur.credentials,Rr.headers||(this.headers=new Lr(Ur.headers)),this.method=Ur.method,this.mode=Ur.mode,this.signal=Ur.signal,Yr||Ur._bodyInit==null||(Yr=Ur._bodyInit,Ur.bodyUsed=!0)}else this.url=String(Ur);if(this.credentials=Rr.credentials||this.credentials||"same-origin",!Rr.headers&&this.headers||(this.headers=new Lr(Rr.headers)),this.method=(Pr=Rr.method||this.method||"GET",Dr=Pr.toUpperCase(),jr.indexOf(Dr)>-1?Dr:Pr),this.mode=Rr.mode||this.mode||null,this.signal=Rr.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Yr)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Yr)}function tn(Ur){var Rr=new FormData;return Ur.trim().split("&").forEach(function(Pr){if(Pr){var Dr=Pr.split("="),Yr=Dr.shift().replace(/\+/g," "),Zr=Dr.join("=").replace(/\+/g," ");Rr.append(decodeURIComponent(Yr),decodeURIComponent(Zr))}}),Rr}function en(Ur,Rr){Rr||(Rr={}),this.type="default",this.status=Rr.status===void 0?200:Rr.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in Rr?Rr.statusText:"OK",this.headers=new Lr(Rr.headers),this.url=Rr.url||"",this._initBody(Ur)}qr.prototype.clone=function(){return new qr(this,{body:this._bodyInit})},Kr.call(qr.prototype),Kr.call(en.prototype),en.prototype.clone=function(){return new en(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Lr(this.headers),url:this.url})},en.error=function(){var Ur=new en(null,{status:0,statusText:""});return Ur.type="error",Ur};var sn=[301,302,303,307,308];en.redirect=function(Ur,Rr){if(sn.indexOf(Rr)===-1)throw new RangeError("Invalid status code");return new en(null,{status:Rr,headers:{location:Ur}})},c.DOMException=a.DOMException;try{new c.DOMException}catch{c.DOMException=function(Rr,Pr){this.message=Rr,this.name=Pr;var Dr=Error(Rr);this.stack=Dr.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function cn(Ur,Rr){return new Promise(function(Pr,Dr){var Yr=new qr(Ur,Rr);if(Yr.signal&&Yr.signal.aborted)return Dr(new c.DOMException("Aborted","AbortError"));var Zr=new XMLHttpRequest;function Xr(){Zr.abort()}Zr.onload=function(){var nn,Gr,Nr={status:Zr.status,statusText:Zr.statusText,headers:(nn=Zr.getAllResponseHeaders()||"",Gr=new Lr,nn.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(fn){var An=fn.split(":"),wn=An.shift().trim();if(wn){var yn=An.join(":").trim();Gr.append(wn,yn)}}),Gr)};Nr.url="responseURL"in Zr?Zr.responseURL:Nr.headers.get("X-Request-URL");var Jr="response"in Zr?Zr.response:Zr.responseText;Pr(new en(Jr,Nr))},Zr.onerror=function(){Dr(new TypeError("Network request failed"))},Zr.ontimeout=function(){Dr(new TypeError("Network request failed"))},Zr.onabort=function(){Dr(new c.DOMException("Aborted","AbortError"))},Zr.open(Yr.method,Yr.url,!0),Yr.credentials==="include"?Zr.withCredentials=!0:Yr.credentials==="omit"&&(Zr.withCredentials=!1),"responseType"in Zr&&br&&(Zr.responseType="blob"),Yr.headers.forEach(function(nn,Gr){Zr.setRequestHeader(Gr,nn)}),Yr.signal&&(Yr.signal.addEventListener("abort",Xr),Zr.onreadystatechange=function(){Zr.readyState===4&&Yr.signal.removeEventListener("abort",Xr)}),Zr.send(Yr._bodyInit===void 0?null:Yr._bodyInit)})}cn.polyfill=!0,a.fetch||(a.fetch=cn,a.Headers=Lr,a.Request=qr,a.Response=en),c.Headers=Lr,c.Request=qr,c.Response=en,c.fetch=cn,Object.defineProperty(c,"__esModule",{value:!0})})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e})(Ue,Ue.exports);var Ve=qt(Ue.exports);async function $e(t,e){const r=await t.getAccountInfo(e);if(r===null)throw new Error("program account not found");const{program:n}=Ke(r.data),o=await t.getAccountInfo(n.programdataAddress);if(o===null)throw new Error("program data account not found");const{programData:a}=Ke(o.data);return a}const qe=lib.rustEnum([lib.struct([],"uninitialized"),lib.struct([lib.option(lib.publicKey(),"authorityAddress")],"buffer"),lib.struct([lib.publicKey("programdataAddress")],"program"),lib.struct([lib.u64("slot"),lib.option(lib.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib.u32());function Ke(t){return qe.decode(t)}var Fe=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,r=5){const n=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${r}`,[o,a]=await Promise.all([$e(t,e),Ve(n)]),c=(await a.json()).filter(gr=>!gr.aborted&&gr.state==="Built"&&gr.verified==="Verified");if(c.length===0)return null;const u=c[0];return o.slot.toNumber()!==u.verified_slot?null:u},fetchData:$e,decodeUpgradeableLoaderState:Ke}),We=Object.freeze({__proto__:null,sha256:Te,rpc:it,publicKey:ze,bytes:I,token:Re,features:mt,registry:Fe});const Ge=lib.struct([lib.publicKey("authority"),lib.vecU8("data")]);function He(t,e){var r,n;let o={};const a=t.args?t.args.length:0;if(e.length>a){if(e.length!==a+1)throw new Error(`provided too many arguments ${e} to instruction ${t==null?void 0:t.name} expecting: ${(n=(r=t.args)===null||r===void 0?void 0:r.map(c=>c.name))!==null&&n!==void 0?n:[]}`);o=e.pop()}return[e,o]}class Je{static build(e,r,n){if(e.name==="_inner")throw new yt("the _inner name is reserved");const o=(...a)=>{const[c,u]=He(e,[...a]);M(e.accounts,u.accounts);const gr=o.accounts(u.accounts);return u.remainingAccounts!==void 0&&gr.push(...u.remainingAccounts),pt("debug-logs")&&console.log("Outgoing account metas:",gr),new TransactionInstruction$3({keys:gr,programId:n,data:r(e.name,x(e,...c))})};return o.accounts=a=>Je.accountsArray(a,e.accounts,e.name),o}static accountsArray(e,r,n){return e?r.map(o=>{if(("accounts"in o?o.accounts:void 0)!==void 0){const a=e[o.name];return Je.accountsArray(a,o.accounts,n).flat()}{const a=o;let c;try{c=P(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${n!==void 0?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:c,isWritable:a.isMut,isSigner:a.isSigner}}}).flat():[]}}class Ze{static build(e,r,n,o){return async(...a)=>{var c;const u=r(...a),[,gr]=He(e,[...a]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(u,(c=gr.signers)!==null&&c!==void 0?c:[],gr.options)}catch(br){throw bt(br,n)}}}}class Qe{static build(e,r){return(...n)=>{var o,a,c;const[,u]=He(e,[...n]),gr=new Transaction$3;if(u.preInstructions&&u.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=u.preInstructions)===null||o===void 0||o.forEach(br=>gr.add(br)),(a=u.instructions)===null||a===void 0||a.forEach(br=>gr.add(br)),gr.add(r(...n)),(c=u.postInstructions)===null||c===void 0||c.forEach(br=>gr.add(br)),gr}}}class Xe{constructor(e,r,n=dt(),o=new Vt(e)){this.provider=n,this.coder=o,this._idl=e,this._programId=r,this._address=Ye(r),this._sub=null;const[a,c,u]=(()=>{var gr;let br={},_r={},Ar={};return(gr=e.state)===null||gr===void 0||gr.methods.forEach(vr=>{const Tr=Je.build(vr,(Lr,Fr)=>o.instruction.encodeState(Lr,Fr),r);Tr.accounts=Lr=>function(Mr,Hr,Vr,Kr){if(Vr.name==="new"){const[jr]=Oe([],Mr);if(Hr.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:Hr.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Ye(Mr),isWritable:!0,isSigner:!1},{pubkey:jr,isWritable:!1,isSigner:!1},{pubkey:SystemProgram$3.programId,isWritable:!1,isSigner:!1},{pubkey:Mr,isWritable:!1,isSigner:!1}]}return M(Vr.accounts,Kr),[{pubkey:Ye(Mr),isWritable:!0,isSigner:!1}]}(r,n,vr,Lr).concat(Je.accountsArray(Lr,vr.accounts,vr.name));const Or=Qe.build(vr,Tr),Ir=Ze.build(vr,Or,k(e),n),xr=l(vr.name);br[xr]=Tr,_r[xr]=Or,Ar[xr]=Ir}),[br,_r,Ar]})();this.instruction=a,this.transaction=c,this.rpc=u}get programId(){return this._programId}async fetch(){const e=this.address(),r=await this.provider.connection.getAccountInfo(e);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await Ut(n.struct.name)).compare(r.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(r.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const r=new EventEmitter,n=this.provider.connection.onAccountChange(this.address(),o=>{const a=this.coder.state.decode(o.data);r.emit("change",a)},e);return this._sub={ee:r,listener:n},r}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function Ye(t){let[e]=Oe([],t);return Ce(e,"unversioned",t)}class tr{constructor(e,r,n,o,a){this._idlAccount=r,this._programId=n,this._provider=o??dt(),this._coder=a??new Vt(e),this._size=this._coder.accounts.size(r)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,r){const n=await this.getAccountInfo(e,r);return n===null?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(e,r){const n=await this.fetchNullable(e,r);if(n===null)throw new Error(`Account does not exist ${e.toString()}`);return n}async fetchMultiple(e,r){return(await Z(this._provider.connection,e.map(n=>P(n)),r)).map(n=>n==null?null:this._coder.accounts.decode(this._idlAccount.name,n==null?void 0:n.account.data))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof dist$3.Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map(({pubkey:r,account:n})=>({publicKey:r,account:this._coder.accounts.decode(this._idlAccount.name,n.data)}))}subscribe(e,r){const n=er.get(e.toString());if(n)return n.ee;const o=new EventEmitter;e=P(e);const a=this._provider.connection.onAccountChange(e,c=>{const u=this._coder.accounts.decode(this._idlAccount.name,c.data);o.emit("change",u)},r);return er.set(e.toString(),{ee:o,listener:a}),o}async unsubscribe(e){let r=er.get(e.toString());r?er&&await this._provider.connection.removeAccountChangeListener(r.listener).then(()=>{er.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,r){const n=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return SystemProgram$3.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:r??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(r??n),programId:this._programId})}async associated(...e){const r=await this.associatedAddress(...e);return await this.fetch(r)}async associatedAddress(...e){return await De(this._programId,...e)}async getAccountInfo(e,r){return await this._provider.connection.getAccountInfo(P(e),r)}}const er=new Map,rr=13,nr=14;class ir{constructor(e,r,n){this._programId=e,this._provider=r,this._eventParser=new or(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,r){var n;let o=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,((n=this._eventListeners.get(e))!==null&&n!==void 0?n:[]).concat(o)),this._eventCallbacks.set(o,[e,r]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(a,c)=>{a.err||this._eventParser.parseLogs(a.logs,u=>{const gr=this._eventListeners.get(u.name);gr&&gr.forEach(br=>{const _r=this._eventCallbacks.get(br);if(_r){const[,Ar]=_r;Ar(u.data,c.slot)}})})})),o}async removeEventListener(e){const r=this._eventCallbacks.get(e);if(!r)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=r;let o=this._eventListeners.get(n);if(!o)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(e),o=o.filter(a=>a!==e),o.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size==0&&(assert$6.exports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class or{constructor(e,r){this.coder=r,this.programId=e}parseLogs(e,r){const n=new ar(e),o=new sr;let a=n.next();for(;a!==null;){let[c,u,gr]=this.handleLog(o,a);c&&r(c),u&&o.push(u),gr&&o.pop(),a=n.next()}}handleLog(e,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(r):[null,...this.handleSystemLog(r)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const r=e.startsWith("Program log: ")?e.slice(rr):e.slice(nr);return[this.coder.events.decode(r),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const r=e.split(":")[0];return r.match(/^Program (.*) success/g)!==null?[null,!0]:r.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:r.includes("invoke")?["cpi",!1]:[null,!1]}}class sr{constructor(){this.stack=[]}program(){return assert$6.exports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){assert$6.exports.ok(this.stack.length>0),this.stack.pop()}}class ar{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const cr=new PublicKey$3("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function ur(){return new Pe(dr)}const dr={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class lr{constructor(e,r,n,o,a,c){this._args=e,this._accounts=r,this._provider=n,this._programId=o,this._idlIx=a,this._accountStore=new hr(n,c)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const r=this._idlIx.accounts[e],n=l(r.name);if(r.pda&&r.pda.seeds.length>0&&!this._accounts[n])await this.autoPopulatePda(r);else if(!r.isSigner||this._accounts[n])Reflect.has(lr.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=lr.CONST_ACCOUNTS[n]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[n]=this._provider.wallet.publicKey}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const r=await Promise.all(e.pda.seeds.map(a=>this.toBuffer(a))),n=await this.parseProgramId(e),[o]=await PublicKey$3.findProgramAddress(r,n);this._accounts[l(e.name)]=o}async parseProgramId(e){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new PublicKey$3(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const r=this.argValue(e);return this.toBufferValue(e.type,r)}argValue(e){const r=l(e.path.split(".")[0]),n=this._idlIx.args.findIndex(o=>o.name===r);if(n===-1)throw new Error(`Unable to find argument for seed: ${r}`);return this._args[n]}async toBufferAccount(e){const r=await this.accountValue(e);return this.toBufferValue(e.type,r)}async accountValue(e){const r=e.path.split("."),n=r[0],o=this._accounts[l(n)];if(r.length===1)return o;const a=await this._accountStore.fetchAccount(e.account,o);return this.parseAccountValue(a,r.slice(1))}parseAccountValue(e,r){let n;for(;r.length>0;)n=e[l(r[0])],r=r.slice(1);return n}toBufferValue(e,r){switch(e){case"u8":return dist$3.Buffer.from([r]);case"u16":let n=dist$3.Buffer.alloc(2);return n.writeUInt16LE(r),n;case"u32":let o=dist$3.Buffer.alloc(4);return o.writeUInt32LE(r),o;case"u64":let a=dist$3.Buffer.alloc(8);return a.writeBigUInt64LE(BigInt(r)),a;case"string":return dist$3.Buffer.from(v(r));case"publicKey":return r.toBuffer();default:if(e.array)return dist$3.Buffer.from(r);throw new Error(`Unexpected seed type: ${e}`)}}}lr.CONST_ACCOUNTS={systemProgram:SystemProgram$3.programId,tokenProgram:Ne,associatedTokenProgram:je,rent:SYSVAR_RENT_PUBKEY$3};class hr{constructor(e,r){this._provider=e,this._accounts=r,this._cache=new Map}async fetchAccount(e,r){const n=r.toString();if(!this._cache.has(n))if(e==="TokenAccount"){const o=await this._provider.connection.getAccountInfo(r);if(o===null)throw new Error(`invalid account info for ${n}`);const a=ur().accounts.decode("token",o.data);this._cache.set(n,a)}else{const o=this._accounts[l(e)].fetch(r);this._cache.set(n,o)}return this._cache.get(n)}}class fr{static build(e,r,n,o,a,c,u,gr,br){return(..._r)=>new pr(_r,o,a,c,u,gr,e,r,n,br)}}class pr{constructor(e,r,n,o,a,c,u,gr,br,_r){this._args=e,this._ixFn=r,this._txFn=n,this._rpcFn=o,this._simulateFn=a,this._viewFn=c,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new lr(e,this._accounts,u,gr,br,_r)}async pubkeys(){return await this._accountsResolver.resolve(),this._accounts}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class mr{constructor(e,r,n,o){r=P(r),n||(n=dt()),this._idl=e,this._provider=n,this._programId=r,this._coder=o??new Vt(e),this._events=new ir(this._programId,n,this._coder);const[a,c,u,gr,br,_r,Ar,vr]=class{static build(Tr,Or,Ir,xr){const Lr={},Fr={},Mr={},Hr={},Vr={},Kr={},jr=k(Tr),qr=Tr.accounts?class{static build(en,sn,cn,Ur){var Rr;const Pr={};return(Rr=en.accounts)===null||Rr===void 0||Rr.forEach(Dr=>{const Yr=l(Dr.name);Pr[Yr]=new tr(en,Dr,cn,Ur,sn)}),Pr}}.build(Tr,Or,Ir,xr):{},tn=class{static build(en,sn,cn,Ur){if(en.state!==void 0)return new Xe(en,cn,Ur,sn)}}.build(Tr,Or,Ir,xr);return Tr.instructions.forEach(en=>{const sn=Je.build(en,(Zr,Xr)=>Or.instruction.encode(Zr,Xr),Ir),cn=Qe.build(en,sn),Ur=Ze.build(en,cn,jr,xr),Rr=class{static build(Zr,Xr,nn,Gr,Nr,Jr,fn){return async(...An)=>{var wn;const yn=Xr(...An),[,mn]=He(Zr,[...An]);let _n;if(Gr.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{_n=await Gr.simulate(yn,mn.signers,(wn=mn.options)===null||wn===void 0?void 0:wn.commitment)}catch(ln){throw bt(ln,nn)}if(_n===void 0)throw new Error("Unable to simulate transaction");const In=_n.logs;if(!In)throw new Error("Simulated logs not found");const Nn=[];return fn.events&&new or(Jr,Nr).parseLogs(In,ln=>{Nn.push(ln)}),{events:Nn,raw:In}}}}.build(en,cn,jr,xr,Or,Ir,Tr),Pr=class{static build(Zr,Xr,nn,Gr){const Nr=Xr.accounts.find(fn=>fn.isMut),Jr=!!Xr.returns;if(!Nr&&Jr)return async(...fn)=>{var An,wn;let yn=await nn(...fn);const mn=`Program return: ${Zr} `;let _n=yn.raw.find(ln=>ln.startsWith(mn));if(!_n)throw new Error("View expected return log");let In=E(_n.slice(mn.length)),Nn=Xr.returns;if(!Nn)throw new Error("View expected return type");return Pt.fieldLayout({type:Nn},Array.from([...(An=Gr.accounts)!==null&&An!==void 0?An:[],...(wn=Gr.types)!==null&&wn!==void 0?wn:[]])).decode(In)}}}.build(Ir,en,Rr,Tr),Dr=fr.build(xr,Ir,en,sn,cn,Ur,Rr,Pr,qr),Yr=l(en.name);Fr[Yr]=sn,Mr[Yr]=cn,Lr[Yr]=Ur,Hr[Yr]=Rr,Vr[Yr]=Dr,Pr&&(Kr[Yr]=Pr)}),[Lr,Fr,Mr,qr,Hr,Vr,tn,Kr]}}.build(e,this._coder,r,n);this.rpc=a,this.instruction=c,this.transaction=u,this.account=gr,this.simulate=br,this.methods=_r,this.state=Ar,this.views=vr}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,r){const n=P(e),o=await mr.fetchIdl(n,r);if(!o)throw new Error(`IDL not found for program: ${e.toString()}`);return new mr(o,n,r)}static async fetchIdl(e,r){r=r??dt();const n=P(e),o=await async function(br){const _r=(await PublicKey$3.findProgramAddress([],br))[0];return await PublicKey$3.createWithSeed(_r,"anchor:idl",br)}(n),a=await r.connection.getAccountInfo(o);if(!a)return null;let c=(u=a.data.slice(8),Ge.decode(u));var u;const gr=inflate_1(c.data);return JSON.parse(w(gr))}addEventListener(e,r){return this._events.addEventListener(e,r)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class yr{static token(e){return function(r){return new mr(dr,cr,r,ur())}(e)}}var browser=Object.freeze(Object.defineProperty({__proto__:null,web3:index_browser_esm$2,ACCOUNT_DISCRIMINATOR_SIZE:Dt,AccountClient:tr,AnchorError:wt,AnchorProvider:ot,BorshAccountsCoder:zt,BorshCoder:Vt,BorshEventCoder:Nt,BorshInstructionCoder:Tt,BorshStateCoder:Rt,EventManager:ir,EventParser:or,IdlError:yt,LangErrorCode:At,LangErrorMessage:_t,MethodsBuilderFactory:fr,Program:mr,ProgramError:vt,ProgramErrorStack:gt,Spl:yr,SplTokenCoder:Pe,StateClient:Xe,eventDiscriminator:jt,getProvider:dt,parseIdlErrors:k,setProvider:ut,splitArgsAndCtx:He,stateDiscriminator:Ut,toInstruction:x,translateAddress:P,translateError:bt,utils:We,validateAccounts:M,BN},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(browser),stakingIdl={};Object.defineProperty(stakingIdl,"__esModule",{value:!0});stakingIdl.stakingIdl=void 0;stakingIdl.stakingIdl={version:"0.1.0",name:"atlas_staking",instructions:[{name:"cancelUnstake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[]},{name:"createStakingAccount",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"harvest",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeStaking",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerStake",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"Mint",path:"stake_mint"},{kind:"account",type:"publicKey",account:"Mint",path:"reward_mint"}]}},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"}]},{name:"settle",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[{name:"updatedStakingPeriod",type:"u16"}]},{name:"stakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeAmount",type:"u64"}]},{name:"unstakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCooldownPeriod",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"cooldownPeriod",type:"u64"}]},{name:"updateRewardMultiplier",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"rewardMultiplier",type:"u64"},{name:"newStakingPeriod",type:"u16"}]},{name:"withdrawTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"RegisteredStake",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"rewardMint",type:"publicKey"},{name:"currentPeriod",type:"u16"},{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"},{name:"bump",type:"u8"}]}},{name:"StakingAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"registeredStake",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"totalStake",type:"u64"},{name:"activeStake",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"paidRewards",type:"u64"},{name:"currentPeriod",type:"u16"},{name:"stakedAtTs",type:"i64"},{name:"lastPendingRewardCalcTs",type:"i64"},{name:"lastHarvestTs",type:"i64"},{name:"unstakedTs",type:"i64"},{name:"bump",type:"u8"}]}},{name:"StakingVars",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"bump",type:"u8"}]}}],errors:[{code:6e3,name:"InvalidMint",msg:"Invalid Token Mint"},{code:6001,name:"InvalidOwner",msg:"Account now owned by user"},{code:6002,name:"InsufficientFunds",msg:"Insufficient token balance"},{code:6003,name:"InvalidAuthority",msg:"Invalid authority for this account"},{code:6004,name:"InvalidDepositQty",msg:"Invalid deposit quantity"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"StakeOnCooldown",msg:"Cannot stake while account is on cooldown"},{code:6007,name:"InvalidEscrowAuth",msg:"Invalid escrow authority"},{code:6008,name:"WithdrawOnCooldown",msg:"Cannot withdraw before cooldown period has elapsed"},{code:6009,name:"InvalidPeriod",msg:"Staking account must be in the same period as the Registered Stake"},{code:6010,name:"NotOnCooldown",msg:"Staking account is not on cooldown"}],metadata:{}};Object.defineProperty(getStakingProgram$1,"__esModule",{value:!0});getStakingProgram$1.getStakingProgram=getStakingProgram$1.getStakingIdl=void 0;const anchor_1$o=require$$0$1,stakingIdl_1=stakingIdl;function getStakingIdl(t){const e=stakingIdl_1.stakingIdl;return e.metadata.address=t.toBase58(),e}getStakingProgram$1.getStakingIdl=getStakingIdl;function getStakingProgram({connection:t,programId:e}){const r=getStakingIdl(e),n=new anchor_1$o.AnchorProvider(t,null,null);return new anchor_1$o.Program(r,e,n)}getStakingProgram$1.getStakingProgram=getStakingProgram;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(getStakingProgram$1,t)})(utils$1);var __awaiter$y=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(cancelUnstake,"__esModule",{value:!0});cancelUnstake.cancelUnstakeInstruction=void 0;const utils_1$n=utils$1;function cancelUnstakeInstruction({connection:t,user:e,registeredStake:r,programId:n}){return __awaiter$y(this,void 0,void 0,function*(){const o=(0,utils_1$n.getStakingProgram)({connection:t,programId:n}),a={instructions:[],signers:[]},c=yield o.methods.cancelUnstake().accounts({user:e,registeredStake:r}).instruction();return a.instructions.push(c),a})}cancelUnstake.cancelUnstakeInstruction=cancelUnstakeInstruction;var createStakeAccount={},__awaiter$x=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(createStakeAccount,"__esModule",{value:!0});createStakeAccount.createStakingAccountInstruction=void 0;const utils_1$m=utils$1;function createStakingAccountInstruction({connection:t,user:e,registeredStake:r,programId:n}){return __awaiter$x(this,void 0,void 0,function*(){const o=(0,utils_1$m.getStakingProgram)({connection:t,programId:n}),a={instructions:[],signers:[]},c=yield o.methods.createStakingAccount().accounts({user:e,registeredStake:r}).instruction();return a.instructions.push(c),a})}createStakeAccount.createStakingAccountInstruction=createStakingAccountInstruction;var harvestRewards={},token$2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.associatedAddress=t.ASSOCIATED_PROGRAM_ID=t.TOKEN_PROGRAM_ID=void 0;const e=require$$0$2;t.TOKEN_PROGRAM_ID=new e.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.ASSOCIATED_PROGRAM_ID=new e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function r({mint:n,owner:o}){return(await e.PublicKey.findProgramAddress([o.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],t.ASSOCIATED_PROGRAM_ID))[0]}t.associatedAddress=r})(token$2);var util={},helpers$1={};const generatePrivateKey=ed25519$1.utils.randomPrivateKey,generateKeypair$1=()=>{const t=ed25519$1.utils.randomPrivateKey(),e=getPublicKey$1(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},getPublicKey$1=ed25519$1.getPublicKey;function isOnCurve$1(t){try{return ed25519$1.ExtendedPoint.fromHex(t),!0}catch{return!1}}const sign$1=(t,e)=>ed25519$1.sign(t,e.slice(0,32)),verify$1=ed25519$1.verify,toBuffer$1=t=>bufferPolyfill.Buffer.isBuffer(t)?t:t instanceof Uint8Array?bufferPolyfill.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bufferPolyfill.Buffer.from(t);class Struct$1{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$1,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$1,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$1,this,e)}}class Enum extends Struct$1{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const SOLANA_SCHEMA$1=new Map;var _class$1;let _Symbol$toStringTag$3;const MAX_SEED_LENGTH$1=32,PUBLIC_KEY_LENGTH$1=32;function isPublicKeyData$1(t){return t._bn!==void 0}let uniquePublicKeyCounter$1=1;_Symbol$toStringTag$3=Symbol.toStringTag;class PublicKey$1 extends Struct$1{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$1(e))this._bn=e._bn;else{if(typeof e=="string"){const r=bs58$3.decode(e);if(r.length!=PUBLIC_KEY_LENGTH$1)throw new Error("Invalid public key input");this._bn=new BN(r)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$1)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$1(uniquePublicKeyCounter$1);return uniquePublicKeyCounter$1+=1,new PublicKey$1(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$1)return e;const r=bufferPolyfill.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[_Symbol$toStringTag$3](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(r),n.toBuffer()]),a=sha256$2(o);return new PublicKey$1(a)}static createProgramAddressSync(e,r){let n=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$1)throw new TypeError("Max seed length exceeded");n=bufferPolyfill.Buffer.concat([n,toBuffer$1(a)])}),n=bufferPolyfill.Buffer.concat([n,r.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$2(n);if(isOnCurve$1(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$1(o)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,o;for(;n!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([n]));o=this.createProgramAddressSync(a,r)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new PublicKey$1(e);return isOnCurve$1(r.toBytes())}}_class$1=PublicKey$1;PublicKey$1.default=new _class$1("11111111111111111111111111111111");SOLANA_SCHEMA$1.set(PublicKey$1,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=toBuffer$1(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=toBuffer$1(generatePrivateKey()),this._publicKey=toBuffer$1(getPublicKey$1(this._secretKey))}get publicKey(){return new PublicKey$1(this._publicKey)}get secretKey(){return bufferPolyfill.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey$1("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE$1=1280-40-8,VERSION_PREFIX_MASK$1=127,SIGNATURE_LENGTH_IN_BYTES$1=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys$1{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((a,c)=>{n.set(a.toBase58(),c)});const o=a=>{const c=n.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$2=(t="publicKey")=>blob$2(32,t),signature=(t="signature")=>blob$2(64,t),rustString$1=(t="string")=>{const e=struct$3([u32$2("length"),u32$2("lengthPadding"),blob$2(offset$1(u32$2(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(a,c)=>r(a,c).chars.toString(),o.encode=(a,c,u)=>{const gr={chars:bufferPolyfill.Buffer.from(a,"utf8")};return n(gr,c,u)},o.alloc=a=>u32$2().span+u32$2().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$1=(t="authorized")=>struct$3([publicKey$2("staker"),publicKey$2("withdrawer")],t),lockup$1=(t="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$2("custodian")],t),voteInit$1=(t="voteInit")=>struct$3([publicKey$2("nodePubkey"),publicKey$2("authorizedVoter"),publicKey$2("authorizedWithdrawer"),u8$2("commission")],t),voteAuthorizeWithSeedArgs$1=(t="voteAuthorizeWithSeedArgs")=>struct$3([u32$2("voteAuthorizationType"),publicKey$2("currentAuthorityDerivedKeyOwnerPubkey"),rustString$1("currentAuthorityDerivedKeySeed"),publicKey$2("newAuthorized")],t);function getAlloc$1(t,e){const r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*r(o.elementLayout)}else if("fields"in o)return getAlloc$1({layout:o},e[o.property]);return 0};let n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function decodeLength$1(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function encodeLength$1(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function assert$2(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys$1{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,o=c=>{const u=c.toBase58();let gr=n.get(u);return gr===void 0&&(gr={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,gr)),gr},a=o(r);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const gr=o(u.pubkey);gr.isSigner||=u.isSigner,gr.isWritable||=u.isWritable}}return new CompiledKeys$1(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$2(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,gr])=>gr.isSigner&&gr.isWritable),n=e.filter(([,gr])=>gr.isSigner&&!gr.isWritable),o=e.filter(([,gr])=>!gr.isSigner&&gr.isWritable),a=e.filter(([,gr])=>!gr.isSigner&&!gr.isWritable),c={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:a.length};{assert$2(r.length>0,"Expected at least one writable signer key");const[gr]=r[0];assert$2(gr===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...r.map(([gr])=>new PublicKey$1(gr)),...n.map(([gr])=>new PublicKey$1(gr)),...o.map(([gr])=>new PublicKey$1(gr)),...a.map(([gr])=>new PublicKey$1(gr))];return[c,u]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(r.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:a}]}drainKeysFoundInLookupTable(e,r){const n=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(r(c)){const u=new PublicKey$1(a),gr=e.findIndex(br=>br.equals(u));gr>=0&&(assert$2(gr<256,"Max lookup table index exceeded"),n.push(gr),o.push(u),this.keyMetaMap.delete(a))}return[n,o]}}class Message$1{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new PublicKey$1(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys$1(this.staticAccountKeys)}static compile(e){const r=CompiledKeys$1.compile(e.instructions,e.payerKey),[n,o]=r.getMessageComponents(),c=new MessageAccountKeys$1(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message$1({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,a=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<a}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength$1(r,e);const n=this.instructions.map(Ar=>{const{accounts:vr,programIdIndex:Tr}=Ar,Or=Array.from(bs58$3.decode(Ar.data));let Ir=[];encodeLength$1(Ir,vr.length);let xr=[];return encodeLength$1(xr,Or.length),{programIdIndex:Tr,keyIndicesCount:bufferPolyfill.Buffer.from(Ir),keyIndices:vr,dataLength:bufferPolyfill.Buffer.from(xr),data:Or}});let o=[];encodeLength$1(o,n.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE$1);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;n.forEach(Ar=>{c+=struct$3([u8$2("programIdIndex"),blob$2(Ar.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),Ar.keyIndices.length,"keyIndices"),blob$2(Ar.dataLength.length,"dataLength"),seq(u8$2("userdatum"),Ar.data.length,"data")]).encode(Ar,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(r.length,"keyCount"),seq(publicKey$2("key"),e,"keys"),publicKey$2("recentBlockhash")]),gr={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(r),keys:this.accountKeys.map(Ar=>toBuffer$1(Ar.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let br=bufferPolyfill.Buffer.alloc(2048);const _r=u.encode(gr,br);return a.copy(br,_r),br.slice(0,_r+a.length)}static from(e){let r=[...e];const n=r.shift();if(n!==(n&VERSION_PREFIX_MASK$1))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=r.shift(),a=r.shift(),c=decodeLength$1(r);let u=[];for(let vr=0;vr<c;vr++){const Tr=r.slice(0,PUBLIC_KEY_LENGTH$1);r=r.slice(PUBLIC_KEY_LENGTH$1),u.push(new PublicKey$1(bufferPolyfill.Buffer.from(Tr)))}const gr=r.slice(0,PUBLIC_KEY_LENGTH$1);r=r.slice(PUBLIC_KEY_LENGTH$1);const br=decodeLength$1(r);let _r=[];for(let vr=0;vr<br;vr++){const Tr=r.shift(),Or=decodeLength$1(r),Ir=r.slice(0,Or);r=r.slice(Or);const xr=decodeLength$1(r),Lr=r.slice(0,xr),Fr=bs58$3.encode(bufferPolyfill.Buffer.from(Lr));r=r.slice(xr),_r.push({programIdIndex:Tr,accounts:Ir,data:Fr})}const Ar={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(gr)),accountKeys:u,instructions:_r};return new Message$1(Ar)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys$1(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const o=e-n,a=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<a}else if(e>=this.header.numRequiredSignatures){const o=e-r,c=n-r-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=r-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const o=e.find(a=>a.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const a of n.writableIndexes)if(a<o.state.addresses.length)r.writable.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`);for(const a of n.readonlyIndexes)if(a<o.state.addresses.length)r.readonly.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=CompiledKeys$1.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const _r of a){const Ar=r.extractTableLookup(_r);if(Ar!==void 0){const[vr,{writable:Tr,readonly:Or}]=Ar;n.push(vr),o.writable.push(...Tr),o.readonly.push(...Or)}}const[c,u]=r.getMessageComponents(),br=new MessageAccountKeys$1(u,o).compileInstructions(e.instructions);return new MessageV0({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:br,addressTableLookups:n})}serialize(){const e=Array();encodeLength$1(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();encodeLength$1(n,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),a=Array();encodeLength$1(a,this.addressTableLookups.length);const c=struct$3([u8$2("prefix"),struct$3([u8$2("numRequiredSignatures"),u8$2("numReadonlySignedAccounts"),u8$2("numReadonlyUnsignedAccounts")],"header"),blob$2(e.length,"staticAccountKeysLength"),seq(publicKey$2(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$2("recentBlockhash"),blob$2(n.length,"instructionsLength"),blob$2(r.length,"serializedInstructions"),blob$2(a.length,"addressTableLookupsLength"),blob$2(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(PACKET_DATA_SIZE$1),gr=1<<7,br=c.encode({prefix:gr,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(_r=>_r.toBytes()),recentBlockhash:bs58$3.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:o},u);return u.slice(0,br)}serializeInstructions(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE$1);for(const n of this.compiledInstructions){const o=Array();encodeLength$1(o,n.accountKeyIndexes.length);const a=Array();encodeLength$1(a,n.data.length),e+=struct$3([u8$2("programIdIndex"),blob$2(o.length,"encodedAccountKeyIndexesLength"),seq(u8$2(),n.accountKeyIndexes.length,"accountKeyIndexes"),blob$2(a.length,"encodedDataLength"),blob$2(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(PACKET_DATA_SIZE$1);for(const n of this.addressTableLookups){const o=Array();encodeLength$1(o,n.writableIndexes.length);const a=Array();encodeLength$1(a,n.readonlyIndexes.length),e+=struct$3([publicKey$2("accountKey"),blob$2(o.length,"encodedWritableIndexesLength"),seq(u8$2(),n.writableIndexes.length,"writableIndexes"),blob$2(a.length,"encodedReadonlyIndexesLength"),seq(u8$2(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=r.shift(),o=n&VERSION_PREFIX_MASK$1;assert$2(n!==o,"Expected versioned message but received legacy message");const a=o;assert$2(a===0,`Expected versioned message with version 0 but found version ${a}`);const c={numRequiredSignatures:r.shift(),numReadonlySignedAccounts:r.shift(),numReadonlyUnsignedAccounts:r.shift()},u=[],gr=decodeLength$1(r);for(let Or=0;Or<gr;Or++)u.push(new PublicKey$1(r.splice(0,PUBLIC_KEY_LENGTH$1)));const br=bs58$3.encode(r.splice(0,PUBLIC_KEY_LENGTH$1)),_r=decodeLength$1(r),Ar=[];for(let Or=0;Or<_r;Or++){const Ir=r.shift(),xr=decodeLength$1(r),Lr=r.splice(0,xr),Fr=decodeLength$1(r),Mr=new Uint8Array(r.splice(0,Fr));Ar.push({programIdIndex:Ir,accountKeyIndexes:Lr,data:Mr})}const vr=decodeLength$1(r),Tr=[];for(let Or=0;Or<vr;Or++){const Ir=new PublicKey$1(r.splice(0,PUBLIC_KEY_LENGTH$1)),xr=decodeLength$1(r),Lr=r.splice(0,xr),Fr=decodeLength$1(r),Mr=r.splice(0,Fr);Tr.push({accountKey:Ir,writableIndexes:Lr,readonlyIndexes:Mr})}return new MessageV0({header:c,staticAccountKeys:u,recentBlockhash:br,compiledInstructions:Ar,addressTableLookups:Tr})}}const VersionedMessage={deserializeMessageVersion(t){const e=t[0],r=e&VERSION_PREFIX_MASK$1;return r===e?"legacy":r},deserialize:t=>{const e=VersionedMessage.deserializeMessageVersion(t);if(e==="legacy")return Message$1.from(t);if(e===0)return MessageV0.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const DEFAULT_SIGNATURE$1=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$1).fill(0);class TransactionInstruction$1{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$1{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new TransactionInstruction$1(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Ir=0;Ir<r.length;Ir++)if(r[Ir].programId===void 0)throw new Error(`Transaction instruction index ${Ir} has undefined program id`);const o=[],a=[];r.forEach(Ir=>{Ir.keys.forEach(Lr=>{a.push({...Lr})});const xr=Ir.programId.toString();o.includes(xr)||o.push(xr)}),o.forEach(Ir=>{a.push({pubkey:new PublicKey$1(Ir),isSigner:!1,isWritable:!1})});const c=[];a.forEach(Ir=>{const xr=Ir.pubkey.toString(),Lr=c.findIndex(Fr=>Fr.pubkey.toString()===xr);Lr>-1?(c[Lr].isWritable=c[Lr].isWritable||Ir.isWritable,c[Lr].isSigner=c[Lr].isSigner||Ir.isSigner):c.push(Ir)}),c.sort(function(Ir,xr){if(Ir.isSigner!==xr.isSigner)return Ir.isSigner?-1:1;if(Ir.isWritable!==xr.isWritable)return Ir.isWritable?-1:1;const Lr={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return Ir.pubkey.toBase58().localeCompare(xr.pubkey.toBase58(),"en",Lr)});const u=c.findIndex(Ir=>Ir.pubkey.equals(n));if(u>-1){const[Ir]=c.splice(u,1);Ir.isSigner=!0,Ir.isWritable=!0,c.unshift(Ir)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const Ir of this.signatures){const xr=c.findIndex(Lr=>Lr.pubkey.equals(Ir.publicKey));if(xr>-1)c[xr].isSigner||(c[xr].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Ir.publicKey.toString()}`)}let gr=0,br=0,_r=0;const Ar=[],vr=[];c.forEach(({pubkey:Ir,isSigner:xr,isWritable:Lr})=>{xr?(Ar.push(Ir.toString()),gr+=1,Lr||(br+=1)):(vr.push(Ir.toString()),Lr||(_r+=1))});const Tr=Ar.concat(vr),Or=r.map(Ir=>{const{data:xr,programId:Lr}=Ir;return{programIdIndex:Tr.indexOf(Lr.toString()),accounts:Ir.keys.map(Fr=>Tr.indexOf(Fr.pubkey.toString())),data:bs58$3.encode(xr)}});return Or.forEach(Ir=>{assert$2(Ir.programIdIndex>=0),Ir.accounts.forEach(xr=>assert$2(xr>=0))}),new Message$1({header:{numRequiredSignatures:gr,numReadonlySignedAccounts:br,numReadonlyUnsignedAccounts:_r},accountKeys:Tr,recentBlockhash:e,instructions:Or})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((o,a)=>r[a].equals(o.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const o=n.toString();return r.has(o)?!1:(r.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const a of e){const c=a.publicKey.toString();r.has(c)||(r.add(c),n.push(a))}this.signatures=n.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const a of e){const c=a.publicKey.toString();r.has(c)||(r.add(c),n.push(a))}const o=this._compile();this._partialSign(o,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(o=>{const a=sign$1(n,o.secretKey);this._addSignature(o.publicKey,toBuffer$1(a))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){assert$2(r.length===64);const n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=bufferPolyfill.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(const{signature:n,publicKey:o}of this.signatures)if(n===null){if(r)return!1}else if(!verify$1(n,e,o.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,r))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:r}=this,n=[];encodeLength$1(n,r.length);const o=n.length+r.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$2(r.length<256),bufferPolyfill.Buffer.from(n).copy(a,0),r.forEach(({signature:c},u)=>{c!==null&&(assert$2(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,n.length+u*64))}),e.copy(a,n.length+r.length*64),assert$2(a.length<=PACKET_DATA_SIZE$1,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE$1}`),a}get keys(){return assert$2(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$2(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$2(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength$1(r);let o=[];for(let a=0;a<n;a++){const c=r.slice(0,SIGNATURE_LENGTH_IN_BYTES$1);r=r.slice(SIGNATURE_LENGTH_IN_BYTES$1),o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction$1.populate(Message$1.from(r),o)}static populate(e,r=[]){const n=new Transaction$1;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE$1)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};n.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:n.signatures.some(gr=>gr.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});n.instructions.push(new TransactionInstruction$1({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:o,recentBlockhash:a}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:gr}=n,br=c-u;assert$2(br>0,"Message header is invalid");const _r=e.staticAccountKeys.length-c-gr;assert$2(_r>=0,"Message header is invalid");const Ar=e.getAccountKeys(r),vr=Ar.get(0);if(vr===void 0)throw new Error("Failed to decompile message because no account keys were found");const Tr=[];for(const Or of o){const Ir=[];for(const Lr of Or.accountKeyIndexes){const Fr=Ar.get(Lr);if(Fr===void 0)throw new Error(`Failed to find key for account key index ${Lr}`);const Mr=Lr<c;let Hr;Mr?Hr=Lr<br:Lr<Ar.staticAccountKeys.length?Hr=Lr-c<_r:Hr=Lr-Ar.staticAccountKeys.length<Ar.accountKeysFromLookups.writable.length,Ir.push({pubkey:Fr,isSigner:Lr<n.numRequiredSignatures,isWritable:Hr})}const xr=Ar.get(Or.programIdIndex);if(xr===void 0)throw new Error(`Failed to find program id for program id index ${Or.programIdIndex}`);Tr.push(new TransactionInstruction$1({programId:xr,data:toBuffer$1(Or.data),keys:Ir}))}return new TransactionMessage({payerKey:vr,instructions:Tr,recentBlockhash:a})}compileToLegacyMessage(){return Message$1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)assert$2(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let o=0;o<e.header.numRequiredSignatures;o++)n.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES$1));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();encodeLength$1(r,this.signatures.length);const n=struct$3([blob$2(r.length,"encodedSignaturesLength"),seq(signature(),this.signatures.length,"signatures"),blob$2(e.length,"serializedMessage")]),o=new Uint8Array(2048),a=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,a)}static deserialize(e){let r=[...e];const n=[],o=decodeLength$1(r);for(let c=0;c<o;c++)n.push(new Uint8Array(r.splice(0,SIGNATURE_LENGTH_IN_BYTES$1)));const a=VersionedMessage.deserialize(new Uint8Array(r));return new VersionedTransaction(a,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const a=n.findIndex(c=>c.equals(o.publicKey));assert$2(a>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[a]=sign$1(r,o.secretKey)}}addSignature(e,r){assert$2(r.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));assert$2(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=r}}const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND,SYSVAR_CLOCK_PUBKEY=new PublicKey$1("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey$1("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey$1("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1=new PublicKey$1("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY$1=new PublicKey$1("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey$1("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey$1("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey$1("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey$1("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$3(t,e,r,n){const o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},a=await t.sendTransaction(e,r,o);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,gr=u.keys[0].pubkey;c=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:gr,nonceValue:e.nonceInfo.nonce,signature:a},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await t.confirmTransaction(a,n&&n.commitment)).value;if(c.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(c)})`);return a}function sleep(t){return new Promise(e=>setTimeout(e,t))}function encodeData$1(t,e){const r=t.layout.span>=0?t.layout.span:getAlloc$1(t,e),n=bufferPolyfill.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}function decodeData$1(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const FeeCalculatorLayout$1=nu64$1("lamportsPerSignature"),NonceAccountLayout$1=struct$3([u32$2("version"),u32$2("state"),publicKey$2("authorizedPubkey"),publicKey$2("nonce"),struct$3([FeeCalculatorLayout$1],"feeCalculator")]),NONCE_ACCOUNT_LENGTH$1=NonceAccountLayout$1.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=NonceAccountLayout$1.decode(toBuffer$1(e),0);return new NonceAccount({authorizedPubkey:new PublicKey$1(r.authorizedPubkey),nonce:new PublicKey$1(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const encodeDecode$1=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},bigInt$1=t=>e=>{const r=blob$2(t,e),{encode:n,decode:o}=encodeDecode$1(r),a=r;return a.decode=(c,u)=>{const gr=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(gr))},a.encode=(c,u,gr)=>{const br=toBufferLE_1(c,t);return n(br,u,gr)},a},u64$2=bigInt$1(8);class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS$1))if(c.index==n){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new PublicKey$1(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new PublicKey$1(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:o,programId:a}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$1(r),seed:n,space:o,programId:new PublicKey$1(a)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey$1(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$1(r),seed:n,programId:new PublicKey$1(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:o,space:a,programId:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey$1(r),seed:n,lamports:o,space:a,programId:new PublicKey$1(c)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey$1(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey$1(r)}}static checkProgramId(e){if(!e.equals(SystemProgram$1.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const SYSTEM_INSTRUCTION_LAYOUTS$1=Object.freeze({Create:{index:0,layout:struct$3([u32$2("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$2("programId")])},Assign:{index:1,layout:struct$3([u32$2("instruction"),publicKey$2("programId")])},Transfer:{index:2,layout:struct$3([u32$2("instruction"),u64$2("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$2("instruction"),publicKey$2("base"),rustString$1("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$2("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$2("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$2("instruction"),publicKey$2("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$2("instruction"),publicKey$2("authorized")])},Allocate:{index:8,layout:struct$3([u32$2("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$2("instruction"),publicKey$2("base"),rustString$1("seed"),ns64$1("space"),publicKey$2("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$2("instruction"),publicKey$2("base"),rustString$1("seed"),publicKey$2("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$2("instruction"),u64$2("lamports"),rustString$1("seed"),publicKey$2("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$2("instruction")])}});class SystemProgram$1{constructor(){}static createAccount(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$1.Create,n=encodeData$1(r,{lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});return new TransactionInstruction$1({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$1.TransferWithSeed;r=encodeData$1(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$1.Transfer;r=encodeData$1(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction$1({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$1.AssignWithSeed;r=encodeData$1(o,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$1.Assign;r=encodeData$1(o,{programId:toBuffer$1(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$1({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$1.CreateWithSeed,n=encodeData$1(r,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction$1({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){const r=new Transaction$1;"basePubkey"in e&&"seed"in e?r.add(SystemProgram$1.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$1,programId:this.programId})):r.add(SystemProgram$1.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$1,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$1.InitializeNonceAccount,n=encodeData$1(r,{authorized:toBuffer$1(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction$1(o)}static nonceAdvance(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$1.AdvanceNonceAccount,n=encodeData$1(r),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction$1(o)}static nonceWithdraw(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$1.WithdrawNonceAccount,n=encodeData$1(r,{lamports:e.lamports});return new TransactionInstruction$1({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS$1.AuthorizeNonceAccount,n=encodeData$1(r,{authorized:toBuffer$1(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction$1({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$1.AllocateWithSeed;r=encodeData$1(o,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$1(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$1.Allocate;r=encodeData$1(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$1({keys:n,programId:this.programId,data:r})}}SystemProgram$1.programId=new PublicKey$1("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE$1-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,r,n,o,a){{const Ar=await e.getMinimumBalanceForRentExemption(a.length),vr=await e.getAccountInfo(n.publicKey,"confirmed");let Tr=null;if(vr!==null){if(vr.executable)return console.error("Program load failed, account is already executable"),!1;vr.data.length!==a.length&&(Tr=Tr||new Transaction$1,Tr.add(SystemProgram$1.allocate({accountPubkey:n.publicKey,space:a.length}))),vr.owner.equals(o)||(Tr=Tr||new Transaction$1,Tr.add(SystemProgram$1.assign({accountPubkey:n.publicKey,programId:o}))),vr.lamports<Ar&&(Tr=Tr||new Transaction$1,Tr.add(SystemProgram$1.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:Ar-vr.lamports})))}else Tr=new Transaction$1().add(SystemProgram$1.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:Ar>0?Ar:1,space:a.length,programId:o}));Tr!==null&&await sendAndConfirmTransaction$3(e,Tr,[r,n],{commitment:"confirmed"})}const c=struct$3([u32$2("instruction"),u32$2("offset"),u32$2("bytesLength"),u32$2("bytesLengthPadding"),seq(u8$2("byte"),offset$1(u32$2(),-8),"bytes")]),u=Loader.chunkSize;let gr=0,br=a,_r=[];for(;br.length>0;){const Ar=br.slice(0,u),vr=bufferPolyfill.Buffer.alloc(u+16);c.encode({instruction:0,offset:gr,bytes:Ar,bytesLength:0,bytesLengthPadding:0},vr);const Tr=new Transaction$1().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:vr});_r.push(sendAndConfirmTransaction$3(e,Tr,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),gr+=u,br=br.slice(u)}await Promise.all(_r);{const Ar=struct$3([u32$2("instruction")]),vr=bufferPolyfill.Buffer.alloc(Ar.span);Ar.encode({instruction:1},vr);const Tr=new Transaction$1().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1}],programId:o,data:vr}),Or="processed",Ir=await e.sendTransaction(Tr,[r,n],{preflightCommitment:Or}),{context:xr,value:Lr}=await e.confirmTransaction({signature:Ir,lastValidBlockHeight:Tr.lastValidBlockHeight,blockhash:Tr.recentBlockhash},Or);if(Lr.err)throw new Error(`Transaction ${Ir} failed (${JSON.stringify(Lr)})`);for(;;){try{if(await e.getSlot({commitment:Or})>xr.slot)break}catch{}await new Promise(Fr=>setTimeout(Fr,Math.round(MS_PER_SLOT/2)))}}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey$1("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,r,n,o,a){return Loader.load(e,r,n,a,o)}}function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var objToString=Object.prototype.toString,objKeys=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function stringify(t,e){var r,n,o,a,c,u,gr;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return stringify(t.toJSON(),e);if(gr=objToString.call(t),gr==="[object Array]"){for(o="[",n=t.length-1,r=0;r<n;r++)o+=stringify(t[r],!0)+",";return n>-1&&(o+=stringify(t[r],!0)),o+"]"}else if(gr==="[object Object]"){for(a=objKeys(t).sort(),n=a.length,o="",r=0;r<n;)c=a[r],u=stringify(t[c],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),r++;return"{"+o+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var fastStableStringify=function(t){var e=stringify(t,!1);if(e!==void 0)return""+e},fastStableStringify$1=getDefaultExportFromCjs(fastStableStringify);const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(t){let e=0;for(;t>1;)t/=2,e++;return e}function nextPowerOfTwo(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class EpochSchedule{constructor(e,r,n,o,a){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=a}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=trailingZeros(nextPowerOfTwo(e+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,n=this.getSlotsInEpoch(r),o=e-(n-MINIMUM_SLOT_PER_EPOCH);return[r,o]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),o=this.firstNormalEpoch+n,a=r%this.slotsPerEpoch;return[o,a]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:r,data:n},o){super(o!=null?`${o}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;class RpcWebSocketClient extends RpcWebSocketCommonClient{constructor(e,r,n){const o=a=>{const c=createRpc(a,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(o,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function decodeData(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=decodeData(LookupTableMetaLayout,e),n=e.length-LOOKUP_TABLE_META_SIZE;assert$2(n>=0,"lookup table is invalid"),assert$2(n%32===0,"lookup table is invalid");const o=n/32,{addresses:a}=struct$3([seq(publicKey$2(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new PublicKey$1(r.authority[0]):void 0,addresses:a.map(c=>new PublicKey$1(c))}}}const LookupTableMetaLayout={index:1,layout:struct$3([u32$2("typeIndex"),u64$2("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$2(),offset$1(u8$2(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(t){const e=t.match(URL_RE);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,o,a]=e,c=t.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),gr=u==null?"":`:${u+1}`;return`${c}//${n}${gr}${a}`}const PublicKeyFromString$1=coerce$2(instance$1(PublicKey$1),string$3(),t=>new PublicKey$1(t)),RawAccountDataResult$1=tuple$2([string$3(),literal$2("base64")]),BufferFromRawAccountData$1=coerce$2(instance$1(bufferPolyfill.Buffer),RawAccountDataResult$1,t=>bufferPolyfill.Buffer.from(t[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function extractCommitmentFromConfig(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...o}=t;e=n,r=o}return{commitment:e,config:r}}function createRpcResult$1(t){return union$3([type$2({jsonrpc:literal$2("2.0"),id:string$3(),result:t}),type$2({jsonrpc:literal$2("2.0"),id:string$3(),error:type$2({code:unknown$2(),message:string$3(),data:optional$2(any$2())})})])}const UnknownRpcResult$1=createRpcResult$1(unknown$2());function jsonRpcResult$1(t){return coerce$2(createRpcResult$1(t),UnknownRpcResult$1,e=>"error"in e?e:{...e,result:create$2(e.result,t)})}function jsonRpcResultAndContext$1(t){return jsonRpcResult$1(type$2({context:type$2({slot:number$3()}),value:t}))}function notificationResultAndContext$1(t){return type$2({context:type$2({slot:number$3()}),value:t})}function versionedMessageFromResponse(t,e){return t===0?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new PublicKey$1(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:bs58$3.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Message$1(e)}const GetInflationGovernorResult$1=type$2({foundation:number$3(),foundationTerm:number$3(),initial:number$3(),taper:number$3(),terminal:number$3()}),GetInflationRewardResult=jsonRpcResult$1(array$3(nullable$2(type$2({epoch:number$3(),effectiveSlot:number$3(),amount:number$3(),postBalance:number$3(),commission:optional$2(nullable$2(number$3()))})))),GetRecentPrioritizationFeesResult$1=array$3(type$2({slot:number$3(),prioritizationFee:number$3()})),GetInflationRateResult$1=type$2({total:number$3(),validator:number$3(),foundation:number$3(),epoch:number$3()}),GetEpochInfoResult$1=type$2({epoch:number$3(),slotIndex:number$3(),slotsInEpoch:number$3(),absoluteSlot:number$3(),blockHeight:optional$2(number$3()),transactionCount:optional$2(number$3())}),GetEpochScheduleResult$1=type$2({slotsPerEpoch:number$3(),leaderScheduleSlotOffset:number$3(),warmup:boolean$2(),firstNormalEpoch:number$3(),firstNormalSlot:number$3()}),GetLeaderScheduleResult$1=record$1(string$3(),array$3(number$3())),TransactionErrorResult$1=nullable$2(union$3([type$2({}),string$3()])),SignatureStatusResult$1=type$2({err:TransactionErrorResult$1}),SignatureReceivedResult$1=literal$2("receivedSignature"),VersionResult=type$2({"solana-core":string$3(),"feature-set":optional$2(number$3())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext$1(type$2({err:nullable$2(union$3([type$2({}),string$3()])),logs:nullable$2(array$3(string$3())),accounts:optional$2(nullable$2(array$3(nullable$2(type$2({executable:boolean$2(),owner:string$3(),lamports:number$3(),data:array$3(string$3()),rentEpoch:optional$2(number$3())}))))),unitsConsumed:optional$2(number$3()),returnData:optional$2(nullable$2(type$2({programId:string$3(),data:tuple$2([string$3(),literal$2("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext$1(type$2({byIdentity:record$1(string$3(),array$3(number$3())),range:type$2({firstSlot:number$3(),lastSlot:number$3()})}));function createRpcClient(t,e,r,n,o,a){const c=r||fetchImpl;let u;a!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let gr;return n&&(gr=async(_r,Ar)=>{const vr=await new Promise((Tr,Or)=>{try{n(_r,Ar,(Ir,xr)=>Tr([Ir,xr]))}catch(Ir){Or(Ir)}});return await c(...vr)}),new browser$5(async(_r,Ar)=>{const vr={method:"POST",body:_r,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS)};try{let Tr=5,Or,Ir=500;for(;gr?Or=await gr(t,vr):Or=await c(t,vr),!(Or.status!==429||o===!0||(Tr-=1,Tr===0));)console.log(`Server responded with ${Or.status} ${Or.statusText}.  Retrying after ${Ir}ms delay...`),await sleep(Ir),Ir*=2;const xr=await Or.text();Or.ok?Ar(null,xr):Ar(new Error(`${Or.status} ${Or.statusText}: ${xr}`))}catch(Tr){Tr instanceof Error&&Ar(Tr)}},{})}function createRpcRequest(t){return(e,r)=>new Promise((n,o)=>{t.request(e,r,(a,c)=>{if(a){o(a);return}n(c)})})}function createRpcBatchRequest(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const o=e.map(a=>t.request(a.methodName,a.args));t.request(o,(a,c)=>{if(a){n(a);return}r(c)})})}const GetInflationGovernorRpcResult=jsonRpcResult$1(GetInflationGovernorResult$1),GetInflationRateRpcResult=jsonRpcResult$1(GetInflationRateResult$1),GetRecentPrioritizationFeesRpcResult=jsonRpcResult$1(GetRecentPrioritizationFeesResult$1),GetEpochInfoRpcResult=jsonRpcResult$1(GetEpochInfoResult$1),GetEpochScheduleRpcResult=jsonRpcResult$1(GetEpochScheduleResult$1),GetLeaderScheduleRpcResult=jsonRpcResult$1(GetLeaderScheduleResult$1),SlotRpcResult=jsonRpcResult$1(number$3()),GetSupplyRpcResult=jsonRpcResultAndContext$1(type$2({total:number$3(),circulating:number$3(),nonCirculating:number$3(),nonCirculatingAccounts:array$3(PublicKeyFromString$1)})),TokenAmountResult$1=type$2({amount:string$3(),uiAmount:nullable$2(number$3()),decimals:number$3(),uiAmountString:optional$2(string$3())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext$1(array$3(type$2({address:PublicKeyFromString$1,amount:string$3(),uiAmount:nullable$2(number$3()),decimals:number$3(),uiAmountString:optional$2(string$3())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext$1(array$3(type$2({pubkey:PublicKeyFromString$1,account:type$2({executable:boolean$2(),owner:PublicKeyFromString$1,lamports:number$3(),data:BufferFromRawAccountData$1,rentEpoch:number$3()})}))),ParsedAccountDataResult$1=type$2({program:string$3(),parsed:unknown$2(),space:number$3()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext$1(array$3(type$2({pubkey:PublicKeyFromString$1,account:type$2({executable:boolean$2(),owner:PublicKeyFromString$1,lamports:number$3(),data:ParsedAccountDataResult$1,rentEpoch:number$3()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext$1(array$3(type$2({lamports:number$3(),address:PublicKeyFromString$1}))),AccountInfoResult$1=type$2({executable:boolean$2(),owner:PublicKeyFromString$1,lamports:number$3(),data:BufferFromRawAccountData$1,rentEpoch:number$3()}),KeyedAccountInfoResult=type$2({pubkey:PublicKeyFromString$1,account:AccountInfoResult$1}),ParsedOrRawAccountData$1=coerce$2(union$3([instance$1(bufferPolyfill.Buffer),ParsedAccountDataResult$1]),union$3([RawAccountDataResult$1,ParsedAccountDataResult$1]),t=>Array.isArray(t)?create$2(t,BufferFromRawAccountData$1):t),ParsedAccountInfoResult$1=type$2({executable:boolean$2(),owner:PublicKeyFromString$1,lamports:number$3(),data:ParsedOrRawAccountData$1,rentEpoch:number$3()}),KeyedParsedAccountInfoResult=type$2({pubkey:PublicKeyFromString$1,account:ParsedAccountInfoResult$1}),StakeActivationResult=type$2({state:union$3([literal$2("active"),literal$2("inactive"),literal$2("activating"),literal$2("deactivating")]),active:number$3(),inactive:number$3()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult$1(array$3(type$2({signature:string$3(),slot:number$3(),err:TransactionErrorResult$1,memo:nullable$2(string$3()),blockTime:optional$2(nullable$2(number$3()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult$1(array$3(type$2({signature:string$3(),slot:number$3(),err:TransactionErrorResult$1,memo:nullable$2(string$3()),blockTime:optional$2(nullable$2(number$3()))}))),AccountNotificationResult=type$2({subscription:number$3(),result:notificationResultAndContext$1(AccountInfoResult$1)}),ProgramAccountInfoResult$1=type$2({pubkey:PublicKeyFromString$1,account:AccountInfoResult$1}),ProgramAccountNotificationResult=type$2({subscription:number$3(),result:notificationResultAndContext$1(ProgramAccountInfoResult$1)}),SlotInfoResult$1=type$2({parent:number$3(),slot:number$3(),root:number$3()}),SlotNotificationResult=type$2({subscription:number$3(),result:SlotInfoResult$1}),SlotUpdateResult$1=union$3([type$2({type:union$3([literal$2("firstShredReceived"),literal$2("completed"),literal$2("optimisticConfirmation"),literal$2("root")]),slot:number$3(),timestamp:number$3()}),type$2({type:literal$2("createdBank"),parent:number$3(),slot:number$3(),timestamp:number$3()}),type$2({type:literal$2("frozen"),slot:number$3(),timestamp:number$3(),stats:type$2({numTransactionEntries:number$3(),numSuccessfulTransactions:number$3(),numFailedTransactions:number$3(),maxTransactionsPerEntry:number$3()})}),type$2({type:literal$2("dead"),slot:number$3(),timestamp:number$3(),err:string$3()})]),SlotUpdateNotificationResult=type$2({subscription:number$3(),result:SlotUpdateResult$1}),SignatureNotificationResult=type$2({subscription:number$3(),result:notificationResultAndContext$1(union$3([SignatureStatusResult$1,SignatureReceivedResult$1]))}),RootNotificationResult=type$2({subscription:number$3(),result:number$3()}),ContactInfoResult=type$2({pubkey:string$3(),gossip:nullable$2(string$3()),tpu:nullable$2(string$3()),rpc:nullable$2(string$3()),version:nullable$2(string$3())}),VoteAccountInfoResult$1=type$2({votePubkey:string$3(),nodePubkey:string$3(),activatedStake:number$3(),epochVoteAccount:boolean$2(),epochCredits:array$3(tuple$2([number$3(),number$3(),number$3()])),commission:number$3(),lastVote:number$3(),rootSlot:nullable$2(number$3())}),GetVoteAccounts=jsonRpcResult$1(type$2({current:array$3(VoteAccountInfoResult$1),delinquent:array$3(VoteAccountInfoResult$1)})),ConfirmationStatus$1=union$3([literal$2("processed"),literal$2("confirmed"),literal$2("finalized")]),SignatureStatusResponse$1=type$2({slot:number$3(),confirmations:nullable$2(number$3()),err:TransactionErrorResult$1,confirmationStatus:optional$2(ConfirmationStatus$1)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext$1(array$3(nullable$2(SignatureStatusResponse$1))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult$1(number$3()),AddressTableLookupStruct$1=type$2({accountKey:PublicKeyFromString$1,writableIndexes:array$3(number$3()),readonlyIndexes:array$3(number$3())}),ConfirmedTransactionResult$1=type$2({signatures:array$3(string$3()),message:type$2({accountKeys:array$3(string$3()),header:type$2({numRequiredSignatures:number$3(),numReadonlySignedAccounts:number$3(),numReadonlyUnsignedAccounts:number$3()}),instructions:array$3(type$2({accounts:array$3(number$3()),data:string$3(),programIdIndex:number$3()})),recentBlockhash:string$3(),addressTableLookups:optional$2(array$3(AddressTableLookupStruct$1))})}),AnnotatedAccountKey$1=type$2({pubkey:PublicKeyFromString$1,signer:boolean$2(),writable:boolean$2(),source:optional$2(union$3([literal$2("transaction"),literal$2("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$1=type$2({accountKeys:array$3(AnnotatedAccountKey$1),signatures:array$3(string$3())}),ParsedInstructionResult$1=type$2({parsed:unknown$2(),program:string$3(),programId:PublicKeyFromString$1}),RawInstructionResult$1=type$2({accounts:array$3(PublicKeyFromString$1),data:string$3(),programId:PublicKeyFromString$1}),InstructionResult$1=union$3([RawInstructionResult$1,ParsedInstructionResult$1]),UnknownInstructionResult$1=union$3([type$2({parsed:unknown$2(),program:string$3(),programId:string$3()}),type$2({accounts:array$3(string$3()),data:string$3(),programId:string$3()})]),ParsedOrRawInstruction$1=coerce$2(InstructionResult$1,UnknownInstructionResult$1,t=>"accounts"in t?create$2(t,RawInstructionResult$1):create$2(t,ParsedInstructionResult$1)),ParsedConfirmedTransactionResult$1=type$2({signatures:array$3(string$3()),message:type$2({accountKeys:array$3(AnnotatedAccountKey$1),instructions:array$3(ParsedOrRawInstruction$1),recentBlockhash:string$3(),addressTableLookups:optional$2(nullable$2(array$3(AddressTableLookupStruct$1)))})}),TokenBalanceResult$1=type$2({accountIndex:number$3(),mint:string$3(),owner:optional$2(string$3()),uiTokenAmount:TokenAmountResult$1}),LoadedAddressesResult$1=type$2({writable:array$3(PublicKeyFromString$1),readonly:array$3(PublicKeyFromString$1)}),ConfirmedTransactionMetaResult$1=type$2({err:TransactionErrorResult$1,fee:number$3(),innerInstructions:optional$2(nullable$2(array$3(type$2({index:number$3(),instructions:array$3(type$2({accounts:array$3(number$3()),data:string$3(),programIdIndex:number$3()}))})))),preBalances:array$3(number$3()),postBalances:array$3(number$3()),logMessages:optional$2(nullable$2(array$3(string$3()))),preTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult$1))),postTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult$1))),loadedAddresses:optional$2(LoadedAddressesResult$1),computeUnitsConsumed:optional$2(number$3())}),ParsedConfirmedTransactionMetaResult$1=type$2({err:TransactionErrorResult$1,fee:number$3(),innerInstructions:optional$2(nullable$2(array$3(type$2({index:number$3(),instructions:array$3(ParsedOrRawInstruction$1)})))),preBalances:array$3(number$3()),postBalances:array$3(number$3()),logMessages:optional$2(nullable$2(array$3(string$3()))),preTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult$1))),postTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult$1))),loadedAddresses:optional$2(LoadedAddressesResult$1),computeUnitsConsumed:optional$2(number$3())}),TransactionVersionStruct$1=union$3([literal$2(0),literal$2("legacy")]),RewardsResult$1=type$2({pubkey:string$3(),lamports:number$3(),postBalance:nullable$2(number$3()),rewardType:nullable$2(string$3()),commission:optional$2(nullable$2(number$3()))}),GetBlockRpcResult=jsonRpcResult$1(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionResult$1,meta:nullable$2(ConfirmedTransactionMetaResult$1),version:optional$2(TransactionVersionStruct$1)})),rewards:optional$2(array$3(RewardsResult$1)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetNoneModeBlockRpcResult=jsonRpcResult$1(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),rewards:optional$2(array$3(RewardsResult$1)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetAccountsModeBlockRpcResult=jsonRpcResult$1(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionAccountsModeResult$1,meta:nullable$2(ConfirmedTransactionMetaResult$1),version:optional$2(TransactionVersionStruct$1)})),rewards:optional$2(array$3(RewardsResult$1)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetParsedBlockRpcResult=jsonRpcResult$1(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ParsedConfirmedTransactionResult$1,meta:nullable$2(ParsedConfirmedTransactionMetaResult$1),version:optional$2(TransactionVersionStruct$1)})),rewards:optional$2(array$3(RewardsResult$1)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetParsedAccountsModeBlockRpcResult=jsonRpcResult$1(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionAccountsModeResult$1,meta:nullable$2(ParsedConfirmedTransactionMetaResult$1),version:optional$2(TransactionVersionStruct$1)})),rewards:optional$2(array$3(RewardsResult$1)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetParsedNoneModeBlockRpcResult=jsonRpcResult$1(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),rewards:optional$2(array$3(RewardsResult$1)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())}))),GetConfirmedBlockRpcResult=jsonRpcResult$1(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionResult$1,meta:nullable$2(ConfirmedTransactionMetaResult$1)})),rewards:optional$2(array$3(RewardsResult$1)),blockTime:nullable$2(number$3())}))),GetBlockSignaturesRpcResult=jsonRpcResult$1(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),signatures:array$3(string$3()),blockTime:nullable$2(number$3())}))),GetTransactionRpcResult=jsonRpcResult$1(nullable$2(type$2({slot:number$3(),meta:nullable$2(ConfirmedTransactionMetaResult$1),blockTime:optional$2(nullable$2(number$3())),transaction:ConfirmedTransactionResult$1,version:optional$2(TransactionVersionStruct$1)}))),GetParsedTransactionRpcResult=jsonRpcResult$1(nullable$2(type$2({slot:number$3(),transaction:ParsedConfirmedTransactionResult$1,meta:nullable$2(ParsedConfirmedTransactionMetaResult$1),blockTime:optional$2(nullable$2(number$3())),version:optional$2(TransactionVersionStruct$1)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext$1(type$2({blockhash:string$3(),feeCalculator:type$2({lamportsPerSignature:number$3()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext$1(type$2({blockhash:string$3(),lastValidBlockHeight:number$3()})),IsBlockhashValidRpcResult=jsonRpcResultAndContext$1(boolean$2()),PerfSampleResult$1=type$2({slot:number$3(),numTransactions:number$3(),numSlots:number$3(),samplePeriodSecs:number$3()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult$1(array$3(PerfSampleResult$1)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext$1(nullable$2(type$2({feeCalculator:type$2({lamportsPerSignature:number$3()})}))),RequestAirdropRpcResult=jsonRpcResult$1(string$3()),SendTransactionRpcResult=jsonRpcResult$1(string$3()),LogsResult$1=type$2({err:TransactionErrorResult$1,logs:array$3(string$3()),signature:string$3()}),LogsNotificationResult=type$2({result:notificationResultAndContext$1(LogsResult$1),subscription:number$3()}),COMMON_HTTP_HEADERS={"solana-client":"js/0.0.0-development"};class Connection{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const br={};return async _r=>{const{commitment:Ar,config:vr}=extractCommitmentFromConfig(_r),Tr=this._buildArgs([],Ar,void 0,vr),Or=fastStableStringify$1(Tr);return br[Or]=br[Or]??(async()=>{try{const Ir=await this._rpcRequest("getBlockHeight",Tr),xr=create$2(Ir,jsonRpcResult$1(number$3()));if("error"in xr)throw new SolanaJSONRPCError(xr.error,"failed to get block height information");return xr.result}finally{delete br[Or]}})(),await br[Or]}})();let n,o,a,c,u,gr;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,o=r.httpHeaders,a=r.fetch,c=r.fetchMiddleware,u=r.disableRetryOnRateLimit,gr=r.httpAgent),this._rpcEndpoint=assertEndpointUrl(e),this._rpcWsEndpoint=n||makeWebsocketUrl(e),this._rpcClient=createRpcClient(e,o,a,c,u,gr),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],n,void 0,o),c=await this._rpcRequest("getBalance",a),u=create$2(c,jsonRpcResultAndContext$1(number$3()));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=create$2(r,jsonRpcResult$1(nullable$2(number$3())));if("error"in n)throw new SolanaJSONRPCError(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=create$2(e,jsonRpcResult$1(number$3()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=create$2(e,SlotRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),o=create$2(n,GetSupplyRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get supply");return o.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenSupply",n),a=create$2(o,jsonRpcResultAndContext$1(TokenAmountResult$1));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get token supply");return a.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenAccountBalance",n),a=create$2(o,jsonRpcResultAndContext$1(TokenAmountResult$1));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get token account balance");return a.result}async getTokenAccountsByOwner(e,r,n){const{commitment:o,config:a}=extractCommitmentFromConfig(n);let c=[e.toBase58()];"mint"in r?c.push({mint:r.mint.toBase58()}):c.push({programId:r.programId.toBase58()});const u=this._buildArgs(c,o,"base64",a),gr=await this._rpcRequest("getTokenAccountsByOwner",u),br=create$2(gr,GetTokenAccountsByOwner);if("error"in br)throw new SolanaJSONRPCError(br.error,`failed to get token accounts owned by account ${e.toBase58()}`);return br.result}async getParsedTokenAccountsByOwner(e,r,n){let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,n,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=create$2(c,GetParsedTokenAccountsByOwner);if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],o=await this._rpcRequest("getLargestAccounts",n),a=create$2(o,GetLargestAccountsRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get largest accounts");return a.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenLargestAccounts",n),a=create$2(o,GetTokenLargestAccountsResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get token largest accounts");return a.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],n,"base64",o),c=await this._rpcRequest("getAccountInfo",a),u=create$2(c,jsonRpcResultAndContext$1(nullable$2(AccountInfoResult$1)));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",a),u=create$2(c,jsonRpcResultAndContext$1(nullable$2(ParsedAccountInfoResult$1)));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=e.map(br=>br.toBase58()),c=this._buildArgs([a],n,"jsonParsed",o),u=await this._rpcRequest("getMultipleAccounts",c),gr=create$2(u,jsonRpcResultAndContext$1(array$3(nullable$2(ParsedAccountInfoResult$1))));if("error"in gr)throw new SolanaJSONRPCError(gr.error,`failed to get info for accounts ${a}`);return gr.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=e.map(br=>br.toBase58()),c=this._buildArgs([a],n,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),gr=create$2(u,jsonRpcResultAndContext$1(array$3(nullable$2(AccountInfoResult$1))));if("error"in gr)throw new SolanaJSONRPCError(gr.error,`failed to get info for accounts ${a}`);return gr.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:o,config:a}=extractCommitmentFromConfig(r),c=this._buildArgs([e.toBase58()],o,void 0,{...a,epoch:n??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getStakeActivation",c),gr=create$2(u,jsonRpcResult$1(StakeActivationResult));if("error"in gr)throw new SolanaJSONRPCError(gr.error,`failed to get Stake Activation ${e.toBase58()}`);return gr.result}async getProgramAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),{encoding:a,...c}=o||{},u=this._buildArgs([e.toBase58()],n,a||"base64",c),gr=await this._rpcRequest("getProgramAccounts",u),br=array$3(KeyedAccountInfoResult),_r=c.withContext===!0?create$2(gr,jsonRpcResultAndContext$1(br)):create$2(gr,jsonRpcResult$1(br));if("error"in _r)throw new SolanaJSONRPCError(_r.error,`failed to get accounts owned by program ${e.toBase58()}`);return _r.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=this._buildArgs([e.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",a),u=create$2(c,jsonRpcResult$1(array$3(KeyedParsedAccountInfoResult)));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,r){var a;let n;if(typeof e=="string")n=e;else{const c=e;if((a=c.abortSignal)!=null&&a.aborted)return Promise.reject(c.abortSignal.reason);n=c.signature}let o;try{o=bs58$3.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return assert$2(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,o,a=!1;const c=new Promise((gr,br)=>{try{n=this.onSignature(r,(Ar,vr)=>{n=void 0;const Tr={context:vr,value:Ar};gr({__type:TransactionStatus.PROCESSED,response:Tr})},e);const _r=new Promise(Ar=>{n==null?Ar():o=this._onSubscriptionStateChange(n,vr=>{vr==="subscribed"&&Ar()})});(async()=>{if(await _r,a)return;const Ar=await this.getSignatureStatus(r);if(a||Ar==null)return;const{context:vr,value:Tr}=Ar;if(Tr!=null)if(Tr!=null&&Tr.err)br(Tr.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(Tr.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(Tr.confirmationStatus==="processed"||Tr.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}a=!0,gr({__type:TransactionStatus.PROCESSED,response:{context:vr,value:Tr}})}})()}catch(_r){br(_r)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:o}}){let a=!1;const c=new Promise(Ar=>{const vr=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let Tr=await vr();if(!a){for(;Tr<=n;)if(await sleep(1e3),a||(Tr=await vr(),a))return;Ar({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:gr}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),br=this.getCancellationPromise(r);let _r;try{const Ar=await Promise.race([br,gr,c]);if(Ar.__type===TransactionStatus.PROCESSED)_r=Ar.response;else throw new TransactionExpiredBlockheightExceededError(o)}finally{a=!0,u()}return _r}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:o,nonceValue:a,signature:c}}){let u=!1;const gr=new Promise(Tr=>{let Or=a,Ir=null;const xr=async()=>{try{const{context:Lr,value:Fr}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:n});return Ir=Lr.slot,Fr==null?void 0:Fr.nonce}catch{return Or}};(async()=>{if(Or=await xr(),!u)for(;;){if(a!==Or){Tr({__type:TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:Ir});return}if(await sleep(2e3),u||(Or=await xr(),u))return}})()}),{abortConfirmation:br,confirmationPromise:_r}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),Ar=this.getCancellationPromise(r);let vr;try{const Tr=await Promise.race([Ar,_r,gr]);if(Tr.__type===TransactionStatus.PROCESSED)vr=Tr.response;else{let Or;for(;;){const Ir=await this.getSignatureStatus(c);if(Ir==null)break;if(Ir.context.slot<(Tr.slotInWhichNonceDidAdvance??n)){await sleep(400);continue}Or=Ir;break}if(Or!=null&&Or.value){const Ir=e||"finalized",{confirmationStatus:xr}=Or.value;switch(Ir){case"processed":case"recent":if(xr!=="processed"&&xr!=="confirmed"&&xr!=="finalized")throw new TransactionExpiredNonceInvalidError(c);break;case"confirmed":case"single":case"singleGossip":if(xr!=="confirmed"&&xr!=="finalized")throw new TransactionExpiredNonceInvalidError(c);break;case"finalized":case"max":case"root":if(xr!=="finalized")throw new TransactionExpiredNonceInvalidError(c);break;default:(Lr=>{})(Ir)}vr={context:Or.context,value:{err:Or.value.err}}}else throw new TransactionExpiredNonceInvalidError(c)}}finally{u=!0,br()}return vr}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const o=new Promise(gr=>{let br=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{br=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>gr({__type:TransactionStatus.TIMED_OUT,timeoutMs:br}),br)}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let u;try{const gr=await Promise.race([c,o]);if(gr.__type===TransactionStatus.PROCESSED)u=gr.response;else throw new TransactionExpiredTimeoutError(r,gr.timeoutMs/1e3)}finally{clearTimeout(n),a()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=create$2(e,jsonRpcResult$1(array$3(ContactInfoResult)));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),o=create$2(n,GetVoteAccounts);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getSlot",o),c=create$2(a,jsonRpcResult$1(number$3()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getSlotLeader",o),c=create$2(a,jsonRpcResult$1(string$3()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,r){const n=[e,r],o=await this._rpcRequest("getSlotLeaders",n),a=create$2(o,jsonRpcResult$1(array$3(PublicKeyFromString$1)));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot leaders");return a.result}async getSignatureStatus(e,r){const{context:n,value:o}=await this.getSignatureStatuses([e],r);assert$2(o.length===1);const a=o[0];return{context:n,value:a}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const o=await this._rpcRequest("getSignatureStatuses",n),a=create$2(o,GetSignatureStatusesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get signature status");return a.result}async getTransactionCount(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getTransactionCount",o),c=create$2(a,jsonRpcResult$1(number$3()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),o=create$2(n,GetInflationGovernorRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get inflation");return o.result}async getInflationReward(e,r,n){const{commitment:o,config:a}=extractCommitmentFromConfig(n),c=this._buildArgs([e.map(br=>br.toBase58())],o,void 0,{...a,epoch:r??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getInflationReward",c),gr=create$2(u,GetInflationRewardResult);if("error"in gr)throw new SolanaJSONRPCError(gr.error,"failed to get inflation reward");return gr.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=create$2(e,GetInflationRateRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getEpochInfo",o),c=create$2(a,GetEpochInfoRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=create$2(e,GetEpochScheduleRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get epoch schedule");const n=r.result;return new EpochSchedule(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=create$2(e,GetLeaderScheduleRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),o=await this._rpcRequest("getMinimumBalanceForRentExemption",n),a=create$2(o,GetMinimumBalanceForRentExemptionRpcResult);return"error"in a?(console.warn("Unable to fetch minimum balance for rent exemption"),0):a.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),o=create$2(n,GetRecentBlockhashAndContextRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=create$2(r,GetRecentPerformanceSamplesRpcResult);if("error"in n)throw new SolanaJSONRPCError(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),o=await this._rpcRequest("getFeeCalculatorForBlockhash",n),a=create$2(o,GetFeeCalculatorRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get fee calculator");const{context:c,value:u}=a.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,r){const n=toBuffer$1(e.serialize()).toString("base64"),o=this._buildArgs([n],r),a=await this._rpcRequest("getFeeForMessage",o),c=create$2(a,jsonRpcResultAndContext$1(nullable$2(number$3())));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){var c;const r=(c=e==null?void 0:e.lockedWritableAccounts)==null?void 0:c.map(u=>u.toBase58()),n=r!=null&&r.length?[r]:[],o=await this._rpcRequest("getRecentPrioritizationFees",n),a=create$2(o,GetRecentPrioritizationFeesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get recent prioritization fees");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,void 0,n),a=await this._rpcRequest("getLatestBlockhash",o),c=create$2(a,GetLatestBlockhashRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=this._buildArgs([e],n,void 0,o),c=await this._rpcRequest("isBlockhashValid",a),u=create$2(c,IsBlockhashValidRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=create$2(e,jsonRpcResult$1(VersionResult));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=create$2(e,jsonRpcResult$1(string$3()));if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=this._buildArgsAtLeastConfirmed([e],n,void 0,o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$2(c,GetAccountsModeBlockRpcResult);if("error"in u)throw u.error;return u.result}case"none":{const u=create$2(c,GetNoneModeBlockRpcResult);if("error"in u)throw u.error;return u.result}default:{const u=create$2(c,GetBlockRpcResult);if("error"in u)throw u.error;const{result:gr}=u;return gr?{...gr,transactions:gr.transactions.map(({transaction:br,meta:_r,version:Ar})=>({meta:_r,transaction:{...br,message:versionedMessageFromResponse(Ar,br.message)},version:Ar}))}:null}}}catch(u){throw new SolanaJSONRPCError(u,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$2(c,GetParsedAccountsModeBlockRpcResult);if("error"in u)throw u.error;return u.result}case"none":{const u=create$2(c,GetParsedNoneModeBlockRpcResult);if("error"in u)throw u.error;return u.result}default:{const u=create$2(c,GetParsedBlockRpcResult);if("error"in u)throw u.error;return u.result}}}catch(u){throw new SolanaJSONRPCError(u,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:u,...gr}=e;n=u,r=gr}const o=this._buildArgs([],n,"base64",r),a=await this._rpcRequest("getBlockProduction",o),c=create$2(a,BlockProductionResponseStruct);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get block production information");return c.result}async getTransaction(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=this._buildArgsAtLeastConfirmed([e],n,void 0,o),c=await this._rpcRequest("getTransaction",a),u=create$2(c,GetTransactionRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get transaction");const gr=u.result;return gr&&{...gr,transaction:{...gr.transaction,message:versionedMessageFromResponse(gr.version,gr.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),c=await this._rpcRequest("getTransaction",a),u=create$2(c,GetParsedTransactionRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=e.map(gr=>{const br=this._buildArgsAtLeastConfirmed([gr],n,"jsonParsed",o);return{methodName:"getTransaction",args:br}});return(await this._rpcBatchRequest(a)).map(gr=>{const br=create$2(gr,GetParsedTransactionRpcResult);if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get transactions");return br.result})}async getTransactions(e,r){const{commitment:n,config:o}=extractCommitmentFromConfig(r),a=e.map(gr=>{const br=this._buildArgsAtLeastConfirmed([gr],n,void 0,o);return{methodName:"getTransaction",args:br}});return(await this._rpcBatchRequest(a)).map(gr=>{const br=create$2(gr,GetTransactionRpcResult);if("error"in br)throw new SolanaJSONRPCError(br.error,"failed to get transactions");const _r=br.result;return _r&&{..._r,transaction:{..._r.transaction,message:versionedMessageFromResponse(_r.version,_r.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedBlock",n),a=create$2(o,GetConfirmedBlockRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:gr,meta:br})=>{const _r=new Message$1(gr.message);return{meta:br,transaction:{...gr,message:_r}}})};return{...u,transactions:u.transactions.map(({transaction:gr,meta:br})=>({meta:br,transaction:Transaction$1.populate(gr.message,gr.signatures)}))}}async getBlocks(e,r,n){const o=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),a=await this._rpcRequest("getBlocks",o),c=create$2(a,jsonRpcResult$1(array$3(number$3())));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",n),a=create$2(o,GetBlockSignaturesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block");const c=a.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",n),a=create$2(o,GetBlockSignaturesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedTransaction",n),a=create$2(o,GetTransactionRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction");const c=a.result;if(!c)return c;const u=new Message$1(c.transaction.message),gr=c.transaction.signatures;return{...c,transaction:Transaction$1.populate(u,gr)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",n),a=create$2(o,GetParsedTransactionRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed transaction");return a.result}async getParsedConfirmedTransactions(e,r){const n=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(n)).map(c=>{const u=create$2(c,GetParsedTransactionRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,r,n){let o={},a=await this.getFirstAvailableBlock();for(;!("until"in o)&&(r--,!(r<=0||r<a));)try{const gr=await this.getConfirmedBlockSignatures(r,"finalized");gr.signatures.length>0&&(o.until=gr.signatures[gr.signatures.length-1].toString())}catch(gr){if(gr instanceof Error&&gr.message.includes("skipped"))continue;throw gr}let c=await this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>c));)try{const gr=await this.getConfirmedBlockSignatures(n);gr.signatures.length>0&&(o.before=gr.signatures[gr.signatures.length-1].toString())}catch(gr){if(gr instanceof Error&&gr.message.includes("skipped"))continue;throw gr}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(gr=>gr.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),a=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=create$2(a,GetConfirmedSignaturesForAddress2RpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,r,n){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),a=await this._rpcRequest("getSignaturesForAddress",o),c=create$2(a,GetSignaturesForAddressRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,r){const{context:n,value:o}=await this.getAccountInfoAndContext(e,r);let a=null;return o!==null&&(a=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(o.data)})),{context:n,value:a}}async getNonceAndContext(e,r){const{context:n,value:o}=await this.getAccountInfoAndContext(e,r);let a=null;return o!==null&&(a=NonceAccount.fromAccountData(o.data)),{context:n,value:a}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),o=create$2(n,RequestAirdropRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const n=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let o=0;o<50;o++){const a=await this.getLatestBlockhash("finalized");if(n!==a.blockhash)return this._blockhashInfo={latestBlockhash:a,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},a;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=extractCommitmentFromConfig(e),o=this._buildArgs([],r,"base64",n),a=await this._rpcRequest("getStakeMinimumDelegation",o),c=create$2(a,jsonRpcResultAndContext$1(number$3()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,r,n){if("message"in e){const Ir=e.serialize(),xr=bufferPolyfill.Buffer.from(Ir).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const Lr=r||{};Lr.encoding="base64","commitment"in Lr||(Lr.commitment=this.commitment);const Fr=[xr,Lr],Mr=await this._rpcRequest("simulateTransaction",Fr),Hr=create$2(Mr,SimulatedTransactionResponseStruct);if("error"in Hr)throw new Error("failed to simulate transaction: "+Hr.error.message);return Hr.result}let o;if(e instanceof Transaction$1){let Or=e;o=new Transaction$1,o.feePayer=Or.feePayer,o.instructions=e.instructions,o.nonceInfo=Or.nonceInfo,o.signatures=Or.signatures}else o=Transaction$1.populate(e),o._message=o._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const a=r;if(o.nonceInfo&&a)o.sign(...a);else{let Or=this._disableBlockhashCaching;for(;;){const Ir=await this._blockhashWithExpiryBlockHeight(Or);if(o.lastValidBlockHeight=Ir.lastValidBlockHeight,o.recentBlockhash=Ir.blockhash,!a)break;if(o.sign(...a),!o.signature)throw new Error("!signature");const xr=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(xr)&&!this._blockhashInfo.transactionSignatures.includes(xr)){this._blockhashInfo.simulatedSignatures.push(xr);break}else Or=!0}}const c=o._compile(),u=c.serialize(),br=o._serialize(u).toString("base64"),_r={encoding:"base64",commitment:this.commitment};if(n){const Or=(Array.isArray(n)?n:c.nonProgramIds()).map(Ir=>Ir.toBase58());_r.accounts={encoding:"base64",addresses:Or}}a&&(_r.sigVerify=!0);const Ar=[br,_r],vr=await this._rpcRequest("simulateTransaction",Ar),Tr=create$2(vr,SimulatedTransactionResponseStruct);if("error"in Tr){let Or;if("data"in Tr.error&&(Or=Tr.error.data.logs,Or&&Array.isArray(Or))){const Ir=`
    `,xr=Ir+Or.join(Ir);console.error(Tr.error.message,xr)}throw new SendTransactionError("failed to simulate transaction: "+Tr.error.message,Or)}return Tr.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const o=r;if(e.nonceInfo)e.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const gr=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(gr))c=!0;else{this._blockhashInfo.transactionSignatures.push(gr);break}}}const a=e.serialize();return await this.sendRawTransaction(a,n)}async sendRawTransaction(e,r){const n=toBuffer$1(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},o=r&&r.skipPreflight,a=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),o&&(n.skipPreflight=o),a&&(n.preflightCommitment=a);const c=[e,n],u=await this._rpcRequest("sendTransaction",c),gr=create$2(u,SendTransactionRpcResult);if("error"in gr){let br;throw"data"in gr.error&&(br=gr.error.data.logs),new SendTransactionError("failed to send transaction: "+gr.error.message,br)}return gr.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var o;const n=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(c=>{try{c(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:a,method:c}=o;try{this._setSubscription(n,{...o,state:"subscribing"});const u=await this._rpcWebSocket.call(c,a);this._setSubscription(n,{...o,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,a,u.message),!r())return;this._setSubscription(n,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:a,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(a))this._subscriptionsAutoDisposedByRpc.delete(a);else{this._setSubscription(n,{...o,state:"unsubscribing"}),this._setSubscription(n,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[a])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!r())return;this._setSubscription(n,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(o=>{try{o(...r)}catch(a){console.error(a)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=create$2(e,AccountNotificationResult);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,o=fastStableStringify$1([e.method,r],!0),a=this._subscriptionsByHash[o];return a===void 0?this._subscriptionsByHash[o]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:a.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const c=this._subscriptionsByHash[o];assert$2(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=create$2(e,ProgramAccountNotificationResult);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,o){const a=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=create$2(e,LogsNotificationResult);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=create$2(e,SlotNotificationResult);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=create$2(e,SlotUpdateNotificationResult);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,o){const a=r||this._commitment;if(a||n||o){let c={};n&&(c.encoding=n),a&&(c.commitment=a),o&&(c=Object.assign(c,o)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,r,n,o){const a=r||this._commitment;if(a&&!["confirmed","finalized"].includes(a))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,o)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=create$2(e,SignatureNotificationResult);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const o=this._buildArgs([e],n||this._commitment||"finalized"),a=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){r(c.result,u);try{this.removeSignatureListener(a)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}onSignatureWithOptions(e,r,n){const{commitment:o,...a}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},c=this._buildArgs([e],o,void 0,a),u=this._makeSubscription({callback:(gr,br)=>{r(gr,br);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=create$2(e,RootNotificationResult);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair$1{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair$1()}static generate(){return new Keypair$1(generateKeypair$1())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const o=e.slice(0,32),a=getPublicKey$1(o);for(let c=0;c<32;c++)if(n[c]!==a[c])throw new Error("provided secretKey is invalid")}return new Keypair$1({publicKey:n,secretKey:e})}static fromSeed(e){const r=getPublicKey$1(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Keypair$1({publicKey:r,secretKey:n})}get publicKey(){return new PublicKey$1(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$2("instruction"),u64$2("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$2("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$2("instruction"),u64$2(),seq(publicKey$2(),offset$1(u32$2(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$2("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$2("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(c.index==n){o=a;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new PublicKey$1(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[r,n]=PublicKey$1.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),o=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,a=encodeData$1(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$1.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction$1({programId:this.programId,keys:c,data:a}),r]}static freezeLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,n=encodeData$1(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$1({programId:this.programId,keys:o,data:n})}static extendLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,n=encodeData$1(r,{addresses:e.addresses.map(a=>a.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$1.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction$1({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,n=encodeData$1(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$1({programId:this.programId,keys:o,data:n})}static closeLookupTable(e){const r=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,n=encodeData$1(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction$1({programId:this.programId,keys:o,data:n})}}AddressLookupTableProgram.programId=new PublicKey$1("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u8$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(c.index==n){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$2("units"),u32$2("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$2("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$2("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$2("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,n=encodeData$1(r,e);return new TransactionInstruction$1({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,n=encodeData$1(r,e);return new TransactionInstruction$1({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,n=encodeData$1(r,e);return new TransactionInstruction$1({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,n=encodeData$1(r,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction$1({keys:[],programId:this.programId,data:n})}}ComputeBudgetProgram.programId=new PublicKey$1("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:o,instructionIndex:a}=e;assert$2(r.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${r.length} bytes`),assert$2(o.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${o.length} bytes`);const c=ED25519_INSTRUCTION_LAYOUT.span,u=c+r.length,gr=u+o.length,br=1,_r=bufferPolyfill.Buffer.alloc(gr+n.length),Ar=a??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:br,padding:0,signatureOffset:u,signatureInstructionIndex:Ar,publicKeyOffset:c,publicKeyInstructionIndex:Ar,messageDataOffset:gr,messageDataSize:n.length,messageInstructionIndex:Ar},_r),_r.fill(r,c),_r.fill(o,u),_r.fill(n,gr),new TransactionInstruction$1({keys:[],programId:Ed25519Program.programId,data:_r})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:o}=e;assert$2(r.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${r.length} bytes`);try{const a=Keypair$1.fromSecretKey(r),c=a.publicKey.toBytes(),u=sign$1(n,a.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:n,signature:u,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Ed25519Program.programId=new PublicKey$1("Ed25519SigVerify111111111111111111111111111");const ecdsaSign=(t,e)=>{const r=secp256k1$1.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};secp256k1$1.utils.isValidPrivateKey;const publicKeyCreate=secp256k1$1.getPublicKey,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){assert$2(e.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${e.length} bytes`);try{return bufferPolyfill.Buffer.from(keccak_256(toBuffer$1(e))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:o,recoveryId:a,instructionIndex:c}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(r),message:n,signature:o,recoveryId:a,instructionIndex:c})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:o,recoveryId:a,instructionIndex:c=0}=e;let u;typeof r=="string"?r.startsWith("0x")?u=bufferPolyfill.Buffer.from(r.substr(2),"hex"):u=bufferPolyfill.Buffer.from(r,"hex"):u=r,assert$2(u.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${u.length} bytes`);const gr=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,br=gr,_r=gr+u.length,Ar=_r+o.length+1,vr=1,Tr=bufferPolyfill.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+n.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:vr,signatureOffset:_r,signatureInstructionIndex:c,ethAddressOffset:br,ethAddressInstructionIndex:c,messageDataOffset:Ar,messageDataSize:n.length,messageInstructionIndex:c,signature:toBuffer$1(o),ethAddress:toBuffer$1(u),recoveryId:a},Tr),Tr.fill(toBuffer$1(n),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction$1({keys:[],programId:Secp256k1Program.programId,data:Tr})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:o}=e;assert$2(r.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${r.length} bytes`);try{const a=toBuffer$1(r),c=publicKeyCreate(a,!1).slice(1),u=bufferPolyfill.Buffer.from(keccak_256(toBuffer$1(n))),[gr,br]=ecdsaSign(u,a);return this.createInstructionWithPublicKey({publicKey:c,message:n,signature:gr,recoveryId:br,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Secp256k1Program.programId=new PublicKey$1("KeccakSecp256k11111111111111111111111111111");var _class2$1;const STAKE_CONFIG_ID=new PublicKey$1("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class Lockup$1{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}_class2$1=Lockup$1;Lockup$1.default=new _class2$1(0,0,PublicKey$1.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(c.index==n){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey$1(r.staker),new PublicKey$1(r.withdrawer)),lockup:new Lockup$1(n.unixTimestamp,n.epoch,new PublicKey$1(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$1(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:o,authorityOwner:a}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data),c={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new PublicKey$1(a),newAuthorizedPubkey:new PublicKey$1(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$3([u32$2("instruction"),authorized$1(),lockup$1()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$2("newAuthorized"),u32$2("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$2("instruction")])},Split:{index:3,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$2("instruction")])},Merge:{index:7,layout:struct$3([u32$2("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$2("instruction"),publicKey$2("newAuthorized"),u32$2("stakeAuthorizationType"),rustString$1("authoritySeed"),publicKey$2("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:o}=e,a=o||Lockup$1.default,c=STAKE_INSTRUCTION_LAYOUTS.Initialize,u=encodeData$1(c,{authorized:{staker:toBuffer$1(n.staker.toBuffer()),withdrawer:toBuffer$1(n.withdrawer.toBuffer())},lockup:{unixTimestamp:a.unixTimestamp,epoch:a.epoch,custodian:toBuffer$1(a.custodian.toBuffer())}}),gr={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new TransactionInstruction$1(gr)}static createAccountWithSeed(e){const r=new Transaction$1;r.add(SystemProgram$1.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:o,lockup:a}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:a}))}static createAccount(e){const r=new Transaction$1;r.add(SystemProgram$1.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:o,lockup:a}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:a}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS.Delegate,c=encodeData$1(a);return new Transaction$1().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS.Authorize,gr=encodeData$1(u,{newAuthorized:toBuffer$1(o.toBuffer()),stakeAuthorizationType:a.index}),br=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return c&&br.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$1().add({keys:br,programId:this.programId,data:gr})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:o,authorityOwner:a,newAuthorizedPubkey:c,stakeAuthorizationType:u,custodianPubkey:gr}=e,br=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,_r=encodeData$1(br,{newAuthorized:toBuffer$1(c.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:o,authorityOwner:toBuffer$1(a.toBuffer())}),Ar=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return gr&&Ar.push({pubkey:gr,isSigner:!1,isWritable:!1}),new Transaction$1().add({keys:Ar,programId:this.programId,data:_r})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:a}=e,c=STAKE_INSTRUCTION_LAYOUTS.Split,u=encodeData$1(c,{lamports:a});return new TransactionInstruction$1({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){const r=new Transaction$1;return r.add(SystemProgram$1.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,basePubkey:a,seed:c,lamports:u}=e,gr=new Transaction$1;return gr.add(SystemProgram$1.allocate({accountPubkey:o,basePubkey:a,seed:c,space:this.space,programId:this.programId})),gr.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:u}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS.Merge,c=encodeData$1(a);return new Transaction$1().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:o,lamports:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS.Withdraw,gr=encodeData$1(u,{lamports:a}),br=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return c&&br.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$1().add({keys:br,programId:this.programId,data:gr})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,o=STAKE_INSTRUCTION_LAYOUTS.Deactivate,a=encodeData$1(o);return new Transaction$1().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}}StakeProgram.programId=new PublicKey$1("Stake11111111111111111111111111111111111111");StakeProgram.space=200;class VoteInit{constructor(e,r,n,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=o}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=u32$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(c.index==n){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey$1(r.nodePubkey),new PublicKey$1(r.authorizedVoter),new PublicKey$1(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$1(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:o,voteAuthorizationType:a}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey$1(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new PublicKey$1(o),voteAuthorizationType:{index:a},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$2("instruction"),voteInit$1()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$2("newAuthorized"),u32$2("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$2("instruction"),voteAuthorizeWithSeedArgs$1()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:o}=e,a=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,c=encodeData$1(a,{voteInit:{nodePubkey:toBuffer$1(o.nodePubkey.toBuffer()),authorizedVoter:toBuffer$1(o.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer$1(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),u={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new TransactionInstruction$1(u)}static createAccount(e){const r=new Transaction$1;return r.add(SystemProgram$1.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:a}=e,c=VOTE_INSTRUCTION_LAYOUTS.Authorize,u=encodeData$1(c,{newAuthorized:toBuffer$1(o.toBuffer()),voteAuthorizationType:a.index}),gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new Transaction$1().add({keys:gr,programId:this.programId,data:u})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:a,voteAuthorizationType:c,votePubkey:u}=e,gr=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,br=encodeData$1(gr,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer$1(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:toBuffer$1(a.toBuffer()),voteAuthorizationType:c.index}}),_r=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$1().add({keys:_r,programId:this.programId,data:br})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:a}=e,c=VOTE_INSTRUCTION_LAYOUTS.Withdraw,u=encodeData$1(c,{lamports:o}),gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new Transaction$1().add({keys:gr,programId:this.programId,data:u})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram.withdraw(e)}}VoteProgram.programId=new PublicKey$1("Vote111111111111111111111111111111111111111");VoteProgram.space=3731;const VALIDATOR_INFO_KEY=new PublicKey$1("Va1idator1nfo111111111111111111111111111111"),InfoString=type$2({name:string$3(),website:optional$2(string$3()),details:optional$2(string$3()),keybaseUsername:optional$2(string$3())});class ValidatorInfo{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(decodeLength$1(r)!==2)return null;const o=[];for(let a=0;a<2;a++){const c=new PublicKey$1(r.slice(0,PUBLIC_KEY_LENGTH$1));r=r.slice(PUBLIC_KEY_LENGTH$1);const u=r.slice(0,1)[0]===1;r=r.slice(1),o.push({publicKey:c,isSigner:u})}if(o[0].publicKey.equals(VALIDATOR_INFO_KEY)&&o[1].isSigner){const a=rustString$1().decode(bufferPolyfill.Buffer.from(r)),c=JSON.parse(a);return assert$b(c,InfoString),new ValidatorInfo(o[1].publicKey,c)}return null}}const VOTE_PROGRAM_ID=new PublicKey$1("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$3([publicKey$2("nodePubkey"),publicKey$2("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$2("confirmationCount")]),offset$1(u32$2(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$2("authorizedVoter")]),offset$1(u32$2(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$2("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$2(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=VoteAccountLayout.decode(toBuffer$1(e),4);let o=n.rootSlot;return n.rootSlotValid||(o=null),new VoteAccount({nodePubkey:new PublicKey$1(n.nodePubkey),authorizedWithdrawer:new PublicKey$1(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:o,authorizedVoters:n.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey$1(t)}}function parsePriorVoters({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new PublicKey$1(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function getPriorVoters({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(parsePriorVoters),...t.slice(0,e).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(t,e){const r=e===!1?"http":"https";if(!t)return endpoint[r].devnet;const n=endpoint[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function sendAndConfirmRawTransaction(t,e,r,n){let o,a;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(o=r,a=n):a=r;const c=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},u=await t.sendRawTransaction(e,c),gr=a&&a.commitment,_r=(await(o?t.confirmTransaction(o,gr):t.confirmTransaction(u,gr))).value;if(_r.err)throw new Error(`Raw transaction ${u} failed (${JSON.stringify(_r)})`);return u}const LAMPORTS_PER_SOL=1e9;var index_browser_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout:FeeCalculatorLayout$1,Keypair:Keypair$1,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup:Lockup$1,MAX_SEED_LENGTH:MAX_SEED_LENGTH$1,Message:Message$1,MessageAccountKeys:MessageAccountKeys$1,MessageV0,NONCE_ACCOUNT_LENGTH:NONCE_ACCOUNT_LENGTH$1,NonceAccount,PACKET_DATA_SIZE:PACKET_DATA_SIZE$1,PUBLIC_KEY_LENGTH:PUBLIC_KEY_LENGTH$1,PublicKey:PublicKey$1,SIGNATURE_LENGTH_IN_BYTES:SIGNATURE_LENGTH_IN_BYTES$1,SOLANA_SCHEMA:SOLANA_SCHEMA$1,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS:SYSTEM_INSTRUCTION_LAYOUTS$1,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1,SYSVAR_RENT_PUBKEY:SYSVAR_RENT_PUBKEY$1,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct:Struct$1,SystemInstruction,SystemProgram:SystemProgram$1,Transaction:Transaction$1,TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError,TransactionInstruction:TransactionInstruction$1,TransactionMessage,TransactionStatus,VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK:VERSION_PREFIX_MASK$1,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction,sendAndConfirmTransaction:sendAndConfirmTransaction$3},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(index_browser_esm$1);function _typeof(t){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function _toPrimitive$2(t,e){if(_typeof(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_typeof(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return _typeof(e)==="symbol"?e:String(e)}function _defineProperty$1(t,e,r){return e=_toPropertyKey$2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}ed25519$1.utils.randomPrivateKey;const generateKeypair=()=>{const t=ed25519$1.utils.randomPrivateKey(),e=getPublicKey(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},getPublicKey=ed25519$1.getPublicKey;function isOnCurve(t){try{return ed25519$1.ExtendedPoint.fromHex(t),!0}catch{return!1}}const sign=(t,e)=>ed25519$1.sign(t,e.slice(0,32)),verify=ed25519$1.verify,toBuffer=t=>bufferPolyfill.Buffer.isBuffer(t)?t:t instanceof Uint8Array?bufferPolyfill.Buffer.from(t.buffer,t.byteOffset,t.byteLength):bufferPolyfill.Buffer.from(t);class Struct{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA,this,e)}}const SOLANA_SCHEMA=new Map;var _class;let _Symbol$toStringTag$2;const MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(t){return t._bn!==void 0}let uniquePublicKeyCounter=1;_Symbol$toStringTag$2=Symbol.toStringTag;class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData(e))this._bn=e._bn;else{if(typeof e=="string"){const r=bs58$3.decode(e);if(r.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(r)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH)return e;const r=bufferPolyfill.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[_Symbol$toStringTag$2](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(r),n.toBuffer()]),a=sha256$2(o);return new PublicKey(a)}static createProgramAddressSync(e,r){let n=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n=bufferPolyfill.Buffer.concat([n,toBuffer(a)])}),n=bufferPolyfill.Buffer.concat([n,r.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$2(n);if(isOnCurve(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(o)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,o;for(;n!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([n]));o=this.createProgramAddressSync(a,r)}catch(a){if(a instanceof TypeError)throw a;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new PublicKey(e);return isOnCurve(r.toBytes())}}_class=PublicKey;PublicKey.default=new _class("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey("BPFLoader1111111111111111111111111111111111");const PACKET_DATA_SIZE=1280-40-8,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class MessageAccountKeys{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((a,c)=>{n.set(a.toBase58(),c)});const o=a=>{const c=n.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$1=(t="publicKey")=>blob$2(32,t),rustString=(t="string")=>{const e=struct$3([u32$2("length"),u32$2("lengthPadding"),blob$2(offset$1(u32$2(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(a,c)=>r(a,c).chars.toString(),o.encode=(a,c,u)=>{const gr={chars:bufferPolyfill.Buffer.from(a,"utf8")};return n(gr,c,u)},o.alloc=a=>u32$2().span+u32$2().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized=(t="authorized")=>struct$3([publicKey$1("staker"),publicKey$1("withdrawer")],t),lockup=(t="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$1("custodian")],t),voteInit=(t="voteInit")=>struct$3([publicKey$1("nodePubkey"),publicKey$1("authorizedVoter"),publicKey$1("authorizedWithdrawer"),u8$2("commission")],t),voteAuthorizeWithSeedArgs=(t="voteAuthorizeWithSeedArgs")=>struct$3([u32$2("voteAuthorizationType"),publicKey$1("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$1("newAuthorized")],t);function getAlloc(t,e){const r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*r(o.elementLayout)}else if("fields"in o)return getAlloc({layout:o},e[o.property]);return 0};let n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function decodeLength(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,(n&128)===0)break}return e}function encodeLength(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function assert$1(t,e){if(!t)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,o=c=>{const u=c.toBase58();let gr=n.get(u);return gr===void 0&&(gr={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,gr)),gr},a=o(r);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const gr=o(u.pubkey);gr.isSigner||=u.isSigner,gr.isWritable||=u.isWritable}}return new CompiledKeys(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$1(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,gr])=>gr.isSigner&&gr.isWritable),n=e.filter(([,gr])=>gr.isSigner&&!gr.isWritable),o=e.filter(([,gr])=>!gr.isSigner&&gr.isWritable),a=e.filter(([,gr])=>!gr.isSigner&&!gr.isWritable),c={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:a.length};{assert$1(r.length>0,"Expected at least one writable signer key");const[gr]=r[0];assert$1(gr===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...r.map(([gr])=>new PublicKey(gr)),...n.map(([gr])=>new PublicKey(gr)),...o.map(([gr])=>new PublicKey(gr)),...a.map(([gr])=>new PublicKey(gr))];return[c,u]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(r.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:a}]}drainKeysFoundInLookupTable(e,r){const n=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(r(c)){const u=new PublicKey(a),gr=e.findIndex(br=>br.equals(u));gr>=0&&(assert$1(gr<256,"Max lookup table index exceeded"),n.push(gr),o.push(u),this.keyMetaMap.delete(a))}return[n,o]}}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new PublicKey(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const r=CompiledKeys.compile(e.instructions,e.payerKey),[n,o]=r.getMessageComponents(),c=new MessageAccountKeys(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,a=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<a}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];encodeLength(r,e);const n=this.instructions.map(Ar=>{const{accounts:vr,programIdIndex:Tr}=Ar,Or=Array.from(bs58$3.decode(Ar.data));let Ir=[];encodeLength(Ir,vr.length);let xr=[];return encodeLength(xr,Or.length),{programIdIndex:Tr,keyIndicesCount:bufferPolyfill.Buffer.from(Ir),keyIndices:vr,dataLength:bufferPolyfill.Buffer.from(xr),data:Or}});let o=[];encodeLength(o,n.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;n.forEach(Ar=>{c+=struct$3([u8$2("programIdIndex"),blob$2(Ar.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),Ar.keyIndices.length,"keyIndices"),blob$2(Ar.dataLength.length,"dataLength"),seq(u8$2("userdatum"),Ar.data.length,"data")]).encode(Ar,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(r.length,"keyCount"),seq(publicKey$1("key"),e,"keys"),publicKey$1("recentBlockhash")]),gr={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(r),keys:this.accountKeys.map(Ar=>toBuffer(Ar.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let br=bufferPolyfill.Buffer.alloc(2048);const _r=u.encode(gr,br);return a.copy(br,_r),br.slice(0,_r+a.length)}static from(e){let r=[...e];const n=r.shift();if(n!==(n&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=r.shift(),a=r.shift(),c=decodeLength(r);let u=[];for(let vr=0;vr<c;vr++){const Tr=r.slice(0,PUBLIC_KEY_LENGTH);r=r.slice(PUBLIC_KEY_LENGTH),u.push(new PublicKey(bufferPolyfill.Buffer.from(Tr)))}const gr=r.slice(0,PUBLIC_KEY_LENGTH);r=r.slice(PUBLIC_KEY_LENGTH);const br=decodeLength(r);let _r=[];for(let vr=0;vr<br;vr++){const Tr=r.shift(),Or=decodeLength(r),Ir=r.slice(0,Or);r=r.slice(Or);const xr=decodeLength(r),Lr=r.slice(0,xr),Fr=bs58$3.encode(bufferPolyfill.Buffer.from(Lr));r=r.slice(xr),_r.push({programIdIndex:Tr,accounts:Ir,data:Fr})}const Ar={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(gr)),accountKeys:u,instructions:_r};return new Message(Ar)}}const DEFAULT_SIGNATURE=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new TransactionInstruction(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Ir=0;Ir<r.length;Ir++)if(r[Ir].programId===void 0)throw new Error(`Transaction instruction index ${Ir} has undefined program id`);const o=[],a=[];r.forEach(Ir=>{Ir.keys.forEach(Lr=>{a.push({...Lr})});const xr=Ir.programId.toString();o.includes(xr)||o.push(xr)}),o.forEach(Ir=>{a.push({pubkey:new PublicKey(Ir),isSigner:!1,isWritable:!1})});const c=[];a.forEach(Ir=>{const xr=Ir.pubkey.toString(),Lr=c.findIndex(Fr=>Fr.pubkey.toString()===xr);Lr>-1?(c[Lr].isWritable=c[Lr].isWritable||Ir.isWritable,c[Lr].isSigner=c[Lr].isSigner||Ir.isSigner):c.push(Ir)}),c.sort(function(Ir,xr){if(Ir.isSigner!==xr.isSigner)return Ir.isSigner?-1:1;if(Ir.isWritable!==xr.isWritable)return Ir.isWritable?-1:1;const Lr={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return Ir.pubkey.toBase58().localeCompare(xr.pubkey.toBase58(),"en",Lr)});const u=c.findIndex(Ir=>Ir.pubkey.equals(n));if(u>-1){const[Ir]=c.splice(u,1);Ir.isSigner=!0,Ir.isWritable=!0,c.unshift(Ir)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const Ir of this.signatures){const xr=c.findIndex(Lr=>Lr.pubkey.equals(Ir.publicKey));if(xr>-1)c[xr].isSigner||(c[xr].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Ir.publicKey.toString()}`)}let gr=0,br=0,_r=0;const Ar=[],vr=[];c.forEach(({pubkey:Ir,isSigner:xr,isWritable:Lr})=>{xr?(Ar.push(Ir.toString()),gr+=1,Lr||(br+=1)):(vr.push(Ir.toString()),Lr||(_r+=1))});const Tr=Ar.concat(vr),Or=r.map(Ir=>{const{data:xr,programId:Lr}=Ir;return{programIdIndex:Tr.indexOf(Lr.toString()),accounts:Ir.keys.map(Fr=>Tr.indexOf(Fr.pubkey.toString())),data:bs58$3.encode(xr)}});return Or.forEach(Ir=>{assert$1(Ir.programIdIndex>=0),Ir.accounts.forEach(xr=>assert$1(xr>=0))}),new Message({header:{numRequiredSignatures:gr,numReadonlySignedAccounts:br,numReadonlyUnsignedAccounts:_r},accountKeys:Tr,recentBlockhash:e,instructions:Or})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((o,a)=>r[a].equals(o.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const o=n.toString();return r.has(o)?!1:(r.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const a of e){const c=a.publicKey.toString();r.has(c)||(r.add(c),n.push(a))}this.signatures=n.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const a of e){const c=a.publicKey.toString();r.has(c)||(r.add(c),n.push(a))}const o=this._compile();this._partialSign(o,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(o=>{const a=sign(n,o.secretKey);this._addSignature(o.publicKey,toBuffer(a))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){assert$1(r.length===64);const n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=bufferPolyfill.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(const{signature:n,publicKey:o}of this.signatures)if(n===null){if(r)return!1}else if(!verify(n,e,o.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,r))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:r}=this,n=[];encodeLength(n,r.length);const o=n.length+r.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$1(r.length<256),bufferPolyfill.Buffer.from(n).copy(a,0),r.forEach(({signature:c},u)=>{c!==null&&(assert$1(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,n.length+u*64))}),e.copy(a,n.length+r.length*64),assert$1(a.length<=PACKET_DATA_SIZE,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE}`),a}get keys(){return assert$1(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$1(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$1(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=decodeLength(r);let o=[];for(let a=0;a<n;a++){const c=r.slice(0,SIGNATURE_LENGTH_IN_BYTES);r=r.slice(SIGNATURE_LENGTH_IN_BYTES),o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction.populate(Message.from(r),o)}static populate(e,r=[]){const n=new Transaction;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};n.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:n.signatures.some(gr=>gr.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});n.instructions.push(new TransactionInstruction({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}}new PublicKey("SysvarC1ock11111111111111111111111111111111");new PublicKey("SysvarEpochSchedu1e111111111111111111111111");new PublicKey("Sysvar1nstructions1111111111111111111111111");const SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111");new PublicKey("SysvarRewards111111111111111111111111111111");new PublicKey("SysvarS1otHashes111111111111111111111111111");new PublicKey("SysvarS1otHistory11111111111111111111111111");new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$2(t,e,r,n){const o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},a=await t.sendTransaction(e,r,o);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,gr=u.keys[0].pubkey;c=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:gr,nonceValue:e.nonceInfo.nonce,signature:a},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await t.confirmTransaction(a,n&&n.commitment)).value;if(c.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(c)})`);return a}function encodeData(t,e){const r=t.layout.span>=0?t.layout.span:getAlloc(t,e),n=bufferPolyfill.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}const FeeCalculatorLayout=nu64$1("lamportsPerSignature"),NonceAccountLayout=struct$3([u32$2("version"),u32$2("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct$3([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span,encodeDecode=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},bigInt=t=>e=>{const r=blob$2(t,e),{encode:n,decode:o}=encodeDecode(r),a=r;return a.decode=(c,u)=>{const gr=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(gr))},a.encode=(c,u,gr)=>{const br=toBufferLE_1(c,t);return n(br,u,gr)},a},u64$1=bigInt(8),SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$3([u32$2("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$1("programId")])},Assign:{index:1,layout:struct$3([u32$2("instruction"),publicKey$1("programId")])},Transfer:{index:2,layout:struct$3([u32$2("instruction"),u64$1("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$2("instruction"),publicKey$1("base"),rustString("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$1("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$2("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$2("instruction"),publicKey$1("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$2("instruction"),publicKey$1("authorized")])},Allocate:{index:8,layout:struct$3([u32$2("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$2("instruction"),publicKey$1("base"),rustString("seed"),ns64$1("space"),publicKey$1("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$2("instruction"),publicKey$1("base"),rustString("seed"),publicKey$1("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$2("instruction"),u64$1("lamports"),rustString("seed"),publicKey$1("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$2("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.Create,n=encodeData(r,{lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;r=encodeData(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;r=encodeData(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;r=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Assign;r=encodeData(o,{programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,n=encodeData(r,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){const r=new Transaction;"basePubkey"in e&&"seed"in e?r.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):r.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,n=encodeData(r,{authorized:toBuffer(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction(o)}static nonceAdvance(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,n=encodeData(r),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new TransactionInstruction(o)}static nonceWithdraw(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,n=encodeData(r,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,n=encodeData(r,{authorized:toBuffer(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;r=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;r=encodeData(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:n,programId:this.programId,data:r})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");new PublicKey("BPFLoader2111111111111111111111111111111111");struct$3([u32$2("typeIndex"),u64$1("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$1(),offset$1(u8$2(),-1),"authority")]);const PublicKeyFromString=coerce$2(instance$1(PublicKey),string$3(),t=>new PublicKey(t)),RawAccountDataResult=tuple$2([string$3(),literal$2("base64")]),BufferFromRawAccountData=coerce$2(instance$1(bufferPolyfill.Buffer),RawAccountDataResult,t=>bufferPolyfill.Buffer.from(t[0],"base64"));function createRpcResult(t){return union$3([type$2({jsonrpc:literal$2("2.0"),id:string$3(),result:t}),type$2({jsonrpc:literal$2("2.0"),id:string$3(),error:type$2({code:unknown$2(),message:string$3(),data:optional$2(any$2())})})])}const UnknownRpcResult=createRpcResult(unknown$2());function jsonRpcResult(t){return coerce$2(createRpcResult(t),UnknownRpcResult,e=>"error"in e?e:{...e,result:create$2(e.result,t)})}function jsonRpcResultAndContext(t){return jsonRpcResult(type$2({context:type$2({slot:number$3()}),value:t}))}function notificationResultAndContext(t){return type$2({context:type$2({slot:number$3()}),value:t})}const GetInflationGovernorResult=type$2({foundation:number$3(),foundationTerm:number$3(),initial:number$3(),taper:number$3(),terminal:number$3()});jsonRpcResult(array$3(nullable$2(type$2({epoch:number$3(),effectiveSlot:number$3(),amount:number$3(),postBalance:number$3(),commission:optional$2(nullable$2(number$3()))}))));const GetRecentPrioritizationFeesResult=array$3(type$2({slot:number$3(),prioritizationFee:number$3()})),GetInflationRateResult=type$2({total:number$3(),validator:number$3(),foundation:number$3(),epoch:number$3()}),GetEpochInfoResult=type$2({epoch:number$3(),slotIndex:number$3(),slotsInEpoch:number$3(),absoluteSlot:number$3(),blockHeight:optional$2(number$3()),transactionCount:optional$2(number$3())}),GetEpochScheduleResult=type$2({slotsPerEpoch:number$3(),leaderScheduleSlotOffset:number$3(),warmup:boolean$2(),firstNormalEpoch:number$3(),firstNormalSlot:number$3()}),GetLeaderScheduleResult=record$1(string$3(),array$3(number$3())),TransactionErrorResult=nullable$2(union$3([type$2({}),string$3()])),SignatureStatusResult=type$2({err:TransactionErrorResult}),SignatureReceivedResult=literal$2("receivedSignature");type$2({"solana-core":string$3(),"feature-set":optional$2(number$3())});jsonRpcResultAndContext(type$2({err:nullable$2(union$3([type$2({}),string$3()])),logs:nullable$2(array$3(string$3())),accounts:optional$2(nullable$2(array$3(nullable$2(type$2({executable:boolean$2(),owner:string$3(),lamports:number$3(),data:array$3(string$3()),rentEpoch:optional$2(number$3())}))))),unitsConsumed:optional$2(number$3()),returnData:optional$2(nullable$2(type$2({programId:string$3(),data:tuple$2([string$3(),literal$2("base64")])})))}));jsonRpcResultAndContext(type$2({byIdentity:record$1(string$3(),array$3(number$3())),range:type$2({firstSlot:number$3(),lastSlot:number$3()})}));jsonRpcResult(GetInflationGovernorResult);jsonRpcResult(GetInflationRateResult);jsonRpcResult(GetRecentPrioritizationFeesResult);jsonRpcResult(GetEpochInfoResult);jsonRpcResult(GetEpochScheduleResult);jsonRpcResult(GetLeaderScheduleResult);jsonRpcResult(number$3());jsonRpcResultAndContext(type$2({total:number$3(),circulating:number$3(),nonCirculating:number$3(),nonCirculatingAccounts:array$3(PublicKeyFromString)}));const TokenAmountResult=type$2({amount:string$3(),uiAmount:nullable$2(number$3()),decimals:number$3(),uiAmountString:optional$2(string$3())});jsonRpcResultAndContext(array$3(type$2({address:PublicKeyFromString,amount:string$3(),uiAmount:nullable$2(number$3()),decimals:number$3(),uiAmountString:optional$2(string$3())})));jsonRpcResultAndContext(array$3(type$2({pubkey:PublicKeyFromString,account:type$2({executable:boolean$2(),owner:PublicKeyFromString,lamports:number$3(),data:BufferFromRawAccountData,rentEpoch:number$3()})})));const ParsedAccountDataResult=type$2({program:string$3(),parsed:unknown$2(),space:number$3()});jsonRpcResultAndContext(array$3(type$2({pubkey:PublicKeyFromString,account:type$2({executable:boolean$2(),owner:PublicKeyFromString,lamports:number$3(),data:ParsedAccountDataResult,rentEpoch:number$3()})})));jsonRpcResultAndContext(array$3(type$2({lamports:number$3(),address:PublicKeyFromString})));const AccountInfoResult=type$2({executable:boolean$2(),owner:PublicKeyFromString,lamports:number$3(),data:BufferFromRawAccountData,rentEpoch:number$3()});type$2({pubkey:PublicKeyFromString,account:AccountInfoResult});const ParsedOrRawAccountData=coerce$2(union$3([instance$1(bufferPolyfill.Buffer),ParsedAccountDataResult]),union$3([RawAccountDataResult,ParsedAccountDataResult]),t=>Array.isArray(t)?create$2(t,BufferFromRawAccountData):t),ParsedAccountInfoResult=type$2({executable:boolean$2(),owner:PublicKeyFromString,lamports:number$3(),data:ParsedOrRawAccountData,rentEpoch:number$3()});type$2({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult});type$2({state:union$3([literal$2("active"),literal$2("inactive"),literal$2("activating"),literal$2("deactivating")]),active:number$3(),inactive:number$3()});jsonRpcResult(array$3(type$2({signature:string$3(),slot:number$3(),err:TransactionErrorResult,memo:nullable$2(string$3()),blockTime:optional$2(nullable$2(number$3()))})));jsonRpcResult(array$3(type$2({signature:string$3(),slot:number$3(),err:TransactionErrorResult,memo:nullable$2(string$3()),blockTime:optional$2(nullable$2(number$3()))})));type$2({subscription:number$3(),result:notificationResultAndContext(AccountInfoResult)});const ProgramAccountInfoResult=type$2({pubkey:PublicKeyFromString,account:AccountInfoResult});type$2({subscription:number$3(),result:notificationResultAndContext(ProgramAccountInfoResult)});const SlotInfoResult=type$2({parent:number$3(),slot:number$3(),root:number$3()});type$2({subscription:number$3(),result:SlotInfoResult});const SlotUpdateResult=union$3([type$2({type:union$3([literal$2("firstShredReceived"),literal$2("completed"),literal$2("optimisticConfirmation"),literal$2("root")]),slot:number$3(),timestamp:number$3()}),type$2({type:literal$2("createdBank"),parent:number$3(),slot:number$3(),timestamp:number$3()}),type$2({type:literal$2("frozen"),slot:number$3(),timestamp:number$3(),stats:type$2({numTransactionEntries:number$3(),numSuccessfulTransactions:number$3(),numFailedTransactions:number$3(),maxTransactionsPerEntry:number$3()})}),type$2({type:literal$2("dead"),slot:number$3(),timestamp:number$3(),err:string$3()})]);type$2({subscription:number$3(),result:SlotUpdateResult});type$2({subscription:number$3(),result:notificationResultAndContext(union$3([SignatureStatusResult,SignatureReceivedResult]))});type$2({subscription:number$3(),result:number$3()});type$2({pubkey:string$3(),gossip:nullable$2(string$3()),tpu:nullable$2(string$3()),rpc:nullable$2(string$3()),version:nullable$2(string$3())});const VoteAccountInfoResult=type$2({votePubkey:string$3(),nodePubkey:string$3(),activatedStake:number$3(),epochVoteAccount:boolean$2(),epochCredits:array$3(tuple$2([number$3(),number$3(),number$3()])),commission:number$3(),lastVote:number$3(),rootSlot:nullable$2(number$3())});jsonRpcResult(type$2({current:array$3(VoteAccountInfoResult),delinquent:array$3(VoteAccountInfoResult)}));const ConfirmationStatus=union$3([literal$2("processed"),literal$2("confirmed"),literal$2("finalized")]),SignatureStatusResponse=type$2({slot:number$3(),confirmations:nullable$2(number$3()),err:TransactionErrorResult,confirmationStatus:optional$2(ConfirmationStatus)});jsonRpcResultAndContext(array$3(nullable$2(SignatureStatusResponse)));jsonRpcResult(number$3());const AddressTableLookupStruct=type$2({accountKey:PublicKeyFromString,writableIndexes:array$3(number$3()),readonlyIndexes:array$3(number$3())}),ConfirmedTransactionResult=type$2({signatures:array$3(string$3()),message:type$2({accountKeys:array$3(string$3()),header:type$2({numRequiredSignatures:number$3(),numReadonlySignedAccounts:number$3(),numReadonlyUnsignedAccounts:number$3()}),instructions:array$3(type$2({accounts:array$3(number$3()),data:string$3(),programIdIndex:number$3()})),recentBlockhash:string$3(),addressTableLookups:optional$2(array$3(AddressTableLookupStruct))})}),AnnotatedAccountKey=type$2({pubkey:PublicKeyFromString,signer:boolean$2(),writable:boolean$2(),source:optional$2(union$3([literal$2("transaction"),literal$2("lookupTable")]))}),ConfirmedTransactionAccountsModeResult=type$2({accountKeys:array$3(AnnotatedAccountKey),signatures:array$3(string$3())}),ParsedInstructionResult=type$2({parsed:unknown$2(),program:string$3(),programId:PublicKeyFromString}),RawInstructionResult=type$2({accounts:array$3(PublicKeyFromString),data:string$3(),programId:PublicKeyFromString}),InstructionResult=union$3([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union$3([type$2({parsed:unknown$2(),program:string$3(),programId:string$3()}),type$2({accounts:array$3(string$3()),data:string$3(),programId:string$3()})]),ParsedOrRawInstruction=coerce$2(InstructionResult,UnknownInstructionResult,t=>"accounts"in t?create$2(t,RawInstructionResult):create$2(t,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type$2({signatures:array$3(string$3()),message:type$2({accountKeys:array$3(AnnotatedAccountKey),instructions:array$3(ParsedOrRawInstruction),recentBlockhash:string$3(),addressTableLookups:optional$2(nullable$2(array$3(AddressTableLookupStruct)))})}),TokenBalanceResult=type$2({accountIndex:number$3(),mint:string$3(),owner:optional$2(string$3()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type$2({writable:array$3(PublicKeyFromString),readonly:array$3(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type$2({err:TransactionErrorResult,fee:number$3(),innerInstructions:optional$2(nullable$2(array$3(type$2({index:number$3(),instructions:array$3(type$2({accounts:array$3(number$3()),data:string$3(),programIdIndex:number$3()}))})))),preBalances:array$3(number$3()),postBalances:array$3(number$3()),logMessages:optional$2(nullable$2(array$3(string$3()))),preTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult))),postTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult))),loadedAddresses:optional$2(LoadedAddressesResult),computeUnitsConsumed:optional$2(number$3())}),ParsedConfirmedTransactionMetaResult=type$2({err:TransactionErrorResult,fee:number$3(),innerInstructions:optional$2(nullable$2(array$3(type$2({index:number$3(),instructions:array$3(ParsedOrRawInstruction)})))),preBalances:array$3(number$3()),postBalances:array$3(number$3()),logMessages:optional$2(nullable$2(array$3(string$3()))),preTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult))),postTokenBalances:optional$2(nullable$2(array$3(TokenBalanceResult))),loadedAddresses:optional$2(LoadedAddressesResult),computeUnitsConsumed:optional$2(number$3())}),TransactionVersionStruct=union$3([literal$2(0),literal$2("legacy")]),RewardsResult=type$2({pubkey:string$3(),lamports:number$3(),postBalance:nullable$2(number$3()),rewardType:nullable$2(string$3()),commission:optional$2(nullable$2(number$3()))});jsonRpcResult(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionResult,meta:nullable$2(ConfirmedTransactionMetaResult),version:optional$2(TransactionVersionStruct)})),rewards:optional$2(array$3(RewardsResult)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())})));jsonRpcResult(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),rewards:optional$2(array$3(RewardsResult)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())})));jsonRpcResult(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable$2(ConfirmedTransactionMetaResult),version:optional$2(TransactionVersionStruct)})),rewards:optional$2(array$3(RewardsResult)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())})));jsonRpcResult(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ParsedConfirmedTransactionResult,meta:nullable$2(ParsedConfirmedTransactionMetaResult),version:optional$2(TransactionVersionStruct)})),rewards:optional$2(array$3(RewardsResult)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())})));jsonRpcResult(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable$2(ParsedConfirmedTransactionMetaResult),version:optional$2(TransactionVersionStruct)})),rewards:optional$2(array$3(RewardsResult)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())})));jsonRpcResult(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),rewards:optional$2(array$3(RewardsResult)),blockTime:nullable$2(number$3()),blockHeight:nullable$2(number$3())})));jsonRpcResult(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),transactions:array$3(type$2({transaction:ConfirmedTransactionResult,meta:nullable$2(ConfirmedTransactionMetaResult)})),rewards:optional$2(array$3(RewardsResult)),blockTime:nullable$2(number$3())})));jsonRpcResult(nullable$2(type$2({blockhash:string$3(),previousBlockhash:string$3(),parentSlot:number$3(),signatures:array$3(string$3()),blockTime:nullable$2(number$3())})));jsonRpcResult(nullable$2(type$2({slot:number$3(),meta:ConfirmedTransactionMetaResult,blockTime:optional$2(nullable$2(number$3())),transaction:ConfirmedTransactionResult,version:optional$2(TransactionVersionStruct)})));jsonRpcResult(nullable$2(type$2({slot:number$3(),transaction:ParsedConfirmedTransactionResult,meta:nullable$2(ParsedConfirmedTransactionMetaResult),blockTime:optional$2(nullable$2(number$3())),version:optional$2(TransactionVersionStruct)})));jsonRpcResultAndContext(type$2({blockhash:string$3(),feeCalculator:type$2({lamportsPerSignature:number$3()})}));jsonRpcResultAndContext(type$2({blockhash:string$3(),lastValidBlockHeight:number$3()}));jsonRpcResultAndContext(boolean$2());const PerfSampleResult=type$2({slot:number$3(),numTransactions:number$3(),numSlots:number$3(),samplePeriodSecs:number$3()});jsonRpcResult(array$3(PerfSampleResult));jsonRpcResultAndContext(nullable$2(type$2({feeCalculator:type$2({lamportsPerSignature:number$3()})})));jsonRpcResult(string$3());jsonRpcResult(string$3());const LogsResult=type$2({err:TransactionErrorResult,logs:array$3(string$3()),signature:string$3()});type$2({result:notificationResultAndContext(LogsResult),subscription:number$3()});class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const o=e.slice(0,32),a=getPublicKey(o);for(let c=0;c<32;c++)if(n[c]!==a[c])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:n,secretKey:e})}static fromSeed(e){const r=getPublicKey(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Keypair({publicKey:r,secretKey:n})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$2("instruction"),u64$1("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$2("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$2("instruction"),u64$1(),seq(publicKey$1(),offset$1(u32$2(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$2("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$2("instruction")])}});new PublicKey("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$2("units"),u32$2("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$2("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$2("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$1("microLamports")])}});new PublicKey("ComputeBudget111111111111111111111111111111");struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);new PublicKey("Ed25519SigVerify111111111111111111111111111");secp256k1$1.utils.isValidPrivateKey;secp256k1$1.getPublicKey;struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);new PublicKey("KeccakSecp256k11111111111111111111111111111");var _class2;new PublicKey("StakeConfig11111111111111111111111111111111");class Lockup{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}_class2=Lockup;Lockup.default=new _class2(0,0,PublicKey.default);Object.freeze({Initialize:{index:0,layout:struct$3([u32$2("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$1("newAuthorized"),u32$2("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$2("instruction")])},Split:{index:3,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$2("instruction")])},Merge:{index:7,layout:struct$3([u32$2("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$2("instruction"),publicKey$1("newAuthorized"),u32$2("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$1("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});new PublicKey("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$2("instruction"),voteInit()])},Authorize:{index:1,layout:struct$3([u32$2("instruction"),publicKey$1("newAuthorized"),u32$2("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$2("instruction"),ns64$1("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$2("instruction"),voteAuthorizeWithSeedArgs()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});new PublicKey("Vote111111111111111111111111111111111111111");new PublicKey("Va1idator1nfo111111111111111111111111111111");type$2({name:string$3(),website:optional$2(string$3()),details:optional$2(string$3()),keybaseUsername:optional$2(string$3())});new PublicKey("Vote111111111111111111111111111111111111111");struct$3([publicKey$1("nodePubkey"),publicKey$1("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$2("confirmationCount")]),offset$1(u32$2(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$1("authorizedVoter")]),offset$1(u32$2(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$1("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$2(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function byteLength(t){var e=getLens(t),r=e[0],n=e[1];return(r+n)*3/4-n}function _byteLength(t,e,r){return(e+r)*3/4-r}function toByteArray(t){var e,r=getLens(t),n=r[0],o=r[1],a=new Arr(_byteLength(t,n,o)),c=0,u=o>0?n-4:n,gr;for(gr=0;gr<u;gr+=4)e=revLookup[t.charCodeAt(gr)]<<18|revLookup[t.charCodeAt(gr+1)]<<12|revLookup[t.charCodeAt(gr+2)]<<6|revLookup[t.charCodeAt(gr+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=e&255;return o===2&&(e=revLookup[t.charCodeAt(gr)]<<2|revLookup[t.charCodeAt(gr+1)]>>4,a[c++]=e&255),o===1&&(e=revLookup[t.charCodeAt(gr)]<<10|revLookup[t.charCodeAt(gr+1)]<<4|revLookup[t.charCodeAt(gr+2)]>>2,a[c++]=e>>8&255,a[c++]=e&255),a}function tripletToBase64(t){return lookup[t>>18&63]+lookup[t>>12&63]+lookup[t>>6&63]+lookup[t&63]}function encodeChunk(t,e,r){for(var n,o=[],a=e;a<r;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),o.push(tripletToBase64(n));return o.join("")}function fromByteArray(t){for(var e,r=t.length,n=r%3,o=[],a=16383,c=0,u=r-n;c<u;c+=a)o.push(encodeChunk(t,c,c+a>u?u:c+a));return n===1?(e=t[r-1],o.push(lookup[e>>2]+lookup[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(t,e,r,n,o){var a,c,u=o*8-n-1,gr=(1<<u)-1,br=gr>>1,_r=-7,Ar=r?o-1:0,vr=r?-1:1,Tr=t[e+Ar];for(Ar+=vr,a=Tr&(1<<-_r)-1,Tr>>=-_r,_r+=u;_r>0;a=a*256+t[e+Ar],Ar+=vr,_r-=8);for(c=a&(1<<-_r)-1,a>>=-_r,_r+=n;_r>0;c=c*256+t[e+Ar],Ar+=vr,_r-=8);if(a===0)a=1-br;else{if(a===gr)return c?NaN:(Tr?-1:1)*(1/0);c=c+Math.pow(2,n),a=a-br}return(Tr?-1:1)*c*Math.pow(2,a-n)};ieee754.write=function(t,e,r,n,o,a){var c,u,gr,br=a*8-o-1,_r=(1<<br)-1,Ar=_r>>1,vr=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,Tr=n?0:a-1,Or=n?1:-1,Ir=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=_r):(c=Math.floor(Math.log(e)/Math.LN2),e*(gr=Math.pow(2,-c))<1&&(c--,gr*=2),c+Ar>=1?e+=vr/gr:e+=vr*Math.pow(2,1-Ar),e*gr>=2&&(c++,gr/=2),c+Ar>=_r?(u=0,c=_r):c+Ar>=1?(u=(e*gr-1)*Math.pow(2,o),c=c+Ar):(u=e*Math.pow(2,Ar-1)*Math.pow(2,o),c=0));o>=8;t[r+Tr]=u&255,Tr+=Or,u/=256,o-=8);for(c=c<<o|u,br+=o;br>0;t[r+Tr]=c&255,Tr+=Or,c/=256,br-=8);t[r+Tr-Or]|=Ir*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=base64Js,r=ieee754,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=Fr,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const kr=new Uint8Array(1),Sr={foo:function(){return 42}};return Object.setPrototypeOf(Sr,Uint8Array.prototype),Object.setPrototypeOf(kr,Sr),kr.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(kr){if(kr>o)throw new RangeError('The value "'+kr+'" is invalid for option "size"');const Sr=new Uint8Array(kr);return Object.setPrototypeOf(Sr,u.prototype),Sr}function u(kr,Sr,wr){if(typeof kr=="number"){if(typeof Sr=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ar(kr)}return gr(kr,Sr,wr)}u.poolSize=8192;function gr(kr,Sr,wr){if(typeof kr=="string")return vr(kr,Sr);if(ArrayBuffer.isView(kr))return Or(kr);if(kr==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof kr);if(jn(kr,ArrayBuffer)||kr&&jn(kr.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(jn(kr,SharedArrayBuffer)||kr&&jn(kr.buffer,SharedArrayBuffer)))return Ir(kr,Sr,wr);if(typeof kr=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Br=kr.valueOf&&kr.valueOf();if(Br!=null&&Br!==kr)return u.from(Br,Sr,wr);const Wr=xr(kr);if(Wr)return Wr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof kr[Symbol.toPrimitive]=="function")return u.from(kr[Symbol.toPrimitive]("string"),Sr,wr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof kr)}u.from=function(kr,Sr,wr){return gr(kr,Sr,wr)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function br(kr){if(typeof kr!="number")throw new TypeError('"size" argument must be of type number');if(kr<0)throw new RangeError('The value "'+kr+'" is invalid for option "size"')}function _r(kr,Sr,wr){return br(kr),kr<=0?c(kr):Sr!==void 0?typeof wr=="string"?c(kr).fill(Sr,wr):c(kr).fill(Sr):c(kr)}u.alloc=function(kr,Sr,wr){return _r(kr,Sr,wr)};function Ar(kr){return br(kr),c(kr<0?0:Lr(kr)|0)}u.allocUnsafe=function(kr){return Ar(kr)},u.allocUnsafeSlow=function(kr){return Ar(kr)};function vr(kr,Sr){if((typeof Sr!="string"||Sr==="")&&(Sr="utf8"),!u.isEncoding(Sr))throw new TypeError("Unknown encoding: "+Sr);const wr=Mr(kr,Sr)|0;let Br=c(wr);const Wr=Br.write(kr,Sr);return Wr!==wr&&(Br=Br.slice(0,Wr)),Br}function Tr(kr){const Sr=kr.length<0?0:Lr(kr.length)|0,wr=c(Sr);for(let Br=0;Br<Sr;Br+=1)wr[Br]=kr[Br]&255;return wr}function Or(kr){if(jn(kr,Uint8Array)){const Sr=new Uint8Array(kr);return Ir(Sr.buffer,Sr.byteOffset,Sr.byteLength)}return Tr(kr)}function Ir(kr,Sr,wr){if(Sr<0||kr.byteLength<Sr)throw new RangeError('"offset" is outside of buffer bounds');if(kr.byteLength<Sr+(wr||0))throw new RangeError('"length" is outside of buffer bounds');let Br;return Sr===void 0&&wr===void 0?Br=new Uint8Array(kr):wr===void 0?Br=new Uint8Array(kr,Sr):Br=new Uint8Array(kr,Sr,wr),Object.setPrototypeOf(Br,u.prototype),Br}function xr(kr){if(u.isBuffer(kr)){const Sr=Lr(kr.length)|0,wr=c(Sr);return wr.length===0||kr.copy(wr,0,0,Sr),wr}if(kr.length!==void 0)return typeof kr.length!="number"||Hn(kr.length)?c(0):Tr(kr);if(kr.type==="Buffer"&&Array.isArray(kr.data))return Tr(kr.data)}function Lr(kr){if(kr>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return kr|0}function Fr(kr){return+kr!=kr&&(kr=0),u.alloc(+kr)}u.isBuffer=function(Sr){return Sr!=null&&Sr._isBuffer===!0&&Sr!==u.prototype},u.compare=function(Sr,wr){if(jn(Sr,Uint8Array)&&(Sr=u.from(Sr,Sr.offset,Sr.byteLength)),jn(wr,Uint8Array)&&(wr=u.from(wr,wr.offset,wr.byteLength)),!u.isBuffer(Sr)||!u.isBuffer(wr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Sr===wr)return 0;let Br=Sr.length,Wr=wr.length;for(let Qr=0,an=Math.min(Br,Wr);Qr<an;++Qr)if(Sr[Qr]!==wr[Qr]){Br=Sr[Qr],Wr=wr[Qr];break}return Br<Wr?-1:Wr<Br?1:0},u.isEncoding=function(Sr){switch(String(Sr).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(Sr,wr){if(!Array.isArray(Sr))throw new TypeError('"list" argument must be an Array of Buffers');if(Sr.length===0)return u.alloc(0);let Br;if(wr===void 0)for(wr=0,Br=0;Br<Sr.length;++Br)wr+=Sr[Br].length;const Wr=u.allocUnsafe(wr);let Qr=0;for(Br=0;Br<Sr.length;++Br){let an=Sr[Br];if(jn(an,Uint8Array))Qr+an.length>Wr.length?(u.isBuffer(an)||(an=u.from(an)),an.copy(Wr,Qr)):Uint8Array.prototype.set.call(Wr,an,Qr);else if(u.isBuffer(an))an.copy(Wr,Qr);else throw new TypeError('"list" argument must be an Array of Buffers');Qr+=an.length}return Wr};function Mr(kr,Sr){if(u.isBuffer(kr))return kr.length;if(ArrayBuffer.isView(kr)||jn(kr,ArrayBuffer))return kr.byteLength;if(typeof kr!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof kr);const wr=kr.length,Br=arguments.length>2&&arguments[2]===!0;if(!Br&&wr===0)return 0;let Wr=!1;for(;;)switch(Sr){case"ascii":case"latin1":case"binary":return wr;case"utf8":case"utf-8":return kn(kr).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wr*2;case"hex":return wr>>>1;case"base64":return Bn(kr).length;default:if(Wr)return Br?-1:kn(kr).length;Sr=(""+Sr).toLowerCase(),Wr=!0}}u.byteLength=Mr;function Hr(kr,Sr,wr){let Br=!1;if((Sr===void 0||Sr<0)&&(Sr=0),Sr>this.length||((wr===void 0||wr>this.length)&&(wr=this.length),wr<=0)||(wr>>>=0,Sr>>>=0,wr<=Sr))return"";for(kr||(kr="utf8");;)switch(kr){case"hex":return Xr(this,Sr,wr);case"utf8":case"utf-8":return Rr(this,Sr,wr);case"ascii":return Yr(this,Sr,wr);case"latin1":case"binary":return Zr(this,Sr,wr);case"base64":return Ur(this,Sr,wr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nn(this,Sr,wr);default:if(Br)throw new TypeError("Unknown encoding: "+kr);kr=(kr+"").toLowerCase(),Br=!0}}u.prototype._isBuffer=!0;function Vr(kr,Sr,wr){const Br=kr[Sr];kr[Sr]=kr[wr],kr[wr]=Br}u.prototype.swap16=function(){const Sr=this.length;if(Sr%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let wr=0;wr<Sr;wr+=2)Vr(this,wr,wr+1);return this},u.prototype.swap32=function(){const Sr=this.length;if(Sr%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let wr=0;wr<Sr;wr+=4)Vr(this,wr,wr+3),Vr(this,wr+1,wr+2);return this},u.prototype.swap64=function(){const Sr=this.length;if(Sr%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let wr=0;wr<Sr;wr+=8)Vr(this,wr,wr+7),Vr(this,wr+1,wr+6),Vr(this,wr+2,wr+5),Vr(this,wr+3,wr+4);return this},u.prototype.toString=function(){const Sr=this.length;return Sr===0?"":arguments.length===0?Rr(this,0,Sr):Hr.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(Sr){if(!u.isBuffer(Sr))throw new TypeError("Argument must be a Buffer");return this===Sr?!0:u.compare(this,Sr)===0},u.prototype.inspect=function(){let Sr="";const wr=t.INSPECT_MAX_BYTES;return Sr=this.toString("hex",0,wr).replace(/(.{2})/g,"$1 ").trim(),this.length>wr&&(Sr+=" ... "),"<Buffer "+Sr+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(Sr,wr,Br,Wr,Qr){if(jn(Sr,Uint8Array)&&(Sr=u.from(Sr,Sr.offset,Sr.byteLength)),!u.isBuffer(Sr))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Sr);if(wr===void 0&&(wr=0),Br===void 0&&(Br=Sr?Sr.length:0),Wr===void 0&&(Wr=0),Qr===void 0&&(Qr=this.length),wr<0||Br>Sr.length||Wr<0||Qr>this.length)throw new RangeError("out of range index");if(Wr>=Qr&&wr>=Br)return 0;if(Wr>=Qr)return-1;if(wr>=Br)return 1;if(wr>>>=0,Br>>>=0,Wr>>>=0,Qr>>>=0,this===Sr)return 0;let an=Qr-Wr,Pn=Br-wr;const Fn=Math.min(an,Pn),Dn=this.slice(Wr,Qr),Gn=Sr.slice(wr,Br);for(let Kn=0;Kn<Fn;++Kn)if(Dn[Kn]!==Gn[Kn]){an=Dn[Kn],Pn=Gn[Kn];break}return an<Pn?-1:Pn<an?1:0};function Kr(kr,Sr,wr,Br,Wr){if(kr.length===0)return-1;if(typeof wr=="string"?(Br=wr,wr=0):wr>2147483647?wr=2147483647:wr<-2147483648&&(wr=-2147483648),wr=+wr,Hn(wr)&&(wr=Wr?0:kr.length-1),wr<0&&(wr=kr.length+wr),wr>=kr.length){if(Wr)return-1;wr=kr.length-1}else if(wr<0)if(Wr)wr=0;else return-1;if(typeof Sr=="string"&&(Sr=u.from(Sr,Br)),u.isBuffer(Sr))return Sr.length===0?-1:jr(kr,Sr,wr,Br,Wr);if(typeof Sr=="number")return Sr=Sr&255,typeof Uint8Array.prototype.indexOf=="function"?Wr?Uint8Array.prototype.indexOf.call(kr,Sr,wr):Uint8Array.prototype.lastIndexOf.call(kr,Sr,wr):jr(kr,[Sr],wr,Br,Wr);throw new TypeError("val must be string, number or Buffer")}function jr(kr,Sr,wr,Br,Wr){let Qr=1,an=kr.length,Pn=Sr.length;if(Br!==void 0&&(Br=String(Br).toLowerCase(),Br==="ucs2"||Br==="ucs-2"||Br==="utf16le"||Br==="utf-16le")){if(kr.length<2||Sr.length<2)return-1;Qr=2,an/=2,Pn/=2,wr/=2}function Fn(Gn,Kn){return Qr===1?Gn[Kn]:Gn.readUInt16BE(Kn*Qr)}let Dn;if(Wr){let Gn=-1;for(Dn=wr;Dn<an;Dn++)if(Fn(kr,Dn)===Fn(Sr,Gn===-1?0:Dn-Gn)){if(Gn===-1&&(Gn=Dn),Dn-Gn+1===Pn)return Gn*Qr}else Gn!==-1&&(Dn-=Dn-Gn),Gn=-1}else for(wr+Pn>an&&(wr=an-Pn),Dn=wr;Dn>=0;Dn--){let Gn=!0;for(let Kn=0;Kn<Pn;Kn++)if(Fn(kr,Dn+Kn)!==Fn(Sr,Kn)){Gn=!1;break}if(Gn)return Dn}return-1}u.prototype.includes=function(Sr,wr,Br){return this.indexOf(Sr,wr,Br)!==-1},u.prototype.indexOf=function(Sr,wr,Br){return Kr(this,Sr,wr,Br,!0)},u.prototype.lastIndexOf=function(Sr,wr,Br){return Kr(this,Sr,wr,Br,!1)};function qr(kr,Sr,wr,Br){wr=Number(wr)||0;const Wr=kr.length-wr;Br?(Br=Number(Br),Br>Wr&&(Br=Wr)):Br=Wr;const Qr=Sr.length;Br>Qr/2&&(Br=Qr/2);let an;for(an=0;an<Br;++an){const Pn=parseInt(Sr.substr(an*2,2),16);if(Hn(Pn))return an;kr[wr+an]=Pn}return an}function tn(kr,Sr,wr,Br){return Tn(kn(Sr,kr.length-wr),kr,wr,Br)}function en(kr,Sr,wr,Br){return Tn(Un(Sr),kr,wr,Br)}function sn(kr,Sr,wr,Br){return Tn(Bn(Sr),kr,wr,Br)}function cn(kr,Sr,wr,Br){return Tn(Sn(Sr,kr.length-wr),kr,wr,Br)}u.prototype.write=function(Sr,wr,Br,Wr){if(wr===void 0)Wr="utf8",Br=this.length,wr=0;else if(Br===void 0&&typeof wr=="string")Wr=wr,Br=this.length,wr=0;else if(isFinite(wr))wr=wr>>>0,isFinite(Br)?(Br=Br>>>0,Wr===void 0&&(Wr="utf8")):(Wr=Br,Br=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Qr=this.length-wr;if((Br===void 0||Br>Qr)&&(Br=Qr),Sr.length>0&&(Br<0||wr<0)||wr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Wr||(Wr="utf8");let an=!1;for(;;)switch(Wr){case"hex":return qr(this,Sr,wr,Br);case"utf8":case"utf-8":return tn(this,Sr,wr,Br);case"ascii":case"latin1":case"binary":return en(this,Sr,wr,Br);case"base64":return sn(this,Sr,wr,Br);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cn(this,Sr,wr,Br);default:if(an)throw new TypeError("Unknown encoding: "+Wr);Wr=(""+Wr).toLowerCase(),an=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ur(kr,Sr,wr){return Sr===0&&wr===kr.length?e.fromByteArray(kr):e.fromByteArray(kr.slice(Sr,wr))}function Rr(kr,Sr,wr){wr=Math.min(kr.length,wr);const Br=[];let Wr=Sr;for(;Wr<wr;){const Qr=kr[Wr];let an=null,Pn=Qr>239?4:Qr>223?3:Qr>191?2:1;if(Wr+Pn<=wr){let Fn,Dn,Gn,Kn;switch(Pn){case 1:Qr<128&&(an=Qr);break;case 2:Fn=kr[Wr+1],(Fn&192)===128&&(Kn=(Qr&31)<<6|Fn&63,Kn>127&&(an=Kn));break;case 3:Fn=kr[Wr+1],Dn=kr[Wr+2],(Fn&192)===128&&(Dn&192)===128&&(Kn=(Qr&15)<<12|(Fn&63)<<6|Dn&63,Kn>2047&&(Kn<55296||Kn>57343)&&(an=Kn));break;case 4:Fn=kr[Wr+1],Dn=kr[Wr+2],Gn=kr[Wr+3],(Fn&192)===128&&(Dn&192)===128&&(Gn&192)===128&&(Kn=(Qr&15)<<18|(Fn&63)<<12|(Dn&63)<<6|Gn&63,Kn>65535&&Kn<1114112&&(an=Kn))}}an===null?(an=65533,Pn=1):an>65535&&(an-=65536,Br.push(an>>>10&1023|55296),an=56320|an&1023),Br.push(an),Wr+=Pn}return Dr(Br)}const Pr=4096;function Dr(kr){const Sr=kr.length;if(Sr<=Pr)return String.fromCharCode.apply(String,kr);let wr="",Br=0;for(;Br<Sr;)wr+=String.fromCharCode.apply(String,kr.slice(Br,Br+=Pr));return wr}function Yr(kr,Sr,wr){let Br="";wr=Math.min(kr.length,wr);for(let Wr=Sr;Wr<wr;++Wr)Br+=String.fromCharCode(kr[Wr]&127);return Br}function Zr(kr,Sr,wr){let Br="";wr=Math.min(kr.length,wr);for(let Wr=Sr;Wr<wr;++Wr)Br+=String.fromCharCode(kr[Wr]);return Br}function Xr(kr,Sr,wr){const Br=kr.length;(!Sr||Sr<0)&&(Sr=0),(!wr||wr<0||wr>Br)&&(wr=Br);let Wr="";for(let Qr=Sr;Qr<wr;++Qr)Wr+=Wn[kr[Qr]];return Wr}function nn(kr,Sr,wr){const Br=kr.slice(Sr,wr);let Wr="";for(let Qr=0;Qr<Br.length-1;Qr+=2)Wr+=String.fromCharCode(Br[Qr]+Br[Qr+1]*256);return Wr}u.prototype.slice=function(Sr,wr){const Br=this.length;Sr=~~Sr,wr=wr===void 0?Br:~~wr,Sr<0?(Sr+=Br,Sr<0&&(Sr=0)):Sr>Br&&(Sr=Br),wr<0?(wr+=Br,wr<0&&(wr=0)):wr>Br&&(wr=Br),wr<Sr&&(wr=Sr);const Wr=this.subarray(Sr,wr);return Object.setPrototypeOf(Wr,u.prototype),Wr};function Gr(kr,Sr,wr){if(kr%1!==0||kr<0)throw new RangeError("offset is not uint");if(kr+Sr>wr)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=this[Sr],Qr=1,an=0;for(;++an<wr&&(Qr*=256);)Wr+=this[Sr+an]*Qr;return Wr},u.prototype.readUintBE=u.prototype.readUIntBE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=this[Sr+--wr],Qr=1;for(;wr>0&&(Qr*=256);)Wr+=this[Sr+--wr]*Qr;return Wr},u.prototype.readUint8=u.prototype.readUInt8=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,1,this.length),this[Sr]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,2,this.length),this[Sr]|this[Sr+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,2,this.length),this[Sr]<<8|this[Sr+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),(this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16)+this[Sr+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),this[Sr]*16777216+(this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3])},u.prototype.readBigUInt64LE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=wr+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24,Qr=this[++Sr]+this[++Sr]*2**8+this[++Sr]*2**16+Br*2**24;return BigInt(Wr)+(BigInt(Qr)<<BigInt(32))}),u.prototype.readBigUInt64BE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=wr*2**24+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr],Qr=this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Br;return(BigInt(Wr)<<BigInt(32))+BigInt(Qr)}),u.prototype.readIntLE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=this[Sr],Qr=1,an=0;for(;++an<wr&&(Qr*=256);)Wr+=this[Sr+an]*Qr;return Qr*=128,Wr>=Qr&&(Wr-=Math.pow(2,8*wr)),Wr},u.prototype.readIntBE=function(Sr,wr,Br){Sr=Sr>>>0,wr=wr>>>0,Br||Gr(Sr,wr,this.length);let Wr=wr,Qr=1,an=this[Sr+--Wr];for(;Wr>0&&(Qr*=256);)an+=this[Sr+--Wr]*Qr;return Qr*=128,an>=Qr&&(an-=Math.pow(2,8*wr)),an},u.prototype.readInt8=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,1,this.length),this[Sr]&128?(255-this[Sr]+1)*-1:this[Sr]},u.prototype.readInt16LE=function(Sr,wr){Sr=Sr>>>0,wr||Gr(Sr,2,this.length);const Br=this[Sr]|this[Sr+1]<<8;return Br&32768?Br|4294901760:Br},u.prototype.readInt16BE=function(Sr,wr){Sr=Sr>>>0,wr||Gr(Sr,2,this.length);const Br=this[Sr+1]|this[Sr]<<8;return Br&32768?Br|4294901760:Br},u.prototype.readInt32LE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),this[Sr]|this[Sr+1]<<8|this[Sr+2]<<16|this[Sr+3]<<24},u.prototype.readInt32BE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),this[Sr]<<24|this[Sr+1]<<16|this[Sr+2]<<8|this[Sr+3]},u.prototype.readBigInt64LE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=this[Sr+4]+this[Sr+5]*2**8+this[Sr+6]*2**16+(Br<<24);return(BigInt(Wr)<<BigInt(32))+BigInt(wr+this[++Sr]*2**8+this[++Sr]*2**16+this[++Sr]*2**24)}),u.prototype.readBigInt64BE=Vn(function(Sr){Sr=Sr>>>0,hn(Sr,"offset");const wr=this[Sr],Br=this[Sr+7];(wr===void 0||Br===void 0)&&gn(Sr,this.length-8);const Wr=(wr<<24)+this[++Sr]*2**16+this[++Sr]*2**8+this[++Sr];return(BigInt(Wr)<<BigInt(32))+BigInt(this[++Sr]*2**24+this[++Sr]*2**16+this[++Sr]*2**8+Br)}),u.prototype.readFloatLE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),r.read(this,Sr,!0,23,4)},u.prototype.readFloatBE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,4,this.length),r.read(this,Sr,!1,23,4)},u.prototype.readDoubleLE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,8,this.length),r.read(this,Sr,!0,52,8)},u.prototype.readDoubleBE=function(Sr,wr){return Sr=Sr>>>0,wr||Gr(Sr,8,this.length),r.read(this,Sr,!1,52,8)};function Nr(kr,Sr,wr,Br,Wr,Qr){if(!u.isBuffer(kr))throw new TypeError('"buffer" argument must be a Buffer instance');if(Sr>Wr||Sr<Qr)throw new RangeError('"value" argument is out of bounds');if(wr+Br>kr.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,Br=Br>>>0,!Wr){const Pn=Math.pow(2,8*Br)-1;Nr(this,Sr,wr,Br,Pn,0)}let Qr=1,an=0;for(this[wr]=Sr&255;++an<Br&&(Qr*=256);)this[wr+an]=Sr/Qr&255;return wr+Br},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,Br=Br>>>0,!Wr){const Pn=Math.pow(2,8*Br)-1;Nr(this,Sr,wr,Br,Pn,0)}let Qr=Br-1,an=1;for(this[wr+Qr]=Sr&255;--Qr>=0&&(an*=256);)this[wr+Qr]=Sr/an&255;return wr+Br},u.prototype.writeUint8=u.prototype.writeUInt8=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,1,255,0),this[wr]=Sr&255,wr+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,65535,0),this[wr]=Sr&255,this[wr+1]=Sr>>>8,wr+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,65535,0),this[wr]=Sr>>>8,this[wr+1]=Sr&255,wr+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,4294967295,0),this[wr+3]=Sr>>>24,this[wr+2]=Sr>>>16,this[wr+1]=Sr>>>8,this[wr]=Sr&255,wr+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,4294967295,0),this[wr]=Sr>>>24,this[wr+1]=Sr>>>16,this[wr+2]=Sr>>>8,this[wr+3]=Sr&255,wr+4};function Jr(kr,Sr,wr,Br,Wr){ln(Sr,Br,Wr,kr,wr,7);let Qr=Number(Sr&BigInt(4294967295));kr[wr++]=Qr,Qr=Qr>>8,kr[wr++]=Qr,Qr=Qr>>8,kr[wr++]=Qr,Qr=Qr>>8,kr[wr++]=Qr;let an=Number(Sr>>BigInt(32)&BigInt(4294967295));return kr[wr++]=an,an=an>>8,kr[wr++]=an,an=an>>8,kr[wr++]=an,an=an>>8,kr[wr++]=an,wr}function fn(kr,Sr,wr,Br,Wr){ln(Sr,Br,Wr,kr,wr,7);let Qr=Number(Sr&BigInt(4294967295));kr[wr+7]=Qr,Qr=Qr>>8,kr[wr+6]=Qr,Qr=Qr>>8,kr[wr+5]=Qr,Qr=Qr>>8,kr[wr+4]=Qr;let an=Number(Sr>>BigInt(32)&BigInt(4294967295));return kr[wr+3]=an,an=an>>8,kr[wr+2]=an,an=an>>8,kr[wr+1]=an,an=an>>8,kr[wr]=an,wr+8}u.prototype.writeBigUInt64LE=Vn(function(Sr,wr=0){return Jr(this,Sr,wr,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Vn(function(Sr,wr=0){return fn(this,Sr,wr,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,!Wr){const Fn=Math.pow(2,8*Br-1);Nr(this,Sr,wr,Br,Fn-1,-Fn)}let Qr=0,an=1,Pn=0;for(this[wr]=Sr&255;++Qr<Br&&(an*=256);)Sr<0&&Pn===0&&this[wr+Qr-1]!==0&&(Pn=1),this[wr+Qr]=(Sr/an>>0)-Pn&255;return wr+Br},u.prototype.writeIntBE=function(Sr,wr,Br,Wr){if(Sr=+Sr,wr=wr>>>0,!Wr){const Fn=Math.pow(2,8*Br-1);Nr(this,Sr,wr,Br,Fn-1,-Fn)}let Qr=Br-1,an=1,Pn=0;for(this[wr+Qr]=Sr&255;--Qr>=0&&(an*=256);)Sr<0&&Pn===0&&this[wr+Qr+1]!==0&&(Pn=1),this[wr+Qr]=(Sr/an>>0)-Pn&255;return wr+Br},u.prototype.writeInt8=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,1,127,-128),Sr<0&&(Sr=255+Sr+1),this[wr]=Sr&255,wr+1},u.prototype.writeInt16LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,32767,-32768),this[wr]=Sr&255,this[wr+1]=Sr>>>8,wr+2},u.prototype.writeInt16BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,2,32767,-32768),this[wr]=Sr>>>8,this[wr+1]=Sr&255,wr+2},u.prototype.writeInt32LE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,2147483647,-2147483648),this[wr]=Sr&255,this[wr+1]=Sr>>>8,this[wr+2]=Sr>>>16,this[wr+3]=Sr>>>24,wr+4},u.prototype.writeInt32BE=function(Sr,wr,Br){return Sr=+Sr,wr=wr>>>0,Br||Nr(this,Sr,wr,4,2147483647,-2147483648),Sr<0&&(Sr=4294967295+Sr+1),this[wr]=Sr>>>24,this[wr+1]=Sr>>>16,this[wr+2]=Sr>>>8,this[wr+3]=Sr&255,wr+4},u.prototype.writeBigInt64LE=Vn(function(Sr,wr=0){return Jr(this,Sr,wr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Vn(function(Sr,wr=0){return fn(this,Sr,wr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function An(kr,Sr,wr,Br,Wr,Qr){if(wr+Br>kr.length)throw new RangeError("Index out of range");if(wr<0)throw new RangeError("Index out of range")}function wn(kr,Sr,wr,Br,Wr){return Sr=+Sr,wr=wr>>>0,Wr||An(kr,Sr,wr,4),r.write(kr,Sr,wr,Br,23,4),wr+4}u.prototype.writeFloatLE=function(Sr,wr,Br){return wn(this,Sr,wr,!0,Br)},u.prototype.writeFloatBE=function(Sr,wr,Br){return wn(this,Sr,wr,!1,Br)};function yn(kr,Sr,wr,Br,Wr){return Sr=+Sr,wr=wr>>>0,Wr||An(kr,Sr,wr,8),r.write(kr,Sr,wr,Br,52,8),wr+8}u.prototype.writeDoubleLE=function(Sr,wr,Br){return yn(this,Sr,wr,!0,Br)},u.prototype.writeDoubleBE=function(Sr,wr,Br){return yn(this,Sr,wr,!1,Br)},u.prototype.copy=function(Sr,wr,Br,Wr){if(!u.isBuffer(Sr))throw new TypeError("argument should be a Buffer");if(Br||(Br=0),!Wr&&Wr!==0&&(Wr=this.length),wr>=Sr.length&&(wr=Sr.length),wr||(wr=0),Wr>0&&Wr<Br&&(Wr=Br),Wr===Br||Sr.length===0||this.length===0)return 0;if(wr<0)throw new RangeError("targetStart out of bounds");if(Br<0||Br>=this.length)throw new RangeError("Index out of range");if(Wr<0)throw new RangeError("sourceEnd out of bounds");Wr>this.length&&(Wr=this.length),Sr.length-wr<Wr-Br&&(Wr=Sr.length-wr+Br);const Qr=Wr-Br;return this===Sr&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(wr,Br,Wr):Uint8Array.prototype.set.call(Sr,this.subarray(Br,Wr),wr),Qr},u.prototype.fill=function(Sr,wr,Br,Wr){if(typeof Sr=="string"){if(typeof wr=="string"?(Wr=wr,wr=0,Br=this.length):typeof Br=="string"&&(Wr=Br,Br=this.length),Wr!==void 0&&typeof Wr!="string")throw new TypeError("encoding must be a string");if(typeof Wr=="string"&&!u.isEncoding(Wr))throw new TypeError("Unknown encoding: "+Wr);if(Sr.length===1){const an=Sr.charCodeAt(0);(Wr==="utf8"&&an<128||Wr==="latin1")&&(Sr=an)}}else typeof Sr=="number"?Sr=Sr&255:typeof Sr=="boolean"&&(Sr=Number(Sr));if(wr<0||this.length<wr||this.length<Br)throw new RangeError("Out of range index");if(Br<=wr)return this;wr=wr>>>0,Br=Br===void 0?this.length:Br>>>0,Sr||(Sr=0);let Qr;if(typeof Sr=="number")for(Qr=wr;Qr<Br;++Qr)this[Qr]=Sr;else{const an=u.isBuffer(Sr)?Sr:u.from(Sr,Wr),Pn=an.length;if(Pn===0)throw new TypeError('The value "'+Sr+'" is invalid for argument "value"');for(Qr=0;Qr<Br-wr;++Qr)this[Qr+wr]=an[Qr%Pn]}return this};const mn={};function _n(kr,Sr,wr){mn[kr]=class extends wr{constructor(){super(),Object.defineProperty(this,"message",{value:Sr.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${kr}]`,this.stack,delete this.name}get code(){return kr}set code(Wr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Wr,writable:!0})}toString(){return`${this.name} [${kr}]: ${this.message}`}}}_n("ERR_BUFFER_OUT_OF_BOUNDS",function(kr){return kr?`${kr} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_n("ERR_INVALID_ARG_TYPE",function(kr,Sr){return`The "${kr}" argument must be of type number. Received type ${typeof Sr}`},TypeError),_n("ERR_OUT_OF_RANGE",function(kr,Sr,wr){let Br=`The value of "${kr}" is out of range.`,Wr=wr;return Number.isInteger(wr)&&Math.abs(wr)>2**32?Wr=In(String(wr)):typeof wr=="bigint"&&(Wr=String(wr),(wr>BigInt(2)**BigInt(32)||wr<-(BigInt(2)**BigInt(32)))&&(Wr=In(Wr)),Wr+="n"),Br+=` It must be ${Sr}. Received ${Wr}`,Br},RangeError);function In(kr){let Sr="",wr=kr.length;const Br=kr[0]==="-"?1:0;for(;wr>=Br+4;wr-=3)Sr=`_${kr.slice(wr-3,wr)}${Sr}`;return`${kr.slice(0,wr)}${Sr}`}function Nn(kr,Sr,wr){hn(Sr,"offset"),(kr[Sr]===void 0||kr[Sr+wr]===void 0)&&gn(Sr,kr.length-(wr+1))}function ln(kr,Sr,wr,Br,Wr,Qr){if(kr>wr||kr<Sr){const an=typeof Sr=="bigint"?"n":"";let Pn;throw Qr>3?Sr===0||Sr===BigInt(0)?Pn=`>= 0${an} and < 2${an} ** ${(Qr+1)*8}${an}`:Pn=`>= -(2${an} ** ${(Qr+1)*8-1}${an}) and < 2 ** ${(Qr+1)*8-1}${an}`:Pn=`>= ${Sr}${an} and <= ${wr}${an}`,new mn.ERR_OUT_OF_RANGE("value",Pn,kr)}Nn(Br,Wr,Qr)}function hn(kr,Sr){if(typeof kr!="number")throw new mn.ERR_INVALID_ARG_TYPE(Sr,"number",kr)}function gn(kr,Sr,wr){throw Math.floor(kr)!==kr?(hn(kr,wr),new mn.ERR_OUT_OF_RANGE(wr||"offset","an integer",kr)):Sr<0?new mn.ERR_BUFFER_OUT_OF_BOUNDS:new mn.ERR_OUT_OF_RANGE(wr||"offset",`>= ${wr?1:0} and <= ${Sr}`,kr)}const Rn=/[^+/0-9A-Za-z-_]/g;function Cn(kr){if(kr=kr.split("=")[0],kr=kr.trim().replace(Rn,""),kr.length<2)return"";for(;kr.length%4!==0;)kr=kr+"=";return kr}function kn(kr,Sr){Sr=Sr||1/0;let wr;const Br=kr.length;let Wr=null;const Qr=[];for(let an=0;an<Br;++an){if(wr=kr.charCodeAt(an),wr>55295&&wr<57344){if(!Wr){if(wr>56319){(Sr-=3)>-1&&Qr.push(239,191,189);continue}else if(an+1===Br){(Sr-=3)>-1&&Qr.push(239,191,189);continue}Wr=wr;continue}if(wr<56320){(Sr-=3)>-1&&Qr.push(239,191,189),Wr=wr;continue}wr=(Wr-55296<<10|wr-56320)+65536}else Wr&&(Sr-=3)>-1&&Qr.push(239,191,189);if(Wr=null,wr<128){if((Sr-=1)<0)break;Qr.push(wr)}else if(wr<2048){if((Sr-=2)<0)break;Qr.push(wr>>6|192,wr&63|128)}else if(wr<65536){if((Sr-=3)<0)break;Qr.push(wr>>12|224,wr>>6&63|128,wr&63|128)}else if(wr<1114112){if((Sr-=4)<0)break;Qr.push(wr>>18|240,wr>>12&63|128,wr>>6&63|128,wr&63|128)}else throw new Error("Invalid code point")}return Qr}function Un(kr){const Sr=[];for(let wr=0;wr<kr.length;++wr)Sr.push(kr.charCodeAt(wr)&255);return Sr}function Sn(kr,Sr){let wr,Br,Wr;const Qr=[];for(let an=0;an<kr.length&&!((Sr-=2)<0);++an)wr=kr.charCodeAt(an),Br=wr>>8,Wr=wr%256,Qr.push(Wr),Qr.push(Br);return Qr}function Bn(kr){return e.toByteArray(Cn(kr))}function Tn(kr,Sr,wr,Br){let Wr;for(Wr=0;Wr<Br&&!(Wr+wr>=Sr.length||Wr>=kr.length);++Wr)Sr[Wr+wr]=kr[Wr];return Wr}function jn(kr,Sr){return kr instanceof Sr||kr!=null&&kr.constructor!=null&&kr.constructor.name!=null&&kr.constructor.name===Sr.name}function Hn(kr){return kr!==kr}const Wn=function(){const kr="0123456789abcdef",Sr=new Array(256);for(let wr=0;wr<16;++wr){const Br=wr*16;for(let Wr=0;Wr<16;++Wr)Sr[Br+Wr]=kr[wr]+kr[Wr]}return Sr}();function Vn(kr){return typeof BigInt>"u"?Yn:kr}function Yn(){throw new Error("BigInt not supported")}})(buffer);var global$1=typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:typeof window<"u"?window:{},inherits;typeof Object.create=="function"?inherits=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits$1=inherits;function inspect$1(t,e){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(e)?r.showHidden=e:e&&_extend(r,e),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,t,r.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(t,e){var r=inspect$1.styles[e];return r?"\x1B["+inspect$1.colors[r][0]+"m"+t+"\x1B["+inspect$1.colors[r][1]+"m":t}function stylizeNoColor(t,e){return t}function arrayToHash(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function formatValue(t,e,r){if(t.customInspect&&e&&isFunction$1(e.inspect)&&e.inspect!==inspect$1&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return isString(n)||(n=formatValue(t,n,r)),n}var o=formatPrimitive(t,e);if(o)return o;var a=Object.keys(e),c=arrayToHash(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),isError(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(e);if(a.length===0){if(isFunction$1(e)){var u=e.name?": "+e.name:"";return t.stylize("[Function"+u+"]","special")}if(isRegExp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(isDate(e))return t.stylize(Date.prototype.toString.call(e),"date");if(isError(e))return formatError(e)}var gr="",br=!1,_r=["{","}"];if(isArray$1(e)&&(br=!0,_r=["[","]"]),isFunction$1(e)){var Ar=e.name?": "+e.name:"";gr=" [Function"+Ar+"]"}if(isRegExp(e)&&(gr=" "+RegExp.prototype.toString.call(e)),isDate(e)&&(gr=" "+Date.prototype.toUTCString.call(e)),isError(e)&&(gr=" "+formatError(e)),a.length===0&&(!br||e.length==0))return _r[0]+gr+_r[1];if(r<0)return isRegExp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var vr;return br?vr=formatArray(t,e,r,c,a):vr=a.map(function(Tr){return formatProperty(t,e,r,c,Tr,br)}),t.seen.pop(),reduceToSingleString(vr,gr,_r)}function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(isNumber(e))return t.stylize(""+e,"number");if(isBoolean(e))return t.stylize(""+e,"boolean");if(isNull(e))return t.stylize("null","null")}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatArray(t,e,r,n,o){for(var a=[],c=0,u=e.length;c<u;++c)hasOwnProperty(e,String(c))?a.push(formatProperty(t,e,r,n,String(c),!0)):a.push("");return o.forEach(function(gr){gr.match(/^\d+$/)||a.push(formatProperty(t,e,r,n,gr,!0))}),a}function formatProperty(t,e,r,n,o,a){var c,u,gr;if(gr=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},gr.get?gr.set?u=t.stylize("[Getter/Setter]","special"):u=t.stylize("[Getter]","special"):gr.set&&(u=t.stylize("[Setter]","special")),hasOwnProperty(n,o)||(c="["+o+"]"),u||(t.seen.indexOf(gr.value)<0?(isNull(r)?u=formatValue(t,gr.value,null):u=formatValue(t,gr.value,r-1),u.indexOf(`
`)>-1&&(a?u=u.split(`
`).map(function(br){return"  "+br}).join(`
`).substr(2):u=`
`+u.split(`
`).map(function(br){return"   "+br}).join(`
`))):u=t.stylize("[Circular]","special")),isUndefined(c)){if(a&&o.match(/^\d+$/))return u;c=JSON.stringify(""+o),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=t.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=t.stylize(c,"string"))}return c+": "+u}function reduceToSingleString(t,e,r){var n=t.reduce(function(o,a){return a.indexOf(`
`)>=0,o+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function isArray$1(t){return Array.isArray(t)}function isBoolean(t){return typeof t=="boolean"}function isNull(t){return t===null}function isNumber(t){return typeof t=="number"}function isString(t){return typeof t=="string"}function isUndefined(t){return t===void 0}function isRegExp(t){return isObject$1(t)&&objectToString(t)==="[object RegExp]"}function isObject$1(t){return typeof t=="object"&&t!==null}function isDate(t){return isObject$1(t)&&objectToString(t)==="[object Date]"}function isError(t){return isObject$1(t)&&(objectToString(t)==="[object Error]"||t instanceof Error)}function isFunction$1(t){return typeof t=="function"}function isPrimitive(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}function objectToString(t){return Object.prototype.toString.call(t)}function _extend(t,e){if(!e||!isObject$1(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function compare(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,o=0,a=Math.min(r,n);o<a;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0}var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(t){var e=[];for(var r in t)hasOwn.call(t,r)&&e.push(r);return e},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return typeof _functionsHaveNames<"u"?_functionsHaveNames:_functionsHaveNames=function(){return function(){}.name==="foo"}()}function pToString(t){return Object.prototype.toString.call(t)}function isView(t){return buffer.isBuffer(t)||typeof global$1.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t?!!(t instanceof DataView||t.buffer&&t.buffer instanceof ArrayBuffer):!1}function assert(t,e){t||fail$1(t,!0,e,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(t){if(!!isFunction$1(t)){if(functionsHaveNames())return t.name;var e=t.toString(),r=e.match(regex);return r&&r[1]}}assert.AssertionError=AssertionError;function AssertionError(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var e=t.stackStartFunction||fail$1;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,o=getName(e),a=n.indexOf(`
`+o);if(a>=0){var c=n.indexOf(`
`,a+1);n=n.substring(c+1)}this.stack=n}}}inherits$1(AssertionError,Error);function truncate(t,e){return typeof t=="string"?t.length<e?t:t.slice(0,e):t}function inspect(t){if(functionsHaveNames()||!isFunction$1(t))return inspect$1(t);var e=getName(t),r=e?": "+e:"";return"[Function"+r+"]"}function getMessage(t){return truncate(inspect(t.actual),128)+" "+t.operator+" "+truncate(inspect(t.expected),128)}function fail$1(t,e,r,n,o){throw new AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:o})}assert.fail=fail$1;function ok(t,e){t||fail$1(t,!0,e,"==",ok)}assert.ok=ok;assert.equal=equal;function equal(t,e,r){t!=e&&fail$1(t,e,r,"==",equal)}assert.notEqual=notEqual;function notEqual(t,e,r){t==e&&fail$1(t,e,r,"!=",notEqual)}assert.deepEqual=deepEqual$1;function deepEqual$1(t,e,r){_deepEqual(t,e,!1)||fail$1(t,e,r,"deepEqual",deepEqual$1)}assert.deepStrictEqual=deepStrictEqual;function deepStrictEqual(t,e,r){_deepEqual(t,e,!0)||fail$1(t,e,r,"deepStrictEqual",deepStrictEqual)}function _deepEqual(t,e,r,n){if(t===e)return!0;if(buffer.isBuffer(t)&&buffer.isBuffer(e))return compare(t,e)===0;if(isDate(t)&&isDate(e))return t.getTime()===e.getTime();if(isRegExp(t)&&isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if((t===null||typeof t!="object")&&(e===null||typeof e!="object"))return r?t===e:t==e;if(isView(t)&&isView(e)&&pToString(t)===pToString(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return compare(new Uint8Array(t.buffer),new Uint8Array(e.buffer))===0;if(buffer.isBuffer(t)!==buffer.isBuffer(e))return!1;n=n||{actual:[],expected:[]};var o=n.actual.indexOf(t);return o!==-1&&o===n.expected.indexOf(e)?!0:(n.actual.push(t),n.expected.push(e),objEquiv(t,e,r,n))}function isArguments(t){return Object.prototype.toString.call(t)=="[object Arguments]"}function objEquiv(t,e,r,n){if(t==null||e===null||e===void 0)return!1;if(isPrimitive(t)||isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var o=isArguments(t),a=isArguments(e);if(o&&!a||!o&&a)return!1;if(o)return t=pSlice.call(t),e=pSlice.call(e),_deepEqual(t,e,r);var c=objectKeys(t),u=objectKeys(e),gr,br;if(c.length!==u.length)return!1;for(c.sort(),u.sort(),br=c.length-1;br>=0;br--)if(c[br]!==u[br])return!1;for(br=c.length-1;br>=0;br--)if(gr=c[br],!_deepEqual(t[gr],e[gr],r,n))return!1;return!0}assert.notDeepEqual=notDeepEqual;function notDeepEqual(t,e,r){_deepEqual(t,e,!1)&&fail$1(t,e,r,"notDeepEqual",notDeepEqual)}assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(t,e,r){_deepEqual(t,e,!0)&&fail$1(t,e,r,"notDeepStrictEqual",notDeepStrictEqual)}assert.strictEqual=strictEqual;function strictEqual(t,e,r){t!==e&&fail$1(t,e,r,"===",strictEqual)}assert.notStrictEqual=notStrictEqual;function notStrictEqual(t,e,r){t===e&&fail$1(t,e,r,"!==",notStrictEqual)}function expectedException(t,e){if(!t||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(t);try{if(t instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},t)===!0}function _tryBlock(t){var e;try{t()}catch(r){e=r}return e}function _throws(t,e,r,n){var o;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof r=="string"&&(n=r,r=null),o=_tryBlock(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!o&&fail$1(o,r,"Missing expected exception"+n);var a=typeof n=="string",c=!t&&isError(o),u=!t&&o&&!r;if((c&&a&&expectedException(o,r)||u)&&fail$1(o,r,"Got unwanted exception"+n),t&&o&&r&&!expectedException(o,r)||!t&&o)throw o}assert.throws=throws;function throws(t,e,r){_throws(!0,t,e,r)}assert.doesNotThrow=doesNotThrow;function doesNotThrow(t,e,r){_throws(!1,t,e,r)}assert.ifError=ifError;function ifError(t){if(t)throw t}class Layout{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}decode(e,r){throw new Error("Layout is abstract")}encode(e,r,n){throw new Error("Layout is abstract")}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}function nameWithProperty(t,e){return e.property?t+"["+e.property+"]":t}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class UInt extends Layout{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r){return r===void 0&&(r=0),e.readUIntLE(r,this.span)}encode(e,r,n){return n===void 0&&(n=0),r.writeUIntLE(e,n,this.span),this.span}}class Structure extends Layout{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((a,c)=>a&&c instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((a,c)=>a+c.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r){if(0<=this.span)return this.span;r===void 0&&(r=0);let n=0;try{n=this.fields.reduce((o,a)=>{const c=a.getSpan(e,r);return r+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r){r===void 0&&(r=0);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n){n===void 0&&(n=0);const o=n;let a=0,c=0;for(const u of this.fields){let gr=u.span;if(c=0<gr?gr:0,u.property!==void 0){const br=e[u.property];br!==void 0&&(c=u.encode(br,r,n),0>gr&&(gr=u.getSpan(r,n)))}a=n,n+=gr}return a+c-o}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}class Blob$1 extends Layout{constructor(e,r){if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof ExternalLayout||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r){r===void 0&&(r=0);let n=this.span;return 0>n&&(n=this.length.decode(e,r)),e.slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof ExternalLayout&&(o=e.length),!(buffer.Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(n+o>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),n,o,"hex"),this.length instanceof ExternalLayout&&this.length.encode(o,r,n),o}}var u8=t=>new UInt(1,t),u32=t=>new UInt(4,t),struct=(t,e,r)=>new Structure(t,e,r),blob=(t,e)=>new Blob$1(t,e);const publicKey=(t="publicKey")=>blob(32,t),uint64=(t="uint64")=>blob(8,t);function sendAndConfirmTransaction$1(t,e,r,...n){return sendAndConfirmTransaction$2(e,r,n,{skipPreflight:!1})}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),FAILED_TO_FIND_ACCOUNT="Failed to find account",INVALID_ACCOUNT_OWNER="Invalid account owner";function pubkeyToBuffer(t){return buffer.Buffer.from(t.toBuffer())}class u64 extends BN{toBuffer(){const e=super.toArray().reverse(),r=buffer.Buffer.from(e);if(r.length===8)return r;assert(r.length<8,"u64 too large");const n=buffer.Buffer.alloc(8);return r.copy(n),n}static fromBuffer(e){return assert(e.length===8,`Invalid buffer length: ${e.length}`),new u64([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}function isAccount(t){return"publicKey"in t}const AuthorityTypeCodes={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},NATIVE_MINT=new PublicKey("So11111111111111111111111111111111111111112"),MintLayout=struct([u32("mintAuthorityOption"),publicKey("mintAuthority"),uint64("supply"),u8("decimals"),u8("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),AccountLayout=struct([publicKey("mint"),publicKey("owner"),uint64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),uint64("isNative"),uint64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),MultisigLayout=struct([u8("m"),u8("n"),u8("is_initialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]);class Token{constructor(e,r,n,o){_defineProperty$1(this,"connection",void 0),_defineProperty$1(this,"publicKey",void 0),_defineProperty$1(this,"programId",void 0),_defineProperty$1(this,"associatedProgramId",void 0),_defineProperty$1(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:r,programId:n,payer:o,associatedProgramId:ASSOCIATED_TOKEN_PROGRAM_ID})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(MintLayout.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(AccountLayout.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(MultisigLayout.span)}static async createMint(e,r,n,o,a,c){const u=Keypair.generate(),gr=new Token(e,u.publicKey,c,r),br=await Token.getMinBalanceRentForExemptMint(e),_r=new Transaction;return _r.add(SystemProgram.createAccount({fromPubkey:r.publicKey,newAccountPubkey:u.publicKey,lamports:br,space:MintLayout.span,programId:c})),_r.add(Token.createInitMintInstruction(c,u.publicKey,a,n,o)),await sendAndConfirmTransaction$1("createAccount and InitializeMint",e,_r,r,u),gr}async createAccount(e){const r=await Token.getMinBalanceRentForExemptAccount(this.connection),n=Keypair.generate(),o=new Transaction;o.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:r,space:AccountLayout.span,programId:this.programId}));const a=this.publicKey;return o.add(Token.createInitAccountInstruction(this.programId,a,n.publicKey,e)),await sendAndConfirmTransaction$1("createAccount and InitializeAccount",this.connection,o,this.payer,n),n.publicKey}async createAssociatedTokenAccount(e){const r=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,r)}async createAssociatedTokenAccountInternal(e,r){return await sendAndConfirmTransaction$1("CreateAssociatedTokenAccount",this.connection,new Transaction().add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,r,e,this.payer.publicKey)),this.payer),r}async getOrCreateAssociatedAccountInfo(e){const r=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(r)}catch(n){if(n.message===FAILED_TO_FIND_ACCOUNT||n.message===INVALID_ACCOUNT_OWNER){try{await this.createAssociatedTokenAccountInternal(e,r)}catch{}return await this.getAccountInfo(r)}else throw n}}static async createWrappedNativeAccount(e,r,n,o,a){const c=await Token.getMinBalanceRentForExemptAccount(e),u=Keypair.generate(),gr=new Transaction;return gr.add(SystemProgram.createAccount({fromPubkey:o.publicKey,newAccountPubkey:u.publicKey,lamports:c,space:AccountLayout.span,programId:r})),gr.add(SystemProgram.transfer({fromPubkey:o.publicKey,toPubkey:u.publicKey,lamports:a})),gr.add(Token.createInitAccountInstruction(r,NATIVE_MINT,u.publicKey,n)),await sendAndConfirmTransaction$1("createAccount, transfer, and initializeAccount",e,gr,o,u),u.publicKey}async createMultisig(e,r){const n=Keypair.generate(),o=await Token.getMinBalanceRentForExemptMultisig(this.connection),a=new Transaction;a.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:n.publicKey,lamports:o,space:MultisigLayout.span,programId:this.programId}));let c=[{pubkey:n.publicKey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];r.forEach(br=>c.push({pubkey:br,isSigner:!1,isWritable:!1}));const u=struct([u8("instruction"),u8("m")]),gr=buffer.Buffer.alloc(u.span);return u.encode({instruction:2,m:e},gr),a.add({keys:c,programId:this.programId,data:gr}),await sendAndConfirmTransaction$1("createAccount and InitializeMultisig",this.connection,a,this.payer,n),n.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(e===null)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=MintLayout.span)throw new Error("Invalid mint size");const r=buffer.Buffer.from(e.data),n=MintLayout.decode(r);return n.mintAuthorityOption===0?n.mintAuthority=null:n.mintAuthority=new PublicKey(n.mintAuthority),n.supply=u64.fromBuffer(n.supply),n.isInitialized=n.isInitialized!=0,n.freezeAuthorityOption===0?n.freezeAuthority=null:n.freezeAuthority=new PublicKey(n.freezeAuthority),n}async getAccountInfo(e,r){const n=await this.connection.getAccountInfo(e,r);if(n===null)throw new Error(FAILED_TO_FIND_ACCOUNT);if(!n.owner.equals(this.programId))throw new Error(INVALID_ACCOUNT_OWNER);if(n.data.length!=AccountLayout.span)throw new Error("Invalid account size");const o=buffer.Buffer.from(n.data),a=AccountLayout.decode(o);if(a.address=e,a.mint=new PublicKey(a.mint),a.owner=new PublicKey(a.owner),a.amount=u64.fromBuffer(a.amount),a.delegateOption===0?(a.delegate=null,a.delegatedAmount=new u64):(a.delegate=new PublicKey(a.delegate),a.delegatedAmount=u64.fromBuffer(a.delegatedAmount)),a.isInitialized=a.state!==0,a.isFrozen=a.state===2,a.isNativeOption===1?(a.rentExemptReserve=u64.fromBuffer(a.isNative),a.isNative=!0):(a.rentExemptReserve=null,a.isNative=!1),a.closeAuthorityOption===0?a.closeAuthority=null:a.closeAuthority=new PublicKey(a.closeAuthority),!a.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(a.mint)} !== ${JSON.stringify(this.publicKey)}`);return a}async getMultisigInfo(e){const r=await this.connection.getAccountInfo(e);if(r===null)throw new Error("Failed to find multisig");if(!r.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(r.data.length!=MultisigLayout.span)throw new Error("Invalid multisig size");const n=buffer.Buffer.from(r.data),o=MultisigLayout.decode(n);return o.signer1=new PublicKey(o.signer1),o.signer2=new PublicKey(o.signer2),o.signer3=new PublicKey(o.signer3),o.signer4=new PublicKey(o.signer4),o.signer5=new PublicKey(o.signer5),o.signer6=new PublicKey(o.signer6),o.signer7=new PublicKey(o.signer7),o.signer8=new PublicKey(o.signer8),o.signer9=new PublicKey(o.signer9),o.signer10=new PublicKey(o.signer10),o.signer11=new PublicKey(o.signer11),o}async transfer(e,r,n,o,a){let c,u;return isAccount(n)?(c=n.publicKey,u=[n]):(c=n,u=o),await sendAndConfirmTransaction$1("Transfer",this.connection,new Transaction().add(Token.createTransferInstruction(this.programId,e,r,c,o,a)),this.payer,...u)}async approve(e,r,n,o,a){let c,u;isAccount(n)?(c=n.publicKey,u=[n]):(c=n,u=o),await sendAndConfirmTransaction$1("Approve",this.connection,new Transaction().add(Token.createApproveInstruction(this.programId,e,r,c,o,a)),this.payer,...u)}async revoke(e,r,n){let o,a;isAccount(r)?(o=r.publicKey,a=[r]):(o=r,a=n),await sendAndConfirmTransaction$1("Revoke",this.connection,new Transaction().add(Token.createRevokeInstruction(this.programId,e,o,n)),this.payer,...a)}async setAuthority(e,r,n,o,a){let c,u;isAccount(o)?(c=o.publicKey,u=[o]):(c=o,u=a),await sendAndConfirmTransaction$1("SetAuthority",this.connection,new Transaction().add(Token.createSetAuthorityInstruction(this.programId,e,r,n,c,a)),this.payer,...u)}async mintTo(e,r,n,o){let a,c;isAccount(r)?(a=r.publicKey,c=[r]):(a=r,c=n),await sendAndConfirmTransaction$1("MintTo",this.connection,new Transaction().add(Token.createMintToInstruction(this.programId,this.publicKey,e,a,n,o)),this.payer,...c)}async burn(e,r,n,o){let a,c;isAccount(r)?(a=r.publicKey,c=[r]):(a=r,c=n),await sendAndConfirmTransaction$1("Burn",this.connection,new Transaction().add(Token.createBurnInstruction(this.programId,this.publicKey,e,a,n,o)),this.payer,...c)}async closeAccount(e,r,n,o){let a,c;isAccount(n)?(a=n.publicKey,c=[n]):(a=n,c=o),await sendAndConfirmTransaction$1("CloseAccount",this.connection,new Transaction().add(Token.createCloseAccountInstruction(this.programId,e,r,a,o)),this.payer,...c)}async freezeAccount(e,r,n){let o,a;isAccount(r)?(o=r.publicKey,a=[r]):(o=r,a=n),await sendAndConfirmTransaction$1("FreezeAccount",this.connection,new Transaction().add(Token.createFreezeAccountInstruction(this.programId,e,this.publicKey,o,n)),this.payer,...a)}async thawAccount(e,r,n){let o,a;isAccount(r)?(o=r.publicKey,a=[r]):(o=r,a=n),await sendAndConfirmTransaction$1("ThawAccount",this.connection,new Transaction().add(Token.createThawAccountInstruction(this.programId,e,this.publicKey,o,n)),this.payer,...a)}async transferChecked(e,r,n,o,a,c){let u,gr;return isAccount(n)?(u=n.publicKey,gr=[n]):(u=n,gr=o),await sendAndConfirmTransaction$1("TransferChecked",this.connection,new Transaction().add(Token.createTransferCheckedInstruction(this.programId,e,this.publicKey,r,u,o,a,c)),this.payer,...gr)}async approveChecked(e,r,n,o,a,c){let u,gr;isAccount(n)?(u=n.publicKey,gr=[n]):(u=n,gr=o),await sendAndConfirmTransaction$1("ApproveChecked",this.connection,new Transaction().add(Token.createApproveCheckedInstruction(this.programId,e,this.publicKey,r,u,o,a,c)),this.payer,...gr)}async mintToChecked(e,r,n,o,a){let c,u;isAccount(r)?(c=r.publicKey,u=[r]):(c=r,u=n),await sendAndConfirmTransaction$1("MintToChecked",this.connection,new Transaction().add(Token.createMintToCheckedInstruction(this.programId,this.publicKey,e,c,n,o,a)),this.payer,...u)}async burnChecked(e,r,n,o,a){let c,u;isAccount(r)?(c=r.publicKey,u=[r]):(c=r,u=n),await sendAndConfirmTransaction$1("BurnChecked",this.connection,new Transaction().add(Token.createBurnCheckedInstruction(this.programId,this.publicKey,e,c,n,o,a)),this.payer,...u)}async syncNative(e){await sendAndConfirmTransaction$1("SyncNative",this.connection,new Transaction().add(Token.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,r,n,o,a){let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const u=struct([u8("instruction"),u8("decimals"),publicKey("mintAuthority"),u8("option"),publicKey("freezeAuthority")]);let gr=buffer.Buffer.alloc(1024);{const br=u.encode({instruction:0,decimals:n,mintAuthority:pubkeyToBuffer(o),option:a===null?0:1,freezeAuthority:pubkeyToBuffer(a||new PublicKey(0))},gr);gr=gr.slice(0,br)}return new TransactionInstruction({keys:c,programId:e,data:gr})}static createInitAccountInstruction(e,r,n,o){const a=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],c=struct([u8("instruction")]),u=buffer.Buffer.alloc(c.span);return c.encode({instruction:1},u),new TransactionInstruction({keys:a,programId:e,data:u})}static createTransferInstruction(e,r,n,o,a,c){const u=struct([u8("instruction"),uint64("amount")]),gr=buffer.Buffer.alloc(u.span);u.encode({instruction:3,amount:new u64(c).toBuffer()},gr);let br=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return a.length===0?br.push({pubkey:o,isSigner:!0,isWritable:!1}):(br.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(_r=>br.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:br,programId:e,data:gr})}static createApproveInstruction(e,r,n,o,a,c){const u=struct([u8("instruction"),uint64("amount")]),gr=buffer.Buffer.alloc(u.span);u.encode({instruction:4,amount:new u64(c).toBuffer()},gr);let br=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return a.length===0?br.push({pubkey:o,isSigner:!0,isWritable:!1}):(br.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(_r=>br.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:br,programId:e,data:gr})}static createRevokeInstruction(e,r,n,o){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:5},c);let u=[{pubkey:r,isSigner:!1,isWritable:!0}];return o.length===0?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),o.forEach(gr=>u.push({pubkey:gr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:u,programId:e,data:c})}static createSetAuthorityInstruction(e,r,n,o,a,c){const u=struct([u8("instruction"),u8("authorityType"),u8("option"),publicKey("newAuthority")]);let gr=buffer.Buffer.alloc(1024);{const _r=u.encode({instruction:6,authorityType:AuthorityTypeCodes[o],option:n===null?0:1,newAuthority:pubkeyToBuffer(n||new PublicKey(0))},gr);gr=gr.slice(0,_r)}let br=[{pubkey:r,isSigner:!1,isWritable:!0}];return c.length===0?br.push({pubkey:a,isSigner:!0,isWritable:!1}):(br.push({pubkey:a,isSigner:!1,isWritable:!1}),c.forEach(_r=>br.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:br,programId:e,data:gr})}static createMintToInstruction(e,r,n,o,a,c){const u=struct([u8("instruction"),uint64("amount")]),gr=buffer.Buffer.alloc(u.span);u.encode({instruction:7,amount:new u64(c).toBuffer()},gr);let br=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return a.length===0?br.push({pubkey:o,isSigner:!0,isWritable:!1}):(br.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(_r=>br.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:br,programId:e,data:gr})}static createBurnInstruction(e,r,n,o,a,c){const u=struct([u8("instruction"),uint64("amount")]),gr=buffer.Buffer.alloc(u.span);u.encode({instruction:8,amount:new u64(c).toBuffer()},gr);let br=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return a.length===0?br.push({pubkey:o,isSigner:!0,isWritable:!1}):(br.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(_r=>br.push({pubkey:_r.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:br,programId:e,data:gr})}static createCloseAccountInstruction(e,r,n,o,a){const c=struct([u8("instruction")]),u=buffer.Buffer.alloc(c.span);c.encode({instruction:9},u);let gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return a.length===0?gr.push({pubkey:o,isSigner:!0,isWritable:!1}):(gr.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(br=>gr.push({pubkey:br.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:u})}static createFreezeAccountInstruction(e,r,n,o,a){const c=struct([u8("instruction")]),u=buffer.Buffer.alloc(c.span);c.encode({instruction:10},u);let gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return a.length===0?gr.push({pubkey:o,isSigner:!0,isWritable:!1}):(gr.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(br=>gr.push({pubkey:br.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:u})}static createThawAccountInstruction(e,r,n,o,a){const c=struct([u8("instruction")]),u=buffer.Buffer.alloc(c.span);c.encode({instruction:11},u);let gr=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1}];return a.length===0?gr.push({pubkey:o,isSigner:!0,isWritable:!1}):(gr.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(br=>gr.push({pubkey:br.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:gr,programId:e,data:u})}static createTransferCheckedInstruction(e,r,n,o,a,c,u,gr){const br=struct([u8("instruction"),uint64("amount"),u8("decimals")]),_r=buffer.Buffer.alloc(br.span);br.encode({instruction:12,amount:new u64(u).toBuffer(),decimals:gr},_r);let Ar=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}];return c.length===0?Ar.push({pubkey:a,isSigner:!0,isWritable:!1}):(Ar.push({pubkey:a,isSigner:!1,isWritable:!1}),c.forEach(vr=>Ar.push({pubkey:vr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Ar,programId:e,data:_r})}static createApproveCheckedInstruction(e,r,n,o,a,c,u,gr){const br=struct([u8("instruction"),uint64("amount"),u8("decimals")]),_r=buffer.Buffer.alloc(br.span);br.encode({instruction:13,amount:new u64(u).toBuffer(),decimals:gr},_r);let Ar=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return c.length===0?Ar.push({pubkey:a,isSigner:!0,isWritable:!1}):(Ar.push({pubkey:a,isSigner:!1,isWritable:!1}),c.forEach(vr=>Ar.push({pubkey:vr.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:Ar,programId:e,data:_r})}static createMintToCheckedInstruction(e,r,n,o,a,c,u){const gr=struct([u8("instruction"),uint64("amount"),u8("decimals")]),br=buffer.Buffer.alloc(gr.span);gr.encode({instruction:14,amount:new u64(c).toBuffer(),decimals:u},br);let _r=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0}];return a.length===0?_r.push({pubkey:o,isSigner:!0,isWritable:!1}):(_r.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(Ar=>_r.push({pubkey:Ar.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:_r,programId:e,data:br})}static createBurnCheckedInstruction(e,r,n,o,a,c,u){const gr=struct([u8("instruction"),uint64("amount"),u8("decimals")]),br=buffer.Buffer.alloc(gr.span);gr.encode({instruction:15,amount:new u64(c).toBuffer(),decimals:u},br);let _r=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return a.length===0?_r.push({pubkey:o,isSigner:!0,isWritable:!1}):(_r.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(Ar=>_r.push({pubkey:Ar.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:_r,programId:e,data:br})}static createSyncNativeInstruction(e,r){const n=struct([u8("instruction")]),o=buffer.Buffer.alloc(n.span);n.encode({instruction:17},o);let a=[{pubkey:r,isSigner:!1,isWritable:!0}];return new TransactionInstruction({keys:a,programId:e,data:o})}static async getAssociatedTokenAddress(e,r,n,o,a=!1){if(!a&&!PublicKey.isOnCurve(o.toBuffer()))throw new Error(`Owner cannot sign: ${o.toString()}`);return(await PublicKey.findProgramAddress([o.toBuffer(),r.toBuffer(),n.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,r,n,o,a,c){const u=buffer.Buffer.alloc(0);let gr=[{pubkey:c,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:gr,programId:e,data:u})}}var index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID,AccountLayout,MintLayout,NATIVE_MINT,TOKEN_PROGRAM_ID,Token,u64},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(index_browser_esm),__awaiter$w=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(helpers$1,"__esModule",{value:!0});helpers$1.getAccountInfo=helpers$1.getTokenAccount=helpers$1.getAssociatedTokenAddress=helpers$1.convertFactionStringToNum=helpers$1.longToByteArray=helpers$1.byteArrayToLong=helpers$1.stringToByteArray=helpers$1.byteArrayToString=void 0;const __1=dist,anchor_1$n=require$$0$1,web3_js_1$8=require$$2,spl_token_1$3=require$$1$1;function byteArrayToString(t){return String.fromCharCode(...t)}helpers$1.byteArrayToString=byteArrayToString;function stringToByteArray(t,e){if(t.length>e)return null;let r=[];for(let n=0;n<e;n+=1){let o=32;n<t.length&&(o=t.charCodeAt(n)),r=r.concat([o])}return r}helpers$1.stringToByteArray=stringToByteArray;function byteArrayToLong(t){let e=0;for(let r=t.length-1;r>=0;r-=1)e=e*256+t[r];return e}helpers$1.byteArrayToLong=byteArrayToLong;function longToByteArray(t){const e=[0,0,0,0,0,0,0,0];for(let r=0;r<e.length;r+=1){const n=t&255;e[r]=n,t=(t-n)/256}return e}helpers$1.longToByteArray=longToByteArray;function convertFactionStringToNum(t){return __awaiter$w(this,void 0,void 0,function*(){switch(t.toLowerCase()){case"mud":return __1.FactionType.MUD;case"oni":return __1.FactionType.ONI;case"ustur":return __1.FactionType.Ustur;default:return __1.FactionType.Unenlisted}})}helpers$1.convertFactionStringToNum=convertFactionStringToNum;function getAssociatedTokenAddress(t,e){return __awaiter$w(this,void 0,void 0,function*(){const[r]=yield web3_js_1$8.PublicKey.findProgramAddress([t.toBuffer(),spl_token_1$3.TOKEN_PROGRAM_ID.toBuffer(),e.toBuffer()],spl_token_1$3.ASSOCIATED_TOKEN_PROGRAM_ID);return r})}helpers$1.getAssociatedTokenAddress=getAssociatedTokenAddress;function getTokenAccount(t,e,r,n=e,o){return __awaiter$w(this,void 0,void 0,function*(){const{value:a}=yield t.getParsedTokenAccountsByOwner(e,{mint:r});let c=null;if(o===void 0){let u=null;for(const gr of a)if(gr.account.data.parsed.type==="account"){const br=gr.account.data.parsed,_r=new anchor_1$n.BN(br.info.tokenAmount.amount);(u===null||_r.gt(u))&&(c=gr.pubkey,u=_r)}}else{let u=null;for(const gr of a)if(gr.account.data.parsed.type==="account"){const br=gr.account.data.parsed,_r=new anchor_1$n.BN(br.info.tokenAmount.amount);_r.gt(new anchor_1$n.BN(o))&&(u===null||_r.lt(u))&&(c=gr.pubkey,u=_r)}}if(c===null){const u=yield getAssociatedTokenAddress(e,r),{value:gr}=yield t.getParsedAccountInfo(u,"confirmed");if(gr===null||gr.owner.equals(web3_js_1$8.SystemProgram.programId))return{tokenAccount:u,createInstruction:[spl_token_1$3.Token.createAssociatedTokenAccountInstruction(spl_token_1$3.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1$3.TOKEN_PROGRAM_ID,r,u,e,n)]};if("program"in gr.data&&gr.data.parsed.type==="account"&&new web3_js_1$8.PublicKey(gr.data.parsed.info.owner).equals(e))return{tokenAccount:u};{const br=anchor_1$n.web3.Keypair.generate();return{tokenAccount:br,createInstruction:[web3_js_1$8.SystemProgram.createAccount({fromPubkey:n,newAccountPubkey:br.publicKey,lamports:yield spl_token_1$3.Token.getMinBalanceRentForExemptAccount(t),space:spl_token_1$3.AccountLayout.span,programId:spl_token_1$3.TOKEN_PROGRAM_ID}),spl_token_1$3.Token.createInitAccountInstruction(spl_token_1$3.TOKEN_PROGRAM_ID,r,br.publicKey,e)]}}}else return{tokenAccount:c}})}helpers$1.getTokenAccount=getTokenAccount;function getAccountInfo(t,e){return __awaiter$w(this,void 0,void 0,function*(){const{value:r}=yield t.getParsedAccountInfo(e);return r.data})}helpers$1.getAccountInfo=getAccountInfo;var wallet={},__awaiter$v=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(wallet,"__esModule",{value:!0});wallet.sendAndConfirmTransaction=void 0;const web3_js_1$7=require$$2;function sendAndConfirmTransaction(t,e,...r){return __awaiter$v(this,void 0,void 0,function*(){let n="";try{n=yield(0,web3_js_1$7.sendAndConfirmTransaction)(t,e,r,{skipPreflight:!0,commitment:"singleGossip",preflightCommitment:null})}catch(o){console.log(o)}return n})}wallet.sendAndConfirmTransaction=sendAndConfirmTransaction;var gmHelper$1={},marketplace={},instruction_builders={},BaseParams={};Object.defineProperty(BaseParams,"__esModule",{value:!0});var cancelOrder={},pda_getters$3={},order_getters={},getMarketplaceProgram$1={},gmIdl={};Object.defineProperty(gmIdl,"__esModule",{value:!0});gmIdl.baseIdl=void 0;gmIdl.baseIdl={version:"0.1.0",name:"marketplace",instructions:[{name:"addRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"deleteRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"}]},{name:"deregisterCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMarketplace",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateCurrencyVault",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCurrencyRoyalty",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"addFeeExemption",accounts:[{name:"updateAuthorityMaster",isMut:!1,isSigner:!0},{name:"funder",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1},{name:"feeExemptTarget",isMut:!1,isSigner:!1},{name:"feeExemptAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"discount",type:"u64"}]},{name:"removeFeeExemption",accounts:[{name:"updateAuthorityMaster",isMut:!1,isSigner:!0},{name:"funder",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1},{name:"feeExemptAccount",isMut:!0,isSigner:!1}],args:[]},{name:"processInitializeBuy",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processInitializeSell",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!1,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"receive_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processExchange",accounts:[{name:"orderTaker",isMut:!0,isSigner:!0},{name:"orderTakerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderTakerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"assetMint",isMut:!1,isSigner:!1},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",account:"OrderAccount",path:"order_account.order_initializer_pubkey"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"saVault",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"atlasStaking",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1},{name:"stakingAccount",isMut:!1,isSigner:!1},{name:"feeReduction",isMut:!1,isSigner:!1}],args:[{name:"purchaseQuantity",type:"u64"},{name:"expectedPrice",type:"u64"},{name:"seller",type:"publicKey"}]},{name:"processCancel",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeOpenOrdersCounter",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"user",isMut:!1,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"FeeReduction",type:{kind:"struct",fields:[{name:"account",type:"publicKey"},{name:"bump",type:"u8"},{name:"discount",type:"u64"}]}},{name:"MarketVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"bump",type:"u8"}]}},{name:"OpenOrdersCounter",type:{kind:"struct",fields:[{name:"openOrderCount",type:"u64"},{name:"bump",type:"u8"}]}},{name:"OrderAccount",type:{kind:"struct",fields:[{name:"orderInitializerPubkey",type:"publicKey"},{name:"currencyMint",type:"publicKey"},{name:"assetMint",type:"publicKey"},{name:"initializerCurrencyTokenAccount",type:"publicKey"},{name:"initializerAssetTokenAccount",type:"publicKey"},{name:"orderSide",type:{defined:"OrderSide"}},{name:"price",type:"u64"},{name:"orderOriginationQty",type:"u64"},{name:"orderRemainingQty",type:"u64"},{name:"createdAtTimestamp",type:"i64"}]}},{name:"RegisteredCurrency",type:{kind:"struct",fields:[{name:"tokenMint",type:"publicKey"},{name:"saCurrencyVault",type:"publicKey"},{name:"royalty",type:"u64"},{name:"bump",type:"u8"},{name:"royaltyTiers",type:{vec:{defined:"RoyaltyTier"}}}]}}],types:[{name:"RoyaltyTier",type:{kind:"struct",fields:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]}},{name:"OrderSide",type:{kind:"enum",variants:[{name:"Buy"},{name:"Sell"}]}},{name:"TokenType",type:{kind:"enum",variants:[{name:"Asset"},{name:"Currency"}]}}],errors:[{code:6e3,name:"InvalidDestinationAccount",msg:"Invalid Destination Token Account"},{code:6001,name:"InvalidInstruction",msg:"Invalid instruction."},{code:6002,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6003,name:"InvalidOfferAccountOwner",msg:"Invalid Offer Account Owner"},{code:6004,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"InvalidUpdateAuthorityAccount",msg:"Invalid Update Authority account"},{code:6007,name:"InvalidOrderVaultAuthorityAccount",msg:"Invalid Order Vault Authority account"},{code:6008,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6009,name:"InsufficientBalance",msg:"Insufficient Balance"},{code:6010,name:"InvalidOrderDuration",msg:"Invalid Order Duration"},{code:6011,name:"InvalidOriginationQty",msg:"Origination quantity must be greater than 0"},{code:6012,name:"InsufficientOrderQty",msg:"Insufficient Order Quantity Remaining"},{code:6013,name:"InvalidRoyalty",msg:"Invalid Royalty Value"},{code:6014,name:"InvalidCounter",msg:"Invalid Open Order Counter"},{code:6015,name:"MintDecimalError",msg:"Mint must be zero decimal"},{code:6016,name:"InvalidOrderAccountError",msg:"Order Account does not match provided account"},{code:6017,name:"InvalidRoyaltyTier",msg:"No royalty tier exists with provided stake amount"},{code:6018,name:"RoyaltyTierLength",msg:"Royalty Tier vector cannot hold any additional tiers"},{code:6019,name:"InvalidOrderPrice",msg:"Order price did not match expected price"},{code:6020,name:"DuplicateRoyaltyTier",msg:"Royalty tier already exists"},{code:6021,name:"InvalidSeller",msg:"Order seller did not match expected seller"}],metadata:{}};var gmLogsIdl$1={};Object.defineProperty(gmLogsIdl$1,"__esModule",{value:!0});gmLogsIdl$1.baseIdl=void 0;gmLogsIdl$1.baseIdl={version:"0.1.0",name:"gm_logs",instructions:[],events:[{name:"RegisterCurrencyMemo",fields:[{name:"updateAuthorityAccount",type:"publicKey",index:!1},{name:"registeredCurrency",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"saCurrencyVault",type:"publicKey",index:!1},{name:"royalty",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"InitializeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"ExchangeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"CancelOrderMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"StakeMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"stakeAmount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"TransferMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"transferAmount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"WithdrawMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"withdrawAmount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"SettleMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]}],metadata:{}};var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding$1(e,t,r);return __setModuleDefault$1(e,t),e};Object.defineProperty(getMarketplaceProgram$1,"__esModule",{value:!0});getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram$1.getGmLogsIDL=getMarketplaceProgram$1.getGmIDL=void 0;const anchor_1$m=require$$0$1,gmIdl_1=gmIdl,gmLogsIdl=__importStar$1(gmLogsIdl$1);function getGmIDL(t){const e=gmIdl_1.baseIdl;return e.metadata.address=t.toBase58(),e}getMarketplaceProgram$1.getGmIDL=getGmIDL;function getGmLogsIDL(t){const e=gmLogsIdl.baseIdl;return e.metadata.address=t.toBase58(),e}getMarketplaceProgram$1.getGmLogsIDL=getGmLogsIDL;function getMarketplaceProgram({connection:t,programId:e}){const r=getGmIDL(e),n=new anchor_1$m.AnchorProvider(t,null,null);return new anchor_1$m.Program(r,e,n)}getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram;var __awaiter$u=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(order_getters,"__esModule",{value:!0});order_getters.getSingleOrder=order_getters.getOpenOrdersForPlayerAndAsset=order_getters.getOpenOrdersForPlayerAndCurrency=order_getters.getOpenOrdersForAsset=order_getters.getOpenOrdersForCurrency=order_getters.getOpenOrdersForPlayer=order_getters.getAllOpenOrders=void 0;const anchor_1$l=require$$0$1,getMarketplaceProgram_1$2=getMarketplaceProgram$1;function getAllOpenOrders(t,e){return __awaiter$u(this,void 0,void 0,function*(){const r=new anchor_1$l.AnchorProvider(t,null,null),n=(0,getMarketplaceProgram_1$2.getGmIDL)(e),o=new anchor_1$l.Program(n,e,r),a=[{dataSize:201}];return yield o.account.orderAccount.all(a)})}order_getters.getAllOpenOrders=getAllOpenOrders;function getOpenOrdersForPlayer(t,e,r){return __awaiter$u(this,void 0,void 0,function*(){const n=new anchor_1$l.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(r),a=new anchor_1$l.Program(o,r,n),c=[{dataSize:201},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForPlayer=getOpenOrdersForPlayer;function getOpenOrdersForCurrency(t,e,r){return __awaiter$u(this,void 0,void 0,function*(){const n=new anchor_1$l.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(r),a=new anchor_1$l.Program(o,r,n),c=[{dataSize:201},{memcmp:{offset:40,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForCurrency=getOpenOrdersForCurrency;function getOpenOrdersForAsset(t,e,r){return __awaiter$u(this,void 0,void 0,function*(){const n=new anchor_1$l.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(r),a=new anchor_1$l.Program(o,r,n),c=[{dataSize:201},{memcmp:{offset:72,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForAsset=getOpenOrdersForAsset;function getOpenOrdersForPlayerAndCurrency(t,e,r,n){return __awaiter$u(this,void 0,void 0,function*(){const o=new anchor_1$l.AnchorProvider(t,null,null),a=(0,getMarketplaceProgram_1$2.getGmIDL)(n),c=new anchor_1$l.Program(a,n,o),u=[{dataSize:201},{memcmp:{offset:40,bytes:r.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield c.account.orderAccount.all(u)})}order_getters.getOpenOrdersForPlayerAndCurrency=getOpenOrdersForPlayerAndCurrency;function getOpenOrdersForPlayerAndAsset(t,e,r,n){return __awaiter$u(this,void 0,void 0,function*(){const o=new anchor_1$l.AnchorProvider(t,null,null),a=(0,getMarketplaceProgram_1$2.getGmIDL)(n),c=new anchor_1$l.Program(a,n,o),u=[{dataSize:201},{memcmp:{offset:72,bytes:r.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield c.account.orderAccount.all(u)})}order_getters.getOpenOrdersForPlayerAndAsset=getOpenOrdersForPlayerAndAsset;function getSingleOrder(t,e,r){return __awaiter$u(this,void 0,void 0,function*(){const n=new anchor_1$l.AnchorProvider(t,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(r);return yield new anchor_1$l.Program(o,r,n).account.orderAccount.fetch(e)})}order_getters.getSingleOrder=getSingleOrder;var pda_getters$2={},seeds$1={};Object.defineProperty(seeds$1,"__esModule",{value:!0});seeds$1.FEE_EXEMPT_SEED=seeds$1.OPEN_ORDERS_COUNTER=seeds$1.REGISTERED_CURRENCY_SEED=seeds$1.ORDER_VAULT_AUTH_SEED=seeds$1.ORDER_VAULT_SEED=seeds$1.MARKET_VARS_SEED=void 0;seeds$1.MARKET_VARS_SEED=dist$3.Buffer.from("market-vars");seeds$1.ORDER_VAULT_SEED=dist$3.Buffer.from("order-vault-account");seeds$1.ORDER_VAULT_AUTH_SEED=dist$3.Buffer.from("order-vault-auth");seeds$1.REGISTERED_CURRENCY_SEED=dist$3.Buffer.from("registered-currency");seeds$1.OPEN_ORDERS_COUNTER=dist$3.Buffer.from("open-orders-counter");seeds$1.FEE_EXEMPT_SEED=dist$3.Buffer.from("fee_exempt");var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&__createBinding(e,t,r);return __setModuleDefault(e,t),e},__awaiter$t=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_getters$2,"__esModule",{value:!0});pda_getters$2.getAllFeeExemptAccounts=pda_getters$2.getFeeExemptAccount=pda_getters$2.getOpenOrdersCounter=pda_getters$2.getAllRegisteredCurrencies=pda_getters$2.getRegisteredCurrencyAccount=pda_getters$2.getOrderVaultAuth=pda_getters$2.getOrderVault=pda_getters$2.getMarketVarsAccount=void 0;const anchor_1$k=require$$0$1,web3_js_1$6=require$$2,Seeds=__importStar(seeds$1),getMarketplaceProgram_1$1=getMarketplaceProgram$1;function getMarketVarsAccount(t){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.MARKET_VARS_SEED],t)})}pda_getters$2.getMarketVarsAccount=getMarketVarsAccount;function getOrderVault(t,e,r){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_SEED,t.toBuffer(),e.toBuffer()],r)})}pda_getters$2.getOrderVault=getOrderVault;function getOrderVaultAuth(t,e){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_AUTH_SEED,t.toBuffer()],e)})}pda_getters$2.getOrderVaultAuth=getOrderVaultAuth;function getRegisteredCurrencyAccount(t,e){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.REGISTERED_CURRENCY_SEED,e.toBuffer()],t)})}pda_getters$2.getRegisteredCurrencyAccount=getRegisteredCurrencyAccount;function getAllRegisteredCurrencies(t,e){return __awaiter$t(this,void 0,void 0,function*(){const r=new anchor_1$k.AnchorProvider(t,null,null),n=(0,getMarketplaceProgram_1$1.getGmIDL)(e),o=new anchor_1$k.Program(n,e,r),a=[{dataSize:1686}],c=yield o.account.registeredCurrency.all(a),u=[];for(const gr of c){const br={mint:gr.account.tokenMint,royalty:gr.account.royalty,saVault:gr.account.saCurrencyVault};u.push(br)}return u})}pda_getters$2.getAllRegisteredCurrencies=getAllRegisteredCurrencies;function getOpenOrdersCounter(t,e,r){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.OPEN_ORDERS_COUNTER,t.toBuffer(),e.toBuffer()],r)})}pda_getters$2.getOpenOrdersCounter=getOpenOrdersCounter;function getFeeExemptAccount(t,e){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.FEE_EXEMPT_SEED,t.toBuffer()],e)})}pda_getters$2.getFeeExemptAccount=getFeeExemptAccount;function getAllFeeExemptAccounts(t,e){return __awaiter$t(this,void 0,void 0,function*(){const r=new anchor_1$k.AnchorProvider(t,null,null),n=(0,getMarketplaceProgram_1$1.getGmIDL)(e);return yield new anchor_1$k.Program(n,e,r).account.feeReduction.all()})}pda_getters$2.getAllFeeExemptAccounts=getAllFeeExemptAccounts;var pda_info_getters$1={},__awaiter$s=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_info_getters$1,"__esModule",{value:!0});pda_info_getters$1.getRoyaltyReductionForStakingAccount=pda_info_getters$1.getRoyaltyReductionForUserAndMint=pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=pda_info_getters$1.getRegisteredCurrencyAccountInfo=pda_info_getters$1.getFeeExemptAccountInfo=pda_info_getters$1.getMarketVarsAccountInfo=void 0;const anchor_1$j=require$$0$1,pda_getters_1$8=pda_getters$2,getMarketplaceProgram_1=getMarketplaceProgram$1,atlas_staking_1$1=atlasStaking;function getMarketVarsAccountInfo(t,e){return __awaiter$s(this,void 0,void 0,function*(){const r=(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:t,programId:e}),[n]=yield(0,pda_getters_1$8.getMarketVarsAccount)(e);return yield r.account.marketVars.fetch(n)})}pda_info_getters$1.getMarketVarsAccountInfo=getMarketVarsAccountInfo;function getFeeExemptAccountInfo(t,e,r){return __awaiter$s(this,void 0,void 0,function*(){const n=(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:t,programId:r}),[o]=yield(0,pda_getters_1$8.getFeeExemptAccount)(e,r);return yield n.account.feeExempt.fetch(o)})}pda_info_getters$1.getFeeExemptAccountInfo=getFeeExemptAccountInfo;function getRegisteredCurrencyAccountInfo(t,e,r){return __awaiter$s(this,void 0,void 0,function*(){const n=(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:t,programId:e}),[o]=yield(0,pda_getters_1$8.getRegisteredCurrencyAccount)(e,r);return yield n.account.registeredCurrency.fetch(o)})}pda_info_getters$1.getRegisteredCurrencyAccountInfo=getRegisteredCurrencyAccountInfo;function getRegisteredCurrencyInfoFromPubkey(t,e,r){return __awaiter$s(this,void 0,void 0,function*(){return yield(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:t,programId:e}).account.registeredCurrency.fetch(r)})}pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=getRegisteredCurrencyInfoFromPubkey;function getRoyaltyReductionForUserAndMint(t,e,r,n,o,a){return __awaiter$s(this,void 0,void 0,function*(){let c=0;const u=yield getRegisteredCurrencyInfoFromPubkey(t,e,o),[gr]=yield(0,atlas_staking_1$1.getStakingAccount)(r,n,a),br=yield(0,atlas_staking_1$1.getStakingAccountInfo)(t,gr,r);if(br.unstakedTs.eq(new anchor_1$j.BN(0))){const _r=u.royaltyTiers;let Ar=new anchor_1$j.BN(0);for(const vr of _r)br.totalStake.gte(vr.stakeAmount)&&(Ar=vr.discount);c=Ar.toNumber()/1e4}return c})}pda_info_getters$1.getRoyaltyReductionForUserAndMint=getRoyaltyReductionForUserAndMint;function getRoyaltyReductionForStakingAccount(t,e,r,n,o){return __awaiter$s(this,void 0,void 0,function*(){let a=0;const c=yield getRegisteredCurrencyInfoFromPubkey(t,e,o),u=yield(0,atlas_staking_1$1.getStakingAccountInfo)(t,n,r);if(u.unstakedTs.eq(new anchor_1$j.BN(0))){const gr=c.royaltyTiers;let br=new anchor_1$j.BN(0);for(const _r of gr)u.totalStake.gte(_r.stakeAmount)&&(br=_r.discount);a=br.toNumber()/1e4}return a})}pda_info_getters$1.getRoyaltyReductionForStakingAccount=getRoyaltyReductionForStakingAccount;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(order_getters,t),r(pda_getters$2,t),r(pda_info_getters$1,t),r(seeds$1,t)})(pda_getters$3);var createOrderCounter={},utils={},gmHelper={},__awaiter$r=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(gmHelper,"__esModule",{value:!0});gmHelper.convertDecimalPriceToBn=gmHelper.initializeAtaForMint=gmHelper.getOrderSide=void 0;const anchor_1$i=require$$0$1,token_1$5=token$2,spl_token_1$2=require$$1$1,getOrderSide=t=>JSON.stringify(t.orderSide)===JSON.stringify({buy:{}})?"BuySide":"SellSide";gmHelper.getOrderSide=getOrderSide;function initializeAtaForMint({mint:t,owner:e,connection:r}){return __awaiter$r(this,void 0,void 0,function*(){const n=[],o=yield(0,token_1$5.associatedAddress)({mint:t,owner:e});return(yield r.getAccountInfo(o))===null&&n.push(spl_token_1$2.Token.createAssociatedTokenAccountInstruction(spl_token_1$2.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1$2.TOKEN_PROGRAM_ID,t,o,e,e)),{account:o,instructions:n}})}gmHelper.initializeAtaForMint=initializeAtaForMint;const convertDecimalPriceToBn=(t,e)=>new anchor_1$i.BN(t*Math.pow(10,e));gmHelper.convertDecimalPriceToBn=convertDecimalPriceToBn;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(getMarketplaceProgram$1,t),r(gmHelper,t)})(utils);var __awaiter$q=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(createOrderCounter,"__esModule",{value:!0});createOrderCounter.createOrderCounterInstruction=void 0;const utils_1$l=utils;function createOrderCounterInstruction({connection:t,payer:e,initializerMainAccount:r,depositMint:n,programId:o}){return __awaiter$q(this,void 0,void 0,function*(){return yield(0,utils_1$l.getMarketplaceProgram)({connection:t,programId:o}).methods.initializeOpenOrdersCounter().accounts({payer:e,user:r,depositMint:n}).instruction()})}createOrderCounter.createOrderCounterInstruction=createOrderCounterInstruction;var __awaiter$p=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(cancelOrder,"__esModule",{value:!0});cancelOrder.createCancelOrderInstruction=void 0;const anchor_1$h=require$$0$1,pda_getters_1$7=pda_getters$3,createOrderCounter_1$1=createOrderCounter,utils_1$k=utils,util_1$7=util;function createCancelOrderInstruction({connection:t,orderInitializer:e,orderAccount:r,programId:n,payer:o=e}){return __awaiter$p(this,void 0,void 0,function*(){const a=(0,utils_1$k.getMarketplaceProgram)({connection:t,programId:n}),c={signers:[],instructions:[]},u=yield a.account.orderAccount.fetch(r),br=(0,utils_1$k.getOrderSide)(u)==="SellSide"?u.assetMint:u.currencyMint;let _r=null,Ar=null;const vr=yield(0,util_1$7.getTokenAccount)(t,e,br);_r=vr.tokenAccount,"createInstruction"in vr&&c.instructions.push(...vr.createInstruction),_r instanceof anchor_1$h.web3.Keypair?(Ar=_r.publicKey,c.signers.push(_r)):Ar=_r;const[Tr]=yield(0,pda_getters_1$7.getOpenOrdersCounter)(e,br,n);if((yield t.getAccountInfo(Tr))===null){const xr=yield(0,createOrderCounter_1$1.createOrderCounterInstruction)({connection:t,payer:o,initializerMainAccount:e,depositMint:br,programId:n});c.instructions.push(xr)}const Ir=yield a.methods.processCancel().accounts({signer:o,depositMint:br,orderInitializer:e,initializerDepositTokenAccount:Ar,orderAccount:r}).instruction();return c.instructions.push(Ir),c})}cancelOrder.createCancelOrderInstruction=createCancelOrderInstruction;var createOrder={},__awaiter$o=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(createOrder,"__esModule",{value:!0});createOrder.createInitializeSellOrderInstruction=createOrder.createInitializeBuyOrderInstruction=void 0;const anchor_1$g=require$$0$1,utils_1$j=utils,util_1$6=util,pda_getters_1$6=pda_getters$3,createOrderCounter_1=createOrderCounter,util_2=util;function createInitializeBuyOrderInstruction({connection:t,initializerMainAccount:e,initializerDepositTokenAccount:r,price:n,originationQty:o,depositMint:a,receiveMint:c,programId:u}){return __awaiter$o(this,void 0,void 0,function*(){const gr=(0,utils_1$j.getMarketplaceProgram)({connection:t,programId:u}),br={signers:[],instructions:[]};let _r=null,Ar=null;const vr=yield(0,util_1$6.getTokenAccount)(t,e,c);_r=vr.tokenAccount,"createInstruction"in vr&&br.instructions.push(...vr.createInstruction),_r instanceof anchor_1$g.web3.Keypair?(Ar=_r.publicKey,br.signers.push(_r)):Ar=_r;const[Tr]=yield(0,pda_getters_1$6.getOpenOrdersCounter)(e,a,u);if((yield t.getAccountInfo(Tr))===null){const Fr=yield(0,createOrderCounter_1.createOrderCounterInstruction)({connection:t,payer:e,initializerMainAccount:e,depositMint:a,programId:u});br.instructions.push(Fr)}const Ir=anchor_1$g.web3.Keypair.generate();br.signers.push(Ir);const xr=yield(0,util_2.createAccountInstruction)(t,e,Ir,u);br.instructions.push(xr);const Lr=yield gr.methods.processInitializeBuy(n,new anchor_1$g.BN(o)).accounts({orderInitializer:e,initializerDepositTokenAccount:r,initializerReceiveTokenAccount:Ar,orderAccount:Ir.publicKey,depositMint:a,receiveMint:c}).signers([Ir]).instruction();return br.instructions.push(Lr),{orderAccount:Ir.publicKey,ixSet:br}})}createOrder.createInitializeBuyOrderInstruction=createInitializeBuyOrderInstruction;function createInitializeSellOrderInstruction({connection:t,initializerMainAccount:e,initializerDepositTokenAccount:r,price:n,originationQty:o,depositMint:a,receiveMint:c,programId:u}){return __awaiter$o(this,void 0,void 0,function*(){const gr=(0,utils_1$j.getMarketplaceProgram)({connection:t,programId:u}),br={signers:[],instructions:[]};let _r=null,Ar=null;const vr=yield(0,util_1$6.getTokenAccount)(t,e,c);_r=vr.tokenAccount,"createInstruction"in vr&&br.instructions.push(...vr.createInstruction),_r instanceof anchor_1$g.web3.Keypair?(Ar=_r.publicKey,br.signers.push(_r)):Ar=_r;const[Tr]=yield(0,pda_getters_1$6.getOpenOrdersCounter)(e,a,u);if((yield t.getAccountInfo(Tr))===null){const Fr=yield(0,createOrderCounter_1.createOrderCounterInstruction)({connection:t,payer:e,initializerMainAccount:e,depositMint:a,programId:u});br.instructions.push(Fr)}const Ir=anchor_1$g.web3.Keypair.generate();br.signers.push(Ir);const xr=yield(0,util_2.createAccountInstruction)(t,e,Ir,u);br.instructions.push(xr);const Lr=yield gr.methods.processInitializeSell(n,new anchor_1$g.BN(o)).accounts({orderInitializer:e,initializerDepositTokenAccount:r,initializerReceiveTokenAccount:Ar,orderAccount:Ir.publicKey,depositMint:a,receiveMint:c}).signers([Ir]).instruction();return br.instructions.push(Lr),{orderAccount:Ir.publicKey,ixSet:br}})}createOrder.createInitializeSellOrderInstruction=createInitializeSellOrderInstruction;var deregisterCurrency={},__awaiter$n=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(deregisterCurrency,"__esModule",{value:!0});deregisterCurrency.createDeregisterCurrencyInstruction=void 0;const utils_1$i=utils;function createDeregisterCurrencyInstruction({connection:t,updateAuthorityAccount:e,currencyMint:r,programId:n}){return __awaiter$n(this,void 0,void 0,function*(){const a=[yield(0,utils_1$i.getMarketplaceProgram)({connection:t,programId:n}).methods.deregisterCurrency().accounts({updateAuthorityAccount:e,currencyMint:r}).instruction()];return{accounts:[],instructions:a}})}deregisterCurrency.createDeregisterCurrencyInstruction=createDeregisterCurrencyInstruction;var exchangeOrder={},models={},Order={},big={exports:{}};(function(t){(function(e){var r,n=20,o=1,a=1e6,c=1e6,u=-7,gr=21,br=!1,_r="[big.js] ",Ar=_r+"Invalid ",vr=Ar+"decimal places",Tr=Ar+"rounding mode",Or=_r+"Division by zero",Ir={},xr=void 0,Lr=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Fr(){function Kr(jr){var qr=this;if(!(qr instanceof Kr))return jr===xr?Fr():new Kr(jr);if(jr instanceof Kr)qr.s=jr.s,qr.e=jr.e,qr.c=jr.c.slice();else{if(typeof jr!="string"){if(Kr.strict===!0&&typeof jr!="bigint")throw TypeError(Ar+"value");jr=jr===0&&1/jr<0?"-0":String(jr)}Mr(qr,jr)}qr.constructor=Kr}return Kr.prototype=Ir,Kr.DP=n,Kr.RM=o,Kr.NE=u,Kr.PE=gr,Kr.strict=br,Kr.roundDown=0,Kr.roundHalfUp=1,Kr.roundHalfEven=2,Kr.roundUp=3,Kr}function Mr(Kr,jr){var qr,tn,en;if(!Lr.test(jr))throw Error(Ar+"number");for(Kr.s=jr.charAt(0)=="-"?(jr=jr.slice(1),-1):1,(qr=jr.indexOf("."))>-1&&(jr=jr.replace(".","")),(tn=jr.search(/e/i))>0?(qr<0&&(qr=tn),qr+=+jr.slice(tn+1),jr=jr.substring(0,tn)):qr<0&&(qr=jr.length),en=jr.length,tn=0;tn<en&&jr.charAt(tn)=="0";)++tn;if(tn==en)Kr.c=[Kr.e=0];else{for(;en>0&&jr.charAt(--en)=="0";);for(Kr.e=qr-tn-1,Kr.c=[],qr=0;tn<=en;)Kr.c[qr++]=+jr.charAt(tn++)}return Kr}function Hr(Kr,jr,qr,tn){var en=Kr.c;if(qr===xr&&(qr=Kr.constructor.RM),qr!==0&&qr!==1&&qr!==2&&qr!==3)throw Error(Tr);if(jr<1)tn=qr===3&&(tn||!!en[0])||jr===0&&(qr===1&&en[0]>=5||qr===2&&(en[0]>5||en[0]===5&&(tn||en[1]!==xr))),en.length=1,tn?(Kr.e=Kr.e-jr+1,en[0]=1):en[0]=Kr.e=0;else if(jr<en.length){if(tn=qr===1&&en[jr]>=5||qr===2&&(en[jr]>5||en[jr]===5&&(tn||en[jr+1]!==xr||en[jr-1]&1))||qr===3&&(tn||!!en[0]),en.length=jr,tn){for(;++en[--jr]>9;)if(en[jr]=0,jr===0){++Kr.e,en.unshift(1);break}}for(jr=en.length;!en[--jr];)en.pop()}return Kr}function Vr(Kr,jr,qr){var tn=Kr.e,en=Kr.c.join(""),sn=en.length;if(jr)en=en.charAt(0)+(sn>1?"."+en.slice(1):"")+(tn<0?"e":"e+")+tn;else if(tn<0){for(;++tn;)en="0"+en;en="0."+en}else if(tn>0)if(++tn>sn)for(tn-=sn;tn--;)en+="0";else tn<sn&&(en=en.slice(0,tn)+"."+en.slice(tn));else sn>1&&(en=en.charAt(0)+"."+en.slice(1));return Kr.s<0&&qr?"-"+en:en}Ir.abs=function(){var Kr=new this.constructor(this);return Kr.s=1,Kr},Ir.cmp=function(Kr){var jr,qr=this,tn=qr.c,en=(Kr=new qr.constructor(Kr)).c,sn=qr.s,cn=Kr.s,Ur=qr.e,Rr=Kr.e;if(!tn[0]||!en[0])return tn[0]?sn:en[0]?-cn:0;if(sn!=cn)return sn;if(jr=sn<0,Ur!=Rr)return Ur>Rr^jr?1:-1;for(cn=(Ur=tn.length)<(Rr=en.length)?Ur:Rr,sn=-1;++sn<cn;)if(tn[sn]!=en[sn])return tn[sn]>en[sn]^jr?1:-1;return Ur==Rr?0:Ur>Rr^jr?1:-1},Ir.div=function(Kr){var jr=this,qr=jr.constructor,tn=jr.c,en=(Kr=new qr(Kr)).c,sn=jr.s==Kr.s?1:-1,cn=qr.DP;if(cn!==~~cn||cn<0||cn>a)throw Error(vr);if(!en[0])throw Error(Or);if(!tn[0])return Kr.s=sn,Kr.c=[Kr.e=0],Kr;var Ur,Rr,Pr,Dr,Yr,Zr=en.slice(),Xr=Ur=en.length,nn=tn.length,Gr=tn.slice(0,Ur),Nr=Gr.length,Jr=Kr,fn=Jr.c=[],An=0,wn=cn+(Jr.e=jr.e-Kr.e)+1;for(Jr.s=sn,sn=wn<0?0:wn,Zr.unshift(0);Nr++<Ur;)Gr.push(0);do{for(Pr=0;Pr<10;Pr++){if(Ur!=(Nr=Gr.length))Dr=Ur>Nr?1:-1;else for(Yr=-1,Dr=0;++Yr<Ur;)if(en[Yr]!=Gr[Yr]){Dr=en[Yr]>Gr[Yr]?1:-1;break}if(Dr<0){for(Rr=Nr==Ur?en:Zr;Nr;){if(Gr[--Nr]<Rr[Nr]){for(Yr=Nr;Yr&&!Gr[--Yr];)Gr[Yr]=9;--Gr[Yr],Gr[Nr]+=10}Gr[Nr]-=Rr[Nr]}for(;!Gr[0];)Gr.shift()}else break}fn[An++]=Dr?Pr:++Pr,Gr[0]&&Dr?Gr[Nr]=tn[Xr]||0:Gr=[tn[Xr]]}while((Xr++<nn||Gr[0]!==xr)&&sn--);return!fn[0]&&An!=1&&(fn.shift(),Jr.e--,wn--),An>wn&&Hr(Jr,wn,qr.RM,Gr[0]!==xr),Jr},Ir.eq=function(Kr){return this.cmp(Kr)===0},Ir.gt=function(Kr){return this.cmp(Kr)>0},Ir.gte=function(Kr){return this.cmp(Kr)>-1},Ir.lt=function(Kr){return this.cmp(Kr)<0},Ir.lte=function(Kr){return this.cmp(Kr)<1},Ir.minus=Ir.sub=function(Kr){var jr,qr,tn,en,sn=this,cn=sn.constructor,Ur=sn.s,Rr=(Kr=new cn(Kr)).s;if(Ur!=Rr)return Kr.s=-Rr,sn.plus(Kr);var Pr=sn.c.slice(),Dr=sn.e,Yr=Kr.c,Zr=Kr.e;if(!Pr[0]||!Yr[0])return Yr[0]?Kr.s=-Rr:Pr[0]?Kr=new cn(sn):Kr.s=1,Kr;if(Ur=Dr-Zr){for((en=Ur<0)?(Ur=-Ur,tn=Pr):(Zr=Dr,tn=Yr),tn.reverse(),Rr=Ur;Rr--;)tn.push(0);tn.reverse()}else for(qr=((en=Pr.length<Yr.length)?Pr:Yr).length,Ur=Rr=0;Rr<qr;Rr++)if(Pr[Rr]!=Yr[Rr]){en=Pr[Rr]<Yr[Rr];break}if(en&&(tn=Pr,Pr=Yr,Yr=tn,Kr.s=-Kr.s),(Rr=(qr=Yr.length)-(jr=Pr.length))>0)for(;Rr--;)Pr[jr++]=0;for(Rr=jr;qr>Ur;){if(Pr[--qr]<Yr[qr]){for(jr=qr;jr&&!Pr[--jr];)Pr[jr]=9;--Pr[jr],Pr[qr]+=10}Pr[qr]-=Yr[qr]}for(;Pr[--Rr]===0;)Pr.pop();for(;Pr[0]===0;)Pr.shift(),--Zr;return Pr[0]||(Kr.s=1,Pr=[Zr=0]),Kr.c=Pr,Kr.e=Zr,Kr},Ir.mod=function(Kr){var jr,qr=this,tn=qr.constructor,en=qr.s,sn=(Kr=new tn(Kr)).s;if(!Kr.c[0])throw Error(Or);return qr.s=Kr.s=1,jr=Kr.cmp(qr)==1,qr.s=en,Kr.s=sn,jr?new tn(qr):(en=tn.DP,sn=tn.RM,tn.DP=tn.RM=0,qr=qr.div(Kr),tn.DP=en,tn.RM=sn,this.minus(qr.times(Kr)))},Ir.neg=function(){var Kr=new this.constructor(this);return Kr.s=-Kr.s,Kr},Ir.plus=Ir.add=function(Kr){var jr,qr,tn,en=this,sn=en.constructor;if(Kr=new sn(Kr),en.s!=Kr.s)return Kr.s=-Kr.s,en.minus(Kr);var cn=en.e,Ur=en.c,Rr=Kr.e,Pr=Kr.c;if(!Ur[0]||!Pr[0])return Pr[0]||(Ur[0]?Kr=new sn(en):Kr.s=en.s),Kr;if(Ur=Ur.slice(),jr=cn-Rr){for(jr>0?(Rr=cn,tn=Pr):(jr=-jr,tn=Ur),tn.reverse();jr--;)tn.push(0);tn.reverse()}for(Ur.length-Pr.length<0&&(tn=Pr,Pr=Ur,Ur=tn),jr=Pr.length,qr=0;jr;Ur[jr]%=10)qr=(Ur[--jr]=Ur[jr]+Pr[jr]+qr)/10|0;for(qr&&(Ur.unshift(qr),++Rr),jr=Ur.length;Ur[--jr]===0;)Ur.pop();return Kr.c=Ur,Kr.e=Rr,Kr},Ir.pow=function(Kr){var jr=this,qr=new jr.constructor("1"),tn=qr,en=Kr<0;if(Kr!==~~Kr||Kr<-c||Kr>c)throw Error(Ar+"exponent");for(en&&(Kr=-Kr);Kr&1&&(tn=tn.times(jr)),Kr>>=1,!!Kr;)jr=jr.times(jr);return en?qr.div(tn):tn},Ir.prec=function(Kr,jr){if(Kr!==~~Kr||Kr<1||Kr>a)throw Error(Ar+"precision");return Hr(new this.constructor(this),Kr,jr)},Ir.round=function(Kr,jr){if(Kr===xr)Kr=0;else if(Kr!==~~Kr||Kr<-a||Kr>a)throw Error(vr);return Hr(new this.constructor(this),Kr+this.e+1,jr)},Ir.sqrt=function(){var Kr,jr,qr,tn=this,en=tn.constructor,sn=tn.s,cn=tn.e,Ur=new en("0.5");if(!tn.c[0])return new en(tn);if(sn<0)throw Error(_r+"No square root");sn=Math.sqrt(tn+""),sn===0||sn===1/0?(jr=tn.c.join(""),jr.length+cn&1||(jr+="0"),sn=Math.sqrt(jr),cn=((cn+1)/2|0)-(cn<0||cn&1),Kr=new en((sn==1/0?"5e":(sn=sn.toExponential()).slice(0,sn.indexOf("e")+1))+cn)):Kr=new en(sn+""),cn=Kr.e+(en.DP+=4);do qr=Kr,Kr=Ur.times(qr.plus(tn.div(qr)));while(qr.c.slice(0,cn).join("")!==Kr.c.slice(0,cn).join(""));return Hr(Kr,(en.DP-=4)+Kr.e+1,en.RM)},Ir.times=Ir.mul=function(Kr){var jr,qr=this,tn=qr.constructor,en=qr.c,sn=(Kr=new tn(Kr)).c,cn=en.length,Ur=sn.length,Rr=qr.e,Pr=Kr.e;if(Kr.s=qr.s==Kr.s?1:-1,!en[0]||!sn[0])return Kr.c=[Kr.e=0],Kr;for(Kr.e=Rr+Pr,cn<Ur&&(jr=en,en=sn,sn=jr,Pr=cn,cn=Ur,Ur=Pr),jr=new Array(Pr=cn+Ur);Pr--;)jr[Pr]=0;for(Rr=Ur;Rr--;){for(Ur=0,Pr=cn+Rr;Pr>Rr;)Ur=jr[Pr]+sn[Rr]*en[Pr-Rr-1]+Ur,jr[Pr--]=Ur%10,Ur=Ur/10|0;jr[Pr]=Ur}for(Ur?++Kr.e:jr.shift(),Rr=jr.length;!jr[--Rr];)jr.pop();return Kr.c=jr,Kr},Ir.toExponential=function(Kr,jr){var qr=this,tn=qr.c[0];if(Kr!==xr){if(Kr!==~~Kr||Kr<0||Kr>a)throw Error(vr);for(qr=Hr(new qr.constructor(qr),++Kr,jr);qr.c.length<Kr;)qr.c.push(0)}return Vr(qr,!0,!!tn)},Ir.toFixed=function(Kr,jr){var qr=this,tn=qr.c[0];if(Kr!==xr){if(Kr!==~~Kr||Kr<0||Kr>a)throw Error(vr);for(qr=Hr(new qr.constructor(qr),Kr+qr.e+1,jr),Kr=Kr+qr.e+1;qr.c.length<Kr;)qr.c.push(0)}return Vr(qr,!1,!!tn)},Ir.toJSON=Ir.toString=function(){var Kr=this,jr=Kr.constructor;return Vr(Kr,Kr.e<=jr.NE||Kr.e>=jr.PE,!!Kr.c[0])},Ir.toNumber=function(){var Kr=Number(Vr(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(Kr.toString()))throw Error(_r+"Imprecise conversion");return Kr},Ir.toPrecision=function(Kr,jr){var qr=this,tn=qr.constructor,en=qr.c[0];if(Kr!==xr){if(Kr!==~~Kr||Kr<1||Kr>a)throw Error(Ar+"precision");for(qr=Hr(new tn(qr),Kr,jr);qr.c.length<Kr;)qr.c.push(0)}return Vr(qr,Kr<=qr.e||qr.e<=tn.NE||qr.e>=tn.PE,!!en)},Ir.valueOf=function(){var Kr=this,jr=Kr.constructor;if(jr.strict===!0)throw Error(_r+"valueOf disallowed");return Vr(Kr,Kr.e<=jr.NE||Kr.e>=jr.PE,!0)},r=Fr(),r.default=r.Big=r,t.exports?t.exports=r:e.Big=r})(commonjsGlobal)})(big);function die(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(r.length?" "+r.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:mockGlobal}var assign$1=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var noop$1=function t(){};function isFunction(t){return typeof t=="function"}function isStringish(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function isObject(t){return t!==null&&typeof t=="object"}function isPlainObject(t){if(!isObject(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r.toString()===plainObjectString}function isGenerator(t){var e=t==null?void 0:t.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function addHiddenProp$1(t,e,r){defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function addHiddenFinalProp(t,e,r){defineProperty(t,e,{enumerable:!1,writable:!1,configurable:!0,value:r})}function createInstanceofPredicate(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(n){return isObject(n)&&n[r]===!0}}function isES6Map(t){return t instanceof Map}function isES6Set(t){return t instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(t){var e=Object.keys(t);if(!hasGetOwnPropertySymbols)return e;var r=Object.getOwnPropertySymbols(t);return r.length?[].concat(e,r.filter(function(n){return objectPrototype.propertyIsEnumerable.call(t,n)})):e}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function toPrimitive(t){return t===null?null:typeof t=="object"?""+t:t}function hasProp(t,e){return objectPrototype.hasOwnProperty.call(t,e)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function t(e){var r={};return ownKeys(e).forEach(function(n){r[n]=getDescriptor(e,n)}),r};function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey$1(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_extends.apply(this,arguments)}function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},_setPrototypeOf(t,e)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _unsupportedIterableToArray(t,e){if(!!t){if(typeof t=="string")return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,e)}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _createForOfIteratorHelperLoose(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive$1(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return typeof e=="symbol"?e:String(e)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(t){function e(r,n){if(is20223Decorator(n))return t.decorate_20223_(r,n);storeAnnotation(r,n,t)}return Object.assign(e,t)}function storeAnnotation(t,e,r){hasProp(t,storedAnnotationsSymbol)||addHiddenProp$1(t,storedAnnotationsSymbol,_extends({},t[storedAnnotationsSymbol])),isOverride(r)||(t[storedAnnotationsSymbol][e]=r)}function collectStoredAnnotations(t){return hasProp(t,storedAnnotationsSymbol)||addHiddenProp$1(t,storedAnnotationsSymbol,_extends({},t[storedAnnotationsSymbol])),t[storedAnnotationsSymbol]}function is20223Decorator(t){return typeof t=="object"&&typeof t.kind=="string"}var $mobx=Symbol("mobx administration"),Atom=function(){function t(r){r===void 0&&(r="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.batchId_=void 0,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=r,this.batchId_=globalState.inBatch?globalState.batchId:NaN}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.reportObserved=function(){return reportObserved(this)},e.reportChanged=function(){(!globalState.inBatch||this.batchId_!==globalState.batchId)&&(globalState.stateVersion=globalState.stateVersion<Number.MAX_SAFE_INTEGER?globalState.stateVersion+1:Number.MIN_SAFE_INTEGER,this.batchId_=NaN),startBatch(),propagateChanged(this),endBatch()},e.toString=function(){return this.name_},t}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(t,e,r){e===void 0&&(e=noop$1),r===void 0&&(r=noop$1);var n=new Atom(t);return e!==noop$1&&onBecomeObserved(n,e),r!==noop$1&&onBecomeUnobserved(n,r),n}function identityComparer(t,e){return t===e}function structuralComparer(t,e){return deepEqual(t,e)}function shallowComparer(t,e){return deepEqual(t,e,1)}function defaultComparer(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(t,e,r){return isObservable(t)?t:Array.isArray(t)?observable.array(t,{name:r}):isPlainObject(t)?observable.object(t,void 0,{name:r}):isES6Map(t)?observable.map(t,{name:r}):isES6Set(t)?observable.set(t,{name:r}):typeof t=="function"&&!isAction(t)&&!isFlow(t)?isGenerator(t)?flow(t):autoAction(r,t):t}function shallowEnhancer(t,e,r){if(t==null||isObservableObject(t)||isObservableArray(t)||isObservableMap(t)||isObservableSet(t))return t;if(Array.isArray(t))return observable.array(t,{name:r,deep:!1});if(isPlainObject(t))return observable.object(t,void 0,{name:r,deep:!1});if(isES6Map(t))return observable.map(t,{name:r,deep:!1});if(isES6Set(t))return observable.set(t,{name:r,deep:!1})}function referenceEnhancer(t){return t}function refStructEnhancer(t,e){return deepEqual(t,e)?e:t}var OVERRIDE="override",override=createDecoratorAnnotation({annotationType_:OVERRIDE,make_,extend_,decorate_20223_});function isOverride(t){return t.annotationType_===OVERRIDE}function make_(t,e){return 0}function extend_(t,e,r,n){die("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function decorate_20223_(t,e){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function createActionAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$1,extend_:extend_$1,decorate_20223_:decorate_20223_$1}}function make_$1(t,e,r,n){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(t,e,r,!1)===null?0:1;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if(isAction(r.value))return 1;var a=createActionDescriptor(t,this,e,r,!1);return defineProperty(n,e,a),2}function extend_$1(t,e,r,n){var o=createActionDescriptor(t,this,e,r);return t.defineProperty_(e,o,n)}function decorate_20223_$1(t,e){var r=e.kind,n=e.name,o=e.addInitializer,a=this,c=function(br){var _r,Ar,vr,Tr;return createAction((_r=(Ar=a.options_)==null?void 0:Ar.name)!=null?_r:n.toString(),br,(vr=(Tr=a.options_)==null?void 0:Tr.autoAction)!=null?vr:!1)};if(r=="field"){o(function(){storeAnnotation(this,n,a)});return}if(r=="method"){var u;return isAction(t)||(t=c(t)),(u=this.options_)!=null&&u.bound&&o(function(){var gr=this,br=gr[n].bind(gr);br.isMobxAction=!0,gr[n]=br}),t}die("Cannot apply '"+a.annotationType_+"' to '"+String(n)+"' (kind: "+r+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function assertActionDescriptor(t,e,r,n){e.annotationType_,n.value}function createActionDescriptor(t,e,r,n,o){var a,c,u,gr,br,_r,Ar;o===void 0&&(o=globalState.safeDescriptors),assertActionDescriptor(t,e,r,n);var vr=n.value;if((a=e.options_)!=null&&a.bound){var Tr;vr=vr.bind((Tr=t.proxy_)!=null?Tr:t.target_)}return{value:createAction((c=(u=e.options_)==null?void 0:u.name)!=null?c:r.toString(),vr,(gr=(br=e.options_)==null?void 0:br.autoAction)!=null?gr:!1,(_r=e.options_)!=null&&_r.bound?(Ar=t.proxy_)!=null?Ar:t.target_:void 0),configurable:o?t.isPlainObject_:!0,enumerable:!1,writable:!o}}function createFlowAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$2,extend_:extend_$2,decorate_20223_:decorate_20223_$2}}function make_$2(t,e,r,n){var o;if(n===t.target_)return this.extend_(t,e,r,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!hasProp(t.target_,e)||!isFlow(t.target_[e]))&&this.extend_(t,e,r,!1)===null)return 0;if(isFlow(r.value))return 1;var a=createFlowDescriptor(t,this,e,r,!1,!1);return defineProperty(n,e,a),2}function extend_$2(t,e,r,n){var o,a=createFlowDescriptor(t,this,e,r,(o=this.options_)==null?void 0:o.bound);return t.defineProperty_(e,a,n)}function decorate_20223_$2(t,e){var r,n=e.name,o=e.addInitializer;return isFlow(t)||(t=flow(t)),(r=this.options_)!=null&&r.bound&&o(function(){var a=this,c=a[n].bind(a);c.isMobXFlow=!0,a[n]=c}),t}function assertFlowDescriptor(t,e,r,n){e.annotationType_,n.value}function createFlowDescriptor(t,e,r,n,o,a){a===void 0&&(a=globalState.safeDescriptors),assertFlowDescriptor(t,e,r,n);var c=n.value;if(isFlow(c)||(c=flow(c)),o){var u;c=c.bind((u=t.proxy_)!=null?u:t.target_),c.isMobXFlow=!0}return{value:c,configurable:a?t.isPlainObject_:!0,enumerable:!1,writable:!a}}function createComputedAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$3,extend_:extend_$3,decorate_20223_:decorate_20223_$3}}function make_$3(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function extend_$3(t,e,r,n){return assertComputedDescriptor(t,this,e,r),t.defineComputedProperty_(e,_extends({},this.options_,{get:r.get,set:r.set}),n)}function decorate_20223_$3(t,e){var r=this,n=e.name,o=e.addInitializer;return o(function(){var a=asObservableObject(this)[$mobx],c=_extends({},r.options_,{get:t,context:this});c.name||(c.name="ObservableObject."+n.toString()),a.values_.set(n,new ComputedValue(c))}),function(){return this[$mobx].getObservablePropValue_(n)}}function assertComputedDescriptor(t,e,r,n){e.annotationType_,n.get}function createObservableAnnotation(t,e){return{annotationType_:t,options_:e,make_:make_$4,extend_:extend_$4,decorate_20223_:decorate_20223_$4}}function make_$4(t,e,r){return this.extend_(t,e,r,!1)===null?0:1}function extend_$4(t,e,r,n){var o,a;return assertObservableDescriptor(t,this),t.defineObservableProperty_(e,r.value,(o=(a=this.options_)==null?void 0:a.enhancer)!=null?o:deepEnhancer,n)}function decorate_20223_$4(t,e){var r=this,n=e.kind,o=e.name,a=new WeakSet;function c(u,gr){var br,_r,Ar=asObservableObject(u)[$mobx],vr=new ObservableValue(gr,(br=(_r=r.options_)==null?void 0:_r.enhancer)!=null?br:deepEnhancer,"ObservableObject."+o.toString(),!1);Ar.values_.set(o,vr),a.add(u)}if(n=="accessor")return{get:function(){return a.has(this)||c(this,t.get.call(this)),this[$mobx].getObservablePropValue_(o)},set:function(gr){return a.has(this)||c(this,gr),this[$mobx].setObservablePropValue_(o,gr)},init:function(gr){return a.has(this)||c(this,gr),gr}}}function assertObservableDescriptor(t,e,r,n){e.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(t){return{annotationType_:AUTO,options_:t,make_:make_$5,extend_:extend_$5,decorate_20223_:decorate_20223_$5}}function make_$5(t,e,r,n){var o,a;if(r.get)return computed.make_(t,e,r,n);if(r.set){var c=createAction(e.toString(),r.set);return n===t.target_?t.defineProperty_(e,{configurable:globalState.safeDescriptors?t.isPlainObject_:!0,set:c})===null?0:2:(defineProperty(n,e,{configurable:!0,set:c}),2)}if(n!==t.target_&&typeof r.value=="function"){var u;if(isGenerator(r.value)){var gr,br=(gr=this.options_)!=null&&gr.autoBind?flow.bound:flow;return br.make_(t,e,r,n)}var _r=(u=this.options_)!=null&&u.autoBind?autoAction.bound:autoAction;return _r.make_(t,e,r,n)}var Ar=((o=this.options_)==null?void 0:o.deep)===!1?observable.ref:observable;if(typeof r.value=="function"&&(a=this.options_)!=null&&a.autoBind){var vr;r.value=r.value.bind((vr=t.proxy_)!=null?vr:t.target_)}return Ar.make_(t,e,r,n)}function extend_$5(t,e,r,n){var o,a;if(r.get)return computed.extend_(t,e,r,n);if(r.set)return t.defineProperty_(e,{configurable:globalState.safeDescriptors?t.isPlainObject_:!0,set:createAction(e.toString(),r.set)},n);if(typeof r.value=="function"&&(o=this.options_)!=null&&o.autoBind){var c;r.value=r.value.bind((c=t.proxy_)!=null?c:t.target_)}var u=((a=this.options_)==null?void 0:a.deep)===!1?observable.ref:observable;return u.extend_(t,e,r,n)}function decorate_20223_$5(t,e){die("'"+this.annotationType_+"' cannot be used as a decorator")}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(t){return t||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(t){return t.deep===!0?deepEnhancer:t.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(t.defaultDecorator)}function getAnnotationFromOptions(t){var e;return t?(e=t.defaultDecorator)!=null?e:createAutoAnnotation(t):void 0}function getEnhancerFromAnnotation(t){var e,r;return t&&(e=(r=t.options_)==null?void 0:r.enhancer)!=null?e:deepEnhancer}function createObservable(t,e,r){if(is20223Decorator(e))return observableAnnotation.decorate_20223_(t,e);if(isStringish(e)){storeAnnotation(t,e,observableAnnotation);return}return isObservable(t)?t:isPlainObject(t)?observable.object(t,e,r):Array.isArray(t)?observable.array(t,e):isES6Map(t)?observable.map(t,e):isES6Set(t)?observable.set(t,e):typeof t=="object"&&t!==null?t:observable.box(t,e)}assign$1(createObservable,observableDecoratorAnnotation);var observableFactories={box:function t(e,r){var n=asCreateObservableOptions(r);return new ObservableValue(e,getEnhancerFromOptions(n),n.name,!0,n.equals)},array:function t(e,r){var n=asCreateObservableOptions(r);return(globalState.useProxies===!1||n.proxy===!1?createLegacyArray:createObservableArray)(e,getEnhancerFromOptions(n),n.name)},map:function t(e,r){var n=asCreateObservableOptions(r);return new ObservableMap(e,getEnhancerFromOptions(n),n.name)},set:function t(e,r){var n=asCreateObservableOptions(r);return new ObservableSet(e,getEnhancerFromOptions(n),n.name)},object:function t(e,r,n){return initObservable(function(){return extendObservable(globalState.useProxies===!1||(n==null?void 0:n.proxy)===!1?asObservableObject({},n):asDynamicObservableObject({},n),e,r)})},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable=assign$1(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function t(e,r){if(is20223Decorator(r))return computedAnnotation.decorate_20223_(e,r);if(isStringish(r))return storeAnnotation(e,r,computedAnnotation);if(isPlainObject(e))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,e));var n=isPlainObject(r)?r:{};return n.get=e,n.name||(n.name=e.name||""),new ComputedValue(n)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(t,e,r,n){r===void 0&&(r=!1);function o(){return executeAction(t,r,e,n||this,arguments)}return o.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=t,defineProperty(o,"name",tmpNameDescriptor)),o}function executeAction(t,e,r,n,o){var a=_startAction(t,e);try{return r.apply(n,o)}catch(c){throw a.error_=c,c}finally{_endAction(a)}}function _startAction(t,e,r,n){var o=!1,a=0,c=globalState.trackingDerivation,u=!e||!c;startBatch();var gr=globalState.allowStateChanges;u&&(untrackedStart(),gr=allowStateChangesStart(!0));var br=allowStateReadsStart(!0),_r={runAsAction_:u,prevDerivation_:c,prevAllowStateChanges_:gr,prevAllowStateReads_:br,notifySpy_:o,startTime_:a,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=_r.actionId_,_r}function _endAction(t){currentActionId!==t.actionId_&&die(30),currentActionId=t.parentActionId_,t.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(t.prevAllowStateChanges_),allowStateReadsEnd(t.prevAllowStateReads_),endBatch(),t.runAsAction_&&untrackedEnd(t.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(t,e){var r=allowStateChangesStart(t);try{return e()}finally{allowStateChangesEnd(r)}}function allowStateChangesStart(t){var e=globalState.allowStateChanges;return globalState.allowStateChanges=t,e}function allowStateChangesEnd(t){globalState.allowStateChanges=t}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(t){_inheritsLoose(e,t);function e(n,o,a,c,u){var gr;return a===void 0&&(a="ObservableValue"),u===void 0&&(u=comparer.default),gr=t.call(this,a)||this,gr.enhancer=void 0,gr.name_=void 0,gr.equals=void 0,gr.hasUnreportedChange_=!1,gr.interceptors_=void 0,gr.changeListeners_=void 0,gr.value_=void 0,gr.dehancer=void 0,gr.enhancer=o,gr.name_=a,gr.equals=u,gr.value_=o(n,void 0,a),gr}var r=e.prototype;return r.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},r.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==globalState.UNCHANGED&&this.setNewValue_(o)},r.prepareNewValue_=function(o){if(hasInterceptors(this)){var a=interceptChange(this,{object:this,type:UPDATE,newValue:o});if(!a)return globalState.UNCHANGED;o=a.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?globalState.UNCHANGED:o},r.setNewValue_=function(o){var a=this.value_;this.value_=o,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:o,oldValue:a})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(o){return registerInterceptor(this,o)},r.observe_=function(o,a){return a&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,o)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return toPrimitive(this.get())},r[_Symbol$toPrimitive]=function(){return this.valueOf()},e}(Atom),isObservableValue=createInstanceofPredicate("ObservableValue",ObservableValue),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function t(r){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,r.get||die(31),this.derivation=r.get,this.name_=r.name||"ComputedValue",r.set&&(this.setter_=createAction("ComputedValue-setter",r.set)),this.equals_=r.equals||(r.compareStructural||r.struct?comparer.structural:comparer.default),this.scope_=r.context,this.requiresReaction_=r.requiresReaction,this.keepAlive_=!!r.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){propagateMaybeChanged(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},e.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var n=globalState.trackingContext;this.keepAlive_&&!n&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=n}var o=this.value_;if(isCaughtException(o))throw o.cause;return o},e.set=function(n){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},e.trackAndCompute=function(){var n=this.value_,o=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,a=this.computeValue_(!0),c=o||isCaughtException(n)||isCaughtException(a)||!this.equals_(n,a);return c&&(this.value_=a),c},e.computeValue_=function(n){this.isComputing_=!0;var o=allowStateChangesStart(!1),a;if(n)a=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(c){a=new CaughtException(c)}return allowStateChangesEnd(o),this.isComputing_=!1,a},e.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},e.observe_=function(n,o){var a=this,c=!0,u=void 0;return autorun(function(){var gr=a.get();if(!c||o){var br=untrackedStart();n({observableKind:"computed",debugObjectName:a.name_,type:UPDATE,object:a,newValue:gr,oldValue:u}),untrackedEnd(br)}c=!1,u=gr})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return toPrimitive(this.get())},e[_Symbol$toPrimitive$1]=function(){return this.valueOf()},t}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function t(e){this.cause=void 0,this.cause=e};function isCaughtException(t){return t instanceof CaughtException}function shouldCompute(t){switch(t.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var e=allowStateReadsStart(!0),r=untrackedStart(),n=t.observing_,o=n.length,a=0;a<o;a++){var c=n[a];if(isComputedValue(c)){if(globalState.disableErrorBoundaries)c.get();else try{c.get()}catch{return untrackedEnd(r),allowStateReadsEnd(e),!0}if(t.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(r),allowStateReadsEnd(e),!0}}return changeDependenciesStateTo0(t),untrackedEnd(r),allowStateReadsEnd(e),!1}}}function isComputingDerivation(){return globalState.trackingDerivation!==null}function checkIfStateModificationsAreAllowed(t){}function trackDerivedFunction(t,e,r){var n=allowStateReadsStart(!0);changeDependenciesStateTo0(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++globalState.runId;var o=globalState.trackingDerivation;globalState.trackingDerivation=t,globalState.inBatch++;var a;if(globalState.disableErrorBoundaries===!0)a=e.call(r);else try{a=e.call(r)}catch(c){a=new CaughtException(c)}return globalState.inBatch--,globalState.trackingDerivation=o,bindDependencies(t),allowStateReadsEnd(n),a}function bindDependencies(t){for(var e=t.observing_,r=t.observing_=t.newObserving_,n=IDerivationState_.UP_TO_DATE_,o=0,a=t.unboundDepsCount_,c=0;c<a;c++){var u=r[c];u.diffValue_===0&&(u.diffValue_=1,o!==c&&(r[o]=u),o++),u.dependenciesState_>n&&(n=u.dependenciesState_)}for(r.length=o,t.newObserving_=null,a=e.length;a--;){var gr=e[a];gr.diffValue_===0&&removeObserver(gr,t),gr.diffValue_=0}for(;o--;){var br=r[o];br.diffValue_===1&&(br.diffValue_=0,addObserver(br,t))}n!==IDerivationState_.UP_TO_DATE_&&(t.dependenciesState_=n,t.onBecomeStale_())}function clearObserving(t){var e=t.observing_;t.observing_=[];for(var r=e.length;r--;)removeObserver(e[r],t);t.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(t){var e=untrackedStart();try{return t()}finally{untrackedEnd(e)}}function untrackedStart(){var t=globalState.trackingDerivation;return globalState.trackingDerivation=null,t}function untrackedEnd(t){globalState.trackingDerivation=t}function allowStateReadsStart(t){var e=globalState.allowStateReads;return globalState.allowStateReads=t,e}function allowStateReadsEnd(t){globalState.allowStateReads=t}function changeDependenciesStateTo0(t){if(t.dependenciesState_!==IDerivationState_.UP_TO_DATE_){t.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var e=t.observing_,r=e.length;r--;)e[r].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var persistentKeys=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],MobXGlobals=function t(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.batchId=Number.MIN_SAFE_INTEGER,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},canMergeGlobalState=!0,isolateCalled=!1,globalState=function(){var t=getGlobal();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(canMergeGlobalState=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new MobXGlobals):(setTimeout(function(){isolateCalled||die(35)},1),new MobXGlobals)}();function isolateGlobalState(){if((globalState.pendingReactions.length||globalState.inBatch||globalState.isRunningReactions)&&die(36),isolateCalled=!0,canMergeGlobalState){var t=getGlobal();--t.__mobxInstanceCount===0&&(t.__mobxGlobals=void 0),globalState=new MobXGlobals}}function getGlobalState(){return globalState}function resetGlobalState(){var t=new MobXGlobals;for(var e in t)persistentKeys.indexOf(e)===-1&&(globalState[e]=t[e]);globalState.allowStateChanges=!globalState.enforceActions}function hasObservers(t){return t.observers_&&t.observers_.size>0}function getObservers(t){return t.observers_}function addObserver(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function removeObserver(t,e){t.observers_.delete(e),t.observers_.size===0&&queueForUnobservation(t)}function queueForUnobservation(t){t.isPendingUnobservation_===!1&&(t.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(t))}function startBatch(){globalState.inBatch===0&&(globalState.batchId=globalState.batchId<Number.MAX_SAFE_INTEGER?globalState.batchId+1:Number.MIN_SAFE_INTEGER),globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var t=globalState.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation_=!1,r.observers_.size===0&&(r.isBeingObserved_&&(r.isBeingObserved_=!1,r.onBUO()),r instanceof ComputedValue&&r.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(t){var e=globalState.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&globalState.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),t.isBeingObserved_):(t.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(t),!1)}function propagateChanged(t){t.lowestObserverState_!==IDerivationState_.STALE_&&(t.lowestObserverState_=IDerivationState_.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(t){t.lowestObserverState_!==IDerivationState_.STALE_&&(t.lowestObserverState_=IDerivationState_.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?e.dependenciesState_=IDerivationState_.STALE_:e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(t.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(t){t.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(t.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(e.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Reaction=function(){function t(r,n,o,a){r===void 0&&(r="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=r,this.onInvalidate_=n,this.errorHandler_=o,this.requiresObservable_=a}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var n=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}globalState.trackingContext=n,endBatch()}},e.track=function(n){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var o=globalState.trackingContext;globalState.trackingContext=this;var a=trackDerivedFunction(this,n,void 0);globalState.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(a)&&this.reportExceptionInDerivation_(a.cause),endBatch()}},e.reportExceptionInDerivation_=function(n){var o=this;if(this.errorHandler_){this.errorHandler_(n,this);return}if(globalState.disableErrorBoundaries)throw n;var a="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(a,n),globalState.globalReactionErrorHandlers.forEach(function(c){return c(n,o)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},e.getDisposer_=function(n){var o=this,a=function c(){o.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",c)};return n==null||n.addEventListener==null||n.addEventListener("abort",a),a[$mobx]=this,a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(n){},t}();function onReactionError(t){return globalState.globalReactionErrorHandlers.push(t),function(){var e=globalState.globalReactionErrorHandlers.indexOf(t);e>=0&&globalState.globalReactionErrorHandlers.splice(e,1)}}var MAX_REACTION_ITERATIONS=100,reactionScheduler=function t(e){return e()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var t=globalState.pendingReactions,e=0;t.length>0;){++e===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function setReactionScheduler(t){var e=reactionScheduler;reactionScheduler=function(n){return t(function(){return e(n)})}}function isSpyEnabled(){return!1}function spyReport(t){}function spyReportStart(t){}function spyReportEnd(t){}function spy(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(t){var e=function(n,o){if(isFunction(n))return createAction(n.name||DEFAULT_ACTION_NAME,n,t);if(isFunction(o))return createAction(n,o,t);if(is20223Decorator(o))return(t?autoActionAnnotation:actionAnnotation).decorate_20223_(n,o);if(isStringish(o))return storeAnnotation(n,o,t?autoActionAnnotation:actionAnnotation);if(isStringish(n))return createDecoratorAnnotation(createActionAnnotation(t?AUTOACTION:ACTION,{name:n,autoAction:t}))};return e}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function runInAction(t){return executeAction(t.name||DEFAULT_ACTION_NAME,!1,t,this,void 0)}function isAction(t){return isFunction(t)&&t.isMobxAction===!0}function autorun(t,e){var r,n,o,a,c;e===void 0&&(e=EMPTY_OBJECT);var u=(r=(n=e)==null?void 0:n.name)!=null?r:"Autorun",gr=!e.scheduler&&!e.delay,br;if(gr)br=new Reaction(u,function(){this.track(vr)},e.onError,e.requiresObservable);else{var _r=createSchedulerFromOptions(e),Ar=!1;br=new Reaction(u,function(){Ar||(Ar=!0,_r(function(){Ar=!1,br.isDisposed_||br.track(vr)}))},e.onError,e.requiresObservable)}function vr(){t(br)}return(o=e)!=null&&(a=o.signal)!=null&&a.aborted||br.schedule_(),br.getDisposer_((c=e)==null?void 0:c.signal)}var run=function t(e){return e()};function createSchedulerFromOptions(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:run}function reaction(t,e,r){var n,o,a,c;r===void 0&&(r=EMPTY_OBJECT);var u=(n=r.name)!=null?n:"Reaction",gr=action(u,r.onError?wrapErrorHandler(r.onError,e):e),br=!r.scheduler&&!r.delay,_r=createSchedulerFromOptions(r),Ar=!0,vr=!1,Tr,Or,Ir=r.compareStructural?comparer.structural:r.equals||comparer.default,xr=new Reaction(u,function(){Ar||br?Lr():vr||(vr=!0,_r(Lr))},r.onError,r.requiresObservable);function Lr(){if(vr=!1,!xr.isDisposed_){var Fr=!1;xr.track(function(){var Mr=allowStateChanges(!1,function(){return t(xr)});Fr=Ar||!Ir(Tr,Mr),Or=Tr,Tr=Mr}),(Ar&&r.fireImmediately||!Ar&&Fr)&&gr(Tr,Or,xr),Ar=!1}}return(o=r)!=null&&(a=o.signal)!=null&&a.aborted||xr.schedule_(),xr.getDisposer_((c=r)==null?void 0:c.signal)}function wrapErrorHandler(t,e){return function(){try{return e.apply(this,arguments)}catch(r){t.call(this,r)}}}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(t,e,r){return interceptHook(ON_BECOME_OBSERVED,t,e,r)}function onBecomeUnobserved(t,e,r){return interceptHook(ON_BECOME_UNOBSERVED,t,e,r)}function interceptHook(t,e,r,n){var o=typeof n=="function"?getAtom(e,r):getAtom(e),a=isFunction(n)?n:r,c=t+"L";return o[c]?o[c].add(a):o[c]=new Set([a]),function(){var u=o[c];u&&(u.delete(a),u.size===0&&delete o[c])}}var NEVER="never",ALWAYS="always",OBSERVED="observed";function configure(t){t.isolateGlobalState===!0&&isolateGlobalState();var e=t.useProxies,r=t.enforceActions;if(e!==void 0&&(globalState.useProxies=e===ALWAYS?!0:e===NEVER?!1:typeof Proxy<"u"),e==="ifavailable"&&(globalState.verifyProxies=!0),r!==void 0){var n=r===ALWAYS?ALWAYS:r===OBSERVED;globalState.enforceActions=n,globalState.allowStateChanges=!(n===!0||n===ALWAYS)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in t&&(globalState[o]=!!t[o])}),globalState.allowStateReads=!globalState.observableRequiresReaction,t.reactionScheduler&&setReactionScheduler(t.reactionScheduler)}function extendObservable(t,e,r,n){var o=getOwnPropertyDescriptors(e);return initObservable(function(){var a=asObservableObject(t,n)[$mobx];ownKeys(o).forEach(function(c){a.extend_(c,o[c],r&&c in r?r[c]:!0)})}),t}function getDependencyTree(t,e){return nodeToDependencyTree(getAtom(t,e))}function nodeToDependencyTree(t){var e={name:t.name_};return t.observing_&&t.observing_.length>0&&(e.dependencies=unique(t.observing_).map(nodeToDependencyTree)),e}function getObserverTree(t,e){return nodeToObserverTree(getAtom(t,e))}function nodeToObserverTree(t){var e={name:t.name_};return hasObservers(t)&&(e.observers=Array.from(getObservers(t)).map(nodeToObserverTree)),e}function unique(t){return Array.from(new Set(t))}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);function isFlowCancellationError(t){return t instanceof FlowCancellationError}var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function t(e,r){if(is20223Decorator(r))return flowAnnotation.decorate_20223_(e,r);if(isStringish(r))return storeAnnotation(e,r,flowAnnotation);var n=e,o=n.name||"<unnamed flow>",a=function(){var u=this,gr=arguments,br=++generatorId,_r=action(o+" - runid: "+br+" - init",n).apply(u,gr),Ar,vr=void 0,Tr=new Promise(function(Or,Ir){var xr=0;Ar=Ir;function Lr(Hr){vr=void 0;var Vr;try{Vr=action(o+" - runid: "+br+" - yield "+xr++,_r.next).call(_r,Hr)}catch(Kr){return Ir(Kr)}Mr(Vr)}function Fr(Hr){vr=void 0;var Vr;try{Vr=action(o+" - runid: "+br+" - yield "+xr++,_r.throw).call(_r,Hr)}catch(Kr){return Ir(Kr)}Mr(Vr)}function Mr(Hr){if(isFunction(Hr==null?void 0:Hr.then)){Hr.then(Mr,Ir);return}return Hr.done?Or(Hr.value):(vr=Promise.resolve(Hr.value),vr.then(Lr,Fr))}Lr(void 0)});return Tr.cancel=action(o+" - runid: "+br+" - cancel",function(){try{vr&&cancelPromise(vr);var Or=_r.return(void 0),Ir=Promise.resolve(Or.value);Ir.then(noop$1,noop$1),cancelPromise(Ir),Ar(new FlowCancellationError)}catch(xr){Ar(xr)}}),Tr};return a.isMobXFlow=!0,a},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(t){isFunction(t.cancel)&&t.cancel()}function flowResult(t){return t}function isFlow(t){return(t==null?void 0:t.isMobXFlow)===!0}function interceptReads(t,e,r){var n;return isObservableMap(t)||isObservableArray(t)||isObservableValue(t)?n=getAdministration(t):isObservableObject(t)&&(n=getAdministration(t,e)),n.dehancer=typeof e=="function"?e:r,function(){n.dehancer=void 0}}function intercept(t,e,r){return isFunction(r)?interceptProperty(t,e,r):interceptInterceptable(t,e)}function interceptInterceptable(t,e){return getAdministration(t).intercept_(e)}function interceptProperty(t,e,r){return getAdministration(t,e).intercept_(r)}function _isComputed(t,e){if(e===void 0)return isComputedValue(t);if(isObservableObject(t)===!1||!t[$mobx].values_.has(e))return!1;var r=getAtom(t,e);return isComputedValue(r)}function isComputed(t){return _isComputed(t)}function isComputedProp(t,e){return _isComputed(t,e)}function _isObservable(t,e){return t?e!==void 0?isObservableObject(t)?t[$mobx].values_.has(e):!1:isObservableObject(t)||!!t[$mobx]||isAtom(t)||isReaction(t)||isComputedValue(t):!1}function isObservable(t){return _isObservable(t)}function isObservableProp(t,e){return _isObservable(t,e)}function keys(t){if(isObservableObject(t))return t[$mobx].keys_();if(isObservableMap(t)||isObservableSet(t))return Array.from(t.keys());if(isObservableArray(t))return t.map(function(e,r){return r});die(5)}function values(t){if(isObservableObject(t))return keys(t).map(function(e){return t[e]});if(isObservableMap(t))return keys(t).map(function(e){return t.get(e)});if(isObservableSet(t))return Array.from(t.values());if(isObservableArray(t))return t.slice();die(6)}function entries(t){if(isObservableObject(t))return keys(t).map(function(e){return[e,t[e]]});if(isObservableMap(t))return keys(t).map(function(e){return[e,t.get(e)]});if(isObservableSet(t))return Array.from(t.entries());if(isObservableArray(t))return t.map(function(e,r){return[r,e]});die(7)}function set(t,e,r){if(arguments.length===2&&!isObservableSet(t)){startBatch();var n=e;try{for(var o in n)set(t,o,n[o])}finally{endBatch()}return}isObservableObject(t)?t[$mobx].set_(e,r):isObservableMap(t)?t.set(e,r):isObservableSet(t)?t.add(e):isObservableArray(t)?(typeof e!="number"&&(e=parseInt(e,10)),e<0&&die("Invalid index: '"+e+"'"),startBatch(),e>=t.length&&(t.length=e+1),t[e]=r,endBatch()):die(8)}function remove(t,e){isObservableObject(t)?t[$mobx].delete_(e):isObservableMap(t)||isObservableSet(t)?t.delete(e):isObservableArray(t)?(typeof e!="number"&&(e=parseInt(e,10)),t.splice(e,1)):die(9)}function has(t,e){if(isObservableObject(t))return t[$mobx].has_(e);if(isObservableMap(t))return t.has(e);if(isObservableSet(t))return t.has(e);if(isObservableArray(t))return e>=0&&e<t.length;die(10)}function get(t,e){if(!!has(t,e)){if(isObservableObject(t))return t[$mobx].get_(e);if(isObservableMap(t))return t.get(e);if(isObservableArray(t))return t[e];die(11)}}function apiDefineProperty(t,e,r){if(isObservableObject(t))return t[$mobx].defineProperty_(e,r);die(39)}function apiOwnKeys(t){if(isObservableObject(t))return t[$mobx].ownKeys_();die(38)}function observe(t,e,r,n){return isFunction(r)?observeObservableProperty(t,e,r,n):observeObservable(t,e,r)}function observeObservable(t,e,r){return getAdministration(t).observe_(e,r)}function observeObservableProperty(t,e,r,n){return getAdministration(t,e).observe_(r,n)}function cache(t,e,r){return t.set(e,r),r}function toJSHelper(t,e){if(t==null||typeof t!="object"||t instanceof Date||!isObservable(t))return t;if(isObservableValue(t)||isComputedValue(t))return toJSHelper(t.get(),e);if(e.has(t))return e.get(t);if(isObservableArray(t)){var r=cache(e,t,new Array(t.length));return t.forEach(function(c,u){r[u]=toJSHelper(c,e)}),r}if(isObservableSet(t)){var n=cache(e,t,new Set);return t.forEach(function(c){n.add(toJSHelper(c,e))}),n}if(isObservableMap(t)){var o=cache(e,t,new Map);return t.forEach(function(c,u){o.set(u,toJSHelper(c,e))}),o}else{var a=cache(e,t,{});return apiOwnKeys(t).forEach(function(c){objectPrototype.propertyIsEnumerable.call(t,c)&&(a[c]=toJSHelper(t[c],e))}),a}}function toJS(t,e){return toJSHelper(t,new Map)}function trace(){}function transaction(t,e){e===void 0&&(e=void 0),startBatch();try{return t.apply(e)}finally{endBatch()}}function when(t,e,r){return arguments.length===1||e&&typeof e=="object"?whenPromise(t,e):_when(t,e,r||{})}function _when(t,e,r){var n;if(typeof r.timeout=="number"){var o=new Error("WHEN_TIMEOUT");n=setTimeout(function(){if(!c[$mobx].isDisposed_)if(c(),r.onError)r.onError(o);else throw o},r.timeout)}r.name="When";var a=createAction("When-effect",e),c=autorun(function(u){var gr=allowStateChanges(!1,t);gr&&(u.dispose(),n&&clearTimeout(n),a())},r);return c}function whenPromise(t,e){var r;if(e!=null&&(r=e.signal)!=null&&r.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var n,o,a=new Promise(function(c,u){var gr,br=_when(t,c,_extends({},e,{onError:u}));n=function(){br(),u(new Error("WHEN_CANCELLED"))},o=function(){br(),u(new Error("WHEN_ABORTED"))},e==null||(gr=e.signal)==null||gr.addEventListener==null||gr.addEventListener("abort",o)}).finally(function(){var c;return e==null||(c=e.signal)==null||c.removeEventListener==null?void 0:c.removeEventListener("abort",o)});return a.cancel=n,a}function getAdm(t){return t[$mobx]}var objectProxyTraps={has:function t(e,r){return getAdm(e).has_(r)},get:function t(e,r){return getAdm(e).get_(r)},set:function t(e,r,n){var o;return isStringish(r)?(o=getAdm(e).set_(r,n,!0))!=null?o:!0:!1},deleteProperty:function t(e,r){var n;return isStringish(r)?(n=getAdm(e).delete_(r,!0))!=null?n:!0:!1},defineProperty:function t(e,r,n){var o;return(o=getAdm(e).defineProperty_(r,n))!=null?o:!0},ownKeys:function t(e){return getAdm(e).ownKeys_()},preventExtensions:function t(e){die(13)}};function asDynamicObservableObject(t,e){var r,n;return assertProxies(),t=asObservableObject(t,e),(n=(r=t[$mobx]).proxy_)!=null?n:r.proxy_=new Proxy(t,objectProxyTraps)}function hasInterceptors(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function registerInterceptor(t,e){var r=t.interceptors_||(t.interceptors_=[]);return r.push(e),once(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function interceptChange(t,e){var r=untrackedStart();try{for(var n=[].concat(t.interceptors_||[]),o=0,a=n.length;o<a&&(e=n[o](e),e&&!e.type&&die(14),!!e);o++);return e}finally{untrackedEnd(r)}}function hasListeners(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function registerListener(t,e){var r=t.changeListeners_||(t.changeListeners_=[]);return r.push(e),once(function(){var n=r.indexOf(e);n!==-1&&r.splice(n,1)})}function notifyListeners(t,e){var r=untrackedStart(),n=t.changeListeners_;if(!!n){n=n.slice();for(var o=0,a=n.length;o<a;o++)n[o](e);untrackedEnd(r)}}function makeObservable(t,e,r){return initObservable(function(){var n,o=asObservableObject(t,r)[$mobx];(n=e)!=null||(e=collectStoredAnnotations(t)),ownKeys(e).forEach(function(a){return o.make_(a,e[a])})}),t}var keysSymbol=Symbol("mobx-keys");function makeAutoObservable(t,e,r){return isPlainObject(t)?extendObservable(t,t,e,r):(initObservable(function(){var n=asObservableObject(t,r)[$mobx];if(!t[keysSymbol]){var o=Object.getPrototypeOf(t),a=new Set([].concat(ownKeys(t),ownKeys(o)));a.delete("constructor"),a.delete($mobx),addHiddenProp$1(o,keysSymbol,a)}t[keysSymbol].forEach(function(c){return n.make_(c,e&&c in e?e[c]:!0)})}),t)}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function t(e,r){var n=e[$mobx];return r===$mobx?n:r==="length"?n.getArrayLength_():typeof r=="string"&&!isNaN(r)?n.get_(parseInt(r)):hasProp(arrayExtensions,r)?arrayExtensions[r]:e[r]},set:function t(e,r,n){var o=e[$mobx];return r==="length"&&o.setArrayLength_(n),typeof r=="symbol"||isNaN(r)?e[r]=n:o.set_(parseInt(r),n),!0},preventExtensions:function t(){die(15)}},ObservableArrayAdministration=function(){function t(r,n,o,a){r===void 0&&(r="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=a,this.atom_=new Atom(r),this.enhancer_=function(c,u){return n(c,u,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},e.intercept_=function(n){return registerInterceptor(this,n)},e.observe_=function(n,o){return o===void 0&&(o=!1),o&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,n)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&die("Out of range: "+n);var o=this.values_.length;if(n!==o)if(n>o){for(var a=new Array(n-o),c=0;c<n-o;c++)a[c]=void 0;this.spliceWithArray_(o,0,a)}else this.spliceWithArray_(n,o-n)},e.updateArrayLength_=function(n,o){n!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&reserveArrayBuffer(n+o+1)},e.spliceWithArray_=function(n,o,a){var c=this;this.atom_;var u=this.values_.length;if(n===void 0?n=0:n>u?n=u:n<0&&(n=Math.max(0,u+n)),arguments.length===1?o=u-n:o==null?o=0:o=Math.max(0,Math.min(o,u-n)),a===void 0&&(a=EMPTY_ARRAY),hasInterceptors(this)){var gr=interceptChange(this,{object:this.proxy_,type:SPLICE,index:n,removedCount:o,added:a});if(!gr)return EMPTY_ARRAY;o=gr.removedCount,a=gr.added}if(a=a.length===0?a:a.map(function(Ar){return c.enhancer_(Ar,void 0)}),this.legacyMode_){var br=a.length-o;this.updateArrayLength_(u,br)}var _r=this.spliceItemsIntoValues_(n,o,a);return(o!==0||a.length!==0)&&this.notifyArraySplice_(n,a,_r),this.dehanceValues_(_r)},e.spliceItemsIntoValues_=function(n,o,a){if(a.length<MAX_SPLICE_SIZE){var c;return(c=this.values_).splice.apply(c,[n,o].concat(a))}else{var u=this.values_.slice(n,n+o),gr=this.values_.slice(n+o);this.values_.length+=a.length-o;for(var br=0;br<a.length;br++)this.values_[n+br]=a[br];for(var _r=0;_r<gr.length;_r++)this.values_[n+a.length+_r]=gr[_r];return u}},e.notifyArrayChildUpdate_=function(n,o,a){var c=!this.owned_&&isSpyEnabled(),u=hasListeners(this),gr=u||c?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:n,newValue:o,oldValue:a}:null;this.atom_.reportChanged(),u&&notifyListeners(this,gr)},e.notifyArraySplice_=function(n,o,a){var c=!this.owned_&&isSpyEnabled(),u=hasListeners(this),gr=u||c?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:n,removed:a,added:o,removedCount:a.length,addedCount:o.length}:null;this.atom_.reportChanged(),u&&notifyListeners(this,gr)},e.get_=function(n){if(this.legacyMode_&&n>=this.values_.length){console.warn("[mobx] Out of bounds read: "+n);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n])},e.set_=function(n,o){var a=this.values_;if(this.legacyMode_&&n>a.length&&die(17,n,a.length),n<a.length){this.atom_;var c=a[n];if(hasInterceptors(this)){var u=interceptChange(this,{type:UPDATE,object:this.proxy_,index:n,newValue:o});if(!u)return;o=u.newValue}o=this.enhancer_(o,c);var gr=o!==c;gr&&(a[n]=o,this.notifyArrayChildUpdate_(n,o,c))}else{for(var br=new Array(n+1-a.length),_r=0;_r<br.length-1;_r++)br[_r]=void 0;br[br.length-1]=o,this.spliceWithArray_(a.length,0,br)}},t}();function createObservableArray(t,e,r,n){return r===void 0&&(r="ObservableArray"),n===void 0&&(n=!1),assertProxies(),initObservable(function(){var o=new ObservableArrayAdministration(r,e,n,!1);addHiddenFinalProp(o.values_,$mobx,o);var a=new Proxy(o.values_,arrayTraps);return o.proxy_=a,t&&t.length&&o.spliceWithArray_(0,0,t),a})}var arrayExtensions={clear:function t(){return this.splice(0)},replace:function t(e){var r=this[$mobx];return r.spliceWithArray_(0,r.values_.length,e)},toJSON:function t(){return this.slice()},splice:function t(e,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var c=this[$mobx];switch(arguments.length){case 0:return[];case 1:return c.spliceWithArray_(e);case 2:return c.spliceWithArray_(e,r)}return c.spliceWithArray_(e,r,o)},spliceWithArray:function t(e,r,n){return this[$mobx].spliceWithArray_(e,r,n)},push:function t(){for(var e=this[$mobx],r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function t(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function t(){return this.splice(0,1)[0]},unshift:function t(){for(var e=this[$mobx],r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function t(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function t(){globalState.trackingDerivation&&die(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function t(e){var r=this[$mobx],n=r.dehanceValues_(r.values_).indexOf(e);return n>-1?(this.splice(n,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(t,e){typeof Array.prototype[t]=="function"&&(arrayExtensions[t]=e(t))}function simpleFunc(t){return function(){var e=this[$mobx];e.atom_.reportObserved();var r=e.dehanceValues_(e.values_);return r[t].apply(r,arguments)}}function mapLikeFunc(t){return function(e,r){var n=this,o=this[$mobx];o.atom_.reportObserved();var a=o.dehanceValues_(o.values_);return a[t](function(c,u){return e.call(r,c,u,n)})}}function reduceLikeFunc(t){return function(){var e=this,r=this[$mobx];r.atom_.reportObserved();var n=r.dehanceValues_(r.values_),o=arguments[0];return arguments[0]=function(a,c,u){return o(a,c,u,e)},n[t].apply(n,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(t){return isObject(t)&&isObservableArrayAdministration(t[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function t(r,n,o){var a=this;n===void 0&&(n=deepEnhancer),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=n,this.name_=o,isFunction(Map)||die(18),initObservable(function(){a.keysAtom_=createAtom("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,r&&a.merge(r)})}var e=t.prototype;return e.has_=function(n){return this.data_.has(n)},e.has=function(n){var o=this;if(!globalState.trackingDerivation)return this.has_(n);var a=this.hasMap_.get(n);if(!a){var c=a=new ObservableValue(this.has_(n),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(n,c),onBecomeUnobserved(c,function(){return o.hasMap_.delete(n)})}return a.get()},e.set=function(n,o){var a=this.has_(n);if(hasInterceptors(this)){var c=interceptChange(this,{type:a?UPDATE:ADD,object:this,newValue:o,name:n});if(!c)return this;o=c.newValue}return a?this.updateValue_(n,o):this.addValue_(n,o),this},e.delete=function(n){var o=this;if(this.keysAtom_,hasInterceptors(this)){var a=interceptChange(this,{type:DELETE,object:this,name:n});if(!a)return!1}if(this.has_(n)){var c=isSpyEnabled(),u=hasListeners(this),gr=u||c?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return transaction(function(){var br;o.keysAtom_.reportChanged(),(br=o.hasMap_.get(n))==null||br.setNewValue_(!1);var _r=o.data_.get(n);_r.setNewValue_(void 0),o.data_.delete(n)}),u&&notifyListeners(this,gr),!0}return!1},e.updateValue_=function(n,o){var a=this.data_.get(n);if(o=a.prepareNewValue_(o),o!==globalState.UNCHANGED){var c=isSpyEnabled(),u=hasListeners(this),gr=u||c?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:a.value_,name:n,newValue:o}:null;a.setNewValue_(o),u&&notifyListeners(this,gr)}},e.addValue_=function(n,o){var a=this;this.keysAtom_,transaction(function(){var br,_r=new ObservableValue(o,a.enhancer_,"ObservableMap.key",!1);a.data_.set(n,_r),o=_r.value_,(br=a.hasMap_.get(n))==null||br.setNewValue_(!0),a.keysAtom_.reportChanged()});var c=isSpyEnabled(),u=hasListeners(this),gr=u||c?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:n,newValue:o}:null;u&&notifyListeners(this,gr)},e.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var n=this,o=this.keys();return makeIterable({next:function(){var c=o.next(),u=c.done,gr=c.value;return{done:u,value:u?void 0:n.get(gr)}}})},e.entries=function(){var n=this,o=this.keys();return makeIterable({next:function(){var c=o.next(),u=c.done,gr=c.value;return{done:u,value:u?void 0:[gr,n.get(gr)]}}})},e[_Symbol$iterator]=function(){return this.entries()},e.forEach=function(n,o){for(var a=_createForOfIteratorHelperLoose(this),c;!(c=a()).done;){var u=c.value,gr=u[0],br=u[1];n.call(o,br,gr,this)}},e.merge=function(n){var o=this;return isObservableMap(n)&&(n=new Map(n)),transaction(function(){isPlainObject(n)?getPlainObjectKeys(n).forEach(function(a){return o.set(a,n[a])}):Array.isArray(n)?n.forEach(function(a){var c=a[0],u=a[1];return o.set(c,u)}):isES6Map(n)?(n.constructor!==Map&&die(19,n),n.forEach(function(a,c){return o.set(c,a)})):n!=null&&die(20,n)}),this},e.clear=function(){var n=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(n.keys()),a;!(a=o()).done;){var c=a.value;n.delete(c)}})})},e.replace=function(n){var o=this;return transaction(function(){for(var a=convertToMap(n),c=new Map,u=!1,gr=_createForOfIteratorHelperLoose(o.data_.keys()),br;!(br=gr()).done;){var _r=br.value;if(!a.has(_r)){var Ar=o.delete(_r);if(Ar)u=!0;else{var vr=o.data_.get(_r);c.set(_r,vr)}}}for(var Tr=_createForOfIteratorHelperLoose(a.entries()),Or;!(Or=Tr()).done;){var Ir=Or.value,xr=Ir[0],Lr=Ir[1],Fr=o.data_.has(xr);if(o.set(xr,Lr),o.data_.has(xr)){var Mr=o.data_.get(xr);c.set(xr,Mr),Fr||(u=!0)}}if(!u)if(o.data_.size!==c.size)o.keysAtom_.reportChanged();else for(var Hr=o.data_.keys(),Vr=c.keys(),Kr=Hr.next(),jr=Vr.next();!Kr.done;){if(Kr.value!==jr.value){o.keysAtom_.reportChanged();break}Kr=Hr.next(),jr=Vr.next()}o.data_=c}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(n,o){return registerListener(this,n)},e.intercept_=function(n){return registerInterceptor(this,n)},_createClass(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),t}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(t){if(isES6Map(t)||isObservableMap(t))return t;if(Array.isArray(t))return new Map(t);if(isPlainObject(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}else return die(21,t)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function t(r,n,o){var a=this;n===void 0&&(n=deepEnhancer),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,isFunction(Set)||die(22),this.enhancer_=function(c,u){return n(c,u,o)},initObservable(function(){a.atom_=createAtom(a.name_),r&&a.replace(r)})}var e=t.prototype;return e.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.clear=function(){var n=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(n.data_.values()),a;!(a=o()).done;){var c=a.value;n.delete(c)}})})},e.forEach=function(n,o){for(var a=_createForOfIteratorHelperLoose(this),c;!(c=a()).done;){var u=c.value;n.call(o,u,u,this)}},e.add=function(n){var o=this;if(this.atom_,hasInterceptors(this)){var a=interceptChange(this,{type:ADD,object:this,newValue:n});if(!a)return this}if(!this.has(n)){transaction(function(){o.data_.add(o.enhancer_(n,void 0)),o.atom_.reportChanged()});var c=!1,u=hasListeners(this),gr=u||c?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:n}:null;u&&notifyListeners(this,gr)}return this},e.delete=function(n){var o=this;if(hasInterceptors(this)){var a=interceptChange(this,{type:DELETE,object:this,oldValue:n});if(!a)return!1}if(this.has(n)){var c=!1,u=hasListeners(this),gr=u||c?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:n}:null;return transaction(function(){o.atom_.reportChanged(),o.data_.delete(n)}),u&&notifyListeners(this,gr),!0}return!1},e.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},e.entries=function(){var n=0,o=Array.from(this.keys()),a=Array.from(this.values());return makeIterable({next:function(){var u=n;return n+=1,u<a.length?{value:[o[u],a[u]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var n=this,o=0,a=Array.from(this.data_.values());return makeIterable({next:function(){return o<a.length?{value:n.dehanceValue_(a[o++]),done:!1}:{done:!0}}})},e.replace=function(n){var o=this;return isObservableSet(n)&&(n=new Set(n)),transaction(function(){Array.isArray(n)?(o.clear(),n.forEach(function(a){return o.add(a)})):isES6Set(n)?(o.clear(),n.forEach(function(a){return o.add(a)})):n!=null&&die("Cannot initialize set from "+n)}),this},e.observe_=function(n,o){return registerListener(this,n)},e.intercept_=function(n){return registerInterceptor(this,n)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[_Symbol$iterator$1]=function(){return this.values()},_createClass(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),t}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function t(r,n,o,a){n===void 0&&(n=new Map),a===void 0&&(a=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=r,this.values_=n,this.name_=o,this.defaultAnnotation_=a,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(n){return this.values_.get(n).get()},e.setObservablePropValue_=function(n,o){var a=this.values_.get(n);if(a instanceof ComputedValue)return a.set(o),!0;if(hasInterceptors(this)){var c=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:n,newValue:o});if(!c)return null;o=c.newValue}if(o=a.prepareNewValue_(o),o!==globalState.UNCHANGED){var u=hasListeners(this),gr=!1,br=u||gr?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:n,newValue:o}:null;a.setNewValue_(o),u&&notifyListeners(this,br)}return!0},e.get_=function(n){return globalState.trackingDerivation&&!hasProp(this.target_,n)&&this.has_(n),this.target_[n]},e.set_=function(n,o,a){return a===void 0&&(a=!1),hasProp(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,o):a?Reflect.set(this.target_,n,o):(this.target_[n]=o,!0):this.extend_(n,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(n){if(!globalState.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(n);return o||(o=new ObservableValue(n in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(n,o)),o.get()},e.make_=function(n,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(n in this.target_)){var a;if((a=this.target_[storedAnnotationsSymbol])!=null&&a[n])return;die(1,o.annotationType_,this.name_+"."+n.toString())}for(var c=this.target_;c&&c!==objectPrototype;){var u=getDescriptor(c,n);if(u){var gr=o.make_(this,n,u,c);if(gr===0)return;if(gr===1)break}c=Object.getPrototypeOf(c)}recordAnnotationApplied(this,o,n)}},e.extend_=function(n,o,a,c){if(c===void 0&&(c=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(n,o,c);var u=a.extend_(this,n,o,c);return u&&recordAnnotationApplied(this,a,n),u},e.defineProperty_=function(n,o,a){a===void 0&&(a=!1),this.keysAtom_;try{startBatch();var c=this.delete_(n);if(!c)return c;if(hasInterceptors(this)){var u=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:ADD,newValue:o.value});if(!u)return null;var gr=u.newValue;o.value!==gr&&(o=_extends({},o,{value:gr}))}if(a){if(!Reflect.defineProperty(this.target_,n,o))return!1}else defineProperty(this.target_,n,o);this.notifyPropertyAddition_(n,o.value)}finally{endBatch()}return!0},e.defineObservableProperty_=function(n,o,a,c){c===void 0&&(c=!1),this.keysAtom_;try{startBatch();var u=this.delete_(n);if(!u)return u;if(hasInterceptors(this)){var gr=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:ADD,newValue:o});if(!gr)return null;o=gr.newValue}var br=getCachedObservablePropDescriptor(n),_r={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:br.get,set:br.set};if(c){if(!Reflect.defineProperty(this.target_,n,_r))return!1}else defineProperty(this.target_,n,_r);var Ar=new ObservableValue(o,a,"ObservableObject.key",!1);this.values_.set(n,Ar),this.notifyPropertyAddition_(n,Ar.value_)}finally{endBatch()}return!0},e.defineComputedProperty_=function(n,o,a){a===void 0&&(a=!1),this.keysAtom_;try{startBatch();var c=this.delete_(n);if(!c)return c;if(hasInterceptors(this)){var u=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:ADD,newValue:void 0});if(!u)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var gr=getCachedObservablePropDescriptor(n),br={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:gr.get,set:gr.set};if(a){if(!Reflect.defineProperty(this.target_,n,br))return!1}else defineProperty(this.target_,n,br);this.values_.set(n,new ComputedValue(o)),this.notifyPropertyAddition_(n,void 0)}finally{endBatch()}return!0},e.delete_=function(n,o){if(o===void 0&&(o=!1),this.keysAtom_,!hasProp(this.target_,n))return!0;if(hasInterceptors(this)){var a=interceptChange(this,{object:this.proxy_||this.target_,name:n,type:REMOVE});if(!a)return null}try{var c,u;startBatch();var gr=hasListeners(this),br=!1,_r=this.values_.get(n),Ar=void 0;if(!_r&&(gr||br)){var vr;Ar=(vr=getDescriptor(this.target_,n))==null?void 0:vr.value}if(o){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(_r&&(this.values_.delete(n),_r instanceof ObservableValue&&(Ar=_r.value_),propagateChanged(_r)),this.keysAtom_.reportChanged(),(c=this.pendingKeys_)==null||(u=c.get(n))==null||u.set(n in this.target_),gr||br){var Tr={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:Ar,name:n};gr&&notifyListeners(this,Tr)}}finally{endBatch()}return!0},e.observe_=function(n,o){return registerListener(this,n)},e.intercept_=function(n){return registerInterceptor(this,n)},e.notifyPropertyAddition_=function(n,o){var a,c,u=hasListeners(this),gr=!1;if(u||gr){var br=u||gr?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:o}:null;u&&notifyListeners(this,br)}(a=this.pendingKeys_)==null||(c=a.get(n))==null||c.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function asObservableObject(t,e){var r;if(hasProp(t,$mobx))return t;var n=(r=e==null?void 0:e.name)!=null?r:"ObservableObject",o=new ObservableObjectAdministration(t,new Map,String(n),getAnnotationFromOptions(e));return addHiddenProp$1(t,$mobx,o),t}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(t){return descriptorCache[t]||(descriptorCache[t]={get:function(){return this[$mobx].getObservablePropValue_(t)},set:function(r){return this[$mobx].setObservablePropValue_(t,r)}})}function isObservableObject(t){return isObject(t)?isObservableObjectAdministration(t[$mobx]):!1}function recordAnnotationApplied(t,e,r){var n;(n=t.target_[storedAnnotationsSymbol])==null||delete n[r]}var ENTRY_0=createArrayEntryDescriptor(0),safariPrototypeSetterInheritanceBug=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function t(){};function inherit(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(t,e,r){_inheritsLoose(n,t);function n(a,c,u,gr){var br;return u===void 0&&(u="ObservableArray"),gr===void 0&&(gr=!1),br=t.call(this)||this,initObservable(function(){var _r=new ObservableArrayAdministration(u,c,gr,!0);_r.proxy_=_assertThisInitialized(br),addHiddenFinalProp(_assertThisInitialized(br),$mobx,_r),a&&a.length&&br.spliceWithArray(0,0,a),safariPrototypeSetterInheritanceBug&&Object.defineProperty(_assertThisInitialized(br),"0",ENTRY_0)}),br}var o=n.prototype;return o.concat=function(){this[$mobx].atom_.reportObserved();for(var c=arguments.length,u=new Array(c),gr=0;gr<c;gr++)u[gr]=arguments[gr];return Array.prototype.concat.apply(this.slice(),u.map(function(br){return isObservableArray(br)?br.slice():br}))},o[r]=function(){var a=this,c=0;return makeIterable({next:function(){return c<a.length?{value:a[c++],done:!1}:{done:!0,value:void 0}}})},_createClass(n,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(c){this[$mobx].setArrayLength_(c)}},{key:e,get:function(){return"Array"}}]),n}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(t){var e=t[0],r=t[1];e!=="concat"&&addHiddenProp$1(LegacyObservableArray.prototype,e,r)});function createArrayEntryDescriptor(t){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(t)},set:function(r){this[$mobx].set_(t,r)}}}function createArrayBufferItem(t){defineProperty(LegacyObservableArray.prototype,""+t,createArrayEntryDescriptor(t))}function reserveArrayBuffer(t){if(t>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var e=OBSERVABLE_ARRAY_BUFFER_SIZE;e<t+100;e++)createArrayBufferItem(e);OBSERVABLE_ARRAY_BUFFER_SIZE=t}}reserveArrayBuffer(1e3);function createLegacyArray(t,e,r){return new LegacyObservableArray(t,e,r)}function getAtom(t,e){if(typeof t=="object"&&t!==null){if(isObservableArray(t))return e!==void 0&&die(23),t[$mobx].atom_;if(isObservableSet(t))return t.atom_;if(isObservableMap(t)){if(e===void 0)return t.keysAtom_;var r=t.data_.get(e)||t.hasMap_.get(e);return r||die(25,e,getDebugName(t)),r}if(isObservableObject(t)){if(!e)return die(26);var n=t[$mobx].values_.get(e);return n||die(27,e,getDebugName(t)),n}if(isAtom(t)||isComputedValue(t)||isReaction(t))return t}else if(isFunction(t)&&isReaction(t[$mobx]))return t[$mobx];die(28)}function getAdministration(t,e){if(t||die(29),e!==void 0)return getAdministration(getAtom(t,e));if(isAtom(t)||isComputedValue(t)||isReaction(t)||isObservableMap(t)||isObservableSet(t))return t;if(t[$mobx])return t[$mobx];die(24,t)}function getDebugName(t,e){var r;if(e!==void 0)r=getAtom(t,e);else{if(isAction(t))return t.name;isObservableObject(t)||isObservableMap(t)||isObservableSet(t)?r=getAdministration(t):r=getAtom(t)}return r.name_}function initObservable(t){var e=untrackedStart(),r=allowStateChangesStart(!0);startBatch();try{return t()}finally{endBatch(),allowStateChangesEnd(r),untrackedEnd(e)}}var toString=objectPrototype.toString;function deepEqual(t,e,r){return r===void 0&&(r=-1),eq(t,e,r)}function eq(t,e,r,n,o){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var a=typeof t;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var c=toString.call(t);if(c!==toString.call(e))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":r>=0&&r++;break}t=unwrap(t),e=unwrap(e);var u=c==="[object Array]";if(!u){if(typeof t!="object"||typeof e!="object")return!1;var gr=t.constructor,br=e.constructor;if(gr!==br&&!(isFunction(gr)&&gr instanceof gr&&isFunction(br)&&br instanceof br)&&"constructor"in t&&"constructor"in e)return!1}if(r===0)return!1;r<0&&(r=-1),n=n||[],o=o||[];for(var _r=n.length;_r--;)if(n[_r]===t)return o[_r]===e;if(n.push(t),o.push(e),u){if(_r=t.length,_r!==e.length)return!1;for(;_r--;)if(!eq(t[_r],e[_r],r-1,n,o))return!1}else{var Ar=Object.keys(t),vr;if(_r=Ar.length,Object.keys(e).length!==_r)return!1;for(;_r--;)if(vr=Ar[_r],!(hasProp(e,vr)&&eq(t[vr],e[vr],r-1,n,o)))return!1}return n.pop(),o.pop(),!0}function unwrap(t){return isObservableArray(t)?t.slice():isES6Map(t)||isObservableMap(t)||isES6Set(t)||isObservableSet(t)?Array.from(t.entries()):t}function makeIterable(t){return t[Symbol.iterator]=getSelf,t}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(t){var e=getGlobal();typeof e[t]>"u"&&die("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});var mobx_esm=Object.freeze(Object.defineProperty({__proto__:null,$mobx,FlowCancellationError,ObservableMap,ObservableSet,Reaction,_allowStateChanges:allowStateChanges,_allowStateChangesInsideComputed:runInAction,_allowStateReadsEnd:allowStateReadsEnd,_allowStateReadsStart:allowStateReadsStart,_autoAction:autoAction,_endAction,_getAdministration:getAdministration,_getGlobalState:getGlobalState,_interceptReads:interceptReads,_isComputingDerivation:isComputingDerivation,_resetGlobalState:resetGlobalState,_startAction,action,autorun,comparer,computed,configure,createAtom,defineProperty:apiDefineProperty,entries,extendObservable,flow,flowResult,get,getAtom,getDebugName,getDependencyTree,getObserverTree,has,intercept,isAction,isBoxedObservable:isObservableValue,isComputed,isComputedProp,isFlow,isFlowCancellationError,isObservable,isObservableArray,isObservableMap,isObservableObject,isObservableProp,isObservableSet,keys,makeAutoObservable,makeObservable,observable,observe,onBecomeObserved,onBecomeUnobserved,onReactionError,override,ownKeys:apiOwnKeys,reaction,remove,runInAction,set,spy,toJS,trace,transaction,untracked,values,when},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(mobx_esm);(function(t){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.Order=t.OrderSide=void 0;const r=require$$0$1,n=e(big.exports),o=require$$1;var a;(function(u){u.Buy="buy",u.Sell="sell"})(a=t.OrderSide||(t.OrderSide={}));class c{constructor(gr){this.id="",this.orderType=a.Buy,this.orderMint="",this.currencyMint="",this.currencyDecimals=0,this.price=new r.BN(0),this.orderQtyRemaining=0,this.orderOriginationQty=0,this.owner="",this.ownerAssetTokenAccount="",this.ownerCurrencyTokenAccount="",this.createdAt=0,this.slotContext=0,gr&&(this.id=gr.id,this.orderType=gr.orderType,this.orderMint=gr.orderMint,this.currencyMint=gr.currencyMint,this.currencyDecimals=gr.currencyDecimals,this.price=gr.price,this.orderQtyRemaining=gr.orderQtyRemaining,this.orderOriginationQty=gr.orderOriginationQty,this.owner=gr.owner,this.ownerAssetTokenAccount=gr.ownerAssetTokenAccount,this.ownerCurrencyTokenAccount=gr.ownerCurrencyTokenAccount,this.createdAt=gr.createdAt,this.slotContext=gr.slotContext),(0,o.makeObservable)(this,{orderQtyRemaining:o.observable})}get decimalDivisor(){return new n.default(10).pow(this.currencyDecimals)}get bigNumberPrice(){return new n.default(this.price.toString())}get uiPrice(){return this.bigNumberPrice.div(this.decimalDivisor).toNumber()}priceForQuantity(gr=1){return this.bigNumberPrice.mul(gr).div(this.decimalDivisor).toNumber()}}t.Order=c})(Order);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(Order,t)})(models);var __awaiter$m=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(exchangeOrder,"__esModule",{value:!0});exchangeOrder.createExchangeInstruction=void 0;const anchor_1$f=require$$0$1,web3_js_1$5=require$$2,utils_1$h=utils,pda_getters_1$5=pda_getters$3,pda_getters_2=pda_getters$3,util_1$5=util,models_1$1=models;function createExchangeInstruction({connection:t,orderAccount:e,purchaseQty:r,orderTaker:n,orderTakerDepositTokenAccount:o,programId:a,expectedPrice:c,orderType:u,assetMint:gr,currencyMint:br,orderInitializer:_r,saVault:Ar,stakingProgramId:vr,registeredStake:Tr,stakingAccount:Or,extraAccounts:Ir=[]}){return __awaiter$m(this,void 0,void 0,function*(){const xr=(0,utils_1$h.getMarketplaceProgram)({connection:t,programId:a}),Lr={signers:[],instructions:[]},Fr=u===models_1$1.OrderSide.Sell?new web3_js_1$5.PublicKey(gr):new web3_js_1$5.PublicKey(br),Mr=u===models_1$1.OrderSide.Sell?new web3_js_1$5.PublicKey(br):new web3_js_1$5.PublicKey(gr);let Hr=null,Vr=null,Kr=null,jr=yield(0,util_1$5.getTokenAccount)(t,_r,Fr,n);"createInstruction"in jr?(Lr.instructions.push(...jr.createInstruction),jr.tokenAccount instanceof anchor_1$f.web3.Keypair?(Hr=jr.tokenAccount.publicKey,Lr.signers.push(jr.tokenAccount)):Hr=jr.tokenAccount):Hr=jr.tokenAccount,jr=yield(0,util_1$5.getTokenAccount)(t,_r,Mr,n),"createInstruction"in jr?(Lr.instructions.push(...jr.createInstruction),jr.tokenAccount instanceof anchor_1$f.web3.Keypair?(Vr=jr.tokenAccount.publicKey,Lr.signers.push(jr.tokenAccount)):Vr=jr.tokenAccount):Vr=jr.tokenAccount;const[qr]=yield(0,pda_getters_1$5.getOrderVault)(_r,Fr,a),[tn]=yield(0,pda_getters_2.getOpenOrdersCounter)(_r,Fr,a);jr=yield(0,util_1$5.getTokenAccount)(t,n,Fr),"createInstruction"in jr?(Lr.instructions.push(...jr.createInstruction),jr.tokenAccount instanceof anchor_1$f.web3.Keypair?(Kr=jr.tokenAccount.publicKey,Lr.signers.push(jr.tokenAccount)):Kr=jr.tokenAccount):Kr=jr.tokenAccount;const en=u===models_1$1.OrderSide.Buy?n:_r,[sn]=yield(0,pda_getters_1$5.getFeeExemptAccount)(en,a),cn=yield xr.methods.processExchange(new anchor_1$f.BN(r),c,en).accounts({orderTaker:n,orderTakerDepositTokenAccount:o,orderTakerReceiveTokenAccount:Kr,currencyMint:br,assetMint:gr,orderInitializer:_r,initializerDepositTokenAccount:Hr,initializerReceiveTokenAccount:Vr,orderVaultAccount:qr,orderAccount:e,openOrdersCounter:tn,saVault:Ar,atlasStaking:vr,registeredStake:Tr,stakingAccount:Or,feeReduction:sn}).remainingAccounts(Ir).instruction();return Lr.instructions.push(cn),Lr})}exchangeOrder.createExchangeInstruction=createExchangeInstruction;var initializeMarketplace={},__awaiter$l=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(initializeMarketplace,"__esModule",{value:!0});initializeMarketplace.createInitializeMarketInstruction=void 0;const utils_1$g=utils;function createInitializeMarketInstruction({connection:t,updateAuthorityAccount:e,programId:r}){return __awaiter$l(this,void 0,void 0,function*(){const o=[yield(0,utils_1$g.getMarketplaceProgram)({connection:t,programId:r}).methods.initializeMarketplace().accounts({updateAuthorityAccount:e}).instruction()];return{accounts:[],instructions:o}})}initializeMarketplace.createInitializeMarketInstruction=createInitializeMarketInstruction;var registerCurrency={},__awaiter$k=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(registerCurrency,"__esModule",{value:!0});registerCurrency.createRegisterCurrencyInstruction=void 0;const anchor_1$e=require$$0$1,utils_1$f=utils;function createRegisterCurrencyInstruction({connection:t,updateAuthorityAccount:e,royalty:r,saCurrencyVault:n,currencyMint:o,programId:a}){return __awaiter$k(this,void 0,void 0,function*(){const u=[yield(0,utils_1$f.getMarketplaceProgram)({connection:t,programId:a}).methods.registerCurrency(new anchor_1$e.BN(r)).accounts({updateAuthorityAccount:e,saCurrencyVault:n,currencyMint:o}).instruction()];return{accounts:[],instructions:u}})}registerCurrency.createRegisterCurrencyInstruction=createRegisterCurrencyInstruction;var royaltyTiers={},__awaiter$j=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(royaltyTiers,"__esModule",{value:!0});royaltyTiers.updateRoyaltyTier=royaltyTiers.deleteRoyaltyTier=royaltyTiers.addRoyaltyTier=void 0;const anchor_1$d=require$$0$1,utils_1$e=utils;function addRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:r,stakeAmount:n,discount:o,programId:a}){return __awaiter$j(this,void 0,void 0,function*(){const c=(0,utils_1$e.getMarketplaceProgram)({connection:t,programId:a}),u={signers:[],instructions:[]},gr=yield c.methods.addRoyaltyTier(new anchor_1$d.BN(n),new anchor_1$d.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:r}).instruction();return u.instructions.push(gr),u})}royaltyTiers.addRoyaltyTier=addRoyaltyTier;function deleteRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:r,stakeAmount:n,programId:o}){return __awaiter$j(this,void 0,void 0,function*(){const a=(0,utils_1$e.getMarketplaceProgram)({connection:t,programId:o}),c={signers:[],instructions:[]},u=yield a.methods.deleteRoyaltyTier(new anchor_1$d.BN(n)).accounts({updateAuthorityAccount:e,registeredCurrency:r}).instruction();return c.instructions.push(u),c})}royaltyTiers.deleteRoyaltyTier=deleteRoyaltyTier;function updateRoyaltyTier({connection:t,updateAuthorityAccount:e,registeredCurrency:r,stakeAmount:n,discount:o,programId:a}){return __awaiter$j(this,void 0,void 0,function*(){const c=(0,utils_1$e.getMarketplaceProgram)({connection:t,programId:a}),u={signers:[],instructions:[]},gr=yield c.methods.updateRoyaltyTier(new anchor_1$d.BN(n),new anchor_1$d.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:r}).instruction();return u.instructions.push(gr),u})}royaltyTiers.updateRoyaltyTier=updateRoyaltyTier;var updateCurrency={},__awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(updateCurrency,"__esModule",{value:!0});updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=void 0;const anchor_1$c=require$$0$1,utils_1$d=utils;function createUpdateRegisteredCurrencyRoyaltyInstruction({connection:t,updateAuthorityAccount:e,royalty:r,currencyMint:n,programId:o}){return __awaiter$i(this,void 0,void 0,function*(){return[yield(0,utils_1$d.getMarketplaceProgram)({connection:t,programId:o}).methods.updateCurrencyRoyalty(new anchor_1$c.BN(r)).accounts({updateAuthorityAccount:e,currencyMint:n}).instruction()]})}updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=createUpdateRegisteredCurrencyRoyaltyInstruction;function createUpdateRegisteredCurrencyVaultInstruction({connection:t,updateAuthorityAccount:e,saCurrencyVault:r,currencyMint:n,programId:o}){return __awaiter$i(this,void 0,void 0,function*(){return[yield(0,utils_1$d.getMarketplaceProgram)({connection:t,programId:o}).methods.updateCurrencyVault().accounts({updateAuthorityAccount:e,saCurrencyVault:r,currencyMint:n}).instruction()]})}updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=createUpdateRegisteredCurrencyVaultInstruction;var feeExempt={},__awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(feeExempt,"__esModule",{value:!0});feeExempt.createRemoveFeeExemptionInstruction=feeExempt.createAddFeeExemptionInstruction=void 0;const anchor_1$b=require$$0$1,utils_1$c=utils,pda_getters_1$4=pda_getters$3;function createAddFeeExemptionInstruction({connection:t,updateAuthorityAccount:e,funder:r,feeExemptTarget:n,programId:o}){return __awaiter$h(this,void 0,void 0,function*(){const a=(0,utils_1$c.getMarketplaceProgram)({connection:t,programId:o}),c={signers:[],instructions:[]},u=1e6,[gr]=yield(0,pda_getters_1$4.getFeeExemptAccount)(n,o),[br]=yield(0,pda_getters_1$4.getMarketVarsAccount)(o),_r=[yield a.methods.addFeeExemption(new anchor_1$b.BN(u)).accounts({updateAuthorityMaster:e,funder:r,feeExemptTarget:n,feeExemptAccount:gr,marketVarsAccount:br}).instruction()];return c.instructions.push(..._r),c})}feeExempt.createAddFeeExemptionInstruction=createAddFeeExemptionInstruction;function createRemoveFeeExemptionInstruction({connection:t,updateAuthorityAccount:e,funder:r,feeExemptTarget:n,programId:o}){return __awaiter$h(this,void 0,void 0,function*(){const a=(0,utils_1$c.getMarketplaceProgram)({connection:t,programId:o}),c={signers:[],instructions:[]},[u]=yield(0,pda_getters_1$4.getFeeExemptAccount)(n,o),[gr]=yield(0,pda_getters_1$4.getMarketVarsAccount)(o),br=[yield a.methods.removeFeeExemption().accounts({updateAuthorityMaster:e,funder:r,feeExemptAccount:u,feeExemptTarget:n,marketVarsAccount:gr}).instruction()];return c.instructions.push(...br),c})}feeExempt.createRemoveFeeExemptionInstruction=createRemoveFeeExemptionInstruction;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(BaseParams,t),r(cancelOrder,t),r(createOrder,t),r(deregisterCurrency,t),r(exchangeOrder,t),r(initializeMarketplace,t),r(registerCurrency,t),r(royaltyTiers,t),r(updateCurrency,t),r(feeExempt,t)})(instruction_builders);var types$2={},marketplace_accounts={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GmLogs=void 0,function(e){e.CancelOrderMemo="CancelOrderMemo",e.ExchangeMemo="ExchangeMemo",e.InitializeMemo="InitializeMemo",e.RegisterCurrencyMemo="RegisterCurrencyMemo"}(t.GmLogs||(t.GmLogs={}))})(marketplace_accounts);var services$1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.GmEventType=void 0,function(e){e[e.orderAdded=0]="orderAdded",e[e.orderRemoved=1]="orderRemoved",e[e.orderModified=2]="orderModified"}(t.GmEventType||(t.GmEventType={}))})(services$1);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(gmIdl,t),r(marketplace_accounts,t),r(services$1,t)})(types$2);var services={},GmOrderbookService$1={},NOOP=function(){},IDENTITY=function(t){return t};function fail(t){throw new Error("[mobx-utils] "+t)}function invariant(t,e){e===void 0&&(e="Illegal state"),t||fail(e)}function addHiddenProp(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}var deepFields=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(deepFields(Object.getPrototypeOf(t))||[])},distinctDeepFields=function(t){var e=deepFields(t),r=e.filter(function(n,o){return e.indexOf(n)===o});return r},getAllMethodsAndProperties=function(t){return distinctDeepFields(t).filter(function(e){return e!=="constructor"&&!~e.indexOf("__")})},PENDING="pending",FULFILLED="fulfilled",REJECTED="rejected";function caseImpl(t){switch(this.state){case PENDING:return t.pending&&t.pending(this.value);case REJECTED:return t.rejected&&t.rejected(this.value);case FULFILLED:return t.fulfilled?t.fulfilled(this.value):this.value}}function fromPromise(t,e){if(invariant(arguments.length<=2,"fromPromise expects up to two arguments"),invariant(typeof t=="function"||typeof t=="object"&&t&&typeof t.then=="function","Please pass a promise or function to fromPromise"),t.isPromiseBasedObservable===!0)return t;typeof t=="function"&&(t=new Promise(t));var r=t;t.then(action("observableFromPromise-resolve",function(o){r.value=o,r.state=FULFILLED}),action("observableFromPromise-reject",function(o){r.value=o,r.state=REJECTED})),r.isPromiseBasedObservable=!0,r.case=caseImpl;var n=e&&(e.state===FULFILLED||e.state===PENDING)?e.value:void 0;return extendObservable(r,{value:n,state:PENDING},{},{deep:!1}),r}(function(t){t.reject=action("fromPromise.reject",function(r){var n=t(Promise.reject(r));return n.state=REJECTED,n.value=r,n});function e(r){r===void 0&&(r=void 0);var n=t(Promise.resolve(r));return n.state=FULFILLED,n.value=r,n}t.resolve=action("fromPromise.resolve",e)})(fromPromise||(fromPromise={}));function isPromiseBasedObservable(t){return t&&t.isPromiseBasedObservable===!0}var __spreadArrays=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,o++)n[o]=a[c];return n};function moveItem(t,e,r){if(checkIndex(t,e),checkIndex(t,r),e!==r){var n=t.slice(),o;return e<r?o=__spreadArrays(n.slice(0,e),n.slice(e+1,r+1),[n[e]],n.slice(r+1)):o=__spreadArrays(n.slice(0,r),[n[e]],n.slice(r,e),n.slice(e+1)),t.replace(o),t}}function checkIndex(t,e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var r=t.length;if(e>=r)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+r)}function lazyObservable(t,e){e===void 0&&(e=void 0);var r=!1,n=observable.box(e,{deep:!1}),o=observable.box(!1),a=function(){return r||(r=!0,allowStateChanges(!0,function(){o.set(!0)}),t(function(u){allowStateChanges(!0,function(){n.set(u),o.set(!1)})})),n.get()},c=action("lazyObservable-reset",function(){return r=!1,n.set(e),n.get()});return{current:a,refresh:function(){return r?(r=!1,a()):n.get()},reset:function(){return c()},get pending(){return o.get()}}}function fromResource(t,e,r){e===void 0&&(e=NOOP),r===void 0&&(r=void 0);var n=!1,o=!1,a=r,c=function(){n&&(n=!1,e())},u=createAtom("ResourceBasedObservable",function(){invariant(!n&&!o),n=!0,t(function(gr){allowStateChanges(!0,function(){a=gr,u.reportChanged()})})},c);return{current:function(){invariant(!o,"subscribingObservable has already been disposed");var gr=u.reportObserved();return!gr&&!n&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),a},dispose:function(){o=!0,c()},isAlive:function(){return n}}}var __decorate=function(t,e,r,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(a=(o<3?c(a):o>3?c(e,r,a):c(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a};function observableSymbol(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function toStream(t,e){var r;e===void 0&&(e=!1);var n=computed(t);return r={subscribe:function(o){return typeof o=="function"?{unsubscribe:observe(n,function(a){var c=a.newValue;return o(c)},e)}:o&&typeof o=="object"&&o.next?{unsubscribe:observe(n,function(a){var c=a.newValue;return o.next(c)},e)}:{unsubscribe:function(){}}}},r[observableSymbol()]=function(){return this},r}var StreamListener=function(){function t(e,r){var n=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),makeObservable(this),runInAction(function(){n.current=r,n.subscription=e.subscribe(n)})}return Object.defineProperty(t.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(t.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(t.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(t.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),__decorate([observable.ref],t.prototype,"current",void 0),__decorate([action.bound],t.prototype,"next",null),__decorate([action.bound],t.prototype,"complete",null),__decorate([action.bound],t.prototype,"error",null),t}();function fromStream(t,e){return e===void 0&&(e=void 0),new StreamListener(t,e)}var __assign=function(){return __assign=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign.apply(this,arguments)},__decorate$1=function(t,e,r,n){var o=arguments.length,a=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(a=(o<3?c(a):o>3?c(e,r,a):c(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},RESERVED_NAMES=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],ViewModel=function(){function t(e){var r=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(o){return r.localValues.has(o)}}),makeObservable(this),invariant(isObservableObject(e),"createViewModel expects an observable object");var n=getAllMethodsAndProperties(this);getAllMethodsAndProperties(e).forEach(function(o){var a;if(!n.includes(o)&&!(o===$mobx||o==="__mobxDidRunLazyInitializers")){if(invariant(RESERVED_NAMES.indexOf(o)===-1,"The propertyname "+o+" is reserved and cannot be used with viewModels"),isComputedProp(e,o)){var c=getAdministration(e,o),u=c.derivation.bind(r),gr=(a=c.setter_)===null||a===void 0?void 0:a.bind(r);r.localComputedValues.set(o,computed(u,{set:gr}))}var br=Object.getOwnPropertyDescriptor(e,o),_r=br?{enumerable:br.enumerable}:{};Object.defineProperty(r,o,__assign(__assign({},_r),{configurable:!0,get:function(){return isComputedProp(e,o)?r.localComputedValues.get(o).get():r.isPropertyDirty(o)?r.localValues.get(o):r.model[o]},set:action(function(Ar){isComputedProp(e,o)?r.localComputedValues.get(o).set(Ar):Ar!==r.model[o]?r.localValues.set(o,Ar):r.localValues.delete(o)})}))}})}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;keys(this.localValues).forEach(function(r){var n=e.localValues.get(r),o=e.model[r];isObservableArray(o)?o.replace(n):isObservableMap(o)?(o.clear(),o.merge(n)):isComputed(n)||(e.model[r]=n)}),this.localValues.clear()}}),Object.defineProperty(t.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(t.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),__decorate$1([computed],t.prototype,"isDirty",null),__decorate$1([computed],t.prototype,"changedValues",null),__decorate$1([action.bound],t.prototype,"submit",null),__decorate$1([action.bound],t.prototype,"reset",null),__decorate$1([action.bound],t.prototype,"resetProperty",null),t}();function createViewModel(t){return new ViewModel(t)}function keepAlive(t,e){var r=getAtom(t,e);if(!r)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return observe(r,function(){})}function queueProcessor(t,e,r){if(r===void 0&&(r=0),!isObservableArray(t))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("queueProcessor",e));var n=function(){var o=t.slice(0);runInAction(function(){return t.splice(0)}),o.forEach(e)};return r>0?autorun(n,{delay:r}):autorun(n)}function chunkProcessor(t,e,r,n){if(r===void 0&&(r=0),n===void 0&&(n=0),!isObservableArray(t))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("chunkProcessor",e));var o=function(){for(var a=function(){var c=n===0?t.length:Math.min(t.length,n),u=t.slice(0,c);runInAction(function(){return t.splice(0,c)}),e(u)};t.length>0;)a()};return r>0?autorun(o,{delay:r}):autorun(o)}var tickers={};function resetNowInternalState(){for(var t=0,e=Object.getOwnPropertyNames(tickers);t<e.length;t++){var r=e[t];tickers[r].dispose(),delete tickers[r]}}function now(t){return t===void 0&&(t=1e3),isComputingDerivation()?(tickers[t]||(typeof t=="number"?tickers[t]=createIntervalTicker(t):tickers[t]=createAnimationFrameTicker()),tickers[t].current()):Date.now()}function createIntervalTicker(t){var e;return fromResource(function(r){r(Date.now()),e=setInterval(function(){return r(Date.now())},t)},function(){clearInterval(e)},Date.now())}function createAnimationFrameTicker(){var t=fromResource(function(e){e(Date.now());function r(){window.requestAnimationFrame(function(){e(Date.now()),t.isAlive()&&r()})}r()},function(){},Date.now());return t}function expr(t){return isComputingDerivation()||console.warn("'expr' should only be used inside other reactive functions."),computed(t).get()}var __assign$1=function(){return __assign$1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$1.apply(this,arguments)},memoizationId=0;function createTransformer(t,e){invariant(typeof t=="function"&&t.length<2,"createTransformer expects a function that accepts one argument");var r={},n=void 0,o=!1,a=void 0;typeof e=="object"?(n=e.onCleanup,o=e.keepAlive!==void 0?e.keepAlive:!1,a=e.debugNameGenerator):typeof e=="function"&&(n=e);function c(gr,br){var _r,Ar={};typeof e=="object"?(n=e.onCleanup,a=e.debugNameGenerator,Ar=e):typeof e=="function"?n=e:(n=void 0,a=void 0);var vr=a?a(br):"Transformer-"+t.name+"-"+gr,Tr=computed(function(){return _r=t(br)},__assign$1(__assign$1({},Ar),{name:vr}));if(!o)var Or=onBecomeUnobserved(Tr,function(){delete r[gr],Or(),n&&n(_r,br)});return Tr}var u=!1;return function(gr){var br=getMemoizationId(gr),_r=r[br];if(_r)return _r.get();if(!o&&!isComputingDerivation()){u||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),u=!0);var Ar=t(gr);return n&&n(Ar,gr),Ar}return _r=r[br]=c(br,gr),_r.get()}}function getMemoizationId(t){var e=typeof t;if(e==="string")return"string:"+t;if(e==="number")return"number:"+t;if(t===null||e!=="object"&&e!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(t));var r=t.$transformId;return r===void 0&&(r="memoizationId:"+ ++memoizationId,addHiddenProp(t,"$transformId",r)),r}function buildPath(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function isRecursivelyObservable(t){return isObservableObject(t)||isObservableArray(t)||isObservableMap(t)}function deepObserve(t,e){var r=new WeakMap;function n(u){var gr=r.get(u.object);o(u,gr),e(u,buildPath(gr),t)}function o(u,gr){switch(u.type){case"add":a(u.newValue,gr,u.name);break;case"update":c(u.oldValue),a(u.newValue,gr,u.name||""+u.index);break;case"remove":case"delete":c(u.oldValue);break;case"splice":u.removed.map(c),u.added.forEach(function(Ar,vr){return a(Ar,gr,""+(u.index+vr))});for(var br=u.index+u.addedCount;br<u.object.length;br++)if(isRecursivelyObservable(u.object[br])){var _r=r.get(u.object[br]);_r&&(_r.path=""+br)}break}}function a(u,gr,br){if(isRecursivelyObservable(u)){var _r=r.get(u);if(_r){if(_r.parent!==gr||_r.path!==br)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+buildPath(gr)+"/"+br+"',")+(" but it already exists at '"+buildPath(_r.parent)+"/"+_r.path+"'"))}else{var Ar={parent:gr,path:br,dispose:observe(u,n)};r.set(u,Ar),entries(u).forEach(function(vr){var Tr=vr[0],Or=vr[1];return a(Or,Ar,Tr)})}}}function c(u){if(isRecursivelyObservable(u)){var gr=r.get(u);if(!gr)return;r.delete(u),gr.dispose(),values(u).forEach(c)}}return a(t,void 0,""),function(){c(t)}}var __extends=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ObservableGroupMap=function(t){__extends(e,t);function e(r,n,o){var a=o===void 0?{}:o,c=a.name,u=c===void 0?"ogm"+(Math.random()*1e3|0):c,gr=a.keyToName,br=gr===void 0?function(vr){return""+vr}:gr,_r=t.call(this)||this;Object.defineProperty(_r,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_r,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_r,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_r,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_r,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),_r._keyToName=br,_r._groupBy=n,_r._ogmInfoKey=Symbol("ogmInfo"+u),_r._base=r;for(var Ar=0;Ar<r.length;Ar++)_r._addItem(r[Ar]);return _r._disposeBaseObserver=observe(_r._base,function(vr){if(vr.type==="splice")transaction(function(){for(var Tr=0,Or=vr.removed;Tr<Or.length;Tr++){var Ir=Or[Tr];_r._removeItem(Ir)}for(var xr=0,Lr=vr.added;xr<Lr.length;xr++){var Fr=Lr[xr];_r._addItem(Fr)}});else if(vr.type==="update")transaction(function(){_r._removeItem(vr.oldValue),_r._addItem(vr.newValue)});else throw new Error("illegal state")}),_r}return Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(r){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var r=0;r<this._base.length;r++){var n=this._base[r],o=n[this._ogmInfoKey];o.reaction(),delete n[this._ogmInfoKey]}}}),Object.defineProperty(e.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=t.prototype.get.call(this,r);return n===void 0&&(n=observable([],{name:"GroupArray["+this._keyToName(r)+"]",deep:!1}),t.prototype.set.call(this,r,n)),n}}),Object.defineProperty(e.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(r,n){var o=t.prototype.get.call(this,r);o.length===1?t.prototype.delete.call(this,r):(n===o.length-1||(o[n]=o[o.length-1],o[n][this._ogmInfoKey].groupArrIndex=n),o.length--)}}),Object.defineProperty(e.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=this,o=this._groupBy(r),a=this._getGroupArr(o),c={groupByValue:o,groupArrIndex:a.length,reaction:reaction(function(){return n._groupBy(r)},function(u,gr){var br=r[n._ogmInfoKey];n._removeFromGroupArr(br.groupByValue,br.groupArrIndex);var _r=n._getGroupArr(u),Ar=_r.length;_r.push(r),br.groupByValue=u,br.groupArrIndex=Ar})};Object.defineProperty(r,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:c}),a.push(r)}}),Object.defineProperty(e.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var n=r[this._ogmInfoKey];this._removeFromGroupArr(n.groupByValue,n.groupArrIndex),n.reaction(),delete r[this._ogmInfoKey]}}),e}(ObservableMap),DeepMapEntry=function(){function t(e,r){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var n=this.closest=this.root=e,o=0;o<this.args.length-1&&(n=n.get(r[o]),n);o++)this.closest=n;this.closestIdx=o}return Object.defineProperty(t.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(t.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(t.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var r=this.args.length,n=this.closest,o=this.closestIdx;o<r-1;o++){var a=new Map;n.set(this.args[o],a),n=a}this.closestIdx=r-1,this.closest=n,n.set(this.args[r-1],e)}}),Object.defineProperty(t.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var r=this.root,n=[r],o=0;o<e-1;o++)r=r.get(this.args[o]),n.push(r);for(var o=n.length-1;o>0;o--)n[o].size===0&&n[o-1].delete(this.args[o-1]);this.isDisposed=!0}}),Object.defineProperty(t.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),t}(),DeepMap=function(){function t(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(t.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.argsLength===-1)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new DeepMapEntry(this.store,e)}}),t}(),__assign$2=function(){return __assign$2=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},__assign$2.apply(this,arguments)},__spreadArrays$1=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,o++)n[o]=a[c];return n};function computedFn(t,e){if(e===void 0&&(e=!1),isAction(t))throw new Error("computedFn shouldn't be used on actions");var r=!1,n=0,o=typeof e=="boolean"?{keepAlive:e}:e,a=new DeepMap;return function(){for(var c=this,u=[],gr=0;gr<arguments.length;gr++)u[gr]=arguments[gr];var br=a.entry(u);if(br.exists())return br.get().get();if(!o.keepAlive&&!isComputingDerivation())return!r&&getGlobalState().computedRequiresReaction&&(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),r=!0),t.apply(this,u);var _r,Ar=computed(function(){return _r=t.apply(c,u)},__assign$2(__assign$2({},o),{name:"computedFn("+(o.name||t.name)+"#"+ ++n+")"}));return br.set(Ar),o.keepAlive||onBecomeUnobserved(Ar,function(){a.entry(u).delete(),o.onCleanup&&o.onCleanup.apply(o,__spreadArrays$1([_r],u)),_r=void 0}),Ar.get()}}var mobxUtils_module=Object.freeze(Object.defineProperty({__proto__:null,FULFILLED,IDENTITY,NOOP,ObservableGroupMap,PENDING,REJECTED,ViewModel,addHiddenProp,chunkProcessor,computedFn,createTransformer,createViewModel,deepObserve,expr,fail,get fromPromise(){return fromPromise},fromResource,fromStream,getAllMethodsAndProperties,invariant,isPromiseBasedObservable,keepAlive,lazyObservable,moveItem,now,queueProcessor,resetNowInternalState,toStream},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(mobxUtils_module),lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var r,n="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",gr="__lodash_hash_undefined__",br=500,_r="__lodash_placeholder__",Ar=1,vr=2,Tr=4,Or=1,Ir=2,xr=1,Lr=2,Fr=4,Mr=8,Hr=16,Vr=32,Kr=64,jr=128,qr=256,tn=512,en=30,sn="...",cn=800,Ur=16,Rr=1,Pr=2,Dr=3,Yr=1/0,Zr=9007199254740991,Xr=17976931348623157e292,nn=0/0,Gr=4294967295,Nr=Gr-1,Jr=Gr>>>1,fn=[["ary",jr],["bind",xr],["bindKey",Lr],["curry",Mr],["curryRight",Hr],["flip",tn],["partial",Vr],["partialRight",Kr],["rearg",qr]],An="[object Arguments]",wn="[object Array]",yn="[object AsyncFunction]",mn="[object Boolean]",_n="[object Date]",In="[object DOMException]",Nn="[object Error]",ln="[object Function]",hn="[object GeneratorFunction]",gn="[object Map]",Rn="[object Number]",Cn="[object Null]",kn="[object Object]",Un="[object Promise]",Sn="[object Proxy]",Bn="[object RegExp]",Tn="[object Set]",jn="[object String]",Hn="[object Symbol]",Wn="[object Undefined]",Vn="[object WeakMap]",Yn="[object WeakSet]",kr="[object ArrayBuffer]",Sr="[object DataView]",wr="[object Float32Array]",Br="[object Float64Array]",Wr="[object Int8Array]",Qr="[object Int16Array]",an="[object Int32Array]",Pn="[object Uint8Array]",Fn="[object Uint8ClampedArray]",Dn="[object Uint16Array]",Gn="[object Uint32Array]",Kn=/\b__p \+= '';/g,Ai=/\b(__p \+=) '' \+/g,Hs=/(__e\(.*?\)|\b__t\)) \+\n'';/g,bi=/&(?:amp|lt|gt|quot|#39);/g,_i=/[&<>"']/g,zs=RegExp(bi.source),Ei=RegExp(_i.source),vi=/<%-([\s\S]+?)%>/g,js=/<%([\s\S]+?)%>/g,$i=/<%=([\s\S]+?)%>/g,Ri=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ws=/^\w*$/,Ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yi=/[\\^$.*+?()[\]{}|]/g,Vs=RegExp(yi.source),gi=/^\s+/,ki=/\s/,Gs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ii=/\{\n\/\* \[wrapped with (.+)\] \*/,Oi=/,? & /,qs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ci=/[()=,{}\[\]\/\s]/,Pi=/\\(\\)?/g,Ys=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Si=/\w*$/,xi=/^[-+]0x[0-9a-f]+$/i,hs=/^0b[01]+$/i,ps=/^\[object .+?Constructor\]$/,ys=/^0o[0-7]+$/i,gs=/^(?:0|[1-9]\d*)$/,bs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ko=/($^)/,_s=/['\n\r\u2028\u2029\\]/g,Io="\\ud800-\\udfff",$s="\\u0300-\\u036f",Ss="\\ufe20-\\ufe2f",ws="\\u20d0-\\u20ff",qo=$s+Ss+ws,Yo="\\u2700-\\u27bf",Zo="a-z\\xdf-\\xf6\\xf8-\\xff",As="\\xac\\xb1\\xd7\\xf7",Es="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vs="\\u2000-\\u206f",Rs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jo="A-Z\\xc0-\\xd6\\xd8-\\xde",Gc="\\ufe0e\\ufe0f",qc=As+Es+vs+Rs,Ma="['\u2019]",pd="["+Io+"]",Yc="["+qc+"]",Zs="["+qo+"]",Zc="\\d+",yd="["+Yo+"]",Jc="["+Zo+"]",Xc="[^"+Io+qc+Zc+Yo+Zo+Jo+"]",Da="\\ud83c[\\udffb-\\udfff]",gd="(?:"+Zs+"|"+Da+")",Qc="[^"+Io+"]",Fa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ua="[\\ud800-\\udbff][\\udc00-\\udfff]",Xo="["+Jo+"]",eu="\\u200d",tu="(?:"+Jc+"|"+Xc+")",md="(?:"+Xo+"|"+Xc+")",ru="(?:"+Ma+"(?:d|ll|m|re|s|t|ve))?",nu="(?:"+Ma+"(?:D|LL|M|RE|S|T|VE))?",iu=gd+"?",ou="["+Gc+"]?",bd="(?:"+eu+"(?:"+[Qc,Fa,Ua].join("|")+")"+ou+iu+")*",_d="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$d="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",su=ou+iu+bd,Sd="(?:"+[yd,Fa,Ua].join("|")+")"+su,wd="(?:"+[Qc+Zs+"?",Zs,Fa,Ua,pd].join("|")+")",Ad=RegExp(Ma,"g"),Ed=RegExp(Zs,"g"),Ka=RegExp(Da+"(?="+Da+")|"+wd+su,"g"),vd=RegExp([Xo+"?"+Jc+"+"+ru+"(?="+[Yc,Xo,"$"].join("|")+")",md+"+"+nu+"(?="+[Yc,Xo+tu,"$"].join("|")+")",Xo+"?"+tu+"+"+ru,Xo+"+"+nu,$d,_d,Zc,Sd].join("|"),"g"),Rd=RegExp("["+eu+Io+qo+Gc+"]"),Td=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Id=-1,pi={};pi[wr]=pi[Br]=pi[Wr]=pi[Qr]=pi[an]=pi[Pn]=pi[Fn]=pi[Dn]=pi[Gn]=!0,pi[An]=pi[wn]=pi[kr]=pi[mn]=pi[Sr]=pi[_n]=pi[Nn]=pi[ln]=pi[gn]=pi[Rn]=pi[kn]=pi[Bn]=pi[Tn]=pi[jn]=pi[Vn]=!1;var hi={};hi[An]=hi[wn]=hi[kr]=hi[Sr]=hi[mn]=hi[_n]=hi[wr]=hi[Br]=hi[Wr]=hi[Qr]=hi[an]=hi[gn]=hi[Rn]=hi[kn]=hi[Bn]=hi[Tn]=hi[jn]=hi[Hn]=hi[Pn]=hi[Fn]=hi[Dn]=hi[Gn]=!0,hi[Nn]=hi[ln]=hi[Vn]=!1;var Od={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Cd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pd={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bd=parseFloat,Nd=parseInt,au=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ld=typeof self=="object"&&self&&self.Object===Object&&self,Ui=au||Ld||Function("return this")(),Ha=e&&!e.nodeType&&e,Fo=Ha&&!0&&t&&!t.nodeType&&t,cu=Fo&&Fo.exports===Ha,za=cu&&au.process,no=function(){try{var En=Fo&&Fo.require&&Fo.require("util").types;return En||za&&za.binding&&za.binding("util")}catch{}}(),uu=no&&no.isArrayBuffer,lu=no&&no.isDate,du=no&&no.isMap,fu=no&&no.isRegExp,hu=no&&no.isSet,pu=no&&no.isTypedArray;function Ji(En,xn,On){switch(On.length){case 0:return En.call(xn);case 1:return En.call(xn,On[0]);case 2:return En.call(xn,On[0],On[1]);case 3:return En.call(xn,On[0],On[1],On[2])}return En.apply(xn,On)}function Md(En,xn,On,Zn){for(var ti=-1,ui=En==null?0:En.length;++ti<ui;){var Mi=En[ti];xn(Zn,Mi,On(Mi),En)}return Zn}function io(En,xn){for(var On=-1,Zn=En==null?0:En.length;++On<Zn&&xn(En[On],On,En)!==!1;);return En}function Dd(En,xn){for(var On=En==null?0:En.length;On--&&xn(En[On],On,En)!==!1;);return En}function yu(En,xn){for(var On=-1,Zn=En==null?0:En.length;++On<Zn;)if(!xn(En[On],On,En))return!1;return!0}function Oo(En,xn){for(var On=-1,Zn=En==null?0:En.length,ti=0,ui=[];++On<Zn;){var Mi=En[On];xn(Mi,On,En)&&(ui[ti++]=Mi)}return ui}function Js(En,xn){var On=En==null?0:En.length;return!!On&&Qo(En,xn,0)>-1}function ja(En,xn,On){for(var Zn=-1,ti=En==null?0:En.length;++Zn<ti;)if(On(xn,En[Zn]))return!0;return!1}function mi(En,xn){for(var On=-1,Zn=En==null?0:En.length,ti=Array(Zn);++On<Zn;)ti[On]=xn(En[On],On,En);return ti}function Co(En,xn){for(var On=-1,Zn=xn.length,ti=En.length;++On<Zn;)En[ti+On]=xn[On];return En}function Wa(En,xn,On,Zn){var ti=-1,ui=En==null?0:En.length;for(Zn&&ui&&(On=En[++ti]);++ti<ui;)On=xn(On,En[ti],ti,En);return On}function Fd(En,xn,On,Zn){var ti=En==null?0:En.length;for(Zn&&ti&&(On=En[--ti]);ti--;)On=xn(On,En[ti],ti,En);return On}function Va(En,xn){for(var On=-1,Zn=En==null?0:En.length;++On<Zn;)if(xn(En[On],On,En))return!0;return!1}var Ud=Ga("length");function Kd(En){return En.split("")}function Hd(En){return En.match(qs)||[]}function gu(En,xn,On){var Zn;return On(En,function(ti,ui,Mi){if(xn(ti,ui,Mi))return Zn=ui,!1}),Zn}function Xs(En,xn,On,Zn){for(var ti=En.length,ui=On+(Zn?1:-1);Zn?ui--:++ui<ti;)if(xn(En[ui],ui,En))return ui;return-1}function Qo(En,xn,On){return xn===xn?ef(En,xn,On):Xs(En,mu,On)}function zd(En,xn,On,Zn){for(var ti=On-1,ui=En.length;++ti<ui;)if(Zn(En[ti],xn))return ti;return-1}function mu(En){return En!==En}function bu(En,xn){var On=En==null?0:En.length;return On?Ya(En,xn)/On:nn}function Ga(En){return function(xn){return xn==null?r:xn[En]}}function qa(En){return function(xn){return En==null?r:En[xn]}}function _u(En,xn,On,Zn,ti){return ti(En,function(ui,Mi,fi){On=Zn?(Zn=!1,ui):xn(On,ui,Mi,fi)}),On}function jd(En,xn){var On=En.length;for(En.sort(xn);On--;)En[On]=En[On].value;return En}function Ya(En,xn){for(var On,Zn=-1,ti=En.length;++Zn<ti;){var ui=xn(En[Zn]);ui!==r&&(On=On===r?ui:On+ui)}return On}function Za(En,xn){for(var On=-1,Zn=Array(En);++On<En;)Zn[On]=xn(On);return Zn}function Wd(En,xn){return mi(xn,function(On){return[On,En[On]]})}function $u(En){return En&&En.slice(0,Eu(En)+1).replace(gi,"")}function Xi(En){return function(xn){return En(xn)}}function Ja(En,xn){return mi(xn,function(On){return En[On]})}function Ts(En,xn){return En.has(xn)}function Su(En,xn){for(var On=-1,Zn=En.length;++On<Zn&&Qo(xn,En[On],0)>-1;);return On}function wu(En,xn){for(var On=En.length;On--&&Qo(xn,En[On],0)>-1;);return On}function Vd(En,xn){for(var On=En.length,Zn=0;On--;)En[On]===xn&&++Zn;return Zn}var Gd=qa(Od),qd=qa(Cd);function Yd(En){return"\\"+xd[En]}function Zd(En,xn){return En==null?r:En[xn]}function es(En){return Rd.test(En)}function Jd(En){return Td.test(En)}function Xd(En){for(var xn,On=[];!(xn=En.next()).done;)On.push(xn.value);return On}function Xa(En){var xn=-1,On=Array(En.size);return En.forEach(function(Zn,ti){On[++xn]=[ti,Zn]}),On}function Au(En,xn){return function(On){return En(xn(On))}}function Po(En,xn){for(var On=-1,Zn=En.length,ti=0,ui=[];++On<Zn;){var Mi=En[On];(Mi===xn||Mi===_r)&&(En[On]=_r,ui[ti++]=On)}return ui}function Qs(En){var xn=-1,On=Array(En.size);return En.forEach(function(Zn){On[++xn]=Zn}),On}function Qd(En){var xn=-1,On=Array(En.size);return En.forEach(function(Zn){On[++xn]=[Zn,Zn]}),On}function ef(En,xn,On){for(var Zn=On-1,ti=En.length;++Zn<ti;)if(En[Zn]===xn)return Zn;return-1}function tf(En,xn,On){for(var Zn=On+1;Zn--;)if(En[Zn]===xn)return Zn;return Zn}function ts(En){return es(En)?nf(En):Ud(En)}function fo(En){return es(En)?of(En):Kd(En)}function Eu(En){for(var xn=En.length;xn--&&ki.test(En.charAt(xn)););return xn}var rf=qa(Pd);function nf(En){for(var xn=Ka.lastIndex=0;Ka.test(En);)++xn;return xn}function of(En){return En.match(Ka)||[]}function sf(En){return En.match(vd)||[]}var af=function En(xn){xn=xn==null?Ui:rs.defaults(Ui.Object(),xn,rs.pick(Ui,kd));var On=xn.Array,Zn=xn.Date,ti=xn.Error,ui=xn.Function,Mi=xn.Math,fi=xn.Object,Qa=xn.RegExp,cf=xn.String,oo=xn.TypeError,ea=On.prototype,uf=ui.prototype,ns=fi.prototype,ta=xn["__core-js_shared__"],ra=uf.toString,di=ns.hasOwnProperty,lf=0,vu=function(){var $r=/[^.]+$/.exec(ta&&ta.keys&&ta.keys.IE_PROTO||"");return $r?"Symbol(src)_1."+$r:""}(),na=ns.toString,df=ra.call(fi),ff=Ui._,hf=Qa("^"+ra.call(di).replace(yi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ia=cu?xn.Buffer:r,xo=xn.Symbol,oa=xn.Uint8Array,Ru=ia?ia.allocUnsafe:r,sa=Au(fi.getPrototypeOf,fi),Tu=fi.create,ku=ns.propertyIsEnumerable,aa=ea.splice,Iu=xo?xo.isConcatSpreadable:r,ks=xo?xo.iterator:r,Uo=xo?xo.toStringTag:r,ca=function(){try{var $r=Wo(fi,"defineProperty");return $r({},"",{}),$r}catch{}}(),pf=xn.clearTimeout!==Ui.clearTimeout&&xn.clearTimeout,yf=Zn&&Zn.now!==Ui.Date.now&&Zn.now,gf=xn.setTimeout!==Ui.setTimeout&&xn.setTimeout,ua=Mi.ceil,la=Mi.floor,ec=fi.getOwnPropertySymbols,mf=ia?ia.isBuffer:r,Ou=xn.isFinite,bf=ea.join,_f=Au(fi.keys,fi),Di=Mi.max,Hi=Mi.min,$f=Zn.now,Sf=xn.parseInt,Cu=Mi.random,wf=ea.reverse,tc=Wo(xn,"DataView"),Is=Wo(xn,"Map"),rc=Wo(xn,"Promise"),os=Wo(xn,"Set"),Os=Wo(xn,"WeakMap"),Cs=Wo(fi,"create"),da=Os&&new Os,ss={},Af=Vo(tc),Ef=Vo(Is),vf=Vo(rc),Rf=Vo(os),Tf=Vo(Os),fa=xo?xo.prototype:r,Ps=fa?fa.valueOf:r,Pu=fa?fa.toString:r;function un($r){if(Bi($r)&&!ri($r)&&!($r instanceof ai)){if($r instanceof so)return $r;if(di.call($r,"__wrapped__"))return xl($r)}return new so($r)}var as=function(){function $r(){}return function(Er){if(!wi(Er))return{};if(Tu)return Tu(Er);$r.prototype=Er;var Cr=new $r;return $r.prototype=r,Cr}}();function ha(){}function so($r,Er){this.__wrapped__=$r,this.__actions__=[],this.__chain__=!!Er,this.__index__=0,this.__values__=r}un.templateSettings={escape:vi,evaluate:js,interpolate:$i,variable:"",imports:{_:un}},un.prototype=ha.prototype,un.prototype.constructor=un,so.prototype=as(ha.prototype),so.prototype.constructor=so;function ai($r){this.__wrapped__=$r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Gr,this.__views__=[]}function kf(){var $r=new ai(this.__wrapped__);return $r.__actions__=Gi(this.__actions__),$r.__dir__=this.__dir__,$r.__filtered__=this.__filtered__,$r.__iteratees__=Gi(this.__iteratees__),$r.__takeCount__=this.__takeCount__,$r.__views__=Gi(this.__views__),$r}function If(){if(this.__filtered__){var $r=new ai(this);$r.__dir__=-1,$r.__filtered__=!0}else $r=this.clone(),$r.__dir__*=-1;return $r}function Of(){var $r=this.__wrapped__.value(),Er=this.__dir__,Cr=ri($r),zr=Er<0,rn=Cr?$r.length:0,dn=Hh(0,rn,this.__views__),pn=dn.start,$n=dn.end,vn=$n-pn,Ln=zr?$n:pn-1,Mn=this.__iteratees__,zn=Mn.length,qn=0,Jn=Hi(vn,this.__takeCount__);if(!Cr||!zr&&rn==vn&&Jn==vn)return rl($r,this.__actions__);var Qn=[];e:for(;vn--&&qn<Jn;){Ln+=Er;for(var ii=-1,ei=$r[Ln];++ii<zn;){var si=Mn[ii],ci=si.iteratee,to=si.type,Vi=ci(ei);if(to==Pr)ei=Vi;else if(!Vi){if(to==Rr)continue e;break e}}Qn[qn++]=ei}return Qn}ai.prototype=as(ha.prototype),ai.prototype.constructor=ai;function Ko($r){var Er=-1,Cr=$r==null?0:$r.length;for(this.clear();++Er<Cr;){var zr=$r[Er];this.set(zr[0],zr[1])}}function Cf(){this.__data__=Cs?Cs(null):{},this.size=0}function Pf($r){var Er=this.has($r)&&delete this.__data__[$r];return this.size-=Er?1:0,Er}function xf($r){var Er=this.__data__;if(Cs){var Cr=Er[$r];return Cr===gr?r:Cr}return di.call(Er,$r)?Er[$r]:r}function Bf($r){var Er=this.__data__;return Cs?Er[$r]!==r:di.call(Er,$r)}function Nf($r,Er){var Cr=this.__data__;return this.size+=this.has($r)?0:1,Cr[$r]=Cs&&Er===r?gr:Er,this}Ko.prototype.clear=Cf,Ko.prototype.delete=Pf,Ko.prototype.get=xf,Ko.prototype.has=Bf,Ko.prototype.set=Nf;function _o($r){var Er=-1,Cr=$r==null?0:$r.length;for(this.clear();++Er<Cr;){var zr=$r[Er];this.set(zr[0],zr[1])}}function Lf(){this.__data__=[],this.size=0}function Mf($r){var Er=this.__data__,Cr=pa(Er,$r);if(Cr<0)return!1;var zr=Er.length-1;return Cr==zr?Er.pop():aa.call(Er,Cr,1),--this.size,!0}function Df($r){var Er=this.__data__,Cr=pa(Er,$r);return Cr<0?r:Er[Cr][1]}function Ff($r){return pa(this.__data__,$r)>-1}function Uf($r,Er){var Cr=this.__data__,zr=pa(Cr,$r);return zr<0?(++this.size,Cr.push([$r,Er])):Cr[zr][1]=Er,this}_o.prototype.clear=Lf,_o.prototype.delete=Mf,_o.prototype.get=Df,_o.prototype.has=Ff,_o.prototype.set=Uf;function $o($r){var Er=-1,Cr=$r==null?0:$r.length;for(this.clear();++Er<Cr;){var zr=$r[Er];this.set(zr[0],zr[1])}}function Kf(){this.size=0,this.__data__={hash:new Ko,map:new(Is||_o),string:new Ko}}function Hf($r){var Er=Ta(this,$r).delete($r);return this.size-=Er?1:0,Er}function zf($r){return Ta(this,$r).get($r)}function jf($r){return Ta(this,$r).has($r)}function Wf($r,Er){var Cr=Ta(this,$r),zr=Cr.size;return Cr.set($r,Er),this.size+=Cr.size==zr?0:1,this}$o.prototype.clear=Kf,$o.prototype.delete=Hf,$o.prototype.get=zf,$o.prototype.has=jf,$o.prototype.set=Wf;function Ho($r){var Er=-1,Cr=$r==null?0:$r.length;for(this.__data__=new $o;++Er<Cr;)this.add($r[Er])}function Vf($r){return this.__data__.set($r,gr),this}function Gf($r){return this.__data__.has($r)}Ho.prototype.add=Ho.prototype.push=Vf,Ho.prototype.has=Gf;function ho($r){var Er=this.__data__=new _o($r);this.size=Er.size}function qf(){this.__data__=new _o,this.size=0}function Yf($r){var Er=this.__data__,Cr=Er.delete($r);return this.size=Er.size,Cr}function Zf($r){return this.__data__.get($r)}function Jf($r){return this.__data__.has($r)}function Xf($r,Er){var Cr=this.__data__;if(Cr instanceof _o){var zr=Cr.__data__;if(!Is||zr.length<o-1)return zr.push([$r,Er]),this.size=++Cr.size,this;Cr=this.__data__=new $o(zr)}return Cr.set($r,Er),this.size=Cr.size,this}ho.prototype.clear=qf,ho.prototype.delete=Yf,ho.prototype.get=Zf,ho.prototype.has=Jf,ho.prototype.set=Xf;function xu($r,Er){var Cr=ri($r),zr=!Cr&&Go($r),rn=!Cr&&!zr&&Do($r),dn=!Cr&&!zr&&!rn&&ds($r),pn=Cr||zr||rn||dn,$n=pn?Za($r.length,cf):[],vn=$n.length;for(var Ln in $r)(Er||di.call($r,Ln))&&!(pn&&(Ln=="length"||rn&&(Ln=="offset"||Ln=="parent")||dn&&(Ln=="buffer"||Ln=="byteLength"||Ln=="byteOffset")||Eo(Ln,vn)))&&$n.push(Ln);return $n}function Bu($r){var Er=$r.length;return Er?$r[hc(0,Er-1)]:r}function Qf($r,Er){return ka(Gi($r),zo(Er,0,$r.length))}function eh($r){return ka(Gi($r))}function nc($r,Er,Cr){(Cr!==r&&!po($r[Er],Cr)||Cr===r&&!(Er in $r))&&So($r,Er,Cr)}function xs($r,Er,Cr){var zr=$r[Er];(!(di.call($r,Er)&&po(zr,Cr))||Cr===r&&!(Er in $r))&&So($r,Er,Cr)}function pa($r,Er){for(var Cr=$r.length;Cr--;)if(po($r[Cr][0],Er))return Cr;return-1}function th($r,Er,Cr,zr){return Bo($r,function(rn,dn,pn){Er(zr,rn,Cr(rn),pn)}),zr}function Nu($r,Er){return $r&&mo(Er,Fi(Er),$r)}function rh($r,Er){return $r&&mo(Er,Yi(Er),$r)}function So($r,Er,Cr){Er=="__proto__"&&ca?ca($r,Er,{configurable:!0,enumerable:!0,value:Cr,writable:!0}):$r[Er]=Cr}function ic($r,Er){for(var Cr=-1,zr=Er.length,rn=On(zr),dn=$r==null;++Cr<zr;)rn[Cr]=dn?r:Dc($r,Er[Cr]);return rn}function zo($r,Er,Cr){return $r===$r&&(Cr!==r&&($r=$r<=Cr?$r:Cr),Er!==r&&($r=$r>=Er?$r:Er)),$r}function ao($r,Er,Cr,zr,rn,dn){var pn,$n=Er&Ar,vn=Er&vr,Ln=Er&Tr;if(Cr&&(pn=rn?Cr($r,zr,rn,dn):Cr($r)),pn!==r)return pn;if(!wi($r))return $r;var Mn=ri($r);if(Mn){if(pn=jh($r),!$n)return Gi($r,pn)}else{var zn=zi($r),qn=zn==ln||zn==hn;if(Do($r))return ol($r,$n);if(zn==kn||zn==An||qn&&!rn){if(pn=vn||qn?{}:El($r),!$n)return vn?xh($r,rh(pn,$r)):Ph($r,Nu(pn,$r))}else{if(!hi[zn])return rn?$r:{};pn=Wh($r,zn,$n)}}dn||(dn=new ho);var Jn=dn.get($r);if(Jn)return Jn;dn.set($r,pn),Ql($r)?$r.forEach(function(ei){pn.add(ao(ei,Er,Cr,ei,$r,dn))}):Jl($r)&&$r.forEach(function(ei,si){pn.set(si,ao(ei,Er,Cr,si,$r,dn))});var Qn=Ln?vn?Ec:Ac:vn?Yi:Fi,ii=Mn?r:Qn($r);return io(ii||$r,function(ei,si){ii&&(si=ei,ei=$r[si]),xs(pn,si,ao(ei,Er,Cr,si,$r,dn))}),pn}function nh($r){var Er=Fi($r);return function(Cr){return Lu(Cr,$r,Er)}}function Lu($r,Er,Cr){var zr=Cr.length;if($r==null)return!zr;for($r=fi($r);zr--;){var rn=Cr[zr],dn=Er[rn],pn=$r[rn];if(pn===r&&!(rn in $r)||!dn(pn))return!1}return!0}function Mu($r,Er,Cr){if(typeof $r!="function")throw new oo(c);return Us(function(){$r.apply(r,Cr)},Er)}function Bs($r,Er,Cr,zr){var rn=-1,dn=Js,pn=!0,$n=$r.length,vn=[],Ln=Er.length;if(!$n)return vn;Cr&&(Er=mi(Er,Xi(Cr))),zr?(dn=ja,pn=!1):Er.length>=o&&(dn=Ts,pn=!1,Er=new Ho(Er));e:for(;++rn<$n;){var Mn=$r[rn],zn=Cr==null?Mn:Cr(Mn);if(Mn=zr||Mn!==0?Mn:0,pn&&zn===zn){for(var qn=Ln;qn--;)if(Er[qn]===zn)continue e;vn.push(Mn)}else dn(Er,zn,zr)||vn.push(Mn)}return vn}var Bo=ll(go),Du=ll(sc,!0);function ih($r,Er){var Cr=!0;return Bo($r,function(zr,rn,dn){return Cr=!!Er(zr,rn,dn),Cr}),Cr}function ya($r,Er,Cr){for(var zr=-1,rn=$r.length;++zr<rn;){var dn=$r[zr],pn=Er(dn);if(pn!=null&&($n===r?pn===pn&&!eo(pn):Cr(pn,$n)))var $n=pn,vn=dn}return vn}function oh($r,Er,Cr,zr){var rn=$r.length;for(Cr=ni(Cr),Cr<0&&(Cr=-Cr>rn?0:rn+Cr),zr=zr===r||zr>rn?rn:ni(zr),zr<0&&(zr+=rn),zr=Cr>zr?0:td(zr);Cr<zr;)$r[Cr++]=Er;return $r}function Fu($r,Er){var Cr=[];return Bo($r,function(zr,rn,dn){Er(zr,rn,dn)&&Cr.push(zr)}),Cr}function Ki($r,Er,Cr,zr,rn){var dn=-1,pn=$r.length;for(Cr||(Cr=Gh),rn||(rn=[]);++dn<pn;){var $n=$r[dn];Er>0&&Cr($n)?Er>1?Ki($n,Er-1,Cr,zr,rn):Co(rn,$n):zr||(rn[rn.length]=$n)}return rn}var oc=dl(),Uu=dl(!0);function go($r,Er){return $r&&oc($r,Er,Fi)}function sc($r,Er){return $r&&Uu($r,Er,Fi)}function ga($r,Er){return Oo(Er,function(Cr){return vo($r[Cr])})}function jo($r,Er){Er=Lo(Er,$r);for(var Cr=0,zr=Er.length;$r!=null&&Cr<zr;)$r=$r[bo(Er[Cr++])];return Cr&&Cr==zr?$r:r}function Ku($r,Er,Cr){var zr=Er($r);return ri($r)?zr:Co(zr,Cr($r))}function ji($r){return $r==null?$r===r?Wn:Cn:Uo&&Uo in fi($r)?Kh($r):ep($r)}function ac($r,Er){return $r>Er}function sh($r,Er){return $r!=null&&di.call($r,Er)}function ah($r,Er){return $r!=null&&Er in fi($r)}function ch($r,Er,Cr){return $r>=Hi(Er,Cr)&&$r<Di(Er,Cr)}function cc($r,Er,Cr){for(var zr=Cr?ja:Js,rn=$r[0].length,dn=$r.length,pn=dn,$n=On(dn),vn=1/0,Ln=[];pn--;){var Mn=$r[pn];pn&&Er&&(Mn=mi(Mn,Xi(Er))),vn=Hi(Mn.length,vn),$n[pn]=!Cr&&(Er||rn>=120&&Mn.length>=120)?new Ho(pn&&Mn):r}Mn=$r[0];var zn=-1,qn=$n[0];e:for(;++zn<rn&&Ln.length<vn;){var Jn=Mn[zn],Qn=Er?Er(Jn):Jn;if(Jn=Cr||Jn!==0?Jn:0,!(qn?Ts(qn,Qn):zr(Ln,Qn,Cr))){for(pn=dn;--pn;){var ii=$n[pn];if(!(ii?Ts(ii,Qn):zr($r[pn],Qn,Cr)))continue e}qn&&qn.push(Qn),Ln.push(Jn)}}return Ln}function uh($r,Er,Cr,zr){return go($r,function(rn,dn,pn){Er(zr,Cr(rn),dn,pn)}),zr}function Ns($r,Er,Cr){Er=Lo(Er,$r),$r=kl($r,Er);var zr=$r==null?$r:$r[bo(uo(Er))];return zr==null?r:Ji(zr,$r,Cr)}function Hu($r){return Bi($r)&&ji($r)==An}function lh($r){return Bi($r)&&ji($r)==kr}function dh($r){return Bi($r)&&ji($r)==_n}function Ls($r,Er,Cr,zr,rn){return $r===Er?!0:$r==null||Er==null||!Bi($r)&&!Bi(Er)?$r!==$r&&Er!==Er:fh($r,Er,Cr,zr,Ls,rn)}function fh($r,Er,Cr,zr,rn,dn){var pn=ri($r),$n=ri(Er),vn=pn?wn:zi($r),Ln=$n?wn:zi(Er);vn=vn==An?kn:vn,Ln=Ln==An?kn:Ln;var Mn=vn==kn,zn=Ln==kn,qn=vn==Ln;if(qn&&Do($r)){if(!Do(Er))return!1;pn=!0,Mn=!1}if(qn&&!Mn)return dn||(dn=new ho),pn||ds($r)?Sl($r,Er,Cr,zr,rn,dn):Fh($r,Er,vn,Cr,zr,rn,dn);if(!(Cr&Or)){var Jn=Mn&&di.call($r,"__wrapped__"),Qn=zn&&di.call(Er,"__wrapped__");if(Jn||Qn){var ii=Jn?$r.value():$r,ei=Qn?Er.value():Er;return dn||(dn=new ho),rn(ii,ei,Cr,zr,dn)}}return qn?(dn||(dn=new ho),Uh($r,Er,Cr,zr,rn,dn)):!1}function hh($r){return Bi($r)&&zi($r)==gn}function uc($r,Er,Cr,zr){var rn=Cr.length,dn=rn,pn=!zr;if($r==null)return!dn;for($r=fi($r);rn--;){var $n=Cr[rn];if(pn&&$n[2]?$n[1]!==$r[$n[0]]:!($n[0]in $r))return!1}for(;++rn<dn;){$n=Cr[rn];var vn=$n[0],Ln=$r[vn],Mn=$n[1];if(pn&&$n[2]){if(Ln===r&&!(vn in $r))return!1}else{var zn=new ho;if(zr)var qn=zr(Ln,Mn,vn,$r,Er,zn);if(!(qn===r?Ls(Mn,Ln,Or|Ir,zr,zn):qn))return!1}}return!0}function zu($r){if(!wi($r)||Yh($r))return!1;var Er=vo($r)?hf:ps;return Er.test(Vo($r))}function ph($r){return Bi($r)&&ji($r)==Bn}function yh($r){return Bi($r)&&zi($r)==Tn}function gh($r){return Bi($r)&&Ba($r.length)&&!!pi[ji($r)]}function ju($r){return typeof $r=="function"?$r:$r==null?Zi:typeof $r=="object"?ri($r)?Gu($r[0],$r[1]):Vu($r):fd($r)}function lc($r){if(!Fs($r))return _f($r);var Er=[];for(var Cr in fi($r))di.call($r,Cr)&&Cr!="constructor"&&Er.push(Cr);return Er}function mh($r){if(!wi($r))return Qh($r);var Er=Fs($r),Cr=[];for(var zr in $r)zr=="constructor"&&(Er||!di.call($r,zr))||Cr.push(zr);return Cr}function dc($r,Er){return $r<Er}function Wu($r,Er){var Cr=-1,zr=qi($r)?On($r.length):[];return Bo($r,function(rn,dn,pn){zr[++Cr]=Er(rn,dn,pn)}),zr}function Vu($r){var Er=Rc($r);return Er.length==1&&Er[0][2]?Rl(Er[0][0],Er[0][1]):function(Cr){return Cr===$r||uc(Cr,$r,Er)}}function Gu($r,Er){return kc($r)&&vl(Er)?Rl(bo($r),Er):function(Cr){var zr=Dc(Cr,$r);return zr===r&&zr===Er?Fc(Cr,$r):Ls(Er,zr,Or|Ir)}}function ma($r,Er,Cr,zr,rn){$r!==Er&&oc(Er,function(dn,pn){if(rn||(rn=new ho),wi(dn))bh($r,Er,pn,Cr,ma,zr,rn);else{var $n=zr?zr(Oc($r,pn),dn,pn+"",$r,Er,rn):r;$n===r&&($n=dn),nc($r,pn,$n)}},Yi)}function bh($r,Er,Cr,zr,rn,dn,pn){var $n=Oc($r,Cr),vn=Oc(Er,Cr),Ln=pn.get(vn);if(Ln){nc($r,Cr,Ln);return}var Mn=dn?dn($n,vn,Cr+"",$r,Er,pn):r,zn=Mn===r;if(zn){var qn=ri(vn),Jn=!qn&&Do(vn),Qn=!qn&&!Jn&&ds(vn);Mn=vn,qn||Jn||Qn?ri($n)?Mn=$n:Ni($n)?Mn=Gi($n):Jn?(zn=!1,Mn=ol(vn,!0)):Qn?(zn=!1,Mn=sl(vn,!0)):Mn=[]:Ks(vn)||Go(vn)?(Mn=$n,Go($n)?Mn=rd($n):(!wi($n)||vo($n))&&(Mn=El(vn))):zn=!1}zn&&(pn.set(vn,Mn),rn(Mn,vn,zr,dn,pn),pn.delete(vn)),nc($r,Cr,Mn)}function qu($r,Er){var Cr=$r.length;if(!!Cr)return Er+=Er<0?Cr:0,Eo(Er,Cr)?$r[Er]:r}function Yu($r,Er,Cr){Er.length?Er=mi(Er,function(dn){return ri(dn)?function(pn){return jo(pn,dn.length===1?dn[0]:dn)}:dn}):Er=[Zi];var zr=-1;Er=mi(Er,Xi(Xn()));var rn=Wu($r,function(dn,pn,$n){var vn=mi(Er,function(Ln){return Ln(dn)});return{criteria:vn,index:++zr,value:dn}});return jd(rn,function(dn,pn){return Ch(dn,pn,Cr)})}function _h($r,Er){return Zu($r,Er,function(Cr,zr){return Fc($r,zr)})}function Zu($r,Er,Cr){for(var zr=-1,rn=Er.length,dn={};++zr<rn;){var pn=Er[zr],$n=jo($r,pn);Cr($n,pn)&&Ms(dn,Lo(pn,$r),$n)}return dn}function $h($r){return function(Er){return jo(Er,$r)}}function fc($r,Er,Cr,zr){var rn=zr?zd:Qo,dn=-1,pn=Er.length,$n=$r;for($r===Er&&(Er=Gi(Er)),Cr&&($n=mi($r,Xi(Cr)));++dn<pn;)for(var vn=0,Ln=Er[dn],Mn=Cr?Cr(Ln):Ln;(vn=rn($n,Mn,vn,zr))>-1;)$n!==$r&&aa.call($n,vn,1),aa.call($r,vn,1);return $r}function Ju($r,Er){for(var Cr=$r?Er.length:0,zr=Cr-1;Cr--;){var rn=Er[Cr];if(Cr==zr||rn!==dn){var dn=rn;Eo(rn)?aa.call($r,rn,1):gc($r,rn)}}return $r}function hc($r,Er){return $r+la(Cu()*(Er-$r+1))}function Sh($r,Er,Cr,zr){for(var rn=-1,dn=Di(ua((Er-$r)/(Cr||1)),0),pn=On(dn);dn--;)pn[zr?dn:++rn]=$r,$r+=Cr;return pn}function pc($r,Er){var Cr="";if(!$r||Er<1||Er>Zr)return Cr;do Er%2&&(Cr+=$r),Er=la(Er/2),Er&&($r+=$r);while(Er);return Cr}function oi($r,Er){return Cc(Tl($r,Er,Zi),$r+"")}function wh($r){return Bu(fs($r))}function Ah($r,Er){var Cr=fs($r);return ka(Cr,zo(Er,0,Cr.length))}function Ms($r,Er,Cr,zr){if(!wi($r))return $r;Er=Lo(Er,$r);for(var rn=-1,dn=Er.length,pn=dn-1,$n=$r;$n!=null&&++rn<dn;){var vn=bo(Er[rn]),Ln=Cr;if(vn==="__proto__"||vn==="constructor"||vn==="prototype")return $r;if(rn!=pn){var Mn=$n[vn];Ln=zr?zr(Mn,vn,$n):r,Ln===r&&(Ln=wi(Mn)?Mn:Eo(Er[rn+1])?[]:{})}xs($n,vn,Ln),$n=$n[vn]}return $r}var Xu=da?function($r,Er){return da.set($r,Er),$r}:Zi,Eh=ca?function($r,Er){return ca($r,"toString",{configurable:!0,enumerable:!1,value:Kc(Er),writable:!0})}:Zi;function vh($r){return ka(fs($r))}function co($r,Er,Cr){var zr=-1,rn=$r.length;Er<0&&(Er=-Er>rn?0:rn+Er),Cr=Cr>rn?rn:Cr,Cr<0&&(Cr+=rn),rn=Er>Cr?0:Cr-Er>>>0,Er>>>=0;for(var dn=On(rn);++zr<rn;)dn[zr]=$r[zr+Er];return dn}function Rh($r,Er){var Cr;return Bo($r,function(zr,rn,dn){return Cr=Er(zr,rn,dn),!Cr}),!!Cr}function ba($r,Er,Cr){var zr=0,rn=$r==null?zr:$r.length;if(typeof Er=="number"&&Er===Er&&rn<=Jr){for(;zr<rn;){var dn=zr+rn>>>1,pn=$r[dn];pn!==null&&!eo(pn)&&(Cr?pn<=Er:pn<Er)?zr=dn+1:rn=dn}return rn}return yc($r,Er,Zi,Cr)}function yc($r,Er,Cr,zr){var rn=0,dn=$r==null?0:$r.length;if(dn===0)return 0;Er=Cr(Er);for(var pn=Er!==Er,$n=Er===null,vn=eo(Er),Ln=Er===r;rn<dn;){var Mn=la((rn+dn)/2),zn=Cr($r[Mn]),qn=zn!==r,Jn=zn===null,Qn=zn===zn,ii=eo(zn);if(pn)var ei=zr||Qn;else Ln?ei=Qn&&(zr||qn):$n?ei=Qn&&qn&&(zr||!Jn):vn?ei=Qn&&qn&&!Jn&&(zr||!ii):Jn||ii?ei=!1:ei=zr?zn<=Er:zn<Er;ei?rn=Mn+1:dn=Mn}return Hi(dn,Nr)}function Qu($r,Er){for(var Cr=-1,zr=$r.length,rn=0,dn=[];++Cr<zr;){var pn=$r[Cr],$n=Er?Er(pn):pn;if(!Cr||!po($n,vn)){var vn=$n;dn[rn++]=pn===0?0:pn}}return dn}function el($r){return typeof $r=="number"?$r:eo($r)?nn:+$r}function Qi($r){if(typeof $r=="string")return $r;if(ri($r))return mi($r,Qi)+"";if(eo($r))return Pu?Pu.call($r):"";var Er=$r+"";return Er=="0"&&1/$r==-Yr?"-0":Er}function No($r,Er,Cr){var zr=-1,rn=Js,dn=$r.length,pn=!0,$n=[],vn=$n;if(Cr)pn=!1,rn=ja;else if(dn>=o){var Ln=Er?null:Mh($r);if(Ln)return Qs(Ln);pn=!1,rn=Ts,vn=new Ho}else vn=Er?[]:$n;e:for(;++zr<dn;){var Mn=$r[zr],zn=Er?Er(Mn):Mn;if(Mn=Cr||Mn!==0?Mn:0,pn&&zn===zn){for(var qn=vn.length;qn--;)if(vn[qn]===zn)continue e;Er&&vn.push(zn),$n.push(Mn)}else rn(vn,zn,Cr)||(vn!==$n&&vn.push(zn),$n.push(Mn))}return $n}function gc($r,Er){return Er=Lo(Er,$r),$r=kl($r,Er),$r==null||delete $r[bo(uo(Er))]}function tl($r,Er,Cr,zr){return Ms($r,Er,Cr(jo($r,Er)),zr)}function $a($r,Er,Cr,zr){for(var rn=$r.length,dn=zr?rn:-1;(zr?dn--:++dn<rn)&&Er($r[dn],dn,$r););return Cr?co($r,zr?0:dn,zr?dn+1:rn):co($r,zr?dn+1:0,zr?rn:dn)}function rl($r,Er){var Cr=$r;return Cr instanceof ai&&(Cr=Cr.value()),Wa(Er,function(zr,rn){return rn.func.apply(rn.thisArg,Co([zr],rn.args))},Cr)}function mc($r,Er,Cr){var zr=$r.length;if(zr<2)return zr?No($r[0]):[];for(var rn=-1,dn=On(zr);++rn<zr;)for(var pn=$r[rn],$n=-1;++$n<zr;)$n!=rn&&(dn[rn]=Bs(dn[rn]||pn,$r[$n],Er,Cr));return No(Ki(dn,1),Er,Cr)}function nl($r,Er,Cr){for(var zr=-1,rn=$r.length,dn=Er.length,pn={};++zr<rn;){var $n=zr<dn?Er[zr]:r;Cr(pn,$r[zr],$n)}return pn}function bc($r){return Ni($r)?$r:[]}function _c($r){return typeof $r=="function"?$r:Zi}function Lo($r,Er){return ri($r)?$r:kc($r,Er)?[$r]:Pl(li($r))}var Th=oi;function Mo($r,Er,Cr){var zr=$r.length;return Cr=Cr===r?zr:Cr,!Er&&Cr>=zr?$r:co($r,Er,Cr)}var il=pf||function($r){return Ui.clearTimeout($r)};function ol($r,Er){if(Er)return $r.slice();var Cr=$r.length,zr=Ru?Ru(Cr):new $r.constructor(Cr);return $r.copy(zr),zr}function $c($r){var Er=new $r.constructor($r.byteLength);return new oa(Er).set(new oa($r)),Er}function kh($r,Er){var Cr=Er?$c($r.buffer):$r.buffer;return new $r.constructor(Cr,$r.byteOffset,$r.byteLength)}function Ih($r){var Er=new $r.constructor($r.source,Si.exec($r));return Er.lastIndex=$r.lastIndex,Er}function Oh($r){return Ps?fi(Ps.call($r)):{}}function sl($r,Er){var Cr=Er?$c($r.buffer):$r.buffer;return new $r.constructor(Cr,$r.byteOffset,$r.length)}function al($r,Er){if($r!==Er){var Cr=$r!==r,zr=$r===null,rn=$r===$r,dn=eo($r),pn=Er!==r,$n=Er===null,vn=Er===Er,Ln=eo(Er);if(!$n&&!Ln&&!dn&&$r>Er||dn&&pn&&vn&&!$n&&!Ln||zr&&pn&&vn||!Cr&&vn||!rn)return 1;if(!zr&&!dn&&!Ln&&$r<Er||Ln&&Cr&&rn&&!zr&&!dn||$n&&Cr&&rn||!pn&&rn||!vn)return-1}return 0}function Ch($r,Er,Cr){for(var zr=-1,rn=$r.criteria,dn=Er.criteria,pn=rn.length,$n=Cr.length;++zr<pn;){var vn=al(rn[zr],dn[zr]);if(vn){if(zr>=$n)return vn;var Ln=Cr[zr];return vn*(Ln=="desc"?-1:1)}}return $r.index-Er.index}function cl($r,Er,Cr,zr){for(var rn=-1,dn=$r.length,pn=Cr.length,$n=-1,vn=Er.length,Ln=Di(dn-pn,0),Mn=On(vn+Ln),zn=!zr;++$n<vn;)Mn[$n]=Er[$n];for(;++rn<pn;)(zn||rn<dn)&&(Mn[Cr[rn]]=$r[rn]);for(;Ln--;)Mn[$n++]=$r[rn++];return Mn}function ul($r,Er,Cr,zr){for(var rn=-1,dn=$r.length,pn=-1,$n=Cr.length,vn=-1,Ln=Er.length,Mn=Di(dn-$n,0),zn=On(Mn+Ln),qn=!zr;++rn<Mn;)zn[rn]=$r[rn];for(var Jn=rn;++vn<Ln;)zn[Jn+vn]=Er[vn];for(;++pn<$n;)(qn||rn<dn)&&(zn[Jn+Cr[pn]]=$r[rn++]);return zn}function Gi($r,Er){var Cr=-1,zr=$r.length;for(Er||(Er=On(zr));++Cr<zr;)Er[Cr]=$r[Cr];return Er}function mo($r,Er,Cr,zr){var rn=!Cr;Cr||(Cr={});for(var dn=-1,pn=Er.length;++dn<pn;){var $n=Er[dn],vn=zr?zr(Cr[$n],$r[$n],$n,Cr,$r):r;vn===r&&(vn=$r[$n]),rn?So(Cr,$n,vn):xs(Cr,$n,vn)}return Cr}function Ph($r,Er){return mo($r,Tc($r),Er)}function xh($r,Er){return mo($r,wl($r),Er)}function Sa($r,Er){return function(Cr,zr){var rn=ri(Cr)?Md:th,dn=Er?Er():{};return rn(Cr,$r,Xn(zr,2),dn)}}function cs($r){return oi(function(Er,Cr){var zr=-1,rn=Cr.length,dn=rn>1?Cr[rn-1]:r,pn=rn>2?Cr[2]:r;for(dn=$r.length>3&&typeof dn=="function"?(rn--,dn):r,pn&&Wi(Cr[0],Cr[1],pn)&&(dn=rn<3?r:dn,rn=1),Er=fi(Er);++zr<rn;){var $n=Cr[zr];$n&&$r(Er,$n,zr,dn)}return Er})}function ll($r,Er){return function(Cr,zr){if(Cr==null)return Cr;if(!qi(Cr))return $r(Cr,zr);for(var rn=Cr.length,dn=Er?rn:-1,pn=fi(Cr);(Er?dn--:++dn<rn)&&zr(pn[dn],dn,pn)!==!1;);return Cr}}function dl($r){return function(Er,Cr,zr){for(var rn=-1,dn=fi(Er),pn=zr(Er),$n=pn.length;$n--;){var vn=pn[$r?$n:++rn];if(Cr(dn[vn],vn,dn)===!1)break}return Er}}function Bh($r,Er,Cr){var zr=Er&xr,rn=Ds($r);function dn(){var pn=this&&this!==Ui&&this instanceof dn?rn:$r;return pn.apply(zr?Cr:this,arguments)}return dn}function fl($r){return function(Er){Er=li(Er);var Cr=es(Er)?fo(Er):r,zr=Cr?Cr[0]:Er.charAt(0),rn=Cr?Mo(Cr,1).join(""):Er.slice(1);return zr[$r]()+rn}}function us($r){return function(Er){return Wa(ld(ud(Er).replace(Ad,"")),$r,"")}}function Ds($r){return function(){var Er=arguments;switch(Er.length){case 0:return new $r;case 1:return new $r(Er[0]);case 2:return new $r(Er[0],Er[1]);case 3:return new $r(Er[0],Er[1],Er[2]);case 4:return new $r(Er[0],Er[1],Er[2],Er[3]);case 5:return new $r(Er[0],Er[1],Er[2],Er[3],Er[4]);case 6:return new $r(Er[0],Er[1],Er[2],Er[3],Er[4],Er[5]);case 7:return new $r(Er[0],Er[1],Er[2],Er[3],Er[4],Er[5],Er[6])}var Cr=as($r.prototype),zr=$r.apply(Cr,Er);return wi(zr)?zr:Cr}}function Nh($r,Er,Cr){var zr=Ds($r);function rn(){for(var dn=arguments.length,pn=On(dn),$n=dn,vn=ls(rn);$n--;)pn[$n]=arguments[$n];var Ln=dn<3&&pn[0]!==vn&&pn[dn-1]!==vn?[]:Po(pn,vn);if(dn-=Ln.length,dn<Cr)return ml($r,Er,wa,rn.placeholder,r,pn,Ln,r,r,Cr-dn);var Mn=this&&this!==Ui&&this instanceof rn?zr:$r;return Ji(Mn,this,pn)}return rn}function hl($r){return function(Er,Cr,zr){var rn=fi(Er);if(!qi(Er)){var dn=Xn(Cr,3);Er=Fi(Er),Cr=function($n){return dn(rn[$n],$n,rn)}}var pn=$r(Er,Cr,zr);return pn>-1?rn[dn?Er[pn]:pn]:r}}function pl($r){return Ao(function(Er){var Cr=Er.length,zr=Cr,rn=so.prototype.thru;for($r&&Er.reverse();zr--;){var dn=Er[zr];if(typeof dn!="function")throw new oo(c);if(rn&&!pn&&Ra(dn)=="wrapper")var pn=new so([],!0)}for(zr=pn?zr:Cr;++zr<Cr;){dn=Er[zr];var $n=Ra(dn),vn=$n=="wrapper"?vc(dn):r;vn&&Ic(vn[0])&&vn[1]==(jr|Mr|Vr|qr)&&!vn[4].length&&vn[9]==1?pn=pn[Ra(vn[0])].apply(pn,vn[3]):pn=dn.length==1&&Ic(dn)?pn[$n]():pn.thru(dn)}return function(){var Ln=arguments,Mn=Ln[0];if(pn&&Ln.length==1&&ri(Mn))return pn.plant(Mn).value();for(var zn=0,qn=Cr?Er[zn].apply(this,Ln):Mn;++zn<Cr;)qn=Er[zn].call(this,qn);return qn}})}function wa($r,Er,Cr,zr,rn,dn,pn,$n,vn,Ln){var Mn=Er&jr,zn=Er&xr,qn=Er&Lr,Jn=Er&(Mr|Hr),Qn=Er&tn,ii=qn?r:Ds($r);function ei(){for(var si=arguments.length,ci=On(si),to=si;to--;)ci[to]=arguments[to];if(Jn)var Vi=ls(ei),ro=Vd(ci,Vi);if(zr&&(ci=cl(ci,zr,rn,Jn)),dn&&(ci=ul(ci,dn,pn,Jn)),si-=ro,Jn&&si<Ln){var Li=Po(ci,Vi);return ml($r,Er,wa,ei.placeholder,Cr,ci,Li,$n,vn,Ln-si)}var yo=zn?Cr:this,To=qn?yo[$r]:$r;return si=ci.length,$n?ci=tp(ci,$n):Qn&&si>1&&ci.reverse(),Mn&&vn<si&&(ci.length=vn),this&&this!==Ui&&this instanceof ei&&(To=ii||Ds(To)),To.apply(yo,ci)}return ei}function yl($r,Er){return function(Cr,zr){return uh(Cr,$r,Er(zr),{})}}function Aa($r,Er){return function(Cr,zr){var rn;if(Cr===r&&zr===r)return Er;if(Cr!==r&&(rn=Cr),zr!==r){if(rn===r)return zr;typeof Cr=="string"||typeof zr=="string"?(Cr=Qi(Cr),zr=Qi(zr)):(Cr=el(Cr),zr=el(zr)),rn=$r(Cr,zr)}return rn}}function Sc($r){return Ao(function(Er){return Er=mi(Er,Xi(Xn())),oi(function(Cr){var zr=this;return $r(Er,function(rn){return Ji(rn,zr,Cr)})})})}function Ea($r,Er){Er=Er===r?" ":Qi(Er);var Cr=Er.length;if(Cr<2)return Cr?pc(Er,$r):Er;var zr=pc(Er,ua($r/ts(Er)));return es(Er)?Mo(fo(zr),0,$r).join(""):zr.slice(0,$r)}function Lh($r,Er,Cr,zr){var rn=Er&xr,dn=Ds($r);function pn(){for(var $n=-1,vn=arguments.length,Ln=-1,Mn=zr.length,zn=On(Mn+vn),qn=this&&this!==Ui&&this instanceof pn?dn:$r;++Ln<Mn;)zn[Ln]=zr[Ln];for(;vn--;)zn[Ln++]=arguments[++$n];return Ji(qn,rn?Cr:this,zn)}return pn}function gl($r){return function(Er,Cr,zr){return zr&&typeof zr!="number"&&Wi(Er,Cr,zr)&&(Cr=zr=r),Er=Ro(Er),Cr===r?(Cr=Er,Er=0):Cr=Ro(Cr),zr=zr===r?Er<Cr?1:-1:Ro(zr),Sh(Er,Cr,zr,$r)}}function va($r){return function(Er,Cr){return typeof Er=="string"&&typeof Cr=="string"||(Er=lo(Er),Cr=lo(Cr)),$r(Er,Cr)}}function ml($r,Er,Cr,zr,rn,dn,pn,$n,vn,Ln){var Mn=Er&Mr,zn=Mn?pn:r,qn=Mn?r:pn,Jn=Mn?dn:r,Qn=Mn?r:dn;Er|=Mn?Vr:Kr,Er&=~(Mn?Kr:Vr),Er&Fr||(Er&=~(xr|Lr));var ii=[$r,Er,rn,Jn,zn,Qn,qn,$n,vn,Ln],ei=Cr.apply(r,ii);return Ic($r)&&Il(ei,ii),ei.placeholder=zr,Ol(ei,$r,Er)}function wc($r){var Er=Mi[$r];return function(Cr,zr){if(Cr=lo(Cr),zr=zr==null?0:Hi(ni(zr),292),zr&&Ou(Cr)){var rn=(li(Cr)+"e").split("e"),dn=Er(rn[0]+"e"+(+rn[1]+zr));return rn=(li(dn)+"e").split("e"),+(rn[0]+"e"+(+rn[1]-zr))}return Er(Cr)}}var Mh=os&&1/Qs(new os([,-0]))[1]==Yr?function($r){return new os($r)}:jc;function bl($r){return function(Er){var Cr=zi(Er);return Cr==gn?Xa(Er):Cr==Tn?Qd(Er):Wd(Er,$r(Er))}}function wo($r,Er,Cr,zr,rn,dn,pn,$n){var vn=Er&Lr;if(!vn&&typeof $r!="function")throw new oo(c);var Ln=zr?zr.length:0;if(Ln||(Er&=~(Vr|Kr),zr=rn=r),pn=pn===r?pn:Di(ni(pn),0),$n=$n===r?$n:ni($n),Ln-=rn?rn.length:0,Er&Kr){var Mn=zr,zn=rn;zr=rn=r}var qn=vn?r:vc($r),Jn=[$r,Er,Cr,zr,rn,Mn,zn,dn,pn,$n];if(qn&&Xh(Jn,qn),$r=Jn[0],Er=Jn[1],Cr=Jn[2],zr=Jn[3],rn=Jn[4],$n=Jn[9]=Jn[9]===r?vn?0:$r.length:Di(Jn[9]-Ln,0),!$n&&Er&(Mr|Hr)&&(Er&=~(Mr|Hr)),!Er||Er==xr)var Qn=Bh($r,Er,Cr);else Er==Mr||Er==Hr?Qn=Nh($r,Er,$n):(Er==Vr||Er==(xr|Vr))&&!rn.length?Qn=Lh($r,Er,Cr,zr):Qn=wa.apply(r,Jn);var ii=qn?Xu:Il;return Ol(ii(Qn,Jn),$r,Er)}function _l($r,Er,Cr,zr){return $r===r||po($r,ns[Cr])&&!di.call(zr,Cr)?Er:$r}function $l($r,Er,Cr,zr,rn,dn){return wi($r)&&wi(Er)&&(dn.set(Er,$r),ma($r,Er,r,$l,dn),dn.delete(Er)),$r}function Dh($r){return Ks($r)?r:$r}function Sl($r,Er,Cr,zr,rn,dn){var pn=Cr&Or,$n=$r.length,vn=Er.length;if($n!=vn&&!(pn&&vn>$n))return!1;var Ln=dn.get($r),Mn=dn.get(Er);if(Ln&&Mn)return Ln==Er&&Mn==$r;var zn=-1,qn=!0,Jn=Cr&Ir?new Ho:r;for(dn.set($r,Er),dn.set(Er,$r);++zn<$n;){var Qn=$r[zn],ii=Er[zn];if(zr)var ei=pn?zr(ii,Qn,zn,Er,$r,dn):zr(Qn,ii,zn,$r,Er,dn);if(ei!==r){if(ei)continue;qn=!1;break}if(Jn){if(!Va(Er,function(si,ci){if(!Ts(Jn,ci)&&(Qn===si||rn(Qn,si,Cr,zr,dn)))return Jn.push(ci)})){qn=!1;break}}else if(!(Qn===ii||rn(Qn,ii,Cr,zr,dn))){qn=!1;break}}return dn.delete($r),dn.delete(Er),qn}function Fh($r,Er,Cr,zr,rn,dn,pn){switch(Cr){case Sr:if($r.byteLength!=Er.byteLength||$r.byteOffset!=Er.byteOffset)return!1;$r=$r.buffer,Er=Er.buffer;case kr:return!($r.byteLength!=Er.byteLength||!dn(new oa($r),new oa(Er)));case mn:case _n:case Rn:return po(+$r,+Er);case Nn:return $r.name==Er.name&&$r.message==Er.message;case Bn:case jn:return $r==Er+"";case gn:var $n=Xa;case Tn:var vn=zr&Or;if($n||($n=Qs),$r.size!=Er.size&&!vn)return!1;var Ln=pn.get($r);if(Ln)return Ln==Er;zr|=Ir,pn.set($r,Er);var Mn=Sl($n($r),$n(Er),zr,rn,dn,pn);return pn.delete($r),Mn;case Hn:if(Ps)return Ps.call($r)==Ps.call(Er)}return!1}function Uh($r,Er,Cr,zr,rn,dn){var pn=Cr&Or,$n=Ac($r),vn=$n.length,Ln=Ac(Er),Mn=Ln.length;if(vn!=Mn&&!pn)return!1;for(var zn=vn;zn--;){var qn=$n[zn];if(!(pn?qn in Er:di.call(Er,qn)))return!1}var Jn=dn.get($r),Qn=dn.get(Er);if(Jn&&Qn)return Jn==Er&&Qn==$r;var ii=!0;dn.set($r,Er),dn.set(Er,$r);for(var ei=pn;++zn<vn;){qn=$n[zn];var si=$r[qn],ci=Er[qn];if(zr)var to=pn?zr(ci,si,qn,Er,$r,dn):zr(si,ci,qn,$r,Er,dn);if(!(to===r?si===ci||rn(si,ci,Cr,zr,dn):to)){ii=!1;break}ei||(ei=qn=="constructor")}if(ii&&!ei){var Vi=$r.constructor,ro=Er.constructor;Vi!=ro&&"constructor"in $r&&"constructor"in Er&&!(typeof Vi=="function"&&Vi instanceof Vi&&typeof ro=="function"&&ro instanceof ro)&&(ii=!1)}return dn.delete($r),dn.delete(Er),ii}function Ao($r){return Cc(Tl($r,r,Ll),$r+"")}function Ac($r){return Ku($r,Fi,Tc)}function Ec($r){return Ku($r,Yi,wl)}var vc=da?function($r){return da.get($r)}:jc;function Ra($r){for(var Er=$r.name+"",Cr=ss[Er],zr=di.call(ss,Er)?Cr.length:0;zr--;){var rn=Cr[zr],dn=rn.func;if(dn==null||dn==$r)return rn.name}return Er}function ls($r){var Er=di.call(un,"placeholder")?un:$r;return Er.placeholder}function Xn(){var $r=un.iteratee||Hc;return $r=$r===Hc?ju:$r,arguments.length?$r(arguments[0],arguments[1]):$r}function Ta($r,Er){var Cr=$r.__data__;return qh(Er)?Cr[typeof Er=="string"?"string":"hash"]:Cr.map}function Rc($r){for(var Er=Fi($r),Cr=Er.length;Cr--;){var zr=Er[Cr],rn=$r[zr];Er[Cr]=[zr,rn,vl(rn)]}return Er}function Wo($r,Er){var Cr=Zd($r,Er);return zu(Cr)?Cr:r}function Kh($r){var Er=di.call($r,Uo),Cr=$r[Uo];try{$r[Uo]=r;var zr=!0}catch{}var rn=na.call($r);return zr&&(Er?$r[Uo]=Cr:delete $r[Uo]),rn}var Tc=ec?function($r){return $r==null?[]:($r=fi($r),Oo(ec($r),function(Er){return ku.call($r,Er)}))}:Wc,wl=ec?function($r){for(var Er=[];$r;)Co(Er,Tc($r)),$r=sa($r);return Er}:Wc,zi=ji;(tc&&zi(new tc(new ArrayBuffer(1)))!=Sr||Is&&zi(new Is)!=gn||rc&&zi(rc.resolve())!=Un||os&&zi(new os)!=Tn||Os&&zi(new Os)!=Vn)&&(zi=function($r){var Er=ji($r),Cr=Er==kn?$r.constructor:r,zr=Cr?Vo(Cr):"";if(zr)switch(zr){case Af:return Sr;case Ef:return gn;case vf:return Un;case Rf:return Tn;case Tf:return Vn}return Er});function Hh($r,Er,Cr){for(var zr=-1,rn=Cr.length;++zr<rn;){var dn=Cr[zr],pn=dn.size;switch(dn.type){case"drop":$r+=pn;break;case"dropRight":Er-=pn;break;case"take":Er=Hi(Er,$r+pn);break;case"takeRight":$r=Di($r,Er-pn);break}}return{start:$r,end:Er}}function zh($r){var Er=$r.match(Ii);return Er?Er[1].split(Oi):[]}function Al($r,Er,Cr){Er=Lo(Er,$r);for(var zr=-1,rn=Er.length,dn=!1;++zr<rn;){var pn=bo(Er[zr]);if(!(dn=$r!=null&&Cr($r,pn)))break;$r=$r[pn]}return dn||++zr!=rn?dn:(rn=$r==null?0:$r.length,!!rn&&Ba(rn)&&Eo(pn,rn)&&(ri($r)||Go($r)))}function jh($r){var Er=$r.length,Cr=new $r.constructor(Er);return Er&&typeof $r[0]=="string"&&di.call($r,"index")&&(Cr.index=$r.index,Cr.input=$r.input),Cr}function El($r){return typeof $r.constructor=="function"&&!Fs($r)?as(sa($r)):{}}function Wh($r,Er,Cr){var zr=$r.constructor;switch(Er){case kr:return $c($r);case mn:case _n:return new zr(+$r);case Sr:return kh($r,Cr);case wr:case Br:case Wr:case Qr:case an:case Pn:case Fn:case Dn:case Gn:return sl($r,Cr);case gn:return new zr;case Rn:case jn:return new zr($r);case Bn:return Ih($r);case Tn:return new zr;case Hn:return Oh($r)}}function Vh($r,Er){var Cr=Er.length;if(!Cr)return $r;var zr=Cr-1;return Er[zr]=(Cr>1?"& ":"")+Er[zr],Er=Er.join(Cr>2?", ":" "),$r.replace(Gs,`{
/* [wrapped with `+Er+`] */
`)}function Gh($r){return ri($r)||Go($r)||!!(Iu&&$r&&$r[Iu])}function Eo($r,Er){var Cr=typeof $r;return Er=Er??Zr,!!Er&&(Cr=="number"||Cr!="symbol"&&gs.test($r))&&$r>-1&&$r%1==0&&$r<Er}function Wi($r,Er,Cr){if(!wi(Cr))return!1;var zr=typeof Er;return(zr=="number"?qi(Cr)&&Eo(Er,Cr.length):zr=="string"&&Er in Cr)?po(Cr[Er],$r):!1}function kc($r,Er){if(ri($r))return!1;var Cr=typeof $r;return Cr=="number"||Cr=="symbol"||Cr=="boolean"||$r==null||eo($r)?!0:Ws.test($r)||!Ri.test($r)||Er!=null&&$r in fi(Er)}function qh($r){var Er=typeof $r;return Er=="string"||Er=="number"||Er=="symbol"||Er=="boolean"?$r!=="__proto__":$r===null}function Ic($r){var Er=Ra($r),Cr=un[Er];if(typeof Cr!="function"||!(Er in ai.prototype))return!1;if($r===Cr)return!0;var zr=vc(Cr);return!!zr&&$r===zr[0]}function Yh($r){return!!vu&&vu in $r}var Zh=ta?vo:Vc;function Fs($r){var Er=$r&&$r.constructor,Cr=typeof Er=="function"&&Er.prototype||ns;return $r===Cr}function vl($r){return $r===$r&&!wi($r)}function Rl($r,Er){return function(Cr){return Cr==null?!1:Cr[$r]===Er&&(Er!==r||$r in fi(Cr))}}function Jh($r){var Er=Pa($r,function(zr){return Cr.size===br&&Cr.clear(),zr}),Cr=Er.cache;return Er}function Xh($r,Er){var Cr=$r[1],zr=Er[1],rn=Cr|zr,dn=rn<(xr|Lr|jr),pn=zr==jr&&Cr==Mr||zr==jr&&Cr==qr&&$r[7].length<=Er[8]||zr==(jr|qr)&&Er[7].length<=Er[8]&&Cr==Mr;if(!(dn||pn))return $r;zr&xr&&($r[2]=Er[2],rn|=Cr&xr?0:Fr);var $n=Er[3];if($n){var vn=$r[3];$r[3]=vn?cl(vn,$n,Er[4]):$n,$r[4]=vn?Po($r[3],_r):Er[4]}return $n=Er[5],$n&&(vn=$r[5],$r[5]=vn?ul(vn,$n,Er[6]):$n,$r[6]=vn?Po($r[5],_r):Er[6]),$n=Er[7],$n&&($r[7]=$n),zr&jr&&($r[8]=$r[8]==null?Er[8]:Hi($r[8],Er[8])),$r[9]==null&&($r[9]=Er[9]),$r[0]=Er[0],$r[1]=rn,$r}function Qh($r){var Er=[];if($r!=null)for(var Cr in fi($r))Er.push(Cr);return Er}function ep($r){return na.call($r)}function Tl($r,Er,Cr){return Er=Di(Er===r?$r.length-1:Er,0),function(){for(var zr=arguments,rn=-1,dn=Di(zr.length-Er,0),pn=On(dn);++rn<dn;)pn[rn]=zr[Er+rn];rn=-1;for(var $n=On(Er+1);++rn<Er;)$n[rn]=zr[rn];return $n[Er]=Cr(pn),Ji($r,this,$n)}}function kl($r,Er){return Er.length<2?$r:jo($r,co(Er,0,-1))}function tp($r,Er){for(var Cr=$r.length,zr=Hi(Er.length,Cr),rn=Gi($r);zr--;){var dn=Er[zr];$r[zr]=Eo(dn,Cr)?rn[dn]:r}return $r}function Oc($r,Er){if(!(Er==="constructor"&&typeof $r[Er]=="function")&&Er!="__proto__")return $r[Er]}var Il=Cl(Xu),Us=gf||function($r,Er){return Ui.setTimeout($r,Er)},Cc=Cl(Eh);function Ol($r,Er,Cr){var zr=Er+"";return Cc($r,Vh(zr,rp(zh(zr),Cr)))}function Cl($r){var Er=0,Cr=0;return function(){var zr=$f(),rn=Ur-(zr-Cr);if(Cr=zr,rn>0){if(++Er>=cn)return arguments[0]}else Er=0;return $r.apply(r,arguments)}}function ka($r,Er){var Cr=-1,zr=$r.length,rn=zr-1;for(Er=Er===r?zr:Er;++Cr<Er;){var dn=hc(Cr,rn),pn=$r[dn];$r[dn]=$r[Cr],$r[Cr]=pn}return $r.length=Er,$r}var Pl=Jh(function($r){var Er=[];return $r.charCodeAt(0)===46&&Er.push(""),$r.replace(Ti,function(Cr,zr,rn,dn){Er.push(rn?dn.replace(Pi,"$1"):zr||Cr)}),Er});function bo($r){if(typeof $r=="string"||eo($r))return $r;var Er=$r+"";return Er=="0"&&1/$r==-Yr?"-0":Er}function Vo($r){if($r!=null){try{return ra.call($r)}catch{}try{return $r+""}catch{}}return""}function rp($r,Er){return io(fn,function(Cr){var zr="_."+Cr[0];Er&Cr[1]&&!Js($r,zr)&&$r.push(zr)}),$r.sort()}function xl($r){if($r instanceof ai)return $r.clone();var Er=new so($r.__wrapped__,$r.__chain__);return Er.__actions__=Gi($r.__actions__),Er.__index__=$r.__index__,Er.__values__=$r.__values__,Er}function np($r,Er,Cr){(Cr?Wi($r,Er,Cr):Er===r)?Er=1:Er=Di(ni(Er),0);var zr=$r==null?0:$r.length;if(!zr||Er<1)return[];for(var rn=0,dn=0,pn=On(ua(zr/Er));rn<zr;)pn[dn++]=co($r,rn,rn+=Er);return pn}function ip($r){for(var Er=-1,Cr=$r==null?0:$r.length,zr=0,rn=[];++Er<Cr;){var dn=$r[Er];dn&&(rn[zr++]=dn)}return rn}function op(){var $r=arguments.length;if(!$r)return[];for(var Er=On($r-1),Cr=arguments[0],zr=$r;zr--;)Er[zr-1]=arguments[zr];return Co(ri(Cr)?Gi(Cr):[Cr],Ki(Er,1))}var sp=oi(function($r,Er){return Ni($r)?Bs($r,Ki(Er,1,Ni,!0)):[]}),ap=oi(function($r,Er){var Cr=uo(Er);return Ni(Cr)&&(Cr=r),Ni($r)?Bs($r,Ki(Er,1,Ni,!0),Xn(Cr,2)):[]}),cp=oi(function($r,Er){var Cr=uo(Er);return Ni(Cr)&&(Cr=r),Ni($r)?Bs($r,Ki(Er,1,Ni,!0),r,Cr):[]});function up($r,Er,Cr){var zr=$r==null?0:$r.length;return zr?(Er=Cr||Er===r?1:ni(Er),co($r,Er<0?0:Er,zr)):[]}function lp($r,Er,Cr){var zr=$r==null?0:$r.length;return zr?(Er=Cr||Er===r?1:ni(Er),Er=zr-Er,co($r,0,Er<0?0:Er)):[]}function dp($r,Er){return $r&&$r.length?$a($r,Xn(Er,3),!0,!0):[]}function fp($r,Er){return $r&&$r.length?$a($r,Xn(Er,3),!0):[]}function hp($r,Er,Cr,zr){var rn=$r==null?0:$r.length;return rn?(Cr&&typeof Cr!="number"&&Wi($r,Er,Cr)&&(Cr=0,zr=rn),oh($r,Er,Cr,zr)):[]}function Bl($r,Er,Cr){var zr=$r==null?0:$r.length;if(!zr)return-1;var rn=Cr==null?0:ni(Cr);return rn<0&&(rn=Di(zr+rn,0)),Xs($r,Xn(Er,3),rn)}function Nl($r,Er,Cr){var zr=$r==null?0:$r.length;if(!zr)return-1;var rn=zr-1;return Cr!==r&&(rn=ni(Cr),rn=Cr<0?Di(zr+rn,0):Hi(rn,zr-1)),Xs($r,Xn(Er,3),rn,!0)}function Ll($r){var Er=$r==null?0:$r.length;return Er?Ki($r,1):[]}function pp($r){var Er=$r==null?0:$r.length;return Er?Ki($r,Yr):[]}function yp($r,Er){var Cr=$r==null?0:$r.length;return Cr?(Er=Er===r?1:ni(Er),Ki($r,Er)):[]}function gp($r){for(var Er=-1,Cr=$r==null?0:$r.length,zr={};++Er<Cr;){var rn=$r[Er];zr[rn[0]]=rn[1]}return zr}function Ml($r){return $r&&$r.length?$r[0]:r}function mp($r,Er,Cr){var zr=$r==null?0:$r.length;if(!zr)return-1;var rn=Cr==null?0:ni(Cr);return rn<0&&(rn=Di(zr+rn,0)),Qo($r,Er,rn)}function bp($r){var Er=$r==null?0:$r.length;return Er?co($r,0,-1):[]}var _p=oi(function($r){var Er=mi($r,bc);return Er.length&&Er[0]===$r[0]?cc(Er):[]}),$p=oi(function($r){var Er=uo($r),Cr=mi($r,bc);return Er===uo(Cr)?Er=r:Cr.pop(),Cr.length&&Cr[0]===$r[0]?cc(Cr,Xn(Er,2)):[]}),Sp=oi(function($r){var Er=uo($r),Cr=mi($r,bc);return Er=typeof Er=="function"?Er:r,Er&&Cr.pop(),Cr.length&&Cr[0]===$r[0]?cc(Cr,r,Er):[]});function wp($r,Er){return $r==null?"":bf.call($r,Er)}function uo($r){var Er=$r==null?0:$r.length;return Er?$r[Er-1]:r}function Ap($r,Er,Cr){var zr=$r==null?0:$r.length;if(!zr)return-1;var rn=zr;return Cr!==r&&(rn=ni(Cr),rn=rn<0?Di(zr+rn,0):Hi(rn,zr-1)),Er===Er?tf($r,Er,rn):Xs($r,mu,rn,!0)}function Ep($r,Er){return $r&&$r.length?qu($r,ni(Er)):r}var vp=oi(Dl);function Dl($r,Er){return $r&&$r.length&&Er&&Er.length?fc($r,Er):$r}function Rp($r,Er,Cr){return $r&&$r.length&&Er&&Er.length?fc($r,Er,Xn(Cr,2)):$r}function Tp($r,Er,Cr){return $r&&$r.length&&Er&&Er.length?fc($r,Er,r,Cr):$r}var kp=Ao(function($r,Er){var Cr=$r==null?0:$r.length,zr=ic($r,Er);return Ju($r,mi(Er,function(rn){return Eo(rn,Cr)?+rn:rn}).sort(al)),zr});function Ip($r,Er){var Cr=[];if(!($r&&$r.length))return Cr;var zr=-1,rn=[],dn=$r.length;for(Er=Xn(Er,3);++zr<dn;){var pn=$r[zr];Er(pn,zr,$r)&&(Cr.push(pn),rn.push(zr))}return Ju($r,rn),Cr}function Pc($r){return $r==null?$r:wf.call($r)}function Op($r,Er,Cr){var zr=$r==null?0:$r.length;return zr?(Cr&&typeof Cr!="number"&&Wi($r,Er,Cr)?(Er=0,Cr=zr):(Er=Er==null?0:ni(Er),Cr=Cr===r?zr:ni(Cr)),co($r,Er,Cr)):[]}function Cp($r,Er){return ba($r,Er)}function Pp($r,Er,Cr){return yc($r,Er,Xn(Cr,2))}function xp($r,Er){var Cr=$r==null?0:$r.length;if(Cr){var zr=ba($r,Er);if(zr<Cr&&po($r[zr],Er))return zr}return-1}function Bp($r,Er){return ba($r,Er,!0)}function Np($r,Er,Cr){return yc($r,Er,Xn(Cr,2),!0)}function Lp($r,Er){var Cr=$r==null?0:$r.length;if(Cr){var zr=ba($r,Er,!0)-1;if(po($r[zr],Er))return zr}return-1}function Mp($r){return $r&&$r.length?Qu($r):[]}function Dp($r,Er){return $r&&$r.length?Qu($r,Xn(Er,2)):[]}function Up($r){var Er=$r==null?0:$r.length;return Er?co($r,1,Er):[]}function Kp($r,Er,Cr){return $r&&$r.length?(Er=Cr||Er===r?1:ni(Er),co($r,0,Er<0?0:Er)):[]}function Hp($r,Er,Cr){var zr=$r==null?0:$r.length;return zr?(Er=Cr||Er===r?1:ni(Er),Er=zr-Er,co($r,Er<0?0:Er,zr)):[]}function zp($r,Er){return $r&&$r.length?$a($r,Xn(Er,3),!1,!0):[]}function jp($r,Er){return $r&&$r.length?$a($r,Xn(Er,3)):[]}var Wp=oi(function($r){return No(Ki($r,1,Ni,!0))}),Vp=oi(function($r){var Er=uo($r);return Ni(Er)&&(Er=r),No(Ki($r,1,Ni,!0),Xn(Er,2))}),Gp=oi(function($r){var Er=uo($r);return Er=typeof Er=="function"?Er:r,No(Ki($r,1,Ni,!0),r,Er)});function qp($r){return $r&&$r.length?No($r):[]}function Yp($r,Er){return $r&&$r.length?No($r,Xn(Er,2)):[]}function Zp($r,Er){return Er=typeof Er=="function"?Er:r,$r&&$r.length?No($r,r,Er):[]}function xc($r){if(!($r&&$r.length))return[];var Er=0;return $r=Oo($r,function(Cr){if(Ni(Cr))return Er=Di(Cr.length,Er),!0}),Za(Er,function(Cr){return mi($r,Ga(Cr))})}function Fl($r,Er){if(!($r&&$r.length))return[];var Cr=xc($r);return Er==null?Cr:mi(Cr,function(zr){return Ji(Er,r,zr)})}var Jp=oi(function($r,Er){return Ni($r)?Bs($r,Er):[]}),Xp=oi(function($r){return mc(Oo($r,Ni))}),Qp=oi(function($r){var Er=uo($r);return Ni(Er)&&(Er=r),mc(Oo($r,Ni),Xn(Er,2))}),ey=oi(function($r){var Er=uo($r);return Er=typeof Er=="function"?Er:r,mc(Oo($r,Ni),r,Er)}),ty=oi(xc);function ry($r,Er){return nl($r||[],Er||[],xs)}function ny($r,Er){return nl($r||[],Er||[],Ms)}var iy=oi(function($r){var Er=$r.length,Cr=Er>1?$r[Er-1]:r;return Cr=typeof Cr=="function"?($r.pop(),Cr):r,Fl($r,Cr)});function Ul($r){var Er=un($r);return Er.__chain__=!0,Er}function oy($r,Er){return Er($r),$r}function Ia($r,Er){return Er($r)}var sy=Ao(function($r){var Er=$r.length,Cr=Er?$r[0]:0,zr=this.__wrapped__,rn=function(dn){return ic(dn,$r)};return Er>1||this.__actions__.length||!(zr instanceof ai)||!Eo(Cr)?this.thru(rn):(zr=zr.slice(Cr,+Cr+(Er?1:0)),zr.__actions__.push({func:Ia,args:[rn],thisArg:r}),new so(zr,this.__chain__).thru(function(dn){return Er&&!dn.length&&dn.push(r),dn}))});function ay(){return Ul(this)}function cy(){return new so(this.value(),this.__chain__)}function uy(){this.__values__===r&&(this.__values__=ed(this.value()));var $r=this.__index__>=this.__values__.length,Er=$r?r:this.__values__[this.__index__++];return{done:$r,value:Er}}function ly(){return this}function dy($r){for(var Er,Cr=this;Cr instanceof ha;){var zr=xl(Cr);zr.__index__=0,zr.__values__=r,Er?rn.__wrapped__=zr:Er=zr;var rn=zr;Cr=Cr.__wrapped__}return rn.__wrapped__=$r,Er}function fy(){var $r=this.__wrapped__;if($r instanceof ai){var Er=$r;return this.__actions__.length&&(Er=new ai(this)),Er=Er.reverse(),Er.__actions__.push({func:Ia,args:[Pc],thisArg:r}),new so(Er,this.__chain__)}return this.thru(Pc)}function hy(){return rl(this.__wrapped__,this.__actions__)}var py=Sa(function($r,Er,Cr){di.call($r,Cr)?++$r[Cr]:So($r,Cr,1)});function yy($r,Er,Cr){var zr=ri($r)?yu:ih;return Cr&&Wi($r,Er,Cr)&&(Er=r),zr($r,Xn(Er,3))}function gy($r,Er){var Cr=ri($r)?Oo:Fu;return Cr($r,Xn(Er,3))}var my=hl(Bl),by=hl(Nl);function _y($r,Er){return Ki(Oa($r,Er),1)}function $y($r,Er){return Ki(Oa($r,Er),Yr)}function Sy($r,Er,Cr){return Cr=Cr===r?1:ni(Cr),Ki(Oa($r,Er),Cr)}function Kl($r,Er){var Cr=ri($r)?io:Bo;return Cr($r,Xn(Er,3))}function Hl($r,Er){var Cr=ri($r)?Dd:Du;return Cr($r,Xn(Er,3))}var wy=Sa(function($r,Er,Cr){di.call($r,Cr)?$r[Cr].push(Er):So($r,Cr,[Er])});function Ay($r,Er,Cr,zr){$r=qi($r)?$r:fs($r),Cr=Cr&&!zr?ni(Cr):0;var rn=$r.length;return Cr<0&&(Cr=Di(rn+Cr,0)),Na($r)?Cr<=rn&&$r.indexOf(Er,Cr)>-1:!!rn&&Qo($r,Er,Cr)>-1}var Ey=oi(function($r,Er,Cr){var zr=-1,rn=typeof Er=="function",dn=qi($r)?On($r.length):[];return Bo($r,function(pn){dn[++zr]=rn?Ji(Er,pn,Cr):Ns(pn,Er,Cr)}),dn}),vy=Sa(function($r,Er,Cr){So($r,Cr,Er)});function Oa($r,Er){var Cr=ri($r)?mi:Wu;return Cr($r,Xn(Er,3))}function Ry($r,Er,Cr,zr){return $r==null?[]:(ri(Er)||(Er=Er==null?[]:[Er]),Cr=zr?r:Cr,ri(Cr)||(Cr=Cr==null?[]:[Cr]),Yu($r,Er,Cr))}var Ty=Sa(function($r,Er,Cr){$r[Cr?0:1].push(Er)},function(){return[[],[]]});function ky($r,Er,Cr){var zr=ri($r)?Wa:_u,rn=arguments.length<3;return zr($r,Xn(Er,4),Cr,rn,Bo)}function Iy($r,Er,Cr){var zr=ri($r)?Fd:_u,rn=arguments.length<3;return zr($r,Xn(Er,4),Cr,rn,Du)}function Oy($r,Er){var Cr=ri($r)?Oo:Fu;return Cr($r,xa(Xn(Er,3)))}function Cy($r){var Er=ri($r)?Bu:wh;return Er($r)}function Py($r,Er,Cr){(Cr?Wi($r,Er,Cr):Er===r)?Er=1:Er=ni(Er);var zr=ri($r)?Qf:Ah;return zr($r,Er)}function xy($r){var Er=ri($r)?eh:vh;return Er($r)}function By($r){if($r==null)return 0;if(qi($r))return Na($r)?ts($r):$r.length;var Er=zi($r);return Er==gn||Er==Tn?$r.size:lc($r).length}function Ny($r,Er,Cr){var zr=ri($r)?Va:Rh;return Cr&&Wi($r,Er,Cr)&&(Er=r),zr($r,Xn(Er,3))}var Ly=oi(function($r,Er){if($r==null)return[];var Cr=Er.length;return Cr>1&&Wi($r,Er[0],Er[1])?Er=[]:Cr>2&&Wi(Er[0],Er[1],Er[2])&&(Er=[Er[0]]),Yu($r,Ki(Er,1),[])}),Ca=yf||function(){return Ui.Date.now()};function My($r,Er){if(typeof Er!="function")throw new oo(c);return $r=ni($r),function(){if(--$r<1)return Er.apply(this,arguments)}}function zl($r,Er,Cr){return Er=Cr?r:Er,Er=$r&&Er==null?$r.length:Er,wo($r,jr,r,r,r,r,Er)}function jl($r,Er){var Cr;if(typeof Er!="function")throw new oo(c);return $r=ni($r),function(){return--$r>0&&(Cr=Er.apply(this,arguments)),$r<=1&&(Er=r),Cr}}var Bc=oi(function($r,Er,Cr){var zr=xr;if(Cr.length){var rn=Po(Cr,ls(Bc));zr|=Vr}return wo($r,zr,Er,Cr,rn)}),Wl=oi(function($r,Er,Cr){var zr=xr|Lr;if(Cr.length){var rn=Po(Cr,ls(Wl));zr|=Vr}return wo(Er,zr,$r,Cr,rn)});function Vl($r,Er,Cr){Er=Cr?r:Er;var zr=wo($r,Mr,r,r,r,r,r,Er);return zr.placeholder=Vl.placeholder,zr}function Gl($r,Er,Cr){Er=Cr?r:Er;var zr=wo($r,Hr,r,r,r,r,r,Er);return zr.placeholder=Gl.placeholder,zr}function ql($r,Er,Cr){var zr,rn,dn,pn,$n,vn,Ln=0,Mn=!1,zn=!1,qn=!0;if(typeof $r!="function")throw new oo(c);Er=lo(Er)||0,wi(Cr)&&(Mn=!!Cr.leading,zn="maxWait"in Cr,dn=zn?Di(lo(Cr.maxWait)||0,Er):dn,qn="trailing"in Cr?!!Cr.trailing:qn);function Jn(Li){var yo=zr,To=rn;return zr=rn=r,Ln=Li,pn=$r.apply(To,yo),pn}function Qn(Li){return Ln=Li,$n=Us(si,Er),Mn?Jn(Li):pn}function ii(Li){var yo=Li-vn,To=Li-Ln,hd=Er-yo;return zn?Hi(hd,dn-To):hd}function ei(Li){var yo=Li-vn,To=Li-Ln;return vn===r||yo>=Er||yo<0||zn&&To>=dn}function si(){var Li=Ca();if(ei(Li))return ci(Li);$n=Us(si,ii(Li))}function ci(Li){return $n=r,qn&&zr?Jn(Li):(zr=rn=r,pn)}function to(){$n!==r&&il($n),Ln=0,zr=vn=rn=$n=r}function Vi(){return $n===r?pn:ci(Ca())}function ro(){var Li=Ca(),yo=ei(Li);if(zr=arguments,rn=this,vn=Li,yo){if($n===r)return Qn(vn);if(zn)return il($n),$n=Us(si,Er),Jn(vn)}return $n===r&&($n=Us(si,Er)),pn}return ro.cancel=to,ro.flush=Vi,ro}var Dy=oi(function($r,Er){return Mu($r,1,Er)}),Fy=oi(function($r,Er,Cr){return Mu($r,lo(Er)||0,Cr)});function Uy($r){return wo($r,tn)}function Pa($r,Er){if(typeof $r!="function"||Er!=null&&typeof Er!="function")throw new oo(c);var Cr=function(){var zr=arguments,rn=Er?Er.apply(this,zr):zr[0],dn=Cr.cache;if(dn.has(rn))return dn.get(rn);var pn=$r.apply(this,zr);return Cr.cache=dn.set(rn,pn)||dn,pn};return Cr.cache=new(Pa.Cache||$o),Cr}Pa.Cache=$o;function xa($r){if(typeof $r!="function")throw new oo(c);return function(){var Er=arguments;switch(Er.length){case 0:return!$r.call(this);case 1:return!$r.call(this,Er[0]);case 2:return!$r.call(this,Er[0],Er[1]);case 3:return!$r.call(this,Er[0],Er[1],Er[2])}return!$r.apply(this,Er)}}function Ky($r){return jl(2,$r)}var Hy=Th(function($r,Er){Er=Er.length==1&&ri(Er[0])?mi(Er[0],Xi(Xn())):mi(Ki(Er,1),Xi(Xn()));var Cr=Er.length;return oi(function(zr){for(var rn=-1,dn=Hi(zr.length,Cr);++rn<dn;)zr[rn]=Er[rn].call(this,zr[rn]);return Ji($r,this,zr)})}),Nc=oi(function($r,Er){var Cr=Po(Er,ls(Nc));return wo($r,Vr,r,Er,Cr)}),Yl=oi(function($r,Er){var Cr=Po(Er,ls(Yl));return wo($r,Kr,r,Er,Cr)}),zy=Ao(function($r,Er){return wo($r,qr,r,r,r,Er)});function jy($r,Er){if(typeof $r!="function")throw new oo(c);return Er=Er===r?Er:ni(Er),oi($r,Er)}function Wy($r,Er){if(typeof $r!="function")throw new oo(c);return Er=Er==null?0:Di(ni(Er),0),oi(function(Cr){var zr=Cr[Er],rn=Mo(Cr,0,Er);return zr&&Co(rn,zr),Ji($r,this,rn)})}function Vy($r,Er,Cr){var zr=!0,rn=!0;if(typeof $r!="function")throw new oo(c);return wi(Cr)&&(zr="leading"in Cr?!!Cr.leading:zr,rn="trailing"in Cr?!!Cr.trailing:rn),ql($r,Er,{leading:zr,maxWait:Er,trailing:rn})}function Gy($r){return zl($r,1)}function qy($r,Er){return Nc(_c(Er),$r)}function Yy(){if(!arguments.length)return[];var $r=arguments[0];return ri($r)?$r:[$r]}function Zy($r){return ao($r,Tr)}function Jy($r,Er){return Er=typeof Er=="function"?Er:r,ao($r,Tr,Er)}function Xy($r){return ao($r,Ar|Tr)}function Qy($r,Er){return Er=typeof Er=="function"?Er:r,ao($r,Ar|Tr,Er)}function eg($r,Er){return Er==null||Lu($r,Er,Fi(Er))}function po($r,Er){return $r===Er||$r!==$r&&Er!==Er}var tg=va(ac),rg=va(function($r,Er){return $r>=Er}),Go=Hu(function(){return arguments}())?Hu:function($r){return Bi($r)&&di.call($r,"callee")&&!ku.call($r,"callee")},ri=On.isArray,ng=uu?Xi(uu):lh;function qi($r){return $r!=null&&Ba($r.length)&&!vo($r)}function Ni($r){return Bi($r)&&qi($r)}function ig($r){return $r===!0||$r===!1||Bi($r)&&ji($r)==mn}var Do=mf||Vc,og=lu?Xi(lu):dh;function sg($r){return Bi($r)&&$r.nodeType===1&&!Ks($r)}function ag($r){if($r==null)return!0;if(qi($r)&&(ri($r)||typeof $r=="string"||typeof $r.splice=="function"||Do($r)||ds($r)||Go($r)))return!$r.length;var Er=zi($r);if(Er==gn||Er==Tn)return!$r.size;if(Fs($r))return!lc($r).length;for(var Cr in $r)if(di.call($r,Cr))return!1;return!0}function cg($r,Er){return Ls($r,Er)}function ug($r,Er,Cr){Cr=typeof Cr=="function"?Cr:r;var zr=Cr?Cr($r,Er):r;return zr===r?Ls($r,Er,r,Cr):!!zr}function Lc($r){if(!Bi($r))return!1;var Er=ji($r);return Er==Nn||Er==In||typeof $r.message=="string"&&typeof $r.name=="string"&&!Ks($r)}function lg($r){return typeof $r=="number"&&Ou($r)}function vo($r){if(!wi($r))return!1;var Er=ji($r);return Er==ln||Er==hn||Er==yn||Er==Sn}function Zl($r){return typeof $r=="number"&&$r==ni($r)}function Ba($r){return typeof $r=="number"&&$r>-1&&$r%1==0&&$r<=Zr}function wi($r){var Er=typeof $r;return $r!=null&&(Er=="object"||Er=="function")}function Bi($r){return $r!=null&&typeof $r=="object"}var Jl=du?Xi(du):hh;function dg($r,Er){return $r===Er||uc($r,Er,Rc(Er))}function fg($r,Er,Cr){return Cr=typeof Cr=="function"?Cr:r,uc($r,Er,Rc(Er),Cr)}function hg($r){return Xl($r)&&$r!=+$r}function pg($r){if(Zh($r))throw new ti(a);return zu($r)}function yg($r){return $r===null}function gg($r){return $r==null}function Xl($r){return typeof $r=="number"||Bi($r)&&ji($r)==Rn}function Ks($r){if(!Bi($r)||ji($r)!=kn)return!1;var Er=sa($r);if(Er===null)return!0;var Cr=di.call(Er,"constructor")&&Er.constructor;return typeof Cr=="function"&&Cr instanceof Cr&&ra.call(Cr)==df}var Mc=fu?Xi(fu):ph;function mg($r){return Zl($r)&&$r>=-Zr&&$r<=Zr}var Ql=hu?Xi(hu):yh;function Na($r){return typeof $r=="string"||!ri($r)&&Bi($r)&&ji($r)==jn}function eo($r){return typeof $r=="symbol"||Bi($r)&&ji($r)==Hn}var ds=pu?Xi(pu):gh;function bg($r){return $r===r}function _g($r){return Bi($r)&&zi($r)==Vn}function $g($r){return Bi($r)&&ji($r)==Yn}var Sg=va(dc),wg=va(function($r,Er){return $r<=Er});function ed($r){if(!$r)return[];if(qi($r))return Na($r)?fo($r):Gi($r);if(ks&&$r[ks])return Xd($r[ks]());var Er=zi($r),Cr=Er==gn?Xa:Er==Tn?Qs:fs;return Cr($r)}function Ro($r){if(!$r)return $r===0?$r:0;if($r=lo($r),$r===Yr||$r===-Yr){var Er=$r<0?-1:1;return Er*Xr}return $r===$r?$r:0}function ni($r){var Er=Ro($r),Cr=Er%1;return Er===Er?Cr?Er-Cr:Er:0}function td($r){return $r?zo(ni($r),0,Gr):0}function lo($r){if(typeof $r=="number")return $r;if(eo($r))return nn;if(wi($r)){var Er=typeof $r.valueOf=="function"?$r.valueOf():$r;$r=wi(Er)?Er+"":Er}if(typeof $r!="string")return $r===0?$r:+$r;$r=$u($r);var Cr=hs.test($r);return Cr||ys.test($r)?Nd($r.slice(2),Cr?2:8):xi.test($r)?nn:+$r}function rd($r){return mo($r,Yi($r))}function Ag($r){return $r?zo(ni($r),-Zr,Zr):$r===0?$r:0}function li($r){return $r==null?"":Qi($r)}var Eg=cs(function($r,Er){if(Fs(Er)||qi(Er)){mo(Er,Fi(Er),$r);return}for(var Cr in Er)di.call(Er,Cr)&&xs($r,Cr,Er[Cr])}),nd=cs(function($r,Er){mo(Er,Yi(Er),$r)}),La=cs(function($r,Er,Cr,zr){mo(Er,Yi(Er),$r,zr)}),vg=cs(function($r,Er,Cr,zr){mo(Er,Fi(Er),$r,zr)}),Rg=Ao(ic);function Tg($r,Er){var Cr=as($r);return Er==null?Cr:Nu(Cr,Er)}var kg=oi(function($r,Er){$r=fi($r);var Cr=-1,zr=Er.length,rn=zr>2?Er[2]:r;for(rn&&Wi(Er[0],Er[1],rn)&&(zr=1);++Cr<zr;)for(var dn=Er[Cr],pn=Yi(dn),$n=-1,vn=pn.length;++$n<vn;){var Ln=pn[$n],Mn=$r[Ln];(Mn===r||po(Mn,ns[Ln])&&!di.call($r,Ln))&&($r[Ln]=dn[Ln])}return $r}),Ig=oi(function($r){return $r.push(r,$l),Ji(id,r,$r)});function Og($r,Er){return gu($r,Xn(Er,3),go)}function Cg($r,Er){return gu($r,Xn(Er,3),sc)}function Pg($r,Er){return $r==null?$r:oc($r,Xn(Er,3),Yi)}function xg($r,Er){return $r==null?$r:Uu($r,Xn(Er,3),Yi)}function Bg($r,Er){return $r&&go($r,Xn(Er,3))}function Ng($r,Er){return $r&&sc($r,Xn(Er,3))}function Lg($r){return $r==null?[]:ga($r,Fi($r))}function Mg($r){return $r==null?[]:ga($r,Yi($r))}function Dc($r,Er,Cr){var zr=$r==null?r:jo($r,Er);return zr===r?Cr:zr}function Dg($r,Er){return $r!=null&&Al($r,Er,sh)}function Fc($r,Er){return $r!=null&&Al($r,Er,ah)}var Fg=yl(function($r,Er,Cr){Er!=null&&typeof Er.toString!="function"&&(Er=na.call(Er)),$r[Er]=Cr},Kc(Zi)),Ug=yl(function($r,Er,Cr){Er!=null&&typeof Er.toString!="function"&&(Er=na.call(Er)),di.call($r,Er)?$r[Er].push(Cr):$r[Er]=[Cr]},Xn),Kg=oi(Ns);function Fi($r){return qi($r)?xu($r):lc($r)}function Yi($r){return qi($r)?xu($r,!0):mh($r)}function Hg($r,Er){var Cr={};return Er=Xn(Er,3),go($r,function(zr,rn,dn){So(Cr,Er(zr,rn,dn),zr)}),Cr}function zg($r,Er){var Cr={};return Er=Xn(Er,3),go($r,function(zr,rn,dn){So(Cr,rn,Er(zr,rn,dn))}),Cr}var jg=cs(function($r,Er,Cr){ma($r,Er,Cr)}),id=cs(function($r,Er,Cr,zr){ma($r,Er,Cr,zr)}),Wg=Ao(function($r,Er){var Cr={};if($r==null)return Cr;var zr=!1;Er=mi(Er,function(dn){return dn=Lo(dn,$r),zr||(zr=dn.length>1),dn}),mo($r,Ec($r),Cr),zr&&(Cr=ao(Cr,Ar|vr|Tr,Dh));for(var rn=Er.length;rn--;)gc(Cr,Er[rn]);return Cr});function Vg($r,Er){return od($r,xa(Xn(Er)))}var Gg=Ao(function($r,Er){return $r==null?{}:_h($r,Er)});function od($r,Er){if($r==null)return{};var Cr=mi(Ec($r),function(zr){return[zr]});return Er=Xn(Er),Zu($r,Cr,function(zr,rn){return Er(zr,rn[0])})}function qg($r,Er,Cr){Er=Lo(Er,$r);var zr=-1,rn=Er.length;for(rn||(rn=1,$r=r);++zr<rn;){var dn=$r==null?r:$r[bo(Er[zr])];dn===r&&(zr=rn,dn=Cr),$r=vo(dn)?dn.call($r):dn}return $r}function Yg($r,Er,Cr){return $r==null?$r:Ms($r,Er,Cr)}function Zg($r,Er,Cr,zr){return zr=typeof zr=="function"?zr:r,$r==null?$r:Ms($r,Er,Cr,zr)}var sd=bl(Fi),ad=bl(Yi);function Jg($r,Er,Cr){var zr=ri($r),rn=zr||Do($r)||ds($r);if(Er=Xn(Er,4),Cr==null){var dn=$r&&$r.constructor;rn?Cr=zr?new dn:[]:wi($r)?Cr=vo(dn)?as(sa($r)):{}:Cr={}}return(rn?io:go)($r,function(pn,$n,vn){return Er(Cr,pn,$n,vn)}),Cr}function Xg($r,Er){return $r==null?!0:gc($r,Er)}function Qg($r,Er,Cr){return $r==null?$r:tl($r,Er,_c(Cr))}function em($r,Er,Cr,zr){return zr=typeof zr=="function"?zr:r,$r==null?$r:tl($r,Er,_c(Cr),zr)}function fs($r){return $r==null?[]:Ja($r,Fi($r))}function tm($r){return $r==null?[]:Ja($r,Yi($r))}function rm($r,Er,Cr){return Cr===r&&(Cr=Er,Er=r),Cr!==r&&(Cr=lo(Cr),Cr=Cr===Cr?Cr:0),Er!==r&&(Er=lo(Er),Er=Er===Er?Er:0),zo(lo($r),Er,Cr)}function nm($r,Er,Cr){return Er=Ro(Er),Cr===r?(Cr=Er,Er=0):Cr=Ro(Cr),$r=lo($r),ch($r,Er,Cr)}function im($r,Er,Cr){if(Cr&&typeof Cr!="boolean"&&Wi($r,Er,Cr)&&(Er=Cr=r),Cr===r&&(typeof Er=="boolean"?(Cr=Er,Er=r):typeof $r=="boolean"&&(Cr=$r,$r=r)),$r===r&&Er===r?($r=0,Er=1):($r=Ro($r),Er===r?(Er=$r,$r=0):Er=Ro(Er)),$r>Er){var zr=$r;$r=Er,Er=zr}if(Cr||$r%1||Er%1){var rn=Cu();return Hi($r+rn*(Er-$r+Bd("1e-"+((rn+"").length-1))),Er)}return hc($r,Er)}var om=us(function($r,Er,Cr){return Er=Er.toLowerCase(),$r+(Cr?cd(Er):Er)});function cd($r){return Uc(li($r).toLowerCase())}function ud($r){return $r=li($r),$r&&$r.replace(bs,Gd).replace(Ed,"")}function sm($r,Er,Cr){$r=li($r),Er=Qi(Er);var zr=$r.length;Cr=Cr===r?zr:zo(ni(Cr),0,zr);var rn=Cr;return Cr-=Er.length,Cr>=0&&$r.slice(Cr,rn)==Er}function am($r){return $r=li($r),$r&&Ei.test($r)?$r.replace(_i,qd):$r}function cm($r){return $r=li($r),$r&&Vs.test($r)?$r.replace(yi,"\\$&"):$r}var um=us(function($r,Er,Cr){return $r+(Cr?"-":"")+Er.toLowerCase()}),lm=us(function($r,Er,Cr){return $r+(Cr?" ":"")+Er.toLowerCase()}),dm=fl("toLowerCase");function fm($r,Er,Cr){$r=li($r),Er=ni(Er);var zr=Er?ts($r):0;if(!Er||zr>=Er)return $r;var rn=(Er-zr)/2;return Ea(la(rn),Cr)+$r+Ea(ua(rn),Cr)}function hm($r,Er,Cr){$r=li($r),Er=ni(Er);var zr=Er?ts($r):0;return Er&&zr<Er?$r+Ea(Er-zr,Cr):$r}function pm($r,Er,Cr){$r=li($r),Er=ni(Er);var zr=Er?ts($r):0;return Er&&zr<Er?Ea(Er-zr,Cr)+$r:$r}function ym($r,Er,Cr){return Cr||Er==null?Er=0:Er&&(Er=+Er),Sf(li($r).replace(gi,""),Er||0)}function gm($r,Er,Cr){return(Cr?Wi($r,Er,Cr):Er===r)?Er=1:Er=ni(Er),pc(li($r),Er)}function mm(){var $r=arguments,Er=li($r[0]);return $r.length<3?Er:Er.replace($r[1],$r[2])}var bm=us(function($r,Er,Cr){return $r+(Cr?"_":"")+Er.toLowerCase()});function _m($r,Er,Cr){return Cr&&typeof Cr!="number"&&Wi($r,Er,Cr)&&(Er=Cr=r),Cr=Cr===r?Gr:Cr>>>0,Cr?($r=li($r),$r&&(typeof Er=="string"||Er!=null&&!Mc(Er))&&(Er=Qi(Er),!Er&&es($r))?Mo(fo($r),0,Cr):$r.split(Er,Cr)):[]}var $m=us(function($r,Er,Cr){return $r+(Cr?" ":"")+Uc(Er)});function Sm($r,Er,Cr){return $r=li($r),Cr=Cr==null?0:zo(ni(Cr),0,$r.length),Er=Qi(Er),$r.slice(Cr,Cr+Er.length)==Er}function wm($r,Er,Cr){var zr=un.templateSettings;Cr&&Wi($r,Er,Cr)&&(Er=r),$r=li($r),Er=La({},Er,zr,_l);var rn=La({},Er.imports,zr.imports,_l),dn=Fi(rn),pn=Ja(rn,dn),$n,vn,Ln=0,Mn=Er.interpolate||ko,zn="__p += '",qn=Qa((Er.escape||ko).source+"|"+Mn.source+"|"+(Mn===$i?Ys:ko).source+"|"+(Er.evaluate||ko).source+"|$","g"),Jn="//# sourceURL="+(di.call(Er,"sourceURL")?(Er.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Id+"]")+`
`;$r.replace(qn,function(ei,si,ci,to,Vi,ro){return ci||(ci=to),zn+=$r.slice(Ln,ro).replace(_s,Yd),si&&($n=!0,zn+=`' +
__e(`+si+`) +
'`),Vi&&(vn=!0,zn+=`';
`+Vi+`;
__p += '`),ci&&(zn+=`' +
((__t = (`+ci+`)) == null ? '' : __t) +
'`),Ln=ro+ei.length,ei}),zn+=`';
`;var Qn=di.call(Er,"variable")&&Er.variable;if(!Qn)zn=`with (obj) {
`+zn+`
}
`;else if(Ci.test(Qn))throw new ti(u);zn=(vn?zn.replace(Kn,""):zn).replace(Ai,"$1").replace(Hs,"$1;"),zn="function("+(Qn||"obj")+`) {
`+(Qn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($n?", __e = _.escape":"")+(vn?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+zn+`return __p
}`;var ii=dd(function(){return ui(dn,Jn+"return "+zn).apply(r,pn)});if(ii.source=zn,Lc(ii))throw ii;return ii}function Am($r){return li($r).toLowerCase()}function Em($r){return li($r).toUpperCase()}function vm($r,Er,Cr){if($r=li($r),$r&&(Cr||Er===r))return $u($r);if(!$r||!(Er=Qi(Er)))return $r;var zr=fo($r),rn=fo(Er),dn=Su(zr,rn),pn=wu(zr,rn)+1;return Mo(zr,dn,pn).join("")}function Rm($r,Er,Cr){if($r=li($r),$r&&(Cr||Er===r))return $r.slice(0,Eu($r)+1);if(!$r||!(Er=Qi(Er)))return $r;var zr=fo($r),rn=wu(zr,fo(Er))+1;return Mo(zr,0,rn).join("")}function Tm($r,Er,Cr){if($r=li($r),$r&&(Cr||Er===r))return $r.replace(gi,"");if(!$r||!(Er=Qi(Er)))return $r;var zr=fo($r),rn=Su(zr,fo(Er));return Mo(zr,rn).join("")}function km($r,Er){var Cr=en,zr=sn;if(wi(Er)){var rn="separator"in Er?Er.separator:rn;Cr="length"in Er?ni(Er.length):Cr,zr="omission"in Er?Qi(Er.omission):zr}$r=li($r);var dn=$r.length;if(es($r)){var pn=fo($r);dn=pn.length}if(Cr>=dn)return $r;var $n=Cr-ts(zr);if($n<1)return zr;var vn=pn?Mo(pn,0,$n).join(""):$r.slice(0,$n);if(rn===r)return vn+zr;if(pn&&($n+=vn.length-$n),Mc(rn)){if($r.slice($n).search(rn)){var Ln,Mn=vn;for(rn.global||(rn=Qa(rn.source,li(Si.exec(rn))+"g")),rn.lastIndex=0;Ln=rn.exec(Mn);)var zn=Ln.index;vn=vn.slice(0,zn===r?$n:zn)}}else if($r.indexOf(Qi(rn),$n)!=$n){var qn=vn.lastIndexOf(rn);qn>-1&&(vn=vn.slice(0,qn))}return vn+zr}function Im($r){return $r=li($r),$r&&zs.test($r)?$r.replace(bi,rf):$r}var Om=us(function($r,Er,Cr){return $r+(Cr?" ":"")+Er.toUpperCase()}),Uc=fl("toUpperCase");function ld($r,Er,Cr){return $r=li($r),Er=Cr?r:Er,Er===r?Jd($r)?sf($r):Hd($r):$r.match(Er)||[]}var dd=oi(function($r,Er){try{return Ji($r,r,Er)}catch(Cr){return Lc(Cr)?Cr:new ti(Cr)}}),Cm=Ao(function($r,Er){return io(Er,function(Cr){Cr=bo(Cr),So($r,Cr,Bc($r[Cr],$r))}),$r});function Pm($r){var Er=$r==null?0:$r.length,Cr=Xn();return $r=Er?mi($r,function(zr){if(typeof zr[1]!="function")throw new oo(c);return[Cr(zr[0]),zr[1]]}):[],oi(function(zr){for(var rn=-1;++rn<Er;){var dn=$r[rn];if(Ji(dn[0],this,zr))return Ji(dn[1],this,zr)}})}function xm($r){return nh(ao($r,Ar))}function Kc($r){return function(){return $r}}function Bm($r,Er){return $r==null||$r!==$r?Er:$r}var Nm=pl(),Lm=pl(!0);function Zi($r){return $r}function Hc($r){return ju(typeof $r=="function"?$r:ao($r,Ar))}function Mm($r){return Vu(ao($r,Ar))}function Dm($r,Er){return Gu($r,ao(Er,Ar))}var Fm=oi(function($r,Er){return function(Cr){return Ns(Cr,$r,Er)}}),Um=oi(function($r,Er){return function(Cr){return Ns($r,Cr,Er)}});function zc($r,Er,Cr){var zr=Fi(Er),rn=ga(Er,zr);Cr==null&&!(wi(Er)&&(rn.length||!zr.length))&&(Cr=Er,Er=$r,$r=this,rn=ga(Er,Fi(Er)));var dn=!(wi(Cr)&&"chain"in Cr)||!!Cr.chain,pn=vo($r);return io(rn,function($n){var vn=Er[$n];$r[$n]=vn,pn&&($r.prototype[$n]=function(){var Ln=this.__chain__;if(dn||Ln){var Mn=$r(this.__wrapped__),zn=Mn.__actions__=Gi(this.__actions__);return zn.push({func:vn,args:arguments,thisArg:$r}),Mn.__chain__=Ln,Mn}return vn.apply($r,Co([this.value()],arguments))})}),$r}function Km(){return Ui._===this&&(Ui._=ff),this}function jc(){}function Hm($r){return $r=ni($r),oi(function(Er){return qu(Er,$r)})}var zm=Sc(mi),jm=Sc(yu),Wm=Sc(Va);function fd($r){return kc($r)?Ga(bo($r)):$h($r)}function Vm($r){return function(Er){return $r==null?r:jo($r,Er)}}var Gm=gl(),qm=gl(!0);function Wc(){return[]}function Vc(){return!1}function Ym(){return{}}function Zm(){return""}function Jm(){return!0}function Xm($r,Er){if($r=ni($r),$r<1||$r>Zr)return[];var Cr=Gr,zr=Hi($r,Gr);Er=Xn(Er),$r-=Gr;for(var rn=Za(zr,Er);++Cr<$r;)Er(Cr);return rn}function Qm($r){return ri($r)?mi($r,bo):eo($r)?[$r]:Gi(Pl(li($r)))}function eb($r){var Er=++lf;return li($r)+Er}var tb=Aa(function($r,Er){return $r+Er},0),rb=wc("ceil"),nb=Aa(function($r,Er){return $r/Er},1),ib=wc("floor");function ob($r){return $r&&$r.length?ya($r,Zi,ac):r}function sb($r,Er){return $r&&$r.length?ya($r,Xn(Er,2),ac):r}function ab($r){return bu($r,Zi)}function cb($r,Er){return bu($r,Xn(Er,2))}function ub($r){return $r&&$r.length?ya($r,Zi,dc):r}function lb($r,Er){return $r&&$r.length?ya($r,Xn(Er,2),dc):r}var db=Aa(function($r,Er){return $r*Er},1),fb=wc("round"),hb=Aa(function($r,Er){return $r-Er},0);function pb($r){return $r&&$r.length?Ya($r,Zi):0}function yb($r,Er){return $r&&$r.length?Ya($r,Xn(Er,2)):0}return un.after=My,un.ary=zl,un.assign=Eg,un.assignIn=nd,un.assignInWith=La,un.assignWith=vg,un.at=Rg,un.before=jl,un.bind=Bc,un.bindAll=Cm,un.bindKey=Wl,un.castArray=Yy,un.chain=Ul,un.chunk=np,un.compact=ip,un.concat=op,un.cond=Pm,un.conforms=xm,un.constant=Kc,un.countBy=py,un.create=Tg,un.curry=Vl,un.curryRight=Gl,un.debounce=ql,un.defaults=kg,un.defaultsDeep=Ig,un.defer=Dy,un.delay=Fy,un.difference=sp,un.differenceBy=ap,un.differenceWith=cp,un.drop=up,un.dropRight=lp,un.dropRightWhile=dp,un.dropWhile=fp,un.fill=hp,un.filter=gy,un.flatMap=_y,un.flatMapDeep=$y,un.flatMapDepth=Sy,un.flatten=Ll,un.flattenDeep=pp,un.flattenDepth=yp,un.flip=Uy,un.flow=Nm,un.flowRight=Lm,un.fromPairs=gp,un.functions=Lg,un.functionsIn=Mg,un.groupBy=wy,un.initial=bp,un.intersection=_p,un.intersectionBy=$p,un.intersectionWith=Sp,un.invert=Fg,un.invertBy=Ug,un.invokeMap=Ey,un.iteratee=Hc,un.keyBy=vy,un.keys=Fi,un.keysIn=Yi,un.map=Oa,un.mapKeys=Hg,un.mapValues=zg,un.matches=Mm,un.matchesProperty=Dm,un.memoize=Pa,un.merge=jg,un.mergeWith=id,un.method=Fm,un.methodOf=Um,un.mixin=zc,un.negate=xa,un.nthArg=Hm,un.omit=Wg,un.omitBy=Vg,un.once=Ky,un.orderBy=Ry,un.over=zm,un.overArgs=Hy,un.overEvery=jm,un.overSome=Wm,un.partial=Nc,un.partialRight=Yl,un.partition=Ty,un.pick=Gg,un.pickBy=od,un.property=fd,un.propertyOf=Vm,un.pull=vp,un.pullAll=Dl,un.pullAllBy=Rp,un.pullAllWith=Tp,un.pullAt=kp,un.range=Gm,un.rangeRight=qm,un.rearg=zy,un.reject=Oy,un.remove=Ip,un.rest=jy,un.reverse=Pc,un.sampleSize=Py,un.set=Yg,un.setWith=Zg,un.shuffle=xy,un.slice=Op,un.sortBy=Ly,un.sortedUniq=Mp,un.sortedUniqBy=Dp,un.split=_m,un.spread=Wy,un.tail=Up,un.take=Kp,un.takeRight=Hp,un.takeRightWhile=zp,un.takeWhile=jp,un.tap=oy,un.throttle=Vy,un.thru=Ia,un.toArray=ed,un.toPairs=sd,un.toPairsIn=ad,un.toPath=Qm,un.toPlainObject=rd,un.transform=Jg,un.unary=Gy,un.union=Wp,un.unionBy=Vp,un.unionWith=Gp,un.uniq=qp,un.uniqBy=Yp,un.uniqWith=Zp,un.unset=Xg,un.unzip=xc,un.unzipWith=Fl,un.update=Qg,un.updateWith=em,un.values=fs,un.valuesIn=tm,un.without=Jp,un.words=ld,un.wrap=qy,un.xor=Xp,un.xorBy=Qp,un.xorWith=ey,un.zip=ty,un.zipObject=ry,un.zipObjectDeep=ny,un.zipWith=iy,un.entries=sd,un.entriesIn=ad,un.extend=nd,un.extendWith=La,zc(un,un),un.add=tb,un.attempt=dd,un.camelCase=om,un.capitalize=cd,un.ceil=rb,un.clamp=rm,un.clone=Zy,un.cloneDeep=Xy,un.cloneDeepWith=Qy,un.cloneWith=Jy,un.conformsTo=eg,un.deburr=ud,un.defaultTo=Bm,un.divide=nb,un.endsWith=sm,un.eq=po,un.escape=am,un.escapeRegExp=cm,un.every=yy,un.find=my,un.findIndex=Bl,un.findKey=Og,un.findLast=by,un.findLastIndex=Nl,un.findLastKey=Cg,un.floor=ib,un.forEach=Kl,un.forEachRight=Hl,un.forIn=Pg,un.forInRight=xg,un.forOwn=Bg,un.forOwnRight=Ng,un.get=Dc,un.gt=tg,un.gte=rg,un.has=Dg,un.hasIn=Fc,un.head=Ml,un.identity=Zi,un.includes=Ay,un.indexOf=mp,un.inRange=nm,un.invoke=Kg,un.isArguments=Go,un.isArray=ri,un.isArrayBuffer=ng,un.isArrayLike=qi,un.isArrayLikeObject=Ni,un.isBoolean=ig,un.isBuffer=Do,un.isDate=og,un.isElement=sg,un.isEmpty=ag,un.isEqual=cg,un.isEqualWith=ug,un.isError=Lc,un.isFinite=lg,un.isFunction=vo,un.isInteger=Zl,un.isLength=Ba,un.isMap=Jl,un.isMatch=dg,un.isMatchWith=fg,un.isNaN=hg,un.isNative=pg,un.isNil=gg,un.isNull=yg,un.isNumber=Xl,un.isObject=wi,un.isObjectLike=Bi,un.isPlainObject=Ks,un.isRegExp=Mc,un.isSafeInteger=mg,un.isSet=Ql,un.isString=Na,un.isSymbol=eo,un.isTypedArray=ds,un.isUndefined=bg,un.isWeakMap=_g,un.isWeakSet=$g,un.join=wp,un.kebabCase=um,un.last=uo,un.lastIndexOf=Ap,un.lowerCase=lm,un.lowerFirst=dm,un.lt=Sg,un.lte=wg,un.max=ob,un.maxBy=sb,un.mean=ab,un.meanBy=cb,un.min=ub,un.minBy=lb,un.stubArray=Wc,un.stubFalse=Vc,un.stubObject=Ym,un.stubString=Zm,un.stubTrue=Jm,un.multiply=db,un.nth=Ep,un.noConflict=Km,un.noop=jc,un.now=Ca,un.pad=fm,un.padEnd=hm,un.padStart=pm,un.parseInt=ym,un.random=im,un.reduce=ky,un.reduceRight=Iy,un.repeat=gm,un.replace=mm,un.result=qg,un.round=fb,un.runInContext=En,un.sample=Cy,un.size=By,un.snakeCase=bm,un.some=Ny,un.sortedIndex=Cp,un.sortedIndexBy=Pp,un.sortedIndexOf=xp,un.sortedLastIndex=Bp,un.sortedLastIndexBy=Np,un.sortedLastIndexOf=Lp,un.startCase=$m,un.startsWith=Sm,un.subtract=hb,un.sum=pb,un.sumBy=yb,un.template=wm,un.times=Xm,un.toFinite=Ro,un.toInteger=ni,un.toLength=td,un.toLower=Am,un.toNumber=lo,un.toSafeInteger=Ag,un.toString=li,un.toUpper=Em,un.trim=vm,un.trimEnd=Rm,un.trimStart=Tm,un.truncate=km,un.unescape=Im,un.uniqueId=eb,un.upperCase=Om,un.upperFirst=Uc,un.each=Kl,un.eachRight=Hl,un.first=Ml,zc(un,function(){var $r={};return go(un,function(Er,Cr){di.call(un.prototype,Cr)||($r[Cr]=Er)}),$r}(),{chain:!1}),un.VERSION=n,io(["bind","bindKey","curry","curryRight","partial","partialRight"],function($r){un[$r].placeholder=un}),io(["drop","take"],function($r,Er){ai.prototype[$r]=function(Cr){Cr=Cr===r?1:Di(ni(Cr),0);var zr=this.__filtered__&&!Er?new ai(this):this.clone();return zr.__filtered__?zr.__takeCount__=Hi(Cr,zr.__takeCount__):zr.__views__.push({size:Hi(Cr,Gr),type:$r+(zr.__dir__<0?"Right":"")}),zr},ai.prototype[$r+"Right"]=function(Cr){return this.reverse()[$r](Cr).reverse()}}),io(["filter","map","takeWhile"],function($r,Er){var Cr=Er+1,zr=Cr==Rr||Cr==Dr;ai.prototype[$r]=function(rn){var dn=this.clone();return dn.__iteratees__.push({iteratee:Xn(rn,3),type:Cr}),dn.__filtered__=dn.__filtered__||zr,dn}}),io(["head","last"],function($r,Er){var Cr="take"+(Er?"Right":"");ai.prototype[$r]=function(){return this[Cr](1).value()[0]}}),io(["initial","tail"],function($r,Er){var Cr="drop"+(Er?"":"Right");ai.prototype[$r]=function(){return this.__filtered__?new ai(this):this[Cr](1)}}),ai.prototype.compact=function(){return this.filter(Zi)},ai.prototype.find=function($r){return this.filter($r).head()},ai.prototype.findLast=function($r){return this.reverse().find($r)},ai.prototype.invokeMap=oi(function($r,Er){return typeof $r=="function"?new ai(this):this.map(function(Cr){return Ns(Cr,$r,Er)})}),ai.prototype.reject=function($r){return this.filter(xa(Xn($r)))},ai.prototype.slice=function($r,Er){$r=ni($r);var Cr=this;return Cr.__filtered__&&($r>0||Er<0)?new ai(Cr):($r<0?Cr=Cr.takeRight(-$r):$r&&(Cr=Cr.drop($r)),Er!==r&&(Er=ni(Er),Cr=Er<0?Cr.dropRight(-Er):Cr.take(Er-$r)),Cr)},ai.prototype.takeRightWhile=function($r){return this.reverse().takeWhile($r).reverse()},ai.prototype.toArray=function(){return this.take(Gr)},go(ai.prototype,function($r,Er){var Cr=/^(?:filter|find|map|reject)|While$/.test(Er),zr=/^(?:head|last)$/.test(Er),rn=un[zr?"take"+(Er=="last"?"Right":""):Er],dn=zr||/^find/.test(Er);!rn||(un.prototype[Er]=function(){var pn=this.__wrapped__,$n=zr?[1]:arguments,vn=pn instanceof ai,Ln=$n[0],Mn=vn||ri(pn),zn=function(si){var ci=rn.apply(un,Co([si],$n));return zr&&qn?ci[0]:ci};Mn&&Cr&&typeof Ln=="function"&&Ln.length!=1&&(vn=Mn=!1);var qn=this.__chain__,Jn=!!this.__actions__.length,Qn=dn&&!qn,ii=vn&&!Jn;if(!dn&&Mn){pn=ii?pn:new ai(this);var ei=$r.apply(pn,$n);return ei.__actions__.push({func:Ia,args:[zn],thisArg:r}),new so(ei,qn)}return Qn&&ii?$r.apply(this,$n):(ei=this.thru(zn),Qn?zr?ei.value()[0]:ei.value():ei)})}),io(["pop","push","shift","sort","splice","unshift"],function($r){var Er=ea[$r],Cr=/^(?:push|sort|unshift)$/.test($r)?"tap":"thru",zr=/^(?:pop|shift)$/.test($r);un.prototype[$r]=function(){var rn=arguments;if(zr&&!this.__chain__){var dn=this.value();return Er.apply(ri(dn)?dn:[],rn)}return this[Cr](function(pn){return Er.apply(ri(pn)?pn:[],rn)})}}),go(ai.prototype,function($r,Er){var Cr=un[Er];if(Cr){var zr=Cr.name+"";di.call(ss,zr)||(ss[zr]=[]),ss[zr].push({name:Er,func:Cr})}}),ss[wa(r,Lr).name]=[{name:"wrapper",func:r}],ai.prototype.clone=kf,ai.prototype.reverse=If,ai.prototype.value=Of,un.prototype.at=sy,un.prototype.chain=ay,un.prototype.commit=cy,un.prototype.next=uy,un.prototype.plant=dy,un.prototype.reverse=fy,un.prototype.toJSON=un.prototype.valueOf=un.prototype.value=hy,un.prototype.first=un.prototype.head,ks&&(un.prototype[ks]=ly),un},rs=af();Fo?((Fo.exports=rs)._=rs,Ha._=rs):Ui._=rs}).call(commonjsGlobal)})(lodash,lodash.exports);var OrderCacheService$1={};Object.defineProperty(OrderCacheService$1,"__esModule",{value:!0});OrderCacheService$1.OrderCacheService=void 0;const lodash_1$1=lodash.exports,mobx_1=require$$1,Order_1$1=Order,types_1$2=types$2;class OrderCacheService{constructor(){this.endTriggered=!1,this.observableData={buyOrdersCache:new Map,sellOrdersCache:new Map},this.orderChanges=(0,mobx_1.observable)([]),this.observableData=(0,mobx_1.makeAutoObservable)(this.observableData),(0,mobx_1.makeObservable)(this,{buyOrdersCache:mobx_1.computed,sellOrdersCache:mobx_1.computed,allOrdersCache:mobx_1.computed})}get buyOrdersCache(){return this.observableData.buyOrdersCache}get sellOrdersCache(){return this.observableData.sellOrdersCache}get allOrdersCache(){const e=new Map;return this.buyOrdersCache.forEach(r=>{r.forEach((n,o)=>{e.set(o,n)})}),this.sellOrdersCache.forEach(r=>{r.forEach((n,o)=>{e.set(o,n)})}),e}get mints(){return(0,lodash_1$1.union)(Array.from(this.buyOrdersCache.keys()),Array.from(this.sellOrdersCache.keys()))}get orders(){return this.allOrdersCache}get buyOrders(){const e=new Map;return this.buyOrdersCache.forEach(r=>{r.forEach(n=>{e.set(n.id,n)})}),e}get sellOrders(){const e=new Map;return this.sellOrdersCache.forEach(r=>{r.forEach(n=>{e.set(n.id,n)})}),e}clearOrders(){const{allOrdersCache:e}=this;e.forEach(r=>{(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderRemoved,order:r})})}),this.buyOrdersCache.clear(),this.sellOrdersCache.clear()}getAllOrdersCache(){return this.allOrdersCache}getOrderCacheByType(e){return e===Order_1$1.OrderSide.Buy?this.getBuyOrderCache():this.getSellOrderCache()}getBuyOrderCache(){return new Map(this.buyOrdersCache)}getSellOrderCache(){return new Map(this.sellOrdersCache)}getOrderById(e){return this.allOrdersCache.get(e)}addOrder(e){const r=this.getOrdersForType(e.orderType);r.get(e.orderMint)||r.set(e.orderMint,new Map);const n=r.get(e.orderMint),o=n.get(e.id);return o&&o.slotContext>e.slotContext?o:(n.set(e.id,e),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderAdded,order:e})}),e)}updateOrder(e){const n=this.getOrdersForType(e.orderType).get(e.orderMint),o=n.get(e.id);if(!!o){if(o.orderQtyRemaining!==e.orderQtyRemaining&&e.slotContext>o.slotContext){const a=(0,lodash_1$1.clone)(o);a.orderQtyRemaining=e.orderQtyRemaining,n.set(e.id,a),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderModified,order:e})})}return e}}cancelOrder(e){return this.getOrdersForType(e.orderType).get(e.orderMint).delete(e.id)?((0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderRemoved,order:e})}),!0):!1}getOrdersForType(e){return e===Order_1$1.OrderSide.Buy?this.buyOrdersCache:this.sellOrdersCache}}OrderCacheService$1.OrderCacheService=OrderCacheService;var GmClientService$1={},helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.createTransactionFromInstructions=void 0;const web3_js_1$4=require$$2,createTransactionFromInstructions=t=>{const e=new web3_js_1$4.Transaction;return e.add(...t),e};helpers.createTransactionFromInstructions=createTransactionFromInstructions;var constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.TEN_THOUSAND=constants.ONE_MILLION=void 0;constants.ONE_MILLION=1e6;constants.TEN_THOUSAND=1e4;var __awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(GmClientService$1,"__esModule",{value:!0});GmClientService$1.GmClientService=void 0;const web3_js_1$3=require$$2,instruction_builders_1=instruction_builders,pda_getters_1$3=pda_getters$3,helpers_1=helpers,util_1$4=util,Order_1=Order,constants_1=constants,utils_1$b=utils,atlas_staking_1=atlasStaking;class GmClientService{constructor(){this.currencyInfo=[]}getRegisteredCurrencies(e,r,n=!1){var o;return __awaiter$g(this,void 0,void 0,function*(){if(((o=this.currencyInfo)===null||o===void 0?void 0:o.length)&&!n)return this.currencyInfo;const a=[],c=yield(0,pda_getters_1$3.getAllRegisteredCurrencies)(e,r);for(const u of c){const{mint:gr,royalty:br,saVault:_r}=u,Ar=yield e.getTokenSupply(gr,"recent"),{decimals:vr}=Ar.value;a.push({decimals:vr,mint:gr.toString(),royaltyPercentageAsDecimal:br.toNumber()/constants_1.ONE_MILLION,saVault:_r.toString()})}return this.currencyInfo=a,this.currencyInfo})}getAllOpenOrders(e,r){return __awaiter$g(this,void 0,void 0,function*(){const n=yield(0,pda_getters_1$3.getAllOpenOrders)(e,r),o=yield e.getSlot();return this.accountItemsToOrders(e,r,n,o)})}getOpenOrdersForPlayer(e,r,n){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getOpenOrdersForPlayer)(e,r,n),a=yield e.getSlot();return this.accountItemsToOrders(e,n,o,a)})}getOpenOrdersForCurrency(e,r,n){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getOpenOrdersForCurrency)(e,r,n),a=yield e.getSlot();return this.accountItemsToOrders(e,n,o,a)})}getOpenOrdersForAsset(e,r,n){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getOpenOrdersForAsset)(e,r,n),a=yield e.getSlot();return this.accountItemsToOrders(e,n,o,a)})}getOpenOrdersForPlayerAndCurrency(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){const a=yield(0,pda_getters_1$3.getOpenOrdersForPlayerAndCurrency)(e,r,n,o),c=yield e.getSlot();return this.accountItemsToOrders(e,o,a,c)})}getOpenOrdersForPlayerAndAsset(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){const a=yield(0,pda_getters_1$3.getOpenOrdersForPlayerAndAsset)(e,r,n,o),c=yield e.getSlot();return this.accountItemsToOrders(e,o,a,c)})}getOpenOrder(e,r,n){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getSingleOrder)(e,r,n),a={publicKey:r,account:o},c=yield e.getSlot(),[u]=yield this.accountItemsToOrders(e,n,[a],c);return u})}getInitializeOrderTransaction(e,r,n,o,a,c,u,gr){return __awaiter$g(this,void 0,void 0,function*(){let br=instruction_builders_1.createInitializeSellOrderInstruction,_r=n,Ar=o;gr===Order_1.OrderSide.Buy&&(br=instruction_builders_1.createInitializeBuyOrderInstruction,_r=o,Ar=n);const vr=yield(0,util_1$4.getAssociatedTokenAddress)(r,_r),{ixSet:Tr}=yield br({connection:e,depositMint:_r,initializerDepositTokenAccount:vr,initializerMainAccount:r,originationQty:a,price:c,programId:u,receiveMint:Ar}),{signers:Or,instructions:Ir}=Tr;return{transaction:(0,helpers_1.createTransactionFromInstructions)(Ir),signers:Or}})}getBnPriceForCurrency(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){const a=yield this.getRegisteredCurrencies(e,o),{decimals:c}=a.find(u=>u.mint.toString()===n.toString());return(0,utils_1$b.convertDecimalPriceToBn)(r,c)})}getCancelOrderTransaction(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){const{instructions:a,signers:c}=yield(0,instruction_builders_1.createCancelOrderInstruction)({connection:e,orderAccount:r,orderInitializer:n,programId:o});return{transaction:(0,helpers_1.createTransactionFromInstructions)(a),signers:c}})}getCreateExchangeTransaction(e,r,n,o,a,c=new web3_js_1$3.PublicKey("ATLocKpzDbTokxgvnLew3d7drZkEzLzDpzwgrgWKDbmc"),u=new web3_js_1$3.PublicKey("J5GhV1WKcEU98c1kZt36ixjaErrrPNWbZhg3JQDg114E")){return __awaiter$g(this,void 0,void 0,function*(){const gr=new web3_js_1$3.PublicKey(r.id),br=new web3_js_1$3.PublicKey(r.orderMint),_r=new web3_js_1$3.PublicKey(r.currencyMint),Ar=new web3_js_1$3.PublicKey(r.owner),vr=r.orderType===Order_1.OrderSide.Buy?n:new web3_js_1$3.PublicKey(r.owner),Tr=yield(0,util_1$4.getAssociatedTokenAddress)(n,r.orderType===Order_1.OrderSide.Buy?br:_r),Or=yield this.getRegisteredCurrencies(e,a),{saVault:Ir}=Or.find(Hr=>Hr.mint===r.currencyMint),[xr]=yield(0,atlas_staking_1.getStakingAccount)(c,vr,u),{instructions:Lr,signers:Fr}=yield(0,instruction_builders_1.createExchangeInstruction)({connection:e,orderAccount:gr,purchaseQty:o,orderTaker:n,orderTakerDepositTokenAccount:Tr,programId:a,expectedPrice:r.price,orderType:r.orderType,assetMint:br,currencyMint:_r,orderInitializer:Ar,saVault:new web3_js_1$3.PublicKey(Ir),stakingProgramId:c,registeredStake:u,stakingAccount:xr});return{transaction:(0,helpers_1.createTransactionFromInstructions)(Lr),signers:Fr}})}accountItemsToOrders(e,r,n,o){return __awaiter$g(this,void 0,void 0,function*(){if(!n.length)return[];const a=yield this.getRegisteredCurrencies(e,r);return n.map(c=>{const u=c.publicKey.toString(),gr=Object.keys(c.account.orderSide)[0]==="buy"?Order_1.OrderSide.Buy:Order_1.OrderSide.Sell,br=c.account.assetMint.toString(),_r=c.account.currencyMint.toString(),Ar=c.account.price,vr=c.account.orderRemainingQty.toNumber(),Tr=c.account.orderOriginationQty.toNumber(),Or=c.account.orderInitializerPubkey.toString(),Ir=c.account.initializerAssetTokenAccount.toString(),xr=c.account.initializerCurrencyTokenAccount.toString(),Lr=c.account.createdAtTimestamp.toNumber(),{decimals:Fr}=a.find(Mr=>Mr.mint.toString()===_r);return new Order_1.Order({id:u,orderType:gr,orderMint:br,currencyMint:_r,currencyDecimals:Fr,price:Ar,orderQtyRemaining:vr,orderOriginationQty:Tr,owner:Or,ownerAssetTokenAccount:Ir,ownerCurrencyTokenAccount:xr,createdAt:Lr,slotContext:o})})})}getAllFeeExemptions(e,r){return __awaiter$g(this,void 0,void 0,function*(){const n=[],o=yield(0,pda_getters_1$3.getAllFeeExemptAccounts)(e,r);for(const a of o)n.push({publicKey:a.account.account.toString(),feeReductionPercentageAsDecimal:a.account.discount.toNumber()/constants_1.TEN_THOUSAND});return n})}}GmClientService$1.GmClientService=GmClientService;var GmEventService$1={},__awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(GmEventService$1,"__esModule",{value:!0});GmEventService$1.GmEventService=void 0;const anchor_1$a=require$$0$1,models_1=models,types_1$1=types$2,GmClientService_1$1=GmClientService$1,utils_1$a=utils,types_2=types$2;class GmEventService{constructor(e,r,n){this.registeredCurrencyInfo={},this.eventListeners=[],this.queuedEvents=[],this.connection=e,this.programId=r,this.commitment=n||e.commitment,this.handleOrderCreated=this.handleOrderCreated.bind(this),this.handleOrderExchanged=this.handleOrderExchanged.bind(this),this.handleOrderCanceled=this.handleOrderCanceled.bind(this),this.setCurrencyInfo=this.setCurrencyInfo.bind(this),this.handleCurrencyRegistered=this.handleCurrencyRegistered.bind(this)}initialize(){return __awaiter$f(this,void 0,void 0,function*(){this.idl=(0,utils_1$a.getGmLogsIDL)(this.programId),this.provider=new anchor_1$a.AnchorProvider(this.connection,null,{commitment:this.commitment}),this.program=new anchor_1$a.Program(this.idl,this.programId,this.provider,{instruction:new anchor_1$a.BorshInstructionCoder(this.idl),accounts:new anchor_1$a.BorshAccountsCoder(this.idl),state:null,events:new anchor_1$a.BorshEventCoder(this.idl)}),yield this.setCurrencyInfo();const e=this.program.addEventListener(types_2.GmLogs.InitializeMemo,this.handleOrderCreated),r=this.program.addEventListener(types_2.GmLogs.ExchangeMemo,this.handleOrderExchanged),n=this.program.addEventListener(types_2.GmLogs.CancelOrderMemo,this.handleOrderCanceled),o=this.program.addEventListener(types_2.GmLogs.RegisterCurrencyMemo,this.handleCurrencyRegistered);this.eventListeners.push(e,r,n,o)})}end(){return __awaiter$f(this,void 0,void 0,function*(){for(const e of this.eventListeners)yield this.program.removeEventListener(e);this.eventListeners=[],this.onEvent=null})}setEventHandler(e){this.onEvent=e;for(const r of this.queuedEvents)this.onEvent(r.eventType,r.order,r.slotContext)}setCurrencyInfo(){return __awaiter$f(this,void 0,void 0,function*(){const r=yield new GmClientService_1$1.GmClientService().getRegisteredCurrencies(this.connection,this.programId,!0);for(const n of r)this.registeredCurrencyInfo[n.mint]=n})}getParsedOrderFromEvent(e,r){const n=this.registeredCurrencyInfo[e.currencyMint.toString()];if(!n)return null;const{decimals:o}=n;return new models_1.Order({id:e.orderId.toString(),orderType:e.orderSide===0?models_1.OrderSide.Buy:models_1.OrderSide.Sell,orderMint:e.assetMint.toString(),currencyMint:e.currencyMint.toString(),currencyDecimals:o,price:e.price,orderQtyRemaining:e.orderRemainingQty.toNumber(),orderOriginationQty:e.orderOriginationQty.toNumber(),owner:e.orderInitializerPubkey.toString(),ownerAssetTokenAccount:e.initializerAssetTokenAccount.toString(),ownerCurrencyTokenAccount:e.initializerCurrencyTokenAccount.toString(),createdAt:e.createdAtTimestamp.toNumber(),slotContext:r})}handleOrderCreated(e,r){this.processEvent(types_1$1.GmEventType.orderAdded,this.getParsedOrderFromEvent(e,r),r)}handleOrderExchanged(e,r){this.processEvent(types_1$1.GmEventType.orderModified,this.getParsedOrderFromEvent(e,r),r)}handleOrderCanceled(e,r){this.processEvent(types_1$1.GmEventType.orderRemoved,this.getParsedOrderFromEvent(e,r),r)}processEvent(e,r,n){if(!this.onEvent){this.queuedEvents.push({eventType:e,order:r,slotContext:n});return}this.onEvent(e,r,n)}handleCurrencyRegistered(){return __awaiter$f(this,void 0,void 0,function*(){yield this.setCurrencyInfo()})}}GmEventService$1.GmEventService=GmEventService;var __awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(GmOrderbookService$1,"__esModule",{value:!0});GmOrderbookService$1.GmOrderbookService=void 0;const mobx_utils_1=require$$0,lodash_1=lodash.exports,OrderCacheService_1=OrderCacheService$1,types_1=types$2,GmClientService_1=GmClientService$1,GmEventService_1=GmEventService$1;class GmOrderbookService{constructor(e,r,n=60){this.gmClientService=new GmClientService_1.GmClientService,this.eventCallBacks=[],this.changeObserverDisposer=null,this.lastEventTimestamp=this.getNow(),this.isReloading=!1,this.connection=e,this.marketplaceProgramId=r,this.healthcheckThreshold=n,this.orderCacheService=new OrderCacheService_1.OrderCacheService,this.gmClientService=new GmClientService_1.GmClientService,this.gmEventService=new GmEventService_1.GmEventService(this.connection,this.marketplaceProgramId),this.handleMarketplaceEvent=this.handleMarketplaceEvent.bind(this)}initialize(){return __awaiter$e(this,void 0,void 0,function*(){return yield this.gmEventService.initialize(),this.changeObserverDisposer=(0,mobx_utils_1.queueProcessor)(this.orderCacheService.orderChanges,e=>{this.eventCallBacks.forEach(r=>r.onEvent(e))},250),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.loadInitialOrders(),this.healthcheckTimer=setInterval(()=>{!this.getIsServiceHealthy()&&!this.isReloading&&this.resetOrdersData()},GmOrderbookService.HEALTH_CHECK_RATE),this.orderCacheService.mints.length})}end(){return __awaiter$e(this,void 0,void 0,function*(){return yield this.gmEventService.end(),this.eventCallBacks=[],this.changeObserverDisposer=null,!0})}getIsServiceHealthy(){return this.getNow()-this.lastEventTimestamp<=this.healthcheckThreshold}resetOrdersData(){return __awaiter$e(this,void 0,void 0,function*(){this.isReloading||(this.isReloading=!0,yield this.resetEventService(),yield this.refetchOrderData(),this.lastEventTimestamp=this.getNow(),this.isReloading=!1)})}resetEventService(){return __awaiter$e(this,void 0,void 0,function*(){yield this.gmEventService.end(),this.gmEventService=new GmEventService_1.GmEventService(this.connection,this.marketplaceProgramId),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.gmEventService.initialize()})}refetchOrderData(){return __awaiter$e(this,void 0,void 0,function*(){const e=this.orderCacheService.getAllOrdersCache();try{const r=yield this.connection.getSlot("confirmed"),n=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId),o=new Map;for(const a of n){o.set(a.id,a);const c=e.get(a.id);c?c&&c.orderQtyRemaining!==a.orderQtyRemaining&&this.updateOrderInCache(a):this.addOrderToCache(a)}for(const a of Array.from(e.values()))a.slotContext<r&&!o.get(a.id)&&this.removeOrderFromCache(a)}catch(r){console.log("There was an error refreshing all marketplace data",r)}})}addOnEventHandler(e){this.eventCallBacks.push(e)}removeOnEventHandler(e){(0,lodash_1.pull)(this.eventCallBacks,e)}loadInitialOrders(){return __awaiter$e(this,void 0,void 0,function*(){try{const e=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId);for(const r of e)this.addOrderToCache(r)}catch(e){console.log(e)}return this.orderCacheService.getAllOrdersCache().size})}addOrderToCache(e){return this.orderCacheService.addOrder(e)}removeOrderFromCache(e){return this.orderCacheService.cancelOrder(e)}updateOrderInCache(e){return this.orderCacheService.updateOrder(e)}getBuyOrders(){return this.orderCacheService.buyOrdersCache}getBuyOrdersForMint(e){return this.orderCacheService.buyOrdersCache.get(e)}getSellOrders(){return this.orderCacheService.sellOrdersCache}getSellOrdersForMint(e){return this.orderCacheService.sellOrdersCache.get(e)}getOrdersByType(e){return e==="buy"?this.getBuyOrders():this.getSellOrders()}getBuyOrdersByCurrencyAndItem(e,r){const n=this.getBuyOrdersForMint(r);if(!n)return[];const o=[...n.values()];return o.length?this.filterOrdersByCurrency(e,o):[]}getSellOrdersByCurrencyAndItem(e,r){const n=this.getSellOrdersForMint(r);if(!n)return[];const o=[...n.values()];return o.length?this.filterOrdersByCurrency(e,o):[]}filterOrdersByCurrency(e,r){return r.length?r.filter(n=>n.currencyMint===e):[]}getOrderById(e){return this.orderCacheService.getOrderById(e)}getAllOrdersByItemMint(e){const r=new Map,n=this.getSellOrdersForMint(e),o=this.getBuyOrdersForMint(e);if(n)for(const a of n.values())r.set(a.id,a);if(o)for(const a of o.values())r.set(a.id,a);return r}getAllMints(){return this.orderCacheService.mints}getAllOrdersForUserAddress(e){const r=this.orderCacheService.getAllOrdersCache();return Array.from(r.values()).filter(a=>a.owner===e)}handleOrderAddedEvent(e){this.addOrderToCache(e)}handleOrderModifiedEvent(e){if(e.orderQtyRemaining===0){this.removeOrderFromCache(e);return}this.updateOrderInCache(e)}handleOrderCanceledEvent(e){this.removeOrderFromCache(e)}handleMarketplaceEvent(e,r){if(!!r)switch(this.lastEventTimestamp=this.getNow(),e){case types_1.GmEventType.orderAdded:this.handleOrderAddedEvent(r);break;case types_1.GmEventType.orderModified:this.handleOrderModifiedEvent(r);break;case types_1.GmEventType.orderRemoved:this.handleOrderCanceledEvent(r);break}}getNow(){return new Date().getTime()/1e3}}GmOrderbookService$1.GmOrderbookService=GmOrderbookService;GmOrderbookService.HEALTH_CHECK_RATE=5e3;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(GmOrderbookService$1,t),r(GmClientService$1,t),r(GmEventService$1,t)})(services);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(instruction_builders,t),r(pda_getters$3,t),r(types$2,t),r(utils,t),r(models,t),r(services,t)})(marketplace);var __awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(gmHelper$1,"__esModule",{value:!0});gmHelper$1.createAccountTransaction=gmHelper$1.createAccountInstruction=void 0;const anchor_1$9=require$$0$1,web3_js_1$2=require$$2,marketplace_1=marketplace;function createAccountInstruction(t,e,r,n){return __awaiter$d(this,void 0,void 0,function*(){const o=(0,marketplace_1.getGmIDL)(n),a=new anchor_1$9.AnchorProvider(t,null,null),c=new anchor_1$9.Program(o,n,a);return web3_js_1$2.SystemProgram.createAccount({fromPubkey:e,newAccountPubkey:r.publicKey,space:c.account.orderAccount.size,lamports:yield t.getMinimumBalanceForRentExemption(c.account.orderAccount.size),programId:n})})}gmHelper$1.createAccountInstruction=createAccountInstruction;function createAccountTransaction(t,e,r,n){return __awaiter$d(this,void 0,void 0,function*(){const o=(0,marketplace_1.getGmIDL)(n),a=new anchor_1$9.AnchorProvider(t,null,null),c=new anchor_1$9.Program(o,n,a),u=new web3_js_1$2.Transaction({recentBlockhash:(yield t.getLatestBlockhash()).blockhash,feePayer:e});return u.add(web3_js_1$2.SystemProgram.createAccount({fromPubkey:e,newAccountPubkey:r.publicKey,space:c.account.orderAccount.size,lamports:yield t.getMinimumBalanceForRentExemption(c.account.orderAccount.size),programId:n})),u})}gmHelper$1.createAccountTransaction=createAccountTransaction;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(helpers$1,t),r(wallet,t),r(gmHelper$1,t)})(util);var __awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(harvestRewards,"__esModule",{value:!0});harvestRewards.harvestRewardsInstruction=void 0;const anchor_1$8=require$$0$1,token_1$4=token$2,util_1$3=util,utils_1$9=utils$1;function harvestRewardsInstruction({connection:t,user:e,rewardMint:r,registeredStake:n,stakingAccount:o,programId:a}){return __awaiter$c(this,void 0,void 0,function*(){const c=(0,utils_1$9.getStakingProgram)({connection:t,programId:a}),u={signers:[],instructions:[]};let gr=null,br=null;const _r=yield(0,util_1$3.getTokenAccount)(t,e,r);gr=_r.tokenAccount,"createInstruction"in _r&&u.instructions.push(..._r.createInstruction),gr instanceof anchor_1$8.web3.Keypair?(br=gr.publicKey,u.signers.push(gr)):br=gr;const Ar=yield(0,token_1$4.associatedAddress)({owner:n,mint:r}),vr=yield c.methods.harvest().accounts({user:e,rewardMint:r,registeredStake:n,stakingAccount:o,userRewardAccount:br,rewardAta:Ar}).instruction();return u.instructions.push(vr),u})}harvestRewards.harvestRewardsInstruction=harvestRewardsInstruction;var initializeStaking={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(initializeStaking,"__esModule",{value:!0});initializeStaking.createInitializeStakingInstruction=void 0;const utils_1$8=utils$1;function createInitializeStakingInstruction({connection:t,updateAuthorityAccount:e,programId:r}){return __awaiter$b(this,void 0,void 0,function*(){const n=(0,utils_1$8.getStakingProgram)({connection:t,programId:r}),o={signers:[],instructions:[]},a=yield n.methods.initializeStaking().accounts({updateAuthorityAccount:e}).instruction();return o.instructions.push(a),o})}initializeStaking.createInitializeStakingInstruction=createInitializeStakingInstruction;var registerStake={},pda_getters$1={},pda_getters={},seeds={};Object.defineProperty(seeds,"__esModule",{value:!0});seeds.ESCROW_AUTH=seeds.STAKING_VARS=seeds.STAKING_ESCROW=seeds.STAKING_ACCOUNT=seeds.REWARD_AUTH=seeds.REWARD_ACCOUNT=seeds.REGISTERED_STAKE=void 0;seeds.REGISTERED_STAKE=dist$3.Buffer.from("registered-stake");seeds.REWARD_ACCOUNT=dist$3.Buffer.from("reward-account");seeds.REWARD_AUTH=dist$3.Buffer.from("reward-vault-authority");seeds.STAKING_ACCOUNT=dist$3.Buffer.from("staking-account");seeds.STAKING_ESCROW=dist$3.Buffer.from("staking-escrow");seeds.STAKING_VARS=dist$3.Buffer.from("staking-vars");seeds.ESCROW_AUTH=dist$3.Buffer.from("escrow-auth");var __awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_getters,"__esModule",{value:!0});pda_getters.getRewardAuth=pda_getters.getTokenEscrow=pda_getters.getStakingVarsAccount=pda_getters.getStakingAccountsForRegisteredStake=pda_getters.getStakingAccount=pda_getters.getRegisteredStake=void 0;const anchor_1$7=require$$0$1,web3_js_1$1=require$$2,utils_1$7=utils$1,seeds_1=seeds;function getRegisteredStake(t,e,r,n){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.REGISTERED_STAKE,e.toBuffer(),r.toBuffer(),n.toBuffer()],t)})}pda_getters.getRegisteredStake=getRegisteredStake;function getStakingAccount(t,e,r){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.STAKING_ACCOUNT,e.toBuffer(),r.toBuffer()],t)})}pda_getters.getStakingAccount=getStakingAccount;function getStakingAccountsForRegisteredStake(t,e,r){return __awaiter$a(this,void 0,void 0,function*(){const n=new anchor_1$7.AnchorProvider(t,null,null),o=(0,utils_1$7.getStakingIdl)(e),a=new anchor_1$7.Program(o,e,n),c=[{dataSize:171},{memcmp:{offset:40,bytes:r.toBase58()}}];return yield a.account.stakingAccount.all(c)})}pda_getters.getStakingAccountsForRegisteredStake=getStakingAccountsForRegisteredStake;function getStakingVarsAccount(t){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.STAKING_VARS],t)})}pda_getters.getStakingVarsAccount=getStakingVarsAccount;function getTokenEscrow(t,e,r){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.STAKING_ESCROW,e.toBuffer(),r.toBuffer()],t)})}pda_getters.getTokenEscrow=getTokenEscrow;function getRewardAuth(t,e){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.REWARD_AUTH,e.toBuffer()],t)})}pda_getters.getRewardAuth=getRewardAuth;var pda_info_getters={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(pda_info_getters,"__esModule",{value:!0});pda_info_getters.getStakingVarsAccountInfo=pda_info_getters.getStakingAccountInfo=pda_info_getters.getRegisteredStakeAccountInfo=void 0;const getStakingProgram_1=getStakingProgram$1,pda_getters_1$2=pda_getters;function getRegisteredStakeAccountInfo(t,e,r){return __awaiter$9(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:r}).account.registeredStake.fetch(e)})}pda_info_getters.getRegisteredStakeAccountInfo=getRegisteredStakeAccountInfo;function getStakingAccountInfo(t,e,r){return __awaiter$9(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:r}).account.stakingAccount.fetch(e)})}pda_info_getters.getStakingAccountInfo=getStakingAccountInfo;function getStakingVarsAccountInfo(t,e){return __awaiter$9(this,void 0,void 0,function*(){const r=(0,getStakingProgram_1.getStakingProgram)({connection:t,programId:e}),[n]=yield(0,pda_getters_1$2.getStakingVarsAccount)(e);return yield r.account.stakingVars.fetch(n)})}pda_info_getters.getStakingVarsAccountInfo=getStakingVarsAccountInfo;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(pda_getters,t),r(pda_info_getters,t),r(seeds,t)})(pda_getters$1);var __awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(registerStake,"__esModule",{value:!0});registerStake.registerStakeInstruction=void 0;const anchor_1$6=require$$0$1,token_1$3=token$2,pda_getters_1$1=pda_getters$1,utils_1$6=utils$1;function registerStakeInstruction({connection:t,authority:e,rewardMultiplier:r,stakeMint:n,rewardMint:o,cooldownPeriod:a,programId:c}){return __awaiter$8(this,void 0,void 0,function*(){const u=(0,utils_1$6.getStakingProgram)({connection:t,programId:c}),gr={instructions:[],signers:[]},[br]=yield(0,pda_getters_1$1.getRegisteredStake)(c,e,n,o),_r=yield(0,token_1$3.associatedAddress)({owner:br,mint:o}),Ar=yield u.methods.registerStake(new anchor_1$6.BN(r),new anchor_1$6.BN(a)).accounts({authority:e,stakeMint:n,rewardMint:o,rewardAta:_r}).instruction();return gr.instructions.push(Ar),gr})}registerStake.registerStakeInstruction=registerStakeInstruction;var settle={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(settle,"__esModule",{value:!0});settle.createSettleStakingAccountInstruction=void 0;const utils_1$5=utils$1;function createSettleStakingAccountInstruction({connection:t,authority:e,registeredStake:r,stakingAccount:n,updatedStakingPeriod:o,programId:a}){return __awaiter$7(this,void 0,void 0,function*(){const c=(0,utils_1$5.getStakingProgram)({connection:t,programId:a}),u={instructions:[],signers:[]},gr=yield c.methods.settle(o).accounts({authority:e,registeredStake:r,stakingAccount:n}).instruction();return u.instructions.push(gr),u})}settle.createSettleStakingAccountInstruction=createSettleStakingAccountInstruction;var stakeTokens={},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(stakeTokens,"__esModule",{value:!0});stakeTokens.stakeTokensInstruction=void 0;const token_1$2=token$2,utils_1$4=utils$1;function stakeTokensInstruction({connection:t,user:e,stakeMint:r,tokenSource:n,stakeQuantity:o,registeredStake:a,stakingAccount:c,programId:u}){return __awaiter$6(this,void 0,void 0,function*(){const gr=(0,utils_1$4.getStakingProgram)({connection:t,programId:u}),br=yield(0,token_1$2.associatedAddress)({owner:c,mint:r}),_r={instructions:[],signers:[]},Ar=yield gr.methods.stakeTokens(o).accounts({user:e,stakeMint:r,tokenSource:n,registeredStake:a,tokenEscrow:br}).instruction();return _r.instructions.push(Ar),_r})}stakeTokens.stakeTokensInstruction=stakeTokensInstruction;var unstakeTokens={},__awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(unstakeTokens,"__esModule",{value:!0});unstakeTokens.unstakeTokensInstruction=void 0;const anchor_1$5=require$$0$1,token_1$1=token$2,util_1$2=util,pda_getters_1=pda_getters$1,utils_1$3=utils$1;function unstakeTokensInstruction({connection:t,user:e,registeredStake:r,stakingAccount:n,programId:o}){return __awaiter$5(this,void 0,void 0,function*(){const a=(0,utils_1$3.getStakingProgram)({connection:t,programId:o}),c={signers:[],instructions:[]},gr=(yield(0,pda_getters_1.getRegisteredStakeAccountInfo)(t,r,o)).rewardMint;let br=null,_r=null;const Ar=yield(0,util_1$2.getTokenAccount)(t,e,gr);br=Ar.tokenAccount,"createInstruction"in Ar&&c.instructions.push(...Ar.createInstruction),br instanceof anchor_1$5.web3.Keypair?(_r=br.publicKey,c.signers.push(br)):_r=br;const vr=yield(0,token_1$1.associatedAddress)({owner:r,mint:gr}),Tr=yield a.methods.unstakeTokens().accounts({user:e,rewardMint:gr,registeredStake:r,stakingAccount:n,userRewardAccount:_r,rewardAta:vr}).instruction();return c.instructions.push(Tr),c})}unstakeTokens.unstakeTokensInstruction=unstakeTokensInstruction;var updateCooldownPeriod={},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(updateCooldownPeriod,"__esModule",{value:!0});updateCooldownPeriod.updateCooldownPeriodInstruction=void 0;const anchor_1$4=require$$0$1,utils_1$2=utils$1;function updateCooldownPeriodInstruction({connection:t,authority:e,registeredStake:r,cooldownPeriod:n,programId:o}){return __awaiter$4(this,void 0,void 0,function*(){const a=(0,utils_1$2.getStakingProgram)({connection:t,programId:o}),c={instructions:[],signers:[]},u=yield a.methods.updateCooldownPeriod(new anchor_1$4.BN(n)).accounts({authority:e,registeredStake:r}).instruction();return c.instructions.push(u),c})}updateCooldownPeriod.updateCooldownPeriodInstruction=updateCooldownPeriodInstruction;var updateRewardMultiplier={},__awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(updateRewardMultiplier,"__esModule",{value:!0});updateRewardMultiplier.updateRewardMultiplierInstruction=void 0;const anchor_1$3=require$$0$1,utils_1$1=utils$1;function updateRewardMultiplierInstruction({connection:t,authority:e,rewardMultiplier:r,registeredStake:n,newStakingPeriod:o,programId:a}){return __awaiter$3(this,void 0,void 0,function*(){const c=(0,utils_1$1.getStakingProgram)({connection:t,programId:a}),u={instructions:[],signers:[]},gr=yield c.methods.updateRewardMultiplier(new anchor_1$3.BN(r),o).accounts({authority:e,registeredStake:n}).instruction();return u.instructions.push(gr),u})}updateRewardMultiplier.updateRewardMultiplierInstruction=updateRewardMultiplierInstruction;var withdrawTokens={},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(withdrawTokens,"__esModule",{value:!0});withdrawTokens.withdrawTokensInstruction=void 0;const anchor_1$2=require$$0$1,token_1=token$2,utils_1=utils$1,util_1$1=util;function withdrawTokensInstruction({connection:t,authority:e,user:r,stakeMint:n,registeredStake:o,stakingAccount:a,programId:c}){return __awaiter$2(this,void 0,void 0,function*(){const u=(0,utils_1.getStakingProgram)({connection:t,programId:c}),gr=yield(0,token_1.associatedAddress)({owner:a,mint:n}),br={signers:[],instructions:[]};let _r=null,Ar=null;const vr=yield(0,util_1$1.getTokenAccount)(t,r,n);_r=vr.tokenAccount,"createInstruction"in vr&&br.instructions.push(...vr.createInstruction),_r instanceof anchor_1$2.web3.Keypair?(Ar=_r.publicKey,br.signers.push(_r)):Ar=_r;const Tr=yield u.methods.withdrawTokens().accounts({user:r,authority:e,stakeMint:n,tokenSource:Ar,registeredStake:o,stakingAccount:a,tokenEscrow:gr}).instruction();return br.instructions.push(Tr),br})}withdrawTokens.withdrawTokensInstruction=withdrawTokensInstruction;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(baseParams,t),r(cancelUnstake,t),r(createStakeAccount,t),r(harvestRewards,t),r(initializeStaking,t),r(registerStake,t),r(settle,t),r(stakeTokens,t),r(unstakeTokens,t),r(updateCooldownPeriod,t),r(updateRewardMultiplier,t),r(withdrawTokens,t)})(instruction_builders$1);var types$1={},stakingProgramAccounts={};Object.defineProperty(stakingProgramAccounts,"__esModule",{value:!0});(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(stakingIdl,t),r(stakingProgramAccounts,t)})(types$1);(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(instruction_builders$1,t),r(pda_getters$1,t),r(types$1,t),r(utils$1,t)})(atlasStaking);var factions={};(function(t){var e=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ar,vr,Tr,Or){function Ir(xr){return xr instanceof Tr?xr:new Tr(function(Lr){Lr(xr)})}return new(Tr||(Tr=Promise))(function(xr,Lr){function Fr(Vr){try{Hr(Or.next(Vr))}catch(Kr){Lr(Kr)}}function Mr(Vr){try{Hr(Or.throw(Vr))}catch(Kr){Lr(Kr)}}function Hr(Vr){Vr.done?xr(Vr.value):Ir(Vr.value).then(Fr,Mr)}Hr((Or=Or.apply(Ar,vr||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.getPlayersOfFaction=t.getAllPlayers=t.getPlayer=t.enlistToFaction=t.getPlayerFactionPDA=t.getIDL=t.FactionType=void 0;const r=require$$0$1,n={version:"0.0.0",name:"enlist_to_faction",instructions:[{name:"processEnlistPlayer",accounts:[{name:"playerFactionAccount",isMut:!0,isSigner:!1},{name:"playerAccount",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"factionId",type:"u8"}]}],accounts:[{name:"PlayerFactionData",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"enlistedAtTimestamp",type:"i64"},{name:"factionId",type:"u8"},{name:"bump",type:"u8"},{name:"padding",type:{array:["u64",5]}}]}}],errors:[{code:300,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."}],metadata:{}},o="FACTION_ENLISTMENT";(function(Ar){Ar[Ar.Unenlisted=-1]="Unenlisted",Ar[Ar.MUD=0]="MUD",Ar[Ar.ONI=1]="ONI",Ar[Ar.Ustur=2]="Ustur"})(t.FactionType||(t.FactionType={}));function a(Ar){const vr=n;return vr.metadata.address=Ar.toBase58(),vr}t.getIDL=a;function c(Ar,vr){return e(this,void 0,void 0,function*(){return r.web3.PublicKey.findProgramAddress([dist$3.Buffer.from(o,"utf8"),Ar.toBuffer()],vr)})}t.getPlayerFactionPDA=c;function u(Ar,vr,Tr,Or){return e(this,void 0,void 0,function*(){const[Ir,xr]=yield c(Tr,Or),Lr=a(Or),Fr=new r.AnchorProvider(Ar,null,null);return yield new r.Program(Lr,Or,Fr).instruction.processEnlistPlayer(xr,vr,{accounts:{playerFactionAccount:Ir,playerAccount:Tr,systemProgram:r.web3.SystemProgram.programId,clock:r.web3.SYSVAR_CLOCK_PUBKEY}})})}t.enlistToFaction=u;function gr(Ar,vr,Tr){return e(this,void 0,void 0,function*(){const Or=new r.AnchorProvider(Ar,null,null),Ir=a(Tr),xr=new r.Program(Ir,Tr,Or),[Lr]=yield c(vr,Tr);return yield xr.account.playerFactionData.fetch(Lr)})}t.getPlayer=gr;function br(Ar,vr){return e(this,void 0,void 0,function*(){const Tr=new r.AnchorProvider(Ar,null,null),Or=a(vr);return(yield new r.Program(Or,vr,Tr).account.playerFactionData.all()).map(Fr=>Fr.account)})}t.getAllPlayers=br;function _r(Ar,vr,Tr){return e(this,void 0,void 0,function*(){const Or=new r.AnchorProvider(Ar,null,null),Ir=a(Tr);return(yield new r.Program(Ir,Tr,Or).account.playerFactionData.all()).map(Mr=>Mr.account).filter(Mr=>Mr.factionId==vr)})}t.getPlayersOfFaction=_r})(factions);var gumdrop={},gumdropIdl={};Object.defineProperty(gumdropIdl,"__esModule",{value:!0});gumdropIdl.gumDropIdl=void 0;gumdropIdl.gumDropIdl={version:"0.0.0",name:"merkle_distributor",instructions:[{name:"newDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]},{name:"closeDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"receiver",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"walletBump",type:"u8"}]},{name:"claim",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"claimStatus",isMut:!0,isSigner:!1},{name:"from",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimCandy",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"claimCount",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"candyMachineConfig",isMut:!1,isSigner:!1},{name:"candyMachine",isMut:!0,isSigner:!1},{name:"candyMachineWallet",isMut:!0,isSigner:!1},{name:"candyMachineMint",isMut:!0,isSigner:!1},{name:"candyMachineMetadata",isMut:!0,isSigner:!1},{name:"candyMachineMasterEdition",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"candyMachineProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"walletBump",type:"u8"},{name:"claimBump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]}],accounts:[{name:"MerkleDistributor",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]}},{name:"ClaimStatus",type:{kind:"struct",fields:[{name:"isClaimed",type:"bool"},{name:"claimant",type:"publicKey"},{name:"claimedAt",type:"i64"},{name:"amount",type:"u64"}]}},{name:"ClaimCount",type:{kind:"struct",fields:[{name:"count",type:"u64"},{name:"claimant",type:"publicKey"}]}},{name:"CandyMachine",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"wallet",type:"publicKey"},{name:"tokenMint",type:{option:"publicKey"}},{name:"config",type:"publicKey"},{name:"data",type:{defined:"CandyMachineData"}},{name:"itemsRedeemed",type:"u64"},{name:"bump",type:"u8"}]}}],types:[{name:"CandyMachineData",type:{kind:"struct",fields:[{name:"uuid",type:"string"},{name:"price",type:"u64"},{name:"itemsAvailable",type:"u64"},{name:"goLiveDate",type:{option:"i64"}}]}}],events:[{name:"ClaimedEvent",fields:[{name:"index",type:"u64",index:!1},{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:300,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:301,name:"DropAlreadyClaimed",msg:"Drop already claimed."},{code:302,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:303,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:304,name:"TemporalMismatch",msg:"Temporal signer did not match distributor"}]};(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(Ir,xr,Lr,Fr){Fr===void 0&&(Fr=Lr);var Mr=Object.getOwnPropertyDescriptor(xr,Lr);(!Mr||("get"in Mr?!xr.__esModule:Mr.writable||Mr.configurable))&&(Mr={enumerable:!0,get:function(){return xr[Lr]}}),Object.defineProperty(Ir,Fr,Mr)}:function(Ir,xr,Lr,Fr){Fr===void 0&&(Fr=Lr),Ir[Fr]=xr[Lr]}),r=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(Ir,xr){Object.defineProperty(Ir,"default",{enumerable:!0,value:xr})}:function(Ir,xr){Ir.default=xr}),n=commonjsGlobal&&commonjsGlobal.__importStar||function(Ir){if(Ir&&Ir.__esModule)return Ir;var xr={};if(Ir!=null)for(var Lr in Ir)Lr!=="default"&&Object.prototype.hasOwnProperty.call(Ir,Lr)&&e(xr,Ir,Lr);return r(xr,Ir),xr},o=commonjsGlobal&&commonjsGlobal.__awaiter||function(Ir,xr,Lr,Fr){function Mr(Hr){return Hr instanceof Lr?Hr:new Lr(function(Vr){Vr(Hr)})}return new(Lr||(Lr=Promise))(function(Hr,Vr){function Kr(tn){try{qr(Fr.next(tn))}catch(en){Vr(en)}}function jr(tn){try{qr(Fr.throw(tn))}catch(en){Vr(en)}}function qr(tn){tn.done?Hr(tn.value):Mr(tn.value).then(Kr,jr)}qr((Fr=Fr.apply(Ir,xr||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.claimTokenInstructions=t.getMultipleClaimStatusAccounts=t.getClaimStatusAccount=t.getClaimStatusKey=void 0;const a=require$$0$1,c=require$$1$1,u=n(bs58$3),gr=helpers$1,br=gumdropIdl,_r=new a.web3.PublicKey("gdrpGjVffourzkdDRrQmySw4aTHr8a3xmQzzxSwFD1a"),Ar=(Ir,xr,Lr=_r)=>o(void 0,void 0,void 0,function*(){return yield a.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("ClaimStatus"),Ir.toArrayLike(dist$3.Buffer,"le",8),xr.toBuffer()],Lr)});t.getClaimStatusKey=Ar;const vr=(Ir,xr,Lr,Fr=_r)=>o(void 0,void 0,void 0,function*(){const Mr=new a.AnchorProvider(Ir,null,null),Hr=new a.Program(br.gumDropIdl,Fr,Mr),Vr=yield(0,t.getClaimStatusKey)(xr,Lr,Fr);try{return yield Hr.account.claimStatus.fetch(Vr[0])}catch{return null}});t.getClaimStatusAccount=vr;const Tr=(Ir,xr,Lr,Fr=_r)=>o(void 0,void 0,void 0,function*(){const Mr=new a.AnchorProvider(Ir,null,null),Hr=new a.Program(br.gumDropIdl,Fr,Mr),Vr=xr.map(qr=>(0,t.getClaimStatusKey)(qr,Lr,Fr)),Kr=(yield Promise.all(Vr)).map(qr=>qr[0]);return yield Hr.account.claimStatus.fetchMultiple(Kr)});t.getMultipleClaimStatusAccounts=Tr;const Or=Ir=>o(void 0,void 0,void 0,function*(){const{connection:xr,claimUrl:Lr,playerPublicKey:Fr,programId:Mr}=Ir,Hr=new URLSearchParams(Lr.split("?")[1]),Vr=Hr.get("distributor"),Kr=Hr.get("handle"),jr=Hr.get("amount"),qr=Hr.get("index"),tn=Hr.get("proof"),en=Hr.get("tokenAcc");if(!Vr||!Kr||!jr||!qr||!tn||!en)throw new Error("Invalid claim");const sn=tn===""?[]:tn.split(",").map(yn=>{const mn=dist$3.Buffer.from(u.decode(yn));if(mn.length!==32)throw new Error("Invalid proof hash length");return mn}),cn=new a.web3.PublicKey(Vr),Ur=new a.web3.PublicKey(en),Rr=yield xr.getAccountInfo(Ur);if(Rr===null)throw new Error("Could not fetch distributor token account");const Pr=c.AccountLayout.decode(Rr.data),Dr=new a.web3.PublicKey(Pr.mint),Yr=new a.web3.PublicKey(Kr),Zr=yield(0,gr.getAssociatedTokenAddress)(Yr,Dr),Xr=yield xr.getParsedTokenAccountsByOwner(Yr,{mint:Dr}),nn=new a.BN(qr),Gr=new a.BN(jr),[Nr,Jr]=yield(0,t.getClaimStatusKey)(nn,cn,Mr),fn=new a.AnchorProvider(xr,null,null),An=new a.Program(br.gumDropIdl,Mr,fn),wn=[];return Xr.value.length===0&&wn.push(c.Token.createAssociatedTokenAccountInstruction(c.ASSOCIATED_TOKEN_PROGRAM_ID,c.TOKEN_PROGRAM_ID,Dr,Zr,Yr,Fr)),wn.push(An.instruction.claim(Jr,nn,Gr,Fr,sn,{accounts:{distributor:cn,claimStatus:Nr,from:Ur,to:Zr,temporal:Fr,payer:Fr,tokenProgram:c.TOKEN_PROGRAM_ID,systemProgram:a.web3.SystemProgram.programId}})),wn});t.claimTokenInstructions=Or})(gumdrop);var score={},scoreIdl={};Object.defineProperty(scoreIdl,"__esModule",{value:!0});scoreIdl.baseIdl=void 0;scoreIdl.baseIdl={version:"0.0.0",name:"score",instructions:[{name:"processInitialize",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"atlasMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processRegisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"scorevarsShipBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]},{name:"processDeregisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processUpdateRewardRate",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"newRewardRatePerSecond",type:"u64"}]},{name:"processInitialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerFactionAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processPartialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processRefuel",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"fuelTokenAccountSource",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"fuelQuantity",type:"u64"}]},{name:"processRefeed",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"foodTokenAccountSource",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"foodQuantity",type:"u64"}]},{name:"processRearm",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"armsTokenAccountSource",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"armsQuantity",type:"u64"}]},{name:"processRepair",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"toolkitQuantity",type:"u64"}]},{name:"processSettle",accounts:[{name:"playerAccount",isMut:!1,isSigner:!1},{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processHarvest",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processWithdrawFuel",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountReturn",isMut:!0,isSigner:!1},{name:"fuelMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawFood",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountReturn",isMut:!0,isSigner:!1},{name:"foodMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawArms",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountReturn",isMut:!0,isSigner:!1},{name:"armsMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawShips",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"shipTokenAccountReturn",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"},{name:"treasuryBump",type:"u8"}]},{name:"processCloseAccounts",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"shipBump",type:"u8"},{name:"fuelBump",type:"u8"},{name:"foodBump",type:"u8"},{name:"armsBump",type:"u8"},{name:"escrowAuthBump",type:"u8"}]}],accounts:[{name:"ScoreVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"fuelMint",type:"publicKey"},{name:"foodMint",type:"publicKey"},{name:"armsMint",type:"publicKey"},{name:"toolkitMint",type:"publicKey"}]}},{name:"ScoreVarsShip",type:{kind:"struct",fields:[{name:"shipMint",type:"publicKey"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]}},{name:"ShipStaking",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"factionId",type:"u8"},{name:"shipMint",type:"publicKey"},{name:"shipQuantityInEscrow",type:"u64"},{name:"fuelQuantityInEscrow",type:"u64"},{name:"foodQuantityInEscrow",type:"u64"},{name:"armsQuantityInEscrow",type:"u64"},{name:"fuelCurrentCapacity",type:"u64"},{name:"foodCurrentCapacity",type:"u64"},{name:"armsCurrentCapacity",type:"u64"},{name:"healthCurrentCapacity",type:"u64"},{name:"stakedAtTimestamp",type:"i64"},{name:"fueledAtTimestamp",type:"i64"},{name:"fedAtTimestamp",type:"i64"},{name:"armedAtTimestamp",type:"i64"},{name:"repairedAtTimestamp",type:"i64"},{name:"currentCapacityTimestamp",type:"i64"},{name:"totalTimeStaked",type:"u64"},{name:"stakedTimePaid",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"totalRewardsPaid",type:"u64"}]}}],types:[{name:"Resource",type:{kind:"enum",variants:[{name:"Arms"},{name:"Fuel"},{name:"Food"},{name:"Toolkits"}]}}],errors:[{code:300,name:"ScorevarsNotInitialized",msg:"Scorevars auth is not initialized"},{code:301,name:"ScorevarsAuthInvalid",msg:"Scorevars auth invalid"},{code:302,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."},{code:303,name:"InvalidShipError",msg:"Invalid Ship Mint"},{code:304,name:"InvalidResourceError",msg:"Invalid Resource Mint"},{code:305,name:"ZeroResourceError",msg:"Resource Quantity must be >0."},{code:306,name:"ZeroShipError",msg:"Ship Quantity must be >0."},{code:307,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:308,name:"ResourceAmountTooSmall",msg:"Resource Amount Too Small, would add 0 seconds to capacity"},{code:309,name:"InvalidScoreVarsAccount",msg:"Invalid ScoreVars account for ship Staking Account given"},{code:310,name:"InvalidResourceWithdraw",msg:"Invalid Resource Withdraw, nothing to withdraw"},{code:311,name:"InvalidShipStakingOwner",msg:"Invalid Ship Staking Owner"},{code:312,name:"InvalidShipWithdraw",msg:"Invalid Ship Withdraw"},{code:313,name:"NotEnoughToolkits",msg:"Not enough toolkits for Ship Withdraw"},{code:314,name:"EscrowAccountNotZero",msg:"Escrow account must be 0 to close accounts"},{code:315,name:"IncorrectTokenAccountOwner",msg:"Token account does not have correct owner!"},{code:316,name:"UninitializedTokenAccount",msg:"Token or Mint Account is not initialized!"},{code:317,name:"IncorrectTokenAccountMint",msg:"Token or Mint Account mint is not correct!"}],metadata:{}};var scoreLogIdl={};Object.defineProperty(scoreLogIdl,"__esModule",{value:!0});scoreLogIdl.scoreLogBaseIdl=void 0;scoreLogIdl.scoreLogBaseIdl={version:"0.0.0",name:"score_logs",instructions:[],events:[{name:"ProcessInitialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"factionId",type:"u8",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessPartialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"previousShipQuantity",type:"u64",index:!1},{name:"addedShipQuantity",type:"u64",index:!1},{name:"newShipQuantity",type:"u64",index:!1},{name:"partialDepositTimestamp",type:"i64",index:!1}]},{name:"ProcessRearmMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityToDeposit",type:"u64",index:!1},{name:"armedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefeedMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityToDeposit",type:"u64",index:!1},{name:"fedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefuelMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityToDeposit",type:"u64",index:!1},{name:"fueledAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRepairMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"toolkitQuantityToDeposit",type:"u64",index:!1},{name:"repairedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessHarvestMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"rewardPayout",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"harvestTimestamp",type:"i64",index:!1}]},{name:"ProcessSettleMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"settleTimestamp",type:"i64",index:!1}]},{name:"ProcessArmsWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityWithdrawn",type:"u64",index:!1},{name:"armsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFoodWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityWithdrawn",type:"u64",index:!1},{name:"foodWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFuelWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityWithdrawn",type:"u64",index:!1},{name:"fuelWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessWithdrawShipsMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"shipsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessCloseAccountMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"accountClosedTimestamp",type:"i64",index:!1}]}]};var __awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})};Object.defineProperty(score,"__esModule",{value:!0});score.closeAccountsInstruction=score.createWithdrawShipsInstruction=score.createWithdrawArmsInstruction=score.createWithdrawFoodInstruction=score.createWithdrawFuelInstruction=score.createHarvestInstruction=score.createSettleInstruction=score.createRepairInstruction=score.createRefuelInstruction=score.createRefeedInstruction=score.createRearmInstruction=score.createPartialDepositInstruction=score.createInitialDepositInstruction=score.createUpdateRewardRateInstruction=score.createDeregisterShipInstruction=score.createRegisterShipInstruction=score.createScoreVarsInitializeInstruction=score.getAllFleetsForUserPublicKey=score.getAllFleets=score.getAllRegisteredShips=score.getScoreTreasuryAuthAccount=score.getScoreTreasuryTokenAccount=score.getScoreVarsShipInfo=score.decodeEvent=score.getShipStakingAccountInfo=score.getScoreVarsInfo=score.getShipStakingAccount=score.getScoreEscrowAuthAccount=score.getScoreEscrowAccount=score.getScoreVarsShipAccount=score.getScoreVarsAccount=score.getScoreIDL=void 0;const anchor_1$1=require$$0$1,spl_token_1$1=require$$1$1,web3_js_1=require$$2,_1$1=dist,scoreIdl_1=scoreIdl,scoreLogIdl_1=scoreLogIdl,util_1=util;function getScoreIDL(t){const e=scoreIdl_1.baseIdl;return e.metadata.address=t.toBase58(),e}score.getScoreIDL=getScoreIDL;function getScoreVarsAccount(t){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCOREVARS")],t)})}score.getScoreVarsAccount=getScoreVarsAccount;function getScoreVarsShipAccount(t,e){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCOREVARS_SHIP"),e.toBuffer()],t)})}score.getScoreVarsShipAccount=getScoreVarsShipAccount;function getScoreEscrowAccount(t,e,r,n){return __awaiter$1(this,void 0,void 0,function*(){const o=[dist$3.Buffer.from("SCORE_ESCROW"),n.toBuffer(),e.toBuffer()];return r!==null&&o.push(r.toBuffer()),anchor_1$1.web3.PublicKey.findProgramAddress(o,t)})}score.getScoreEscrowAccount=getScoreEscrowAccount;function getScoreEscrowAuthAccount(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCORE_ESCROW_AUTHORITY"),r.toBuffer(),e.toBuffer()],t)})}score.getScoreEscrowAuthAccount=getScoreEscrowAuthAccount;function getShipStakingAccount(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCORE_INFO"),r.toBuffer(),e.toBuffer()],t)})}score.getShipStakingAccount=getShipStakingAccount;function getScoreVarsInfo(t,e){return __awaiter$1(this,void 0,void 0,function*(){const r=new anchor_1$1.AnchorProvider(t,null,null),n=getScoreIDL(e),o=new anchor_1$1.Program(n,e,r),[a]=yield getScoreVarsAccount(e);return yield o.account.scoreVars.fetch(a)})}score.getScoreVarsInfo=getScoreVarsInfo;function getShipStakingAccountInfo(t,e,r,n){return __awaiter$1(this,void 0,void 0,function*(){const o=new anchor_1$1.AnchorProvider(t,null,null),a=getScoreIDL(e),c=new anchor_1$1.Program(a,e,o),[u]=yield getShipStakingAccount(e,r,n);return yield c.account.shipStaking.fetch(u)})}score.getShipStakingAccountInfo=getShipStakingAccountInfo;function decodeEvent(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){const n=new anchor_1$1.AnchorProvider(t,null,null);return new anchor_1$1.Program(scoreLogIdl_1.scoreLogBaseIdl,e,n).coder.events.decode(r)})}score.decodeEvent=decodeEvent;function getScoreVarsShipInfo(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){const n=new anchor_1$1.AnchorProvider(t,null,null),o=getScoreIDL(e),a=new anchor_1$1.Program(o,e,n),[c]=yield getScoreVarsShipAccount(e,r);return yield a.account.scoreVarsShip.fetch(c)})}score.getScoreVarsShipInfo=getScoreVarsShipInfo;function getScoreTreasuryTokenAccount(t){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCORE_TREASURY")],t)})}score.getScoreTreasuryTokenAccount=getScoreTreasuryTokenAccount;function getScoreTreasuryAuthAccount(t){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCORE_TREASURY_AUTHORITY")],t)})}score.getScoreTreasuryAuthAccount=getScoreTreasuryAuthAccount;function getAllRegisteredShips(t,e){return __awaiter$1(this,void 0,void 0,function*(){const r=getScoreIDL(e),n=new anchor_1$1.AnchorProvider(t,null,null),a=yield new anchor_1$1.Program(r,e,n).account.scoreVarsShip.all(),c=[];for(const u of a)c.push(u.account);return c})}score.getAllRegisteredShips=getAllRegisteredShips;function getAllFleets(t,e){return __awaiter$1(this,void 0,void 0,function*(){const r=getScoreIDL(e),n=new anchor_1$1.AnchorProvider(t,null,null),a=yield new anchor_1$1.Program(r,e,n).account.shipStaking.all(),c=[];for(const u of a)c.push(u.account);return c})}score.getAllFleets=getAllFleets;function getAllFleetsForUserPublicKey(t,e,r){return __awaiter$1(this,void 0,void 0,function*(){const n=getScoreIDL(r),o=new anchor_1$1.AnchorProvider(t,null,null),a=new anchor_1$1.Program(n,r,o),c=yield a.account.scoreVarsShip.all(),u=[];for(const _r of c){const[Ar]=yield getShipStakingAccount(r,_r.account.shipMint,e);u.push(Ar)}return(yield a.account.shipStaking.fetchMultiple(u)).filter(_r=>_r!==null).map(_r=>_r)})}score.getAllFleetsForUserPublicKey=getAllFleetsForUserPublicKey;function createScoreVarsInitializeInstruction(t,e,r,n,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const gr=getScoreIDL(u),br=new anchor_1$1.AnchorProvider(t,null,null),_r=new anchor_1$1.Program(gr,u,br),[Ar,vr]=yield getScoreTreasuryTokenAccount(u),[Tr,Or]=yield getScoreTreasuryAuthAccount(u),[Ir,xr]=yield getScoreVarsAccount(u);return yield _r.instruction.processInitialize(xr,vr,Or,{accounts:{updateAuthorityAccount:e,scoreVarsAccount:Ir,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:web3_js_1.SystemProgram.programId,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,treasuryTokenAccount:Ar,treasuryAuthorityAccount:Tr,atlasMint:r,fuelMint:n,foodMint:o,armsMint:a,toolkitMint:c},signers:[]})})}score.createScoreVarsInitializeInstruction=createScoreVarsInitializeInstruction;function createRegisterShipInstruction(t,e,r,n,o,a,c,u,gr,br,_r,Ar,vr){return __awaiter$1(this,void 0,void 0,function*(){const Tr=getScoreIDL(vr),Or=new anchor_1$1.AnchorProvider(t,null,null),Ir=new anchor_1$1.Program(Tr,vr,Or),[xr,Lr]=yield getScoreVarsShipAccount(vr,r),[Fr,Mr]=yield getScoreVarsAccount(vr);return yield Ir.instruction.processRegisterShip(Mr,Lr,new anchor_1$1.BN(Ar),n,o,a,c,u,gr,br,_r,{accounts:{updateAuthorityAccount:e,scoreVarsAccount:Fr,scoreVarsShipAccount:xr,shipMint:r,systemProgram:web3_js_1.SystemProgram.programId},signers:[]})})}score.createRegisterShipInstruction=createRegisterShipInstruction;function createDeregisterShipInstruction(t,e,r,n){return __awaiter$1(this,void 0,void 0,function*(){const o=getScoreIDL(n),a=new anchor_1$1.AnchorProvider(t,null,null),c=new anchor_1$1.Program(o,n,a),[u,gr]=yield getScoreVarsShipAccount(n,r),[br,_r]=yield getScoreVarsAccount(n);return yield c.instruction.processDeregisterShip(_r,gr,{accounts:{updateAuthorityAccount:e,scoreVarsAccount:br,scoreVarsShipAccount:u,shipMint:r},signers:[]})})}score.createDeregisterShipInstruction=createDeregisterShipInstruction;function createUpdateRewardRateInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const a=getScoreIDL(o),c=new anchor_1$1.AnchorProvider(t,null,null),u=new anchor_1$1.Program(a,o,c),[gr,br]=yield getScoreVarsShipAccount(o,r),[_r,Ar]=yield getScoreVarsAccount(o);return yield u.instruction.processUpdateRewardRate(Ar,br,new anchor_1$1.BN(n),{accounts:{updateAuthorityAccount:e,scoreVarsAccount:_r,scoreVarsShipAccount:gr,shipMint:r},signers:[]})})}score.createUpdateRewardRateInstruction=createUpdateRewardRateInstruction;function createInitialDepositInstruction(t,e,r,n,o,a,c=new anchor_1$1.web3.PublicKey("FACTNmq2FhA2QNTnGM2aWJH3i7zT3cND5CgvjYTjyVYe")){return __awaiter$1(this,void 0,void 0,function*(){const[u,gr]=yield getScoreEscrowAuthAccount(a,n,e),[br,_r]=yield getScoreEscrowAccount(a,n,null,e),[Ar,vr]=yield getShipStakingAccount(a,n,e),[Tr,Or]=yield getScoreVarsShipAccount(a,n),[Ir]=yield(0,_1$1.getPlayerFactionPDA)(e,c),xr=getScoreIDL(a),Lr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(xr,a,Lr).instruction.processInitialDeposit(vr,Or,gr,_r,new anchor_1$1.BN(r),{accounts:{playerAccount:e,shipStakingAccount:Ar,scoreVarsShipAccount:Tr,playerFactionAccount:Ir,escrowAuthority:u,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:n,shipTokenAccountSource:o,shipTokenAccountEscrow:br}})})}score.createInitialDepositInstruction=createInitialDepositInstruction;function createPartialDepositInstruction(t,e,r,n,o,a){return __awaiter$1(this,void 0,void 0,function*(){const[c,u]=yield getScoreEscrowAuthAccount(a,n,e),[gr,br]=yield getScoreEscrowAccount(a,n,null,e),[_r,Ar]=yield getShipStakingAccount(a,n,e),[vr,Tr]=yield getScoreVarsShipAccount(a,n),Or=getScoreIDL(a),Ir=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Or,a,Ir).instruction.processPartialDeposit(Ar,Tr,u,br,new anchor_1$1.BN(r),{accounts:{playerAccount:e,shipStakingAccount:_r,scoreVarsShipAccount:vr,escrowAuthority:c,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n,shipTokenAccountSource:o,shipTokenAccountEscrow:gr}})})}score.createPartialDepositInstruction=createPartialDepositInstruction;function createRearmInstruction(t,e,r,n,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const[gr,br]=yield getScoreEscrowAuthAccount(u,o,r),[_r,Ar]=yield getScoreEscrowAccount(u,o,a,r),[vr,Tr]=yield getShipStakingAccount(u,o,r),[Or,Ir]=yield getScoreVarsShipAccount(u,o),[xr,Lr]=yield getScoreVarsAccount(u),Fr=getScoreIDL(u),Mr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Fr,u,Mr).instruction.processRearm(Tr,Lr,Ir,br,Ar,new anchor_1$1.BN(n),{accounts:{tokenOwnerAccount:e,playerAccount:r,shipStakingAccount:vr,scoreVarsAccount:xr,scoreVarsShipAccount:Or,escrowAuthority:gr,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,armsMint:a,armsTokenAccountSource:c,armsTokenAccountEscrow:_r}})})}score.createRearmInstruction=createRearmInstruction;function createRefeedInstruction(t,e,r,n,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const[gr,br]=yield getScoreEscrowAuthAccount(u,o,r),[_r,Ar]=yield getScoreEscrowAccount(u,o,a,r),[vr,Tr]=yield getShipStakingAccount(u,o,r),[Or,Ir]=yield getScoreVarsShipAccount(u,o),[xr,Lr]=yield getScoreVarsAccount(u),Fr=getScoreIDL(u),Mr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Fr,u,Mr).instruction.processRefeed(Tr,Lr,Ir,br,Ar,new anchor_1$1.BN(n),{accounts:{tokenOwnerAccount:e,playerAccount:r,shipStakingAccount:vr,scoreVarsAccount:xr,scoreVarsShipAccount:Or,escrowAuthority:gr,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,foodMint:a,foodTokenAccountSource:c,foodTokenAccountEscrow:_r}})})}score.createRefeedInstruction=createRefeedInstruction;function createRefuelInstruction(t,e,r,n,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const[gr,br]=yield getScoreEscrowAuthAccount(u,o,r),[_r,Ar]=yield getScoreEscrowAccount(u,o,a,r),[vr,Tr]=yield getShipStakingAccount(u,o,r),[Or,Ir]=yield getScoreVarsShipAccount(u,o),[xr,Lr]=yield getScoreVarsAccount(u),Fr=getScoreIDL(u),Mr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Fr,u,Mr).instruction.processRefuel(Tr,Lr,Ir,br,Ar,new anchor_1$1.BN(n),{accounts:{tokenOwnerAccount:e,playerAccount:r,shipStakingAccount:vr,scoreVarsAccount:xr,scoreVarsShipAccount:Or,escrowAuthority:gr,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,fuelMint:a,fuelTokenAccountSource:c,fuelTokenAccountEscrow:_r}})})}score.createRefuelInstruction=createRefuelInstruction;function createRepairInstruction(t,e,r,n,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const[gr,br]=yield getShipStakingAccount(u,o,r),[_r,Ar]=yield getScoreVarsShipAccount(u,o),[vr,Tr]=yield getScoreVarsAccount(u),Or=getScoreIDL(u),Ir=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Or,u,Ir).instruction.processRepair(br,Tr,Ar,new anchor_1$1.BN(n),{accounts:{tokenOwnerAccount:e,playerAccount:r,shipStakingAccount:gr,scoreVarsAccount:vr,scoreVarsShipAccount:_r,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,toolkitMint:a,toolkitTokenAccountSource:c}})})}score.createRepairInstruction=createRepairInstruction;function createSettleInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getShipStakingAccount(o,n,e),[u,gr]=yield getScoreVarsShipAccount(o,n),[br,_r]=yield getScoreVarsAccount(o),Ar=getScoreIDL(o),vr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Ar,o,vr).instruction.processSettle(c,_r,gr,{accounts:{playerAccount:e,updateAuthorityAccount:r,shipStakingAccount:a,scoreVarsShipAccount:u,scoreVarsAccount:br,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}})})}score.createSettleInstruction=createSettleInstruction;function createHarvestInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getShipStakingAccount(o,n,e),[u,gr]=yield getScoreVarsShipAccount(o,n),[br,_r]=yield getScoreTreasuryTokenAccount(o),[Ar,vr]=yield getScoreTreasuryAuthAccount(o),Tr=getScoreIDL(o),Or=new anchor_1$1.AnchorProvider(t,null,null),Ir=new anchor_1$1.Program(Tr,o,Or),xr={signers:[],instructions:[]};let Lr;const Fr=yield(0,util_1.getTokenAccount)(t,e,r),Mr=Fr.tokenAccount;"createInstruction"in Fr&&xr.instructions.push(...Fr.createInstruction),Mr instanceof anchor_1$1.web3.Keypair?(Lr=Mr.publicKey,xr.signers.push(Mr)):Lr=Mr;const Hr=yield Ir.instruction.processHarvest(c,gr,_r,vr,{accounts:{playerAccount:e,shipStakingAccount:a,scoreVarsShipAccount:u,playerAtlasTokenAccount:Lr,treasuryTokenAccount:br,treasuryAuthorityAccount:Ar,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}});return xr.instructions.push(Hr),xr})}score.createHarvestInstruction=createHarvestInstruction;function createWithdrawFuelInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getScoreEscrowAuthAccount(o,n,e),[u,gr]=yield getScoreEscrowAccount(o,n,r,e),[br,_r]=yield getShipStakingAccount(o,n,e),[Ar,vr]=yield getScoreVarsShipAccount(o,n),[Tr,Or]=yield getScoreVarsAccount(o),Ir=getScoreIDL(o),xr=new anchor_1$1.AnchorProvider(t,null,null),Lr=new anchor_1$1.Program(Ir,o,xr),Fr={signers:[],instructions:[]};let Mr;const Hr=yield(0,util_1.getTokenAccount)(t,e,r),Vr=Hr.tokenAccount;"createInstruction"in Hr&&Fr.instructions.push(...Hr.createInstruction),Vr instanceof anchor_1$1.web3.Keypair?(Mr=Vr.publicKey,Fr.signers.push(Vr)):Mr=Vr;const Kr=yield Lr.instruction.processWithdrawFuel(_r,Or,vr,c,gr,{accounts:{playerAccount:e,shipStakingAccount:br,scoreVarsAccount:Tr,scoreVarsShipAccount:Ar,fuelTokenAccountEscrow:u,fuelTokenAccountReturn:Mr,fuelMint:r,escrowAuthority:a,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}});return Fr.instructions.push(Kr),Fr})}score.createWithdrawFuelInstruction=createWithdrawFuelInstruction;function createWithdrawFoodInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getScoreEscrowAuthAccount(o,n,e),[u,gr]=yield getScoreEscrowAccount(o,n,r,e),[br,_r]=yield getShipStakingAccount(o,n,e),[Ar,vr]=yield getScoreVarsShipAccount(o,n),[Tr,Or]=yield getScoreVarsAccount(o),Ir=getScoreIDL(o),xr=new anchor_1$1.AnchorProvider(t,null,null),Lr=new anchor_1$1.Program(Ir,o,xr),Fr={signers:[],instructions:[]};let Mr;const Hr=yield(0,util_1.getTokenAccount)(t,e,r),Vr=Hr.tokenAccount;"createInstruction"in Hr&&Fr.instructions.push(...Hr.createInstruction),Vr instanceof anchor_1$1.web3.Keypair?(Mr=Vr.publicKey,Fr.signers.push(Vr)):Mr=Vr;const Kr=yield Lr.instruction.processWithdrawFood(_r,Or,vr,c,gr,{accounts:{playerAccount:e,shipStakingAccount:br,scoreVarsAccount:Tr,scoreVarsShipAccount:Ar,foodTokenAccountEscrow:u,foodTokenAccountReturn:Mr,foodMint:r,escrowAuthority:a,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}});return Fr.instructions.push(Kr),Fr})}score.createWithdrawFoodInstruction=createWithdrawFoodInstruction;function createWithdrawArmsInstruction(t,e,r,n,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getScoreEscrowAuthAccount(o,n,e),[u,gr]=yield getScoreEscrowAccount(o,n,r,e),[br,_r]=yield getShipStakingAccount(o,n,e),[Ar,vr]=yield getScoreVarsShipAccount(o,n),[Tr,Or]=yield getScoreVarsAccount(o),Ir=getScoreIDL(o),xr=new anchor_1$1.AnchorProvider(t,null,null),Lr=new anchor_1$1.Program(Ir,o,xr),Fr={signers:[],instructions:[]};let Mr;const Hr=yield(0,util_1.getTokenAccount)(t,e,r),Vr=Hr.tokenAccount;"createInstruction"in Hr&&Fr.instructions.push(...Hr.createInstruction),Vr instanceof anchor_1$1.web3.Keypair?(Mr=Vr.publicKey,Fr.signers.push(Vr)):Mr=Vr;const Kr=yield Lr.instruction.processWithdrawArms(_r,Or,vr,c,gr,{accounts:{playerAccount:e,shipStakingAccount:br,scoreVarsAccount:Tr,scoreVarsShipAccount:Ar,armsTokenAccountEscrow:u,armsTokenAccountReturn:Mr,armsMint:r,escrowAuthority:a,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:n}});return Fr.instructions.push(Kr),Fr})}score.createWithdrawArmsInstruction=createWithdrawArmsInstruction;function createWithdrawShipsInstruction(t,e,r,n,o,a){return __awaiter$1(this,void 0,void 0,function*(){const[c,u]=yield getScoreEscrowAuthAccount(a,r,e),[gr,br]=yield getScoreEscrowAccount(a,r,null,e),[_r,Ar]=yield getShipStakingAccount(a,r,e),[vr,Tr]=yield getScoreVarsShipAccount(a,r),[Or,Ir]=yield getScoreVarsAccount(a),[xr,Lr]=yield getScoreTreasuryTokenAccount(a),[Fr,Mr]=yield getScoreTreasuryAuthAccount(a),Hr={signers:[],instructions:[]},Vr=getScoreIDL(a),Kr=new anchor_1$1.AnchorProvider(t,null,null),jr=new anchor_1$1.Program(Vr,a,Kr);let qr;const tn=yield(0,util_1.getTokenAccount)(t,e,n),en=tn.tokenAccount;"createInstruction"in tn&&Hr.instructions.push(...tn.createInstruction),en instanceof anchor_1$1.web3.Keypair?(qr=en.publicKey,Hr.signers.push(en)):qr=en;let sn;const cn=yield(0,util_1.getTokenAccount)(t,e,r),Ur=cn.tokenAccount;"createInstruction"in cn&&Hr.instructions.push(...cn.createInstruction),Ur instanceof anchor_1$1.web3.Keypair?(sn=Ur.publicKey,Hr.signers.push(Ur)):sn=Ur;let Rr;const Pr=yield(0,util_1.getTokenAccount)(t,e,o),Dr=Pr.tokenAccount;"createInstruction"in Pr&&Hr.instructions.push(...Pr.createInstruction),Dr instanceof anchor_1$1.web3.Keypair?(Rr=Dr.publicKey,Hr.signers.push(Dr)):Rr=Dr;const Yr=yield jr.instruction.processWithdrawShips(Ar,Ir,Tr,u,br,Mr,Lr,{accounts:{playerAccount:e,shipStakingAccount:_r,scoreVarsAccount:Or,scoreVarsShipAccount:vr,playerAtlasTokenAccount:qr,shipTokenAccountEscrow:gr,shipTokenAccountReturn:sn,toolkitTokenAccountSource:Rr,treasuryTokenAccount:xr,treasuryAuthorityAccount:Fr,escrowAuthority:c,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:anchor_1$1.web3.SystemProgram.programId,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:r,toolkitMint:o}});return Hr.instructions.push(Yr),Hr})}score.createWithdrawShipsInstruction=createWithdrawShipsInstruction;function closeAccountsInstruction(t,e,r,n,o,a,c){return __awaiter$1(this,void 0,void 0,function*(){const[u,gr]=yield getScoreEscrowAuthAccount(c,r,e),[br,_r]=yield getScoreEscrowAccount(c,r,null,e),[Ar,vr]=yield getScoreEscrowAccount(c,r,n,e),[Tr,Or]=yield getScoreEscrowAccount(c,r,o,e),[Ir,xr]=yield getScoreEscrowAccount(c,r,a,e),[Lr,Fr]=yield getScoreVarsAccount(c),[Mr,Hr]=yield getShipStakingAccount(c,r,e),Vr=getScoreIDL(c),Kr=new anchor_1$1.AnchorProvider(t,null,null);return yield new anchor_1$1.Program(Vr,c,Kr).instruction.processCloseAccounts(Hr,Fr,_r,vr,Or,xr,gr,{accounts:{playerAccount:e,shipStakingAccount:Mr,scoreVarsAccount:Lr,shipTokenAccountEscrow:br,fuelTokenAccountEscrow:Ar,foodTokenAccountEscrow:Tr,armsTokenAccountEscrow:Ir,escrowAuthority:u,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:anchor_1$1.web3.SystemProgram.programId,shipMint:r,fuelMint:n,foodMint:o,armsMint:a,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY}})})}score.closeAccountsInstruction=closeAccountsInstruction;var types={};Object.defineProperty(types,"__esModule",{value:!0});var scoreHelpers={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(t,e,r,n){function o(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function u(_r){try{br(n.next(_r))}catch(Ar){c(Ar)}}function gr(_r){try{br(n.throw(_r))}catch(Ar){c(Ar)}}function br(_r){_r.done?a(_r.value):o(_r.value).then(u,gr)}br((n=n.apply(t,e||[])).next())})},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(scoreHelpers,"__esModule",{value:!0});scoreHelpers.sendTokens=scoreHelpers.confirmTokenBalance=scoreHelpers.createMint=scoreHelpers.mintTokens=scoreHelpers.createAssociatedTokenAccountInstruction=scoreHelpers.createRequestUnitsInstruction=scoreHelpers.Numberu32=scoreHelpers.createATokenAccount=scoreHelpers.getAtaForMint=void 0;const anchor_1=require$$0$1,spl_token_1=require$$1$1,_1=util,assert_1=assert$6.exports,bn_js_1=__importDefault(bn.exports);function getAtaForMint(t,e){return __awaiter(this,void 0,void 0,function*(){return anchor_1.web3.PublicKey.findProgramAddress([e.toBuffer(),spl_token_1.TOKEN_PROGRAM_ID.toBuffer(),t.toBuffer()],spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID)})}scoreHelpers.getAtaForMint=getAtaForMint;function createATokenAccount(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){r=r||t.wallet.publicKey,n=n||t.wallet.publicKey;const[o]=yield getAtaForMint(e,n),a=new anchor_1.web3.Transaction,c=yield createAssociatedTokenAccountInstruction(o,r,n,e);return a.add(c),yield t.sendAndConfirm(a),o})}scoreHelpers.createATokenAccount=createATokenAccount;class Numberu32 extends bn_js_1.default{toBuffer(){const e=super.toArray().reverse(),r=dist$3.Buffer.from(e);if(r.length===4)return r;const n=dist$3.Buffer.alloc(4);return r.copy(n),n}static fromBuffer(e){return new bn_js_1.default([...e].reverse().map(r=>`00${r.toString(16)}`.slice(-2)).join(""),16)}}scoreHelpers.Numberu32=Numberu32;function createRequestUnitsInstruction(t){return __awaiter(this,void 0,void 0,function*(){const e=new Numberu32(1e6),r=dist$3.Buffer.from([0]),n=e.toBuffer();return new anchor_1.web3.TransactionInstruction({keys:[{pubkey:t,isSigner:!0,isWritable:!0}],programId:new anchor_1.web3.PublicKey("ComputeBudget111111111111111111111111111111"),data:dist$3.Buffer.concat([r,n])})})}scoreHelpers.createRequestUnitsInstruction=createRequestUnitsInstruction;function createAssociatedTokenAccountInstruction(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){const o=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:anchor_1.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:spl_token_1.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:anchor_1.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new anchor_1.web3.TransactionInstruction({keys:o,programId:spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID,data:dist$3.Buffer.from([])})})}scoreHelpers.createAssociatedTokenAccountInstruction=createAssociatedTokenAccountInstruction;function mintTokens(t,e,r,n,o){return __awaiter(this,void 0,void 0,function*(){const a=new anchor_1.web3.Transaction;return o=o||t.wallet.publicKey,a.add(spl_token_1.Token.createMintToInstruction(spl_token_1.TOKEN_PROGRAM_ID,e,r,o,[],n)),yield t.sendAndConfirm(a)})}scoreHelpers.mintTokens=mintTokens;function createMint(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){const o=anchor_1.web3.Keypair.generate(),a=new anchor_1.web3.Transaction,c=yield t.connection.getMinimumBalanceForRentExemption(spl_token_1.MintLayout.span);r=r||t.wallet.publicKey,n=n||t.wallet.publicKey;const u=anchor_1.web3.SystemProgram.createAccount({fromPubkey:t.wallet.publicKey,newAccountPubkey:o.publicKey,lamports:c,space:spl_token_1.MintLayout.span,programId:spl_token_1.TOKEN_PROGRAM_ID});a.add(u);const gr=spl_token_1.Token.createInitMintInstruction(spl_token_1.TOKEN_PROGRAM_ID,o.publicKey,e,r,n);return a.add(gr),yield t.sendAndConfirm(a,[o]),o.publicKey})}scoreHelpers.createMint=createMint;function confirmTokenBalance(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){const o=yield t.connection.getAccountInfo(e,"recent");if(n===!0&&(0,assert_1.strict)(o===null),o!==null){const a=(0,_1.byteArrayToLong)(o.data.slice(64,72));(0,assert_1.strict)(a==r,`On-chain Token amount of ${a} does not match expected amount ${r}`)}else console.log("Token account %s does not exist",e.toString())})}scoreHelpers.confirmTokenBalance=confirmTokenBalance;function sendTokens(t,e,r,n){return __awaiter(this,void 0,void 0,function*(){const o=new anchor_1.web3.Transaction;return o.add(spl_token_1.Token.createTransferInstruction(spl_token_1.TOKEN_PROGRAM_ID,e,r,t.wallet.publicKey,[],n)),yield t.sendAndConfirm(o)})}scoreHelpers.sendTokens=sendTokens;(function(t){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(n,c,u)}:function(n,o,a,c){c===void 0&&(c=a),n[c]=o[a]}),r=commonjsGlobal&&commonjsGlobal.__exportStar||function(n,o){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,n,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(atlasStaking,t),r(factions,t),r(gumdrop,t),r(marketplace,t),r(score,t),r(types,t),r(scoreHelpers,t),r(gmHelper$1,t),r(util,t)})(dist);function _defineProperty(t,e,r){return e=_toPropertyKey(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPrimitive(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return typeof e=="symbol"?e:String(e)}class MetaplexError extends Error{constructor(e,r,n,o){super(e),_defineProperty(this,"name","MetaplexError"),this.source=r,this.sourceDetails=n,this.cause=o,this.message=this.message+`

Source: ${this.getFullSource()}`+(this.cause?`

Caused By: ${this.cause}`:"")+`
`}getCapitalizedSource(){return this.source==="sdk"||this.source==="rpc"?this.source.toUpperCase():this.source[0].toUpperCase()+this.source.slice(1)}getFullSource(){const e=this.getCapitalizedSource(),r=this.sourceDetails?` > ${this.sourceDetails}`:"";return e+r}toString(){return`[${this.name}] ${this.message}`}}class SdkError extends MetaplexError{constructor(e,r){super(e,"sdk",void 0,r),_defineProperty(this,"name","SdkError")}}class OperationHandlerMissingError extends SdkError{constructor(e){const r=`No operation handler was registered for the [${e}] operation. Did you forget to register it? You may do this by using: "metaplex.operations().register(operation, operationHandler)".`;super(r),_defineProperty(this,"name","OperationHandlerMissingError")}}class DriverNotProvidedError extends SdkError{constructor(e){const r=`The SDK tried to access the driver [${e}] but was not provided. Make sure the driver is registered by using the "setDriver(myDriver)" method.`;super(r),_defineProperty(this,"name","DriverNotProvidedError")}}class UnexpectedCurrencyError extends SdkError{constructor(e,r){const n=`Expected currency [${r}] but got [${e}]. Ensure the provided Amount or Currency is of the expected type.`;super(n),_defineProperty(this,"name","UnexpectedCurrencyError"),this.actual=e,this.expected=r}}class CurrencyMismatchError extends SdkError{constructor(e,r,n){const a=`The SDK tried to execute an operation${n?` [${n}]`:""} on two different currencies: ${e.symbol} and ${r.symbol}. Provide both amounts in the same currency to perform this operation.`;super(a),_defineProperty(this,"name","CurrencyMismatchError"),this.left=e,this.right=r,this.operation=n}}class InvalidJsonVariableError extends SdkError{constructor(e){super("The provided JSON variable could not be parsed into a string.",e),_defineProperty(this,"name","InvalidJsonVariableError")}}class InvalidJsonStringError extends SdkError{constructor(e){super("The provided string could not be parsed into a JSON variable.",e),_defineProperty(this,"name","InvalidJsonStringError")}}class OperationUnauthorizedForGuestsError extends SdkError{constructor(e){const r=`Trying to access the [${e}] operation as a guest. Ensure your wallet is connected using the identity driver. For instance, by using "metaplex.use(walletAdapterIdentity(wallet))" or "metaplex.use(keypairIdentity(keypair))".`;super(r),_defineProperty(this,"name","OperationUnauthorizedForGuestsError")}}class AccountNotFoundError extends SdkError{constructor(e,r,n){const o=(r?`The account of type [${r}] was not found`:"No account was found")+` at the provided address [${e.toString()}].`+(n?` ${n}`:"");super(o),_defineProperty(this,"name","AccountNotFoundError")}}class UnexpectedAccountError extends SdkError{constructor(e,r,n){const o=`The account at the provided address [${e.toString()}] is not of the expected type [${r}].`;super(o,n),_defineProperty(this,"name","UnexpectedAccountError")}}class ExpectedSignerError extends SdkError{constructor(e,r,n){const o=`Expected variable [${e}] to be of type [Signer] but got [${r}]. `+(n??"Please check that you are providing the variable as a signer. Note that, it may be allowed to provide a non-signer variable for certain use cases but not this one.");super(o),_defineProperty(this,"name","ExpectedSignerError")}}class ProgramNotRecognizedError extends SdkError{constructor(e,r){const n=typeof e=="string",o=n?e:e.toString(),a=`The provided program ${n?"name":"address"} [${o}] is not recognized in the [${r}] cluster.Did you forget to register this program? If so, you may use "metaplex.programs().register(myProgram)" to fix this.`;super(a),_defineProperty(this,"name","ProgramNotRecognizedError"),this.nameOrAddress=e,this.cluster=r}}class NoInstructionsToSendError extends SdkError{constructor(e,r){const n=`The input provided to the [${e}] resulted in a Transaction containing no Instructions. `+(r??"Ensure that the provided input has an effect on the operation. This typically happens when trying to update an account with the same data it already contains.");super(n),_defineProperty(this,"name","NoInstructionsToSendError")}}class FailedToSerializeDataError extends SdkError{constructor(e,r){const n=`The received data could not be serialized as a [${e}].`;super(n,r),_defineProperty(this,"name","FailedToSerializeDataError")}}class FailedToDeserializeDataError extends SdkError{constructor(e,r){const n=`The received serialized data could not be deserialized to a [${e}].`;super(n,r),_defineProperty(this,"name","FailedToDeserializeDataError")}}class MissingInputDataError extends SdkError{constructor(e,r){const n=`Some parameters are missing from the provided input object. Please provide the following missing parameters [${e.join(", ")}].`+(r?` ${r}`:"");super(n),_defineProperty(this,"name","MissingInputDataError")}}class NotYetImplementedError extends SdkError{constructor(){const e="This feature is not yet implemented. Please check back later.";super(e),_defineProperty(this,"name","NotYetImplementedError")}}class UnreachableCaseError extends SdkError{constructor(e){const r=`A switch statement is not handling the provided case [${e}]. Check your inputs or raise an issue to have ensure all cases are handled properly.`;super(r),_defineProperty(this,"name","UnreachableCaseError")}}const toBigNumber=(t,e)=>new BN(t,e),toOptionBigNumber=t=>t===null?null:toBigNumber(t),SOL={symbol:"SOL",decimals:9},amount=(t,e)=>({basisPoints:toBigNumber(t),currency:e}),lamports=t=>amount(t,SOL),token$1=(t,e=0,r="Token")=>(typeof t!="number"&&(t=toBigNumber(t).toNumber()),{basisPoints:toBigNumber(t*Math.pow(10,e)),currency:{symbol:r,decimals:e,namespace:"spl-token"}}),sameCurrencies=(t,e)=>("currency"in t&&(t=t.currency),"currency"in e&&(e=e.currency),t.symbol===e.symbol&&t.decimals===e.decimals&&t.namespace===e.namespace);function assertCurrency(t,e){if("currency"in t&&(t=t.currency),!sameCurrencies(t,e))throw new UnexpectedCurrencyError(t,e)}function assertSol(t){assertCurrency(t,SOL)}function assertSameCurrencies(t,e,r){if("currency"in t&&(t=t.currency),"currency"in e&&(e=e.currency),!sameCurrencies(t,e))throw new CurrencyMismatchError(t,e,r)}const addAmounts=(t,e)=>(assertSameCurrencies(t,e,"add"),amount(t.basisPoints.add(e.basisPoints),t.currency)),subtractAmounts=(t,e)=>(assertSameCurrencies(t,e,"subtract"),amount(t.basisPoints.sub(e.basisPoints),t.currency)),multiplyAmount=(t,e)=>amount(t.basisPoints.muln(e),t.currency),formatAmount=t=>{if(t.currency.decimals===0)return`${t.currency.symbol} ${t.basisPoints.toString()}`;const e=new BN(10).pow(new BN(t.currency.decimals)),r=t.basisPoints,{div:n,mod:o}=r.divmod(e),a=`${n.toString()}.${o.abs().toString(10,t.currency.decimals)}`;return`${t.currency.symbol} ${a}`};var token={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.associatedAddress=t.ASSOCIATED_PROGRAM_ID=t.TOKEN_PROGRAM_ID=void 0;const e=require$$0$2;t.TOKEN_PROGRAM_ID=new e.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.ASSOCIATED_PROGRAM_ID=new e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function r({mint:n,owner:o}){return e.PublicKey.findProgramAddressSync([o.toBuffer(),t.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],t.ASSOCIATED_PROGRAM_ID)[0]}t.associatedAddress=r})(token);const ATLAS$1=new PublicKey$3("ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx"),POLIS$1=new PublicKey$3("poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk"),ATLAS_LOCKER_PROGRAM_AUTH$1=new PublicKey$3("ATLkZsBofSKG845dNFpNoUyMciGpeH29BCbMqYFUoxzU"),ATLAS_LOCKER$1=new PublicKey$3("ATLocKpzDbTokxgvnLew3d7drZkEzLzDpzwgrgWKDbmc");class SAFactory_LockerAtlas{multisigPDA;vaultPDA;registeredStakeAtlas;stakingAccountAtlas;async init(e){this.multisigPDA=e,this._setVaultPDA(),await this._setRegisteredStakeAtlas(),await this._setStakingAccountAtlas()}_setVaultPDA(){const[e]=getVaultPda({multisigPda:new PublicKey$3(this.multisigPDA),index:0});this.vaultPDA=e}async _setRegisteredStakeAtlas(){const[e]=await dist.getRegisteredStake(ATLAS_LOCKER$1,ATLAS_LOCKER_PROGRAM_AUTH$1,ATLAS$1,POLIS$1);this.registeredStakeAtlas=e}async _setStakingAccountAtlas(){const[e]=await dist.getStakingAccount(ATLAS_LOCKER$1,this.vaultPDA,this.registeredStakeAtlas);this.stakingAccountAtlas=e}async buildCreateStatingAccount(){return await dist.createStakingAccountInstruction({connection:useRPCStore().connection,user:this.vaultPDA,registeredStake:this.registeredStakeAtlas,programId:ATLAS_LOCKER$1})}async buildStakeTokens(e){const[r]=PublicKey$3.findProgramAddressSync([this.vaultPDA.toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),ATLAS$1.toBuffer()],token.ASSOCIATED_PROGRAM_ID);return await dist.stakeTokensInstruction({connection:useRPCStore().connection,user:this.vaultPDA,stakeMint:ATLAS$1,tokenSource:r,stakingAccount:this.stakingAccountAtlas,stakeQuantity:new BN(parseFloat(e.toString())*Math.pow(10,LOCKER_TOKEN_DECIMALS)),registeredStake:this.registeredStakeAtlas,programId:ATLAS_LOCKER$1})}async buildHarvestRewards(){return await dist.harvestRewardsInstruction({connection:useRPCStore().connection,user:this.vaultPDA,rewardMint:POLIS$1,registeredStake:this.registeredStakeAtlas,stakingAccount:this.stakingAccountAtlas,programId:ATLAS_LOCKER$1})}async buildWithdrawTokens(){return await dist.withdrawTokensInstruction({connection:useRPCStore().connection,user:this.vaultPDA,authority:this.vaultPDA,stakeMint:ATLAS$1,registeredStake:this.registeredStakeAtlas,stakingAccount:this.stakingAccountAtlas,programId:ATLAS_LOCKER$1})}async buildUnstakeTokens(){return await dist.unstakeTokensInstruction({connection:useRPCStore().connection,user:this.vaultPDA,registeredStake:this.registeredStakeAtlas,stakingAccount:this.stakingAccountAtlas,programId:ATLAS_LOCKER$1})}async buildCancelUnstake(){return await dist.cancelUnstakeInstruction({connection:useRPCStore().connection,user:this.vaultPDA,registeredStake:this.registeredStakeAtlas,programId:ATLAS_LOCKER$1})}}const MEMO_PREFIX_ATLAS="[ATLAS-LOCKER] ",LOCKER_TOKEN_DECIMALS=8,ATLAS=new PublicKey$3("ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx"),POLIS=new PublicKey$3("poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk"),ATLAS_LOCKER=new PublicKey$3("ATLocKpzDbTokxgvnLew3d7drZkEzLzDpzwgrgWKDbmc"),ATLAS_LOCKER_PROGRAM_AUTH=new PublicKey$3("ATLkZsBofSKG845dNFpNoUyMciGpeH29BCbMqYFUoxzU"),useStarAtlasLockerStore=defineStore("globalStarAtlasLockerStore",{state:()=>({multisigPDA:useLocalStorage("multisigPDA",""),vaultPDA:{},multisigInfo:{},registeredStakeAtlas:{},registeredStakePolis:{},stakingAccountAtlas:{},stakingAccountAtlasInfo:{},atlas_balance_wallet:"0",polis_balance_wallet:"0",atlas_balance_squads:"0",polis_balance_squads:"0",atlas_balance_locker:"0",polis_balance_locker:"0",SAFactory_LockerAtlas:new SAFactory_LockerAtlas}),getters:{getMultisigPDA(t){return new PublicKey$3(t.multisigPDA)},getVaultPDA(){try{const[t]=getVaultPda({multisigPda:new PublicKey$3(this.multisigPDA),index:0});return t}catch{return""}},getNewTransactionIndex(t){const e=Number(t.multisigInfo.transactionIndex);return BigInt(e+1)}},actions:{async setAccounts(){useStarAtlasLockerStore().atlas_balance_wallet="0",useStarAtlasLockerStore().polis_balance_wallet="0",useStarAtlasLockerStore().atlas_balance_squads="0",useStarAtlasLockerStore().polis_balance_squads="0",useStarAtlasLockerStore().atlas_balance_locker="0",useStarAtlasLockerStore().polis_balance_locker="0",useStarAtlasLockerStore().stakingAccountAtlasInfo=void 0;const[t]=getVaultPda({multisigPda:new PublicKey$3(this.multisigPDA),index:0});this.vaultPDA=t,this.multisigInfo=await Multisig.fromAccountAddress(useRPCStore().connection,new PublicKey$3(this.multisigPDA));const[e]=await dist.getRegisteredStake(ATLAS_LOCKER,ATLAS_LOCKER_PROGRAM_AUTH,ATLAS,POLIS);this.registeredStakeAtlas=e;const[r]=await dist.getRegisteredStake(ATLAS_LOCKER,ATLAS_LOCKER_PROGRAM_AUTH,ATLAS,POLIS);this.registeredStakePolis=r;try{const[n]=await dist.getStakingAccount(ATLAS_LOCKER,this.vaultPDA,this.registeredStakeAtlas);this.stakingAccountAtlas=n}catch{}try{this.stakingAccountAtlasInfo=await dist.getStakingAccountInfo(useRPCStore().connection,this.stakingAccountAtlas,ATLAS_LOCKER)}catch{}await getTokenAccountAmounts()},async build_CreateStatingAccount(){await this.SAFactory_LockerAtlas.init(this.multisigPDA),await build_send(MEMO_PREFIX_ATLAS+"CreateStatingAccount: "+amount,[(await this.SAFactory_LockerAtlas.buildCreateStatingAccount()).instructions[0]])},async build_StakeTokens(t){await this.SAFactory_LockerAtlas.init(this.multisigPDA),await build_send(MEMO_PREFIX_ATLAS+"StakeTokens: "+t,[(await this.SAFactory_LockerAtlas.buildStakeTokens(t)).instructions[0]])},async build_harvestRewards(){await this.SAFactory_LockerAtlas.init(this.multisigPDA),await build_send(MEMO_PREFIX_ATLAS+"HarvestRewards",[(await this.SAFactory_LockerAtlas.buildHarvestRewards()).instructions[0]])},async build_withdrawTokens(){await this.SAFactory_LockerAtlas.init(this.multisigPDA),await build_send(MEMO_PREFIX_ATLAS+"WithdrawTokens",[(await this.SAFactory_LockerAtlas.buildWithdrawTokens()).instructions[0]])},async build_unstakeTokens(){await this.SAFactory_LockerAtlas.init(this.multisigPDA),await build_send(MEMO_PREFIX_ATLAS+"UnstakeTokens",[(await this.SAFactory_LockerAtlas.buildUnstakeTokens()).instructions[0]])},async build_cancelUnstake(){await this.SAFactory_LockerAtlas.init(this.multisigPDA),await build_send(MEMO_PREFIX_ATLAS+"CancelUnstake",[(await this.SAFactory_LockerAtlas.buildCancelUnstake()).instructions[0]])}}});async function build_send(t,e){const{sendTransaction:r,publicKey:n}=useWallet(),o=new TransactionMessage$1({payerKey:useStarAtlasLockerStore().vaultPDA,recentBlockhash:(await useRPCStore().connection.getLatestBlockhash()).blockhash,instructions:e}),a=vaultTransactionCreate({multisigPda:new PublicKey$3(useStarAtlasLockerStore().multisigPDA),transactionIndex:useStarAtlasLockerStore().getNewTransactionIndex,creator:n.value,vaultIndex:0,ephemeralSigners:0,transactionMessage:o,memo:t});console.log("build: "+t);const c=await r(new Transaction$3().add(a),useRPCStore().connection);await handle_confirmation(c)}async function getTokenAccountAmounts(){const{publicKey:t}=useWallet();if(!t.value)return;const e=await getAssociatedTokenAddress$1(ATLAS,t.value),r=await getAssociatedTokenAddress$1(POLIS,t.value),n=await getAssociatedTokenAddress$1(ATLAS,useStarAtlasLockerStore().vaultPDA,!0),o=await getAssociatedTokenAddress$1(POLIS,useStarAtlasLockerStore().vaultPDA,!0),a=await getAssociatedTokenAddress$1(ATLAS,useStarAtlasLockerStore().stakingAccountAtlas,!0);try{useStarAtlasLockerStore().atlas_balance_wallet=(await useRPCStore().connection.getTokenAccountBalance(e)).value.uiAmountString??"0"}catch{useStarAtlasLockerStore().atlas_balance_wallet="-"}try{useStarAtlasLockerStore().polis_balance_wallet=(await useRPCStore().connection.getTokenAccountBalance(r)).value.uiAmountString??"0"}catch{useStarAtlasLockerStore().polis_balance_wallet="-"}try{useStarAtlasLockerStore().atlas_balance_squads=(await useRPCStore().connection.getTokenAccountBalance(n)).value.uiAmountString??"0"}catch{useStarAtlasLockerStore().atlas_balance_squads="-"}try{useStarAtlasLockerStore().polis_balance_squads=(await useRPCStore().connection.getTokenAccountBalance(o)).value.uiAmountString??"0"}catch{useStarAtlasLockerStore().polis_balance_squads="-"}try{useStarAtlasLockerStore().atlas_balance_locker=(await useRPCStore().connection.getTokenAccountBalance(a)).value.uiAmountString??""}catch{useStarAtlasLockerStore().atlas_balance_locker="-"}}const SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=new PublicKey$3("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),PROXY_REWARDER_ID=new PublicKey$3(proxy_rewarder_idl.metadata.address),LOCKED_VOTER_ID=new PublicKey$3(locked_voter_idl.metadata.address),SNAPSHOT_ID=new PublicKey$3(snapshot_idl.metadata.address),LOCKER=new PublicKey$3("5WmM9c9WE71y78Ah8Bp8vgyoStscM1ZZyaaFqRf8b2Qa"),WHITELIST_ENTRY=new PublicKey$3("GW8UH9QYNyFd5zVQJ6srjG6DJSq3WkMdAD123Z7LdzwV"),REGISTERED_LOCKER=new PublicKey$3("EAgUhz4LG8fqtrShFo1NDrvEiNPxEi7kHe96D76NzkAj"),preflightCommitment="processed",commitment="confirmed";class SAFactory_LockerPolis{owner;payer;wallet;provider;pg_proxy_rewarder;pg_locked_voter;pg_snapshot;locker;whitelistEntry;registeredLocker;proxyEscrow;bump_proxyEscrow;proxy;bump_proxy;escrow;bump_escrow;ata_proxy;ata_proxy_bump;ata_escrow;ata_escrow_bump;init(e,r,n){this.wallet=e,this.owner=r,this.payer=n,this.locker=LOCKER,this.whitelistEntry=WHITELIST_ENTRY,this.registeredLocker=REGISTERED_LOCKER;const o=useRPCStore().connection;this.provider=new AnchorProvider(o,this.wallet,{preflightCommitment,commitment}),this.pg_proxy_rewarder=new Program(proxy_rewarder_idl,new PublicKey$3(proxy_rewarder_idl.metadata.address),this.provider),this.pg_locked_voter=new Program(locked_voter_idl,LOCKED_VOTER_ID,this.provider),this.pg_snapshot=new Program(snapshot_idl,SNAPSHOT_ID,this.provider)}async setAccounts(){[this.proxyEscrow,this.bump_proxyEscrow]=PublicKey$3.findProgramAddressSync([encode$3("ProxyEscrow"),this.owner.toBuffer()],PROXY_REWARDER_ID),[this.proxy,this.bump_proxy]=PublicKey$3.findProgramAddressSync([encode$3("Proxy"),this.proxyEscrow.toBuffer(),this.owner.toBuffer()],PROXY_REWARDER_ID),[this.escrow,this.bump_escrow]=PublicKey$3.findProgramAddressSync([encode$3("Escrow"),this.locker.toBuffer(),this.proxy.toBuffer()],LOCKED_VOTER_ID),[this.ata_proxy,this.ata_proxy_bump]=PublicKey$3.findProgramAddressSync([this.proxy.toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),POLIS.toBuffer()],SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID),[this.ata_escrow,this.ata_escrow_bump]=PublicKey$3.findProgramAddressSync([this.escrow.toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),POLIS.toBuffer()],SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID)}async buildSync(e){await this.setAccounts();const r=new Transaction$3;for(const n of getERAs(e)){const o=(await this.pg_snapshot.account.lockerHistory.all()).find(c=>c.account.era==n).publicKey,[a]=PublicKey$3.findProgramAddressSync([encode$3("EscrowHistory"),this.escrow.toBuffer(),new BN(n).toBuffer("le",2)],SNAPSHOT_ID);r.add(await this.pg_snapshot.methods.sync().accounts({locker:this.locker,escrow:this.escrow,lockerHistory:o,escrowHistory:a}).instruction())}}async buildCreateAccounts(){await this.setAccounts();const e=new Transaction$3;return e.add(await this.pg_proxy_rewarder.methods.newProxyEscrow(new BN(this.bump_proxyEscrow)).accounts({escrowOwner:this.owner,proxyEscrow:this.proxyEscrow,payer:this.payer,systemProgram:SystemProgram$3.programId}).instruction()),e.add(await this.pg_proxy_rewarder.methods.newProxy(new BN(this.bump_proxy)).accounts({proxyEscrow:this.proxyEscrow,proxy:this.proxy,tokenMint:POLIS,proxyOwner:this.owner,systemProgram:SystemProgram$3.programId}).instruction()),e.add(await this.pg_locked_voter.methods.newEscrow(new BN(this.bump_escrow)).accounts({locker:this.locker,escrow:this.escrow,escrowOwner:this.proxy,payer:this.payer,systemProgram:SystemProgram$3.programId}).instruction()),e.add(createAssociatedTokenAccountInstruction$1(this.payer,this.ata_proxy,this.proxy,POLIS)),e.add(createAssociatedTokenAccountInstruction$1(this.payer,this.ata_escrow,this.escrow,POLIS)),e}async buildCreateLocker(e,r){await this.setAccounts();const n=new Transaction$3;for(const a of getERAs(e)){const[c]=PublicKey$3.findProgramAddressSync([encode$3("EscrowHistory"),this.escrow.toBuffer(),new BN(a).toBuffer("le",2)],SNAPSHOT_ID);n.add(await this.pg_snapshot.methods.createEscrowHistory(a).accounts({escrow:this.escrow,escrowHistory:c,payer:this.payer,systemProgram:SystemProgram$3.programId}).instruction())}const[o]=PublicKey$3.findProgramAddressSync([this.owner.toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),POLIS.toBuffer()],SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID);return n.add(await this.pg_proxy_rewarder.methods.proxyLock(new BN(r),new BN(e)).accounts({locker:this.locker,escrow:this.escrow,userTokenAccount:o,proxyTokenAccount:this.ata_proxy,escrowTokenAccount:this.ata_escrow,proxy:this.proxy,payer:this.payer,lockedVoterProgram:LOCKED_VOTER_ID,tokenProgram:TOKEN_PROGRAM_ID$1,instructionsSysvar:SYSVAR_INSTRUCTIONS_PUBKEY$1,whitelistEntry:this.whitelistEntry,registeredLocker:this.registeredLocker}).instruction()),n}async buildClaimLocker(){await this.setAccounts();const e=new Transaction$3,[r]=PublicKey$3.findProgramAddressSync([this.owner.toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),POLIS.toBuffer()],SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID);return e.add(await this.pg_proxy_rewarder.methods.claimRewards().accounts({escrow:this.escrow,locker:this.locker,proxy:this.proxy,proxyEscrow:this.proxyEscrow,escrowHistory:void 0,lockerHistory:this.locker,treasuryTokenAccount:void 0,registeredLocker:void 0,treasuryAuthority:void 0,userTokenAccount:r,escrowOwner:this.owner,tokenProgram:TOKEN_PROGRAM_ID$1}).instruction()),e}}function getERAs(t){const r=t/60/60/24/255,n=[];for(let o=0;o<r;o++)n.push(3+o);return n}const useLockerPolisStore=defineStore("globalLockerPolisStore",{state:()=>({lockerFactory:new SAFactory_LockerPolis,multisigPDA:useLocalStorage("multisigPDA",""),vaultPDA:{}}),getters:{},actions:{async init(){if(useAnchorWallet().value){const[t,e]=getVaultPda({multisigPda:new PublicKey$3(this.multisigPDA),index:0});this.vaultPDA=t,this.lockerFactory.init(useAnchorWallet().value,useWallet().publicKey.value,useWallet().publicKey.value),await this.lockerFactory.setAccounts()}},async make_createATAs(){const t=await this.lockerFactory.buildCreateAccounts();console.log(t),await send("Create Locker Accounts",t,this.vaultPDA,new PublicKey$3(this.multisigPDA))},async make_createLocker(t,e){const r=await this.lockerFactory.buildCreateLocker(t,e);console.log(r),await send("Create Locker",r,this.vaultPDA,new PublicKey$3(this.multisigPDA))}}});async function send(t,e,r,n){const{sendTransaction:o,publicKey:a}=useWallet();await o(e,useRPCStore().connection)}const _sfc_main=defineComponent({__name:"App",setup(t){return useGlobalStore(),useRPCStore().update_connection(),initWorkspaceAdapter(),useLockerPolisStore(),useWhitelist(),useRaffleStore(),useQuasar().dark.set(!0),onMounted(async()=>{await useGlobalStore().load_token_list(),await useWhitelist().update_whitelist()}),(e,r)=>{const n=resolveComponent("router-view");return openBlock(),createBlock(n)}}});function boot(t){return t}function route(t){return t}function store(t){return t}var createStore=()=>createPinia();/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(t,e){const r={};for(const n in e){const o=e[n];r[n]=isArray(o)?o.map(t):t(o)}return r}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,r="/"){let n,o={},a="",c="";const u=e.indexOf("#");let gr=e.indexOf("?");return u<gr&&u>=0&&(gr=-1),gr>-1&&(n=e.slice(0,gr),a=e.slice(gr+1,u>-1?u:e.length),o=t(a)),u>-1&&(n=n||e.slice(0,u),c=e.slice(u,e.length)),n=resolveRelativePath(n??e,r),{fullPath:n+(a&&"?")+a+c,path:n,query:o,hash:c}}function stringifyURL(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,r){const n=e.matched.length-1,o=r.matched.length-1;return n>-1&&n===o&&isSameRouteRecord(e.matched[n],r.matched[o])&&isSameRouteLocationParams(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!isSameRouteLocationParamsValue(t[r],e[r]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return isArray(t)?isEquivalentArray(t,e):isArray(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return isArray(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),o=n[n.length-1];(o===".."||o===".")&&n.push("");let a=r.length-1,c,u;for(c=0;c<n.length;c++)if(u=n[c],u!==".")if(u==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+n.slice(c-(c===n.length?1:0)).join("/")}var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),o=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!o)return;e=getElementPosition(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:r,search:n,hash:o}=e,a=t.indexOf("#");if(a>-1){let u=o.includes(t.slice(a))?t.slice(a).length:1,gr=o.slice(u);return gr[0]!=="/"&&(gr="/"+gr),stripBase(gr,"")}return stripBase(r,t)+n+o}function useHistoryListeners(t,e,r,n){let o=[],a=[],c=null;const u=({state:vr})=>{const Tr=createCurrentLocation(t,location),Or=r.value,Ir=e.value;let xr=0;if(vr){if(r.value=Tr,e.value=vr,c&&c===Or){c=null;return}xr=Ir?vr.position-Ir.position:0}else n(Tr);o.forEach(Lr=>{Lr(r.value,Or,{delta:xr,type:NavigationType.pop,direction:xr?xr>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function gr(){c=r.value}function br(vr){o.push(vr);const Tr=()=>{const Or=o.indexOf(vr);Or>-1&&o.splice(Or,1)};return a.push(Tr),Tr}function _r(){const{history:vr}=window;!vr.state||vr.replaceState(assign({},vr.state,{scroll:computeScrollPosition()}),"")}function Ar(){for(const vr of a)vr();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",_r)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",_r,{passive:!0}),{pauseListeners:gr,listen:br,destroy:Ar}}function buildState(t,e,r,n=!1,o=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:r}=window,n={value:createCurrentLocation(t,r)},o={value:e.state};o.value||a(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(gr,br,_r){const Ar=t.indexOf("#"),vr=Ar>-1?(r.host&&document.querySelector("base")?t:t.slice(Ar))+gr:createBaseLocation()+t+gr;try{e[_r?"replaceState":"pushState"](br,"",vr),o.value=br}catch(Tr){console.error(Tr),r[_r?"replace":"assign"](vr)}}function c(gr,br){const _r=assign({},e.state,buildState(o.value.back,gr,o.value.forward,!0),br,{position:o.value.position});a(gr,_r,!0),n.value=gr}function u(gr,br){const _r=assign({},o.value,e.state,{forward:gr,scroll:computeScrollPosition()});a(_r.current,_r,!0);const Ar=assign({},buildState(n.value,gr,null),{position:_r.position+1},br);a(gr,Ar,!1),n.value=gr}return{location:n,state:o,push:u,replace:c}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),r=useHistoryListeners(t,e.state,e.location,e.replace);function n(a,c=!0){c||r.pauseListeners(),history.go(a)}const o=assign({location:"",base:t,go:n,createHref:createHref.bind(null,t)},e,r);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function createWebHashHistory(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),createWebHistory(t)}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const r=assign({},BASE_PATH_PARSER_OPTIONS,e),n=[];let o=r.start?"^":"";const a=[];for(const br of t){const _r=br.length?[]:[90];r.strict&&!br.length&&(o+="/");for(let Ar=0;Ar<br.length;Ar++){const vr=br[Ar];let Tr=40+(r.sensitive?.25:0);if(vr.type===0)Ar||(o+="/"),o+=vr.value.replace(REGEX_CHARS_RE,"\\$&"),Tr+=40;else if(vr.type===1){const{value:Or,repeatable:Ir,optional:xr,regexp:Lr}=vr;a.push({name:Or,repeatable:Ir,optional:xr});const Fr=Lr||BASE_PARAM_PATTERN;if(Fr!==BASE_PARAM_PATTERN){Tr+=10;try{new RegExp(`(${Fr})`)}catch(Hr){throw new Error(`Invalid custom RegExp for param "${Or}" (${Fr}): `+Hr.message)}}let Mr=Ir?`((?:${Fr})(?:/(?:${Fr}))*)`:`(${Fr})`;Ar||(Mr=xr&&br.length<2?`(?:/${Mr})`:"/"+Mr),xr&&(Mr+="?"),o+=Mr,Tr+=20,xr&&(Tr+=-8),Ir&&(Tr+=-20),Fr===".*"&&(Tr+=-50)}_r.push(Tr)}n.push(_r)}if(r.strict&&r.end){const br=n.length-1;n[br][n[br].length-1]+=.7000000000000001}r.strict||(o+="/?"),r.end?o+="$":r.strict&&(o+="(?:/|$)");const c=new RegExp(o,r.sensitive?"":"i");function u(br){const _r=br.match(c),Ar={};if(!_r)return null;for(let vr=1;vr<_r.length;vr++){const Tr=_r[vr]||"",Or=a[vr-1];Ar[Or.name]=Tr&&Or.repeatable?Tr.split("/"):Tr}return Ar}function gr(br){let _r="",Ar=!1;for(const vr of t){(!Ar||!_r.endsWith("/"))&&(_r+="/"),Ar=!1;for(const Tr of vr)if(Tr.type===0)_r+=Tr.value;else if(Tr.type===1){const{value:Or,repeatable:Ir,optional:xr}=Tr,Lr=Or in br?br[Or]:"";if(isArray(Lr)&&!Ir)throw new Error(`Provided param "${Or}" is an array but it is not repeatable (* or + modifiers)`);const Fr=isArray(Lr)?Lr.join("/"):Lr;if(!Fr)if(xr)vr.length<2&&(_r.endsWith("/")?_r=_r.slice(0,-1):Ar=!0);else throw new Error(`Missing required param "${Or}"`);_r+=Fr}}return _r||"/"}return{re:c,score:n,keys:a,parse:u,stringify:gr}}function compareScoreArray(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(t,e){let r=0;const n=t.score,o=e.score;for(;r<n.length&&r<o.length;){const a=compareScoreArray(n[r],o[r]);if(a)return a;r++}if(Math.abs(o.length-n.length)===1){if(isLastScoreNegative(n))return 1;if(isLastScoreNegative(o))return-1}return o.length-n.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(Tr){throw new Error(`ERR (${r})/"${br}": ${Tr}`)}let r=0,n=r;const o=[];let a;function c(){a&&o.push(a),a=[]}let u=0,gr,br="",_r="";function Ar(){!br||(r===0?a.push({type:0,value:br}):r===1||r===2||r===3?(a.length>1&&(gr==="*"||gr==="+")&&e(`A repeatable param (${br}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:br,regexp:_r,repeatable:gr==="*"||gr==="+",optional:gr==="*"||gr==="?"})):e("Invalid state to consume buffer"),br="")}function vr(){br+=gr}for(;u<t.length;){if(gr=t[u++],gr==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:gr==="/"?(br&&Ar(),c()):gr===":"?(Ar(),r=1):vr();break;case 4:vr(),r=n;break;case 1:gr==="("?r=2:VALID_PARAM_RE.test(gr)?vr():(Ar(),r=0,gr!=="*"&&gr!=="?"&&gr!=="+"&&u--);break;case 2:gr===")"?_r[_r.length-1]=="\\"?_r=_r.slice(0,-1)+gr:r=3:_r+=gr;break;case 3:Ar(),r=0,gr!=="*"&&gr!=="?"&&gr!=="+"&&u--,_r="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${br}"`),Ar(),c(),o}function createRouteRecordMatcher(t,e,r){const n=tokensToParser(tokenizePath(t.path),r),o=assign(n,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function createRouterMatcher(t,e){const r=[],n=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function o(_r){return n.get(_r)}function a(_r,Ar,vr){const Tr=!vr,Or=normalizeRouteRecord(_r);Or.aliasOf=vr&&vr.record;const Ir=mergeOptions(e,_r),xr=[Or];if("alias"in _r){const Mr=typeof _r.alias=="string"?[_r.alias]:_r.alias;for(const Hr of Mr)xr.push(assign({},Or,{components:vr?vr.record.components:Or.components,path:Hr,aliasOf:vr?vr.record:Or}))}let Lr,Fr;for(const Mr of xr){const{path:Hr}=Mr;if(Ar&&Hr[0]!=="/"){const Vr=Ar.record.path,Kr=Vr[Vr.length-1]==="/"?"":"/";Mr.path=Ar.record.path+(Hr&&Kr+Hr)}if(Lr=createRouteRecordMatcher(Mr,Ar,Ir),vr?vr.alias.push(Lr):(Fr=Fr||Lr,Fr!==Lr&&Fr.alias.push(Lr),Tr&&_r.name&&!isAliasRecord(Lr)&&c(_r.name)),Or.children){const Vr=Or.children;for(let Kr=0;Kr<Vr.length;Kr++)a(Vr[Kr],Lr,vr&&vr.children[Kr])}vr=vr||Lr,(Lr.record.components&&Object.keys(Lr.record.components).length||Lr.record.name||Lr.record.redirect)&&gr(Lr)}return Fr?()=>{c(Fr)}:noop}function c(_r){if(isRouteName(_r)){const Ar=n.get(_r);Ar&&(n.delete(_r),r.splice(r.indexOf(Ar),1),Ar.children.forEach(c),Ar.alias.forEach(c))}else{const Ar=r.indexOf(_r);Ar>-1&&(r.splice(Ar,1),_r.record.name&&n.delete(_r.record.name),_r.children.forEach(c),_r.alias.forEach(c))}}function u(){return r}function gr(_r){let Ar=0;for(;Ar<r.length&&comparePathParserScore(_r,r[Ar])>=0&&(_r.record.path!==r[Ar].record.path||!isRecordChildOf(_r,r[Ar]));)Ar++;r.splice(Ar,0,_r),_r.record.name&&!isAliasRecord(_r)&&n.set(_r.record.name,_r)}function br(_r,Ar){let vr,Tr={},Or,Ir;if("name"in _r&&_r.name){if(vr=n.get(_r.name),!vr)throw createRouterError(1,{location:_r});Ir=vr.record.name,Tr=assign(paramsFromLocation(Ar.params,vr.keys.filter(Fr=>!Fr.optional).map(Fr=>Fr.name)),_r.params&&paramsFromLocation(_r.params,vr.keys.map(Fr=>Fr.name))),Or=vr.stringify(Tr)}else if("path"in _r)Or=_r.path,vr=r.find(Fr=>Fr.re.test(Or)),vr&&(Tr=vr.parse(Or),Ir=vr.record.name);else{if(vr=Ar.name?n.get(Ar.name):r.find(Fr=>Fr.re.test(Ar.path)),!vr)throw createRouterError(1,{location:_r,currentLocation:Ar});Ir=vr.record.name,Tr=assign({},Ar.params,_r.params),Or=vr.stringify(Tr)}const xr=[];let Lr=vr;for(;Lr;)xr.unshift(Lr.record),Lr=Lr.parent;return{name:Ir,path:Or,params:Tr,matched:xr,meta:mergeMetaFields(xr)}}return t.forEach(_r=>a(_r)),{addRoute:a,resolve:br,removeRoute:c,getRoutes:u,getRecordMatcher:o}}function paramsFromLocation(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function normalizeRouteRecord(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function normalizeRecordProps(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,r)=>assign(e,r.meta),{})}function mergeOptions(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function isRecordChildOf(t,e){return e.children.some(r=>r===t||isRecordChildOf(t,r))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function parseQuery(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<n.length;++o){const a=n[o].replace(PLUS_RE," "),c=a.indexOf("="),u=decode(c<0?a:a.slice(0,c)),gr=c<0?null:decode(a.slice(c+1));if(u in e){let br=e[u];isArray(br)||(br=e[u]=[br]),br.push(gr)}else e[u]=gr}return e}function stringifyQuery(t){let e="";for(let r in t){const n=t[r];if(r=encodeQueryKey(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(isArray(n)?n.map(a=>a&&encodeQueryValue(a)):[n&&encodeQueryValue(n)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+r,a!=null&&(e+="="+a))})}return e}function normalizeQuery(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=isArray(n)?n.map(o=>o==null?null:""+o):n==null?n:""+n)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(n){return t.push(n),()=>{const o=t.indexOf(n);o>-1&&t.splice(o,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function guardToPromiseFn(t,e,r,n,o){const a=n&&(n.enterCallbacks[o]=n.enterCallbacks[o]||[]);return()=>new Promise((c,u)=>{const gr=Ar=>{Ar===!1?u(createRouterError(4,{from:r,to:e})):Ar instanceof Error?u(Ar):isRouteLocation(Ar)?u(createRouterError(2,{from:e,to:Ar})):(a&&n.enterCallbacks[o]===a&&typeof Ar=="function"&&a.push(Ar),c())},br=t.call(n&&n.instances[o],e,r,gr);let _r=Promise.resolve(br);t.length<3&&(_r=_r.then(gr)),_r.catch(Ar=>u(Ar))})}function extractComponentsGuards(t,e,r,n){const o=[];for(const a of t)for(const c in a.components){let u=a.components[c];if(!(e!=="beforeRouteEnter"&&!a.instances[c]))if(isRouteComponent(u)){const br=(u.__vccOpts||u)[e];br&&o.push(guardToPromiseFn(br,r,n,a,c))}else{let gr=u();o.push(()=>gr.then(br=>{if(!br)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${a.path}"`));const _r=isESModule(br)?br.default:br;a.components[c]=_r;const vr=(_r.__vccOpts||_r)[e];return vr&&guardToPromiseFn(vr,r,n,a,c)()}))}}return o}function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function useLink(t){const e=inject(routerKey),r=inject(routeLocationKey),n=computed$1(()=>e.resolve(unref(t.to))),o=computed$1(()=>{const{matched:gr}=n.value,{length:br}=gr,_r=gr[br-1],Ar=r.matched;if(!_r||!Ar.length)return-1;const vr=Ar.findIndex(isSameRouteRecord.bind(null,_r));if(vr>-1)return vr;const Tr=getOriginalPath(gr[br-2]);return br>1&&getOriginalPath(_r)===Tr&&Ar[Ar.length-1].path!==Tr?Ar.findIndex(isSameRouteRecord.bind(null,gr[br-2])):vr}),a=computed$1(()=>o.value>-1&&includesParams(r.params,n.value.params)),c=computed$1(()=>o.value>-1&&o.value===r.matched.length-1&&isSameRouteLocationParams(r.params,n.value.params));function u(gr={}){return guardEvent(gr)?e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop):Promise.resolve()}return{route:n,href:computed$1(()=>n.value.href),isActive:a,isExactActive:c,navigate:u}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(t,{slots:e}){const r=reactive(useLink(t)),{options:n}=inject(routerKey),o=computed$1(()=>({[getLinkClass(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&e.default(r);return t.custom?a:h$1("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:o.value},a)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const r in e){const n=e[r],o=t[r];if(typeof n=="string"){if(n!==o)return!1}else if(!isArray(o)||o.length!==n.length||n.some((a,c)=>a!==o[c]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,r)=>t??e??r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=inject(routerViewLocationKey),o=computed$1(()=>t.route||n.value),a=inject(viewDepthKey,0),c=computed$1(()=>{let br=unref(a);const{matched:_r}=o.value;let Ar;for(;(Ar=_r[br])&&!Ar.components;)br++;return br}),u=computed$1(()=>o.value.matched[c.value]);provide(viewDepthKey,computed$1(()=>c.value+1)),provide(matchedRouteKey,u),provide(routerViewLocationKey,o);const gr=ref();return watch(()=>[gr.value,u.value,t.name],([br,_r,Ar],[vr,Tr,Or])=>{_r&&(_r.instances[Ar]=br,Tr&&Tr!==_r&&br&&br===vr&&(_r.leaveGuards.size||(_r.leaveGuards=Tr.leaveGuards),_r.updateGuards.size||(_r.updateGuards=Tr.updateGuards))),br&&_r&&(!Tr||!isSameRouteRecord(_r,Tr)||!vr)&&(_r.enterCallbacks[Ar]||[]).forEach(Ir=>Ir(br))},{flush:"post"}),()=>{const br=o.value,_r=t.name,Ar=u.value,vr=Ar&&Ar.components[_r];if(!vr)return normalizeSlot(r.default,{Component:vr,route:br});const Tr=Ar.props[_r],Or=Tr?Tr===!0?br.params:typeof Tr=="function"?Tr(br):Tr:null,xr=h$1(vr,assign({},Or,e,{onVnodeUnmounted:Lr=>{Lr.component.isUnmounted&&(Ar.instances[_r]=null)},ref:gr}));return normalizeSlot(r.default,{Component:xr,route:br})||xr}}});function normalizeSlot(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter$1(t){const e=createRouterMatcher(t.routes,t),r=t.parseQuery||parseQuery,n=t.stringifyQuery||stringifyQuery,o=t.history,a=useCallbacks(),c=useCallbacks(),u=useCallbacks(),gr=shallowRef(START_LOCATION_NORMALIZED);let br=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const _r=applyToParams.bind(null,yn=>""+yn),Ar=applyToParams.bind(null,encodeParam),vr=applyToParams.bind(null,decode);function Tr(yn,mn){let _n,In;return isRouteName(yn)?(_n=e.getRecordMatcher(yn),In=mn):In=yn,e.addRoute(In,_n)}function Or(yn){const mn=e.getRecordMatcher(yn);mn&&e.removeRoute(mn)}function Ir(){return e.getRoutes().map(yn=>yn.record)}function xr(yn){return!!e.getRecordMatcher(yn)}function Lr(yn,mn){if(mn=assign({},mn||gr.value),typeof yn=="string"){const gn=parseURL(r,yn,mn.path),Rn=e.resolve({path:gn.path},mn),Cn=o.createHref(gn.fullPath);return assign(gn,Rn,{params:vr(Rn.params),hash:decode(gn.hash),redirectedFrom:void 0,href:Cn})}let _n;if("path"in yn)_n=assign({},yn,{path:parseURL(r,yn.path,mn.path).path});else{const gn=assign({},yn.params);for(const Rn in gn)gn[Rn]==null&&delete gn[Rn];_n=assign({},yn,{params:Ar(gn)}),mn.params=Ar(mn.params)}const In=e.resolve(_n,mn),Nn=yn.hash||"";In.params=_r(vr(In.params));const ln=stringifyURL(n,assign({},yn,{hash:encodeHash(Nn),path:In.path})),hn=o.createHref(ln);return assign({fullPath:ln,hash:Nn,query:n===stringifyQuery?normalizeQuery(yn.query):yn.query||{}},In,{redirectedFrom:void 0,href:hn})}function Fr(yn){return typeof yn=="string"?parseURL(r,yn,gr.value.path):assign({},yn)}function Mr(yn,mn){if(br!==yn)return createRouterError(8,{from:mn,to:yn})}function Hr(yn){return jr(yn)}function Vr(yn){return Hr(assign(Fr(yn),{replace:!0}))}function Kr(yn){const mn=yn.matched[yn.matched.length-1];if(mn&&mn.redirect){const{redirect:_n}=mn;let In=typeof _n=="function"?_n(yn):_n;return typeof In=="string"&&(In=In.includes("?")||In.includes("#")?In=Fr(In):{path:In},In.params={}),assign({query:yn.query,hash:yn.hash,params:"path"in In?{}:yn.params},In)}}function jr(yn,mn){const _n=br=Lr(yn),In=gr.value,Nn=yn.state,ln=yn.force,hn=yn.replace===!0,gn=Kr(_n);if(gn)return jr(assign(Fr(gn),{state:typeof gn=="object"?assign({},Nn,gn.state):Nn,force:ln,replace:hn}),mn||_n);const Rn=_n;Rn.redirectedFrom=mn;let Cn;return!ln&&isSameRouteLocation(n,In,_n)&&(Cn=createRouterError(16,{to:Rn,from:In}),Gr(In,In,!0,!1)),(Cn?Promise.resolve(Cn):en(Rn,In)).catch(kn=>isNavigationFailure(kn)?isNavigationFailure(kn,2)?kn:nn(kn):Zr(kn,Rn,In)).then(kn=>{if(kn){if(isNavigationFailure(kn,2))return jr(assign({replace:hn},Fr(kn.to),{state:typeof kn.to=="object"?assign({},Nn,kn.to.state):Nn,force:ln}),mn||Rn)}else kn=cn(Rn,In,!0,hn,Nn);return sn(Rn,In,kn),kn})}function qr(yn,mn){const _n=Mr(yn,mn);return _n?Promise.reject(_n):Promise.resolve()}function tn(yn){const mn=fn.values().next().value;return mn&&typeof mn.runWithContext=="function"?mn.runWithContext(yn):yn()}function en(yn,mn){let _n;const[In,Nn,ln]=extractChangingRecords(yn,mn);_n=extractComponentsGuards(In.reverse(),"beforeRouteLeave",yn,mn);for(const gn of In)gn.leaveGuards.forEach(Rn=>{_n.push(guardToPromiseFn(Rn,yn,mn))});const hn=qr.bind(null,yn,mn);return _n.push(hn),wn(_n).then(()=>{_n=[];for(const gn of a.list())_n.push(guardToPromiseFn(gn,yn,mn));return _n.push(hn),wn(_n)}).then(()=>{_n=extractComponentsGuards(Nn,"beforeRouteUpdate",yn,mn);for(const gn of Nn)gn.updateGuards.forEach(Rn=>{_n.push(guardToPromiseFn(Rn,yn,mn))});return _n.push(hn),wn(_n)}).then(()=>{_n=[];for(const gn of ln)if(gn.beforeEnter)if(isArray(gn.beforeEnter))for(const Rn of gn.beforeEnter)_n.push(guardToPromiseFn(Rn,yn,mn));else _n.push(guardToPromiseFn(gn.beforeEnter,yn,mn));return _n.push(hn),wn(_n)}).then(()=>(yn.matched.forEach(gn=>gn.enterCallbacks={}),_n=extractComponentsGuards(ln,"beforeRouteEnter",yn,mn),_n.push(hn),wn(_n))).then(()=>{_n=[];for(const gn of c.list())_n.push(guardToPromiseFn(gn,yn,mn));return _n.push(hn),wn(_n)}).catch(gn=>isNavigationFailure(gn,8)?gn:Promise.reject(gn))}function sn(yn,mn,_n){u.list().forEach(In=>tn(()=>In(yn,mn,_n)))}function cn(yn,mn,_n,In,Nn){const ln=Mr(yn,mn);if(ln)return ln;const hn=mn===START_LOCATION_NORMALIZED,gn=isBrowser?history.state:{};_n&&(In||hn?o.replace(yn.fullPath,assign({scroll:hn&&gn&&gn.scroll},Nn)):o.push(yn.fullPath,Nn)),gr.value=yn,Gr(yn,mn,_n,hn),nn()}let Ur;function Rr(){Ur||(Ur=o.listen((yn,mn,_n)=>{if(!An.listening)return;const In=Lr(yn),Nn=Kr(In);if(Nn){jr(assign(Nn,{replace:!0}),In).catch(noop);return}br=In;const ln=gr.value;isBrowser&&saveScrollPosition(getScrollKey(ln.fullPath,_n.delta),computeScrollPosition()),en(In,ln).catch(hn=>isNavigationFailure(hn,12)?hn:isNavigationFailure(hn,2)?(jr(hn.to,In).then(gn=>{isNavigationFailure(gn,20)&&!_n.delta&&_n.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop),Promise.reject()):(_n.delta&&o.go(-_n.delta,!1),Zr(hn,In,ln))).then(hn=>{hn=hn||cn(In,ln,!1),hn&&(_n.delta&&!isNavigationFailure(hn,8)?o.go(-_n.delta,!1):_n.type===NavigationType.pop&&isNavigationFailure(hn,20)&&o.go(-1,!1)),sn(In,ln,hn)}).catch(noop)}))}let Pr=useCallbacks(),Dr=useCallbacks(),Yr;function Zr(yn,mn,_n){nn(yn);const In=Dr.list();return In.length?In.forEach(Nn=>Nn(yn,mn,_n)):console.error(yn),Promise.reject(yn)}function Xr(){return Yr&&gr.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((yn,mn)=>{Pr.add([yn,mn])})}function nn(yn){return Yr||(Yr=!yn,Rr(),Pr.list().forEach(([mn,_n])=>yn?_n(yn):mn()),Pr.reset()),yn}function Gr(yn,mn,_n,In){const{scrollBehavior:Nn}=t;if(!isBrowser||!Nn)return Promise.resolve();const ln=!_n&&getSavedScrollPosition(getScrollKey(yn.fullPath,0))||(In||!_n)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Nn(yn,mn,ln)).then(hn=>hn&&scrollToPosition(hn)).catch(hn=>Zr(hn,yn,mn))}const Nr=yn=>o.go(yn);let Jr;const fn=new Set,An={currentRoute:gr,listening:!0,addRoute:Tr,removeRoute:Or,hasRoute:xr,getRoutes:Ir,resolve:Lr,options:t,push:Hr,replace:Vr,go:Nr,back:()=>Nr(-1),forward:()=>Nr(1),beforeEach:a.add,beforeResolve:c.add,afterEach:u.add,onError:Dr.add,isReady:Xr,install(yn){const mn=this;yn.component("RouterLink",RouterLink),yn.component("RouterView",RouterView),yn.config.globalProperties.$router=mn,Object.defineProperty(yn.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(gr)}),isBrowser&&!Jr&&gr.value===START_LOCATION_NORMALIZED&&(Jr=!0,Hr(o.location).catch(Nn=>{}));const _n={};for(const Nn in START_LOCATION_NORMALIZED)Object.defineProperty(_n,Nn,{get:()=>gr.value[Nn],enumerable:!0});yn.provide(routerKey,mn),yn.provide(routeLocationKey,shallowReactive(_n)),yn.provide(routerViewLocationKey,gr);const In=yn.unmount;fn.add(yn),yn.unmount=function(){fn.delete(yn),fn.size<1&&(br=START_LOCATION_NORMALIZED,Ur&&Ur(),Ur=null,gr.value=START_LOCATION_NORMALIZED,Jr=!1,Yr=!1),In()}}};function wn(yn){return yn.reduce((mn,_n)=>mn.then(()=>tn(_n)),Promise.resolve())}return An}function extractChangingRecords(t,e){const r=[],n=[],o=[],a=Math.max(e.matched.length,t.matched.length);for(let c=0;c<a;c++){const u=e.matched[c];u&&(t.matched.find(br=>isSameRouteRecord(br,u))?n.push(u):r.push(u));const gr=t.matched[c];gr&&(e.matched.find(br=>isSameRouteRecord(br,gr))||o.push(gr))}return[r,n,o]}const routes=[{path:"/",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./IndexPage.c425e401.js"),["assets/IndexPage.c425e401.js","assets/QSpace.49698adb.js","assets/QPage.fa79ed5f.js"])}]},{path:"/whitelist",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./WhitelistPage.a2f91cb8.js"),["assets/WhitelistPage.a2f91cb8.js","assets/QInput.7ac568a2.js","assets/use-key-composition.bc98317d.js","assets/QList.a7e4ae39.js","assets/QTabPanels.01bb489b.js","assets/touch.3df10340.js","assets/QPage.fa79ed5f.js","assets/QBtnDropdown.10f3431a.js","assets/ClosePopup.e13f83fc.js","assets/QTree.0f80d1e1.js","assets/QSlideTransition.7b51e6cc.js"])}]},{path:"/raffle",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./RafflePage.81f7c65c.js"),["assets/RafflePage.81f7c65c.js","assets/QPage.fa79ed5f.js","assets/QInput.7ac568a2.js","assets/use-key-composition.bc98317d.js","assets/QSpace.49698adb.js","assets/format_address.ad90183e.js","assets/QList.a7e4ae39.js","assets/QSelect.4bb9dbc4.js","assets/QSlideTransition.7b51e6cc.js","assets/index.fb12b447.js","assets/QImg.82c60841.js","assets/QCard.c80ec5f2.js","assets/QCardActions.9ffdb5a1.js","assets/ClosePopup.e13f83fc.js","assets/QBadge.22feea3d.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/accounts",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./AccountsPage.e0c53cb3.js"),["assets/AccountsPage.e0c53cb3.js","assets/QInput.7ac568a2.js","assets/use-key-composition.bc98317d.js","assets/QSpace.49698adb.js","assets/format_address.ad90183e.js","assets/QList.a7e4ae39.js","assets/QSelect.4bb9dbc4.js","assets/QSlideTransition.7b51e6cc.js","assets/index.fb12b447.js","assets/QTabPanels.01bb489b.js","assets/touch.3df10340.js","assets/QPage.fa79ed5f.js","assets/QTree.0f80d1e1.js","assets/QToolbar.9495e2cc.js","assets/QCard.c80ec5f2.js","assets/ClosePopup.e13f83fc.js","assets/transfer.ba4423c8.js"])}]},{path:"/staratlaslocker",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./StarAtlasLocker.5e74f589.js"),["assets/StarAtlasLocker.5e74f589.js","assets/QInput.7ac568a2.js","assets/use-key-composition.bc98317d.js","assets/QPage.fa79ed5f.js","assets/QCard.c80ec5f2.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/QImg.82c60841.js","assets/QSelect.4bb9dbc4.js"])}]},{path:"/wrapper",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./WrapperPage.8bbe5d6d.js"),["assets/WrapperPage.8bbe5d6d.js","assets/QPage.fa79ed5f.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/escrow-service",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./EscrowPage.64430f47.js"),["assets/EscrowPage.64430f47.js","assets/QInput.7ac568a2.js","assets/use-key-composition.bc98317d.js","assets/QList.a7e4ae39.js","assets/QTabPanels.01bb489b.js","assets/touch.3df10340.js","assets/QCard.c80ec5f2.js","assets/QPage.fa79ed5f.js","assets/QSpace.49698adb.js","assets/QImg.82c60841.js","assets/QBtnDropdown.10f3431a.js","assets/QCardActions.9ffdb5a1.js","assets/ClosePopup.e13f83fc.js"])}]},{path:"/coinflip",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./CoinflipPage.4d7ba4a5.js"),["assets/CoinflipPage.4d7ba4a5.js","assets/QPage.fa79ed5f.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/token",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./TokenManagePage.aabdcc6e.js").then(function(t){return t.T}),["assets/TokenManagePage.aabdcc6e.js","assets/QInput.7ac568a2.js","assets/use-key-composition.bc98317d.js","assets/QList.a7e4ae39.js","assets/QTabPanels.01bb489b.js","assets/touch.3df10340.js","assets/QCard.c80ec5f2.js","assets/QPage.fa79ed5f.js","assets/transfer.ba4423c8.js","assets/QSpace.49698adb.js","assets/QImg.82c60841.js","assets/QCardActions.9ffdb5a1.js","assets/QBtnDropdown.10f3431a.js","assets/ClosePopup.e13f83fc.js","assets/index.fb12b447.js"])}]},{path:"/burner",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./BurnPage.7cf264e1.js"),["assets/BurnPage.7cf264e1.js","assets/QPage.fa79ed5f.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/jobs",component:()=>__vitePreload(()=>import("./MainLayout.23c80f62.js"),["assets/MainLayout.23c80f62.js","assets/MainLayout.7d42421e.css","assets/QImg.82c60841.js","assets/QToolbar.9495e2cc.js","assets/QSpace.49698adb.js","assets/QList.a7e4ae39.js","assets/use-key-composition.bc98317d.js","assets/touch.3df10340.js","assets/QSelect.4bb9dbc4.js","assets/QBadge.22feea3d.js","assets/ClosePopup.e13f83fc.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./JobsPage.e67b332a.js"),["assets/JobsPage.e67b332a.js","assets/QSpace.49698adb.js","assets/QBadge.22feea3d.js","assets/QCard.c80ec5f2.js","assets/use-key-composition.bc98317d.js","assets/QInput.7ac568a2.js","assets/QPage.fa79ed5f.js","assets/axios.71045a60.js","assets/QSelect.4bb9dbc4.js","assets/QCardActions.9ffdb5a1.js","assets/ClosePopup.e13f83fc.js"])}]},{path:"/:catchAll(.*)*",component:()=>__vitePreload(()=>import("./ErrorNotFound.9548af1f.js"),["assets/ErrorNotFound.9548af1f.js","assets/plugin-vue_export-helper.21dcd24c.js"])}];var createRouter=function(){return createRouter$1({scrollBehavior:()=>({left:0,top:0}),routes,history:createWebHashHistory("/")})};async function createQuasarApp(t,e){const r=t(_sfc_main);r.use(Quasar,e);const n=typeof createStore=="function"?await createStore({}):createStore;r.use(n);const o=markRaw(typeof createRouter=="function"?await createRouter({store:n}):createRouter);return n.use(({store:a})=>{a.router=o}),{app:r,store:n,router:o}}var quasarUserOptions={config:{},plugins:{Notify}};const publicPath="/";async function start({app:t,router:e,store:r},n){let o=!1;const a=gr=>{try{return e.resolve(gr).href}catch{}return Object(gr)===gr?null:gr},c=gr=>{if(o=!0,typeof gr=="string"&&/^https?:\/\//.test(gr)){window.location.href=gr;return}const br=a(gr);br!==null&&(window.location.href=br,window.location.reload())},u=window.location.href.replace(window.location.origin,"");for(let gr=0;o===!1&&gr<n.length;gr++)try{await n[gr]({app:t,router:e,store:r,ssrContext:null,redirect:c,urlPath:u,publicPath})}catch(br){if(br&&br.url){c(br.url);return}console.error("[Quasar] boot error:",br);return}o!==!0&&(t.use(e),t.mount("#q-app"))}createQuasarApp(createApp,quasarUserOptions).then(t=>{const[e,r]=Promise.allSettled!==void 0?["allSettled",n=>n.map(o=>{if(o.status==="rejected"){console.error("[Quasar] boot error:",o.reason);return}return o.value.default})]:["all",n=>n.map(o=>o.default)];return Promise[e]([__vitePreload(()=>import("./axios.71045a60.js"),[]),__vitePreload(()=>import("./wallet.c396558a.js").then(function(n){return n.w}),["assets/wallet.c396558a.js","assets/wallet_connect.851ab61a.css"]),__vitePreload(()=>import("./canvas.ced8a921.js"),["assets/canvas.ced8a921.js","assets/wallet_connect.851ab61a.css"])]).then(n=>{const o=r(n).filter(a=>typeof a=="function");start(t,o)})});export{normalizeProps as $,isRef as A,BaseMessageSignerWalletAdapter as B,isShallow as C,markRaw as D,EffectScope as E,onScopeDispose as F,proxyRefs as G,reactive as H,readonly as I,ref as J,shallowReactive as K,shallowReadonly as L,shallowRef as M,stop$1 as N,toRaw as O,PublicKey$3 as P,toRef as Q,ReactiveEffect as R,toRefs as S,toValue$1 as T,triggerRef as U,unref as V,WalletReadyState as W,camelize as X,capitalize as Y,normalizeClass as Z,__vitePreload as _,axios$1 as a,onUnmounted as a$,normalizeStyle as a0,toDisplayString as a1,toHandlerKey as a2,BaseTransition as a3,BaseTransitionPropsValidators as a4,Comment as a5,Fragment as a6,KeepAlive as a7,Static as a8,Suspense as a9,defineSlots as aA,devtools as aB,getCurrentInstance as aC,getTransitionRawChildren as aD,guardReactiveProps as aE,h$1 as aF,handleError as aG,hasInjectionContext as aH,initCustomFormatter as aI,inject as aJ,isMemoSame as aK,isRuntimeOnly as aL,isVNode as aM,mergeDefaults as aN,mergeModels as aO,mergeProps as aP,nextTick as aQ,onActivated as aR,onBeforeMount as aS,onBeforeUnmount as aT,onBeforeUpdate as aU,onDeactivated as aV,onErrorCaptured as aW,onMounted as aX,onRenderTracked as aY,onRenderTriggered as aZ,onServerPrefetch as a_,Teleport as aa,Text as ab,assertNumber as ac,callWithAsyncErrorHandling as ad,callWithErrorHandling as ae,cloneVNode as af,compatUtils as ag,computed$1 as ah,createBlock as ai,createCommentVNode as aj,createElementBlock as ak,createBaseVNode as al,createHydrationRenderer as am,createPropsRestProxy as an,createRenderer as ao,createSlots as ap,createStaticVNode as aq,createTextVNode as ar,createVNode as as,defineAsyncComponent as at,defineComponent as au,defineEmits as av,defineExpose as aw,defineModel as ax,defineOptions as ay,defineProps as az,boot as b,layoutKey as b$,onUpdated as b0,openBlock as b1,popScopeId as b2,provide as b3,pushScopeId as b4,queuePostFlushCb as b5,registerRuntimeCompiler as b6,renderList as b7,renderSlot as b8,resolveComponent as b9,withMemo as bA,withScopeId as bB,Transition as bC,TransitionGroup as bD,VueElement as bE,createApp as bF,createSSRApp as bG,defineCustomElement as bH,defineSSRCustomElement as bI,hydrate as bJ,initDirectivesForSSR as bK,render as bL,useCssModule as bM,useCssVars as bN,vModelCheckbox as bO,vModelDynamic as bP,vModelRadio as bQ,vModelSelect as bR,vModelText as bS,vShow as bT,withKeys as bU,withModifiers as bV,getAugmentedNamespace as bW,commonjsGlobal as bX,getDefaultExportFromCjs$2 as bY,createComponent as bZ,emptyRenderFn as b_,resolveDirective as ba,resolveDynamicComponent as bb,resolveFilter as bc,resolveTransitionHooks as bd,setBlockTracking as be,setDevtoolsHook as bf,setTransitionHooks as bg,ssrContextKey as bh,ssrUtils as bi,toHandlers as bj,transformVNodeArgs as bk,useAttrs as bl,useModel as bm,useSSRContext as bn,useSlots as bo,useTransitionState as bp,version$5 as bq,warn as br,watch as bs,watchEffect as bt,watchPostEffect as bu,watchSyncEffect as bv,withAsyncContext as bw,withCtx as bx,withDefaults as by,withDirectives as bz,WalletDisconnectedError as c,RAFLLE_WHITELIST_NAME as c$,hUniqueSlot as c0,noop$6 as c1,listenOpts as c2,createDirective as c3,client$1 as c4,leftClick as c5,addEvt as c6,preventDraggable as c7,prevent as c8,stop as c9,formKey as cA,injectProp as cB,vmHasRouter as cC,getParentProxy as cD,createGlobalNode as cE,removeGlobalNode as cF,vmIsDestroyed as cG,childHasFocus as cH,useSizeProps as cI,useSize as cJ,hMergeSlotSafely as cK,History as cL,getEventPath as cM,isDeepEqual$2 as cN,shouldIgnoreKey as cO,Notify as cP,encode$3 as cQ,SystemProgram$3 as cR,handle_confirmation as cS,useWorkspaceAdapter as cT,tabsKey as cU,getNormalizedVNodes as cV,useBtnProps as cW,getBtnDesignAttr as cX,BN as cY,useRaffleStore as cZ,WHITELIST_CREATOR_WALLET as c_,position as ca,cleanEvt as cb,stopAndPrevent as cc,debounce as cd,hMergeSlot as ce,hDir as cf,hSlot as cg,pageContainerKey as ch,isRuntimeSsrPreHydration as ci,useQuasar as cj,QBtn as ck,WalletMultiButton as cl,QIcon as cm,useRPCStore as cn,RPC_NETWORKS as co,useWallet as cp,useWhitelist as cq,useGlobalStore as cr,Ripple as cs,QSpinner as ct,useRouterLinkProps as cu,useRouterLink as cv,isKeyCode as cw,getElement as cx,css as cy,Platform as cz,WalletPublicKeyError as d,inherits_browser as d$,SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3 as d0,getAssociatedTokenAddress$1 as d1,Transaction$3 as d2,createAssociatedTokenAccountInstruction$1 as d3,token as d4,TOKEN_PROGRAM_ID$1 as d5,QAvatar as d6,storeToRefs as d7,dist$3 as d8,DiscordMessageType as d9,number$3 as dA,array$3 as dB,nullable$2 as dC,optional$2 as dD,boolean$2 as dE,record$1 as dF,union$3 as dG,create$2 as dH,u16 as dI,secp256k1$1 as dJ,blob$2 as dK,sha256$2 as dL,any$2 as dM,ed25519$1 as dN,toBigIntLE_1 as dO,toBufferLE_1 as dP,keccak_256 as dQ,RpcWebSocketCommonClient as dR,browser$5 as dS,assert$b as dT,createRpc as dU,assert$6 as dV,defineStore as dW,useAlignProps as dX,useAlign as dY,safeBuffer$1 as dZ,util$3 as d_,useSpinnerProps as da,useSpinner as db,isNumber$2 as dc,isDate$3 as dd,isObject$7 as de,injectMultipleProps as df,bn as dg,bs58$3 as dh,require$$2$2 as di,require$$0$2 as dj,bufferPolyfill as dk,nu64$1 as dl,struct$3 as dm,u32$2 as dn,ns64$1 as dp,u8$2 as dq,seq as dr,offset$1 as ds,coerce$2 as dt,string$3 as du,instance$1 as dv,tuple$2 as dw,literal$2 as dx,unknown$2 as dy,type$2 as dz,WalletNotReadyError as e,IMMUTABLE_OWNER_SIZE as e$,dist as e0,SERVICE_FEE as e1,LAMPORTS_PER_SOL$1 as e2,FEE_WALLET as e3,u64$3 as e4,TransactionInstruction$3 as e5,TokenInvalidInstructionProgramError as e6,TokenInvalidInstructionDataError as e7,TokenInvalidInstructionTypeError as e8,TokenInvalidInstructionKeysError as e9,TokenInvalidMintError as eA,TokenInvalidOwnerError as eB,s16 as eC,getMintLen as eD,ExtensionType as eE,TokenError as eF,TokenInvalidAccountError as eG,TokenInvalidAccountSizeError as eH,TokenOwnerOffCurveError as eI,AccountType as eJ,ACCOUNT_TYPE_SIZE as eK,CpiGuardLayout as eL,CPI_GUARD_SIZE as eM,getCpiGuard as eN,DefaultAccountStateLayout as eO,DEFAULT_ACCOUNT_STATE_SIZE as eP,getDefaultAccountState as eQ,TYPE_SIZE as eR,LENGTH_SIZE as eS,getTypeLen as eT,isMintExtension as eU,isAccountExtension as eV,getAccountTypeOfMintType as eW,getAccountLen as eX,getExtensionData as eY,getExtensionTypes as eZ,ImmutableOwnerLayout as e_,useStarAtlasLockerStore as ea,LOCKER_TOKEN_DECIMALS as eb,useLockerPolisStore as ec,sendAndConfirmTransaction$4 as ed,TOKEN_2022_PROGRAM_ID as ee,programSupportsExtensions as ef,TokenUnsupportedInstructionError as eg,publicKey$3 as eh,SYSVAR_RENT_PUBKEY$3 as ei,getAssociatedTokenAddressSync as ej,ASSOCIATED_TOKEN_PROGRAM_ID$1 as ek,getMint as el,getAccountLenForMint as em,createAssociatedTokenAccountIdempotentInstruction as en,getMinimumBalanceForRentExemptMint as eo,MINT_SIZE as ep,Keypair$2 as eq,getMinimumBalanceForRentExemptMultisig as er,MULTISIG_SIZE as es,NATIVE_MINT_2022 as et,getMinimumBalanceForRentExemptAccount as eu,ACCOUNT_SIZE as ev,NATIVE_MINT$1 as ew,getAccount as ex,TokenAccountNotFoundError as ey,TokenInvalidAccountOwnerError as ez,WalletConnectionError as f,FailedToSerializeDataError as f$,getImmutableOwner as f0,InterestBearingMintConfigStateLayout as f1,INTEREST_BEARING_MINT_CONFIG_STATE_SIZE as f2,getInterestBearingMintConfigState as f3,MemoTransferLayout as f4,MEMO_TRANSFER_SIZE as f5,getMemoTransfer as f6,MintCloseAuthorityLayout as f7,MINT_CLOSE_AUTHORITY_SIZE as f8,getMintCloseAuthority as f9,getMultisig as fA,unpackMultisig as fB,_defineProperty as fC,DriverNotProvidedError as fD,querystring$1 as fE,InvalidJsonVariableError as fF,InvalidJsonStringError as fG,beet as fH,beetSolana as fI,cusper as fJ,_defineProperty$1 as fK,MetaplexError as fL,toBigNumber as fM,amount as fN,Connection$1 as fO,lamports as fP,assertSol as fQ,EventEmitter as fR,OperationHandlerMissingError as fS,ProgramNotRecognizedError as fT,addAmounts as fU,subtractAmounts as fV,multiplyAmount as fW,OperationUnauthorizedForGuestsError as fX,ExpectedSignerError as fY,token$1 as fZ,UnexpectedAccountError as f_,NonTransferableLayout as fa,NON_TRANSFERABLE_SIZE as fb,NON_TRANSFERABLE_ACCOUNT_SIZE as fc,getNonTransferable as fd,getNonTransferableAccount as fe,MAX_FEE_BASIS_POINTS as ff,ONE_IN_BASIS_POINTS as fg,transferFeeLayout as fh,TransferFeeConfigLayout as fi,TRANSFER_FEE_CONFIG_SIZE as fj,TransferFeeAmountLayout as fk,TRANSFER_FEE_AMOUNT_SIZE as fl,getTransferFeeConfig as fm,getTransferFeeAmount as fn,PermanentDelegateLayout as fo,PERMANENT_DELEGATE_SIZE as fp,getPermanentDelegate as fq,AccountState as fr,AccountLayout$1 as fs,getMultipleAccounts as ft,getMinimumBalanceForRentExemptAccountWithExtensions as fu,unpackAccount as fv,MintLayout$1 as fw,unpackMint as fx,getMinimumBalanceForRentExemptMintWithExtensions as fy,MultisigLayout$1 as fz,WalletAccountError as g,FailedToDeserializeDataError as g0,AccountNotFoundError as g1,NotYetImplementedError as g2,SYSVAR_INSTRUCTIONS_PUBKEY$1 as g3,toOptionBigNumber as g4,UnreachableCaseError as g5,NoInstructionsToSendError as g6,SOL as g7,assertSameCurrencies as g8,SYSVAR_CLOCK_PUBKEY$1 as g9,SYSVAR_SLOT_HASHES_PUBKEY$1 as ga,browser$2 as gb,ansicolors as gc,MissingInputDataError as gd,formatAmount as ge,useAnchorWallet as gf,AnchorProvider as gg,watchDeep as gh,VersionedTransaction$1 as gi,base64Js$2 as gj,commonjsRequire as gk,sha256 as gl,WalletDisconnectionError as h,isIosAndRedirectable as i,WalletNotConnectedError as j,isVersionedTransaction$3 as k,WalletError as l,WalletSendTransactionError as m,WalletSignTransactionError as n,WalletSignMessageError as o,WalletLoadError as p,WalletConfigError as q,index as r,scopePollingDetectionStrategy as s,customRef as t,effect as u,effectScope as v,getCurrentScope as w,isProxy as x,isReactive as y,isReadonly as z};
